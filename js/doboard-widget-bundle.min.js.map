{"version":3,"file":"doboard-widget-bundle.min.js","sources":["doboard-widget-bundle.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _regeneratorKeys(e) { var n = Object(e), r = []; for (var t in n) r.unshift(t); return function e() { for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e; return e.done = !0, e; }; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nvar DOBOARD_API_URL = 'https://api-next.doboard.com';\nvar createTaskDoboard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(sessionId, taskDetails) {\n    var accountId, formData, response, responseBody;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          accountId = taskDetails.accountId;\n          formData = new FormData();\n          formData.append('session_id', sessionId);\n          formData.append('project_token', taskDetails.projectToken);\n          formData.append('project_id', taskDetails.projectId);\n          formData.append('user_id', localStorage.getItem('spotfix_user_id'));\n          formData.append('name', taskDetails.taskTitle);\n          formData.append('comment', taskDetails.taskDescription);\n          _context.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_add', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context.v;\n          if (response.ok) {\n            _context.n = 2;\n            break;\n          }\n          throw new Error('Failed to create task');\n        case 2:\n          _context.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context.n = 6;\n            break;\n          }\n          return _context.a(2, {\n            taskId: responseBody.data.task_id,\n            isPublic: 1 //todo MOCK!\n          });\n        case 6:\n          throw new Error('Unknown error occurred during creating task');\n        case 7:\n          return _context.a(2);\n      }\n    }, _callee);\n  }));\n  return function createTaskDoboard(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar createTaskCommentDoboard = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(accountId, sessionId, taskId, comment, projectToken) {\n    var status,\n      response,\n      responseBody,\n      _args2 = arguments;\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          status = _args2.length > 5 && _args2[5] !== undefined ? _args2[5] : 'ACTIVE';\n          _context2.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/comment_add' + '?session_id=' + sessionId + '&task_id=' + taskId + '&comment=' + comment + '&project_token=' + projectToken + '&status=' + status, {\n            method: 'GET'\n          });\n        case 1:\n          response = _context2.v;\n          if (response.ok) {\n            _context2.n = 2;\n            break;\n          }\n          throw new Error('Failed to create task comment');\n        case 2:\n          _context2.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context2.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context2.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context2.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context2.n = 6;\n            break;\n          }\n          return _context2.a(2, {\n            commentId: responseBody.data.comment_id\n          });\n        case 6:\n          throw new Error('Unknown error occurred during creating task comment');\n        case 7:\n          return _context2.a(2);\n      }\n    }, _callee2);\n  }));\n  return function createTaskCommentDoboard(_x3, _x4, _x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar _registerUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(projectToken, accountId, email, nickname) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context3) {\n      while (1) switch (_context3.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('account_id', accountId);\n          if (email && nickname) {\n            formData.append('email', email);\n            formData.append('nickname', nickname);\n          }\n          _context3.n = 1;\n          return fetch(DOBOARD_API_URL + '/user_registration', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context3.v;\n          if (response.ok) {\n            _context3.n = 2;\n            break;\n          }\n          throw new Error('Registration failed');\n        case 2:\n          _context3.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context3.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context3.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context3.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context3.n = 7;\n            break;\n          }\n          if (!(responseBody.data.user_email_confirmed === 1)) {\n            _context3.n = 6;\n            break;\n          }\n          return _context3.a(2, {\n            accountExists: true\n          });\n        case 6:\n          return _context3.a(2, {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: responseBody.data.email\n          });\n        case 7:\n          throw new Error('Unknown error occurred during registration');\n        case 8:\n          return _context3.a(2);\n      }\n    }, _callee3);\n  }));\n  return function registerUser(_x8, _x9, _x0, _x1) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar _loginUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(email, password) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context4) {\n      while (1) switch (_context4.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('email', email);\n          formData.append('password', password);\n          _context4.n = 1;\n          return fetch(DOBOARD_API_URL + '/user_authorize', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context4.v;\n          if (response.ok) {\n            _context4.n = 2;\n            break;\n          }\n          throw new Error('Authorization failed');\n        case 2:\n          _context4.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context4.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context4.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context4.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context4.n = 6;\n            break;\n          }\n          return _context4.a(2, {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: email\n          });\n        case 6:\n          throw new Error('Unknown error occurred during registration');\n        case 7:\n          return _context4.a(2);\n      }\n    }, _callee4);\n  }));\n  return function loginUser(_x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getTasksDoboard = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5(projectToken, sessionId, accountId, projectId, userId) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context5) {\n      while (1) switch (_context5.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('session_id', sessionId);\n          formData.append('project_id', projectId);\n          formData.append('status', 'ACTIVE');\n          if (userId) {\n            formData.append('user_id', userId);\n          }\n          _context5.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_get', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context5.v;\n          if (response.ok) {\n            _context5.n = 2;\n            break;\n          }\n          throw new Error('Getting tasks failed');\n        case 2:\n          _context5.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context5.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context5.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context5.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context5.n = 6;\n            break;\n          }\n          return _context5.a(2, responseBody.data.tasks.map(function (task) {\n            return {\n              taskId: task.task_id,\n              taskTitle: task.name,\n              taskLastUpdate: task.updated,\n              taskCreated: task.created,\n              taskCreatorTaskUser: task.creator_user_id\n            };\n          }));\n        case 6:\n          throw new Error('Unknown error occurred during getting tasks');\n        case 7:\n          return _context5.a(2);\n      }\n    }, _callee5);\n  }));\n  return function getTasksDoboard(_x12, _x13, _x14, _x15, _x16) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getTaskCommentsDoboard = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6(taskId, sessionId, accountId, projectToken) {\n    var status,\n      response,\n      responseBody,\n      _args6 = arguments;\n    return _regenerator().w(function (_context6) {\n      while (1) switch (_context6.n) {\n        case 0:\n          status = _args6.length > 4 && _args6[4] !== undefined ? _args6[4] : 'ACTIVE';\n          _context6.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/comment_get' + '?session_id=' + sessionId + '&status=' + status + '&task_id=' + taskId + '&project_token=' + projectToken, {\n            method: 'GET'\n          });\n        case 1:\n          response = _context6.v;\n          if (response.ok) {\n            _context6.n = 2;\n            break;\n          }\n          throw new Error('Getting logs failed');\n        case 2:\n          _context6.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context6.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context6.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context6.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context6.n = 6;\n            break;\n          }\n          return _context6.a(2, responseBody.data.comments.map(function (comment) {\n            return {\n              commentId: comment.comment_id,\n              userId: comment.user_id,\n              comment: comment.comment,\n              commentBody: comment.comment_text,\n              commentDate: comment.updated,\n              status: comment.status,\n              issueTitle: comment.task_name\n            };\n          }));\n        case 6:\n          throw new Error('Unknown error occurred during getting comments');\n        case 7:\n          return _context6.a(2);\n      }\n    }, _callee6);\n  }));\n  return function getTaskCommentsDoboard(_x17, _x18, _x19, _x20) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nfunction handleCreateTask(_x21, _x22) {\n  return _handleCreateTask.apply(this, arguments);\n}\nfunction _handleCreateTask() {\n  _handleCreateTask = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee13(sessionId, taskDetails) {\n    var result, _t1;\n    return _regenerator().w(function (_context13) {\n      while (1) switch (_context13.p = _context13.n) {\n        case 0:\n          _context13.p = 0;\n          _context13.n = 1;\n          return createTaskDoboard(sessionId, taskDetails);\n        case 1:\n          result = _context13.v;\n          if (!(result && result.taskId && taskDetails.taskDescription)) {\n            _context13.n = 2;\n            break;\n          }\n          _context13.n = 2;\n          return addTaskComment({\n            projectToken: taskDetails.projectToken,\n            accountId: taskDetails.accountId\n          }, result.taskId, taskDetails.taskDescription);\n        case 2:\n          return _context13.a(2, result);\n        case 3:\n          _context13.p = 3;\n          _t1 = _context13.v;\n          throw _t1;\n        case 4:\n          return _context13.a(2);\n      }\n    }, _callee13, null, [[0, 3]]);\n  }));\n  return _handleCreateTask.apply(this, arguments);\n}\nfunction addTaskComment(_x23, _x24, _x25) {\n  return _addTaskComment.apply(this, arguments);\n}\nfunction _addTaskComment() {\n  _addTaskComment = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee14(params, taskId, commentText) {\n    var sessionId;\n    return _regenerator().w(function (_context14) {\n      while (1) switch (_context14.n) {\n        case 0:\n          sessionId = localStorage.getItem('spotfix_session_id');\n          if (sessionId) {\n            _context14.n = 1;\n            break;\n          }\n          throw new Error('No session');\n        case 1:\n          if (!(!params.projectToken || !params.accountId)) {\n            _context14.n = 2;\n            break;\n          }\n          throw new Error('Missing params');\n        case 2:\n          _context14.n = 3;\n          return createTaskCommentDoboard(params.accountId, sessionId, taskId, commentText, params.projectToken);\n        case 3:\n          return _context14.a(2, _context14.v);\n      }\n    }, _callee14);\n  }));\n  return _addTaskComment.apply(this, arguments);\n}\nfunction getUserTasks(params) {\n  if (!localStorage.getItem('spotfix_session_id')) {\n    return {};\n  }\n  var projectToken = params.projectToken;\n  var sessionId = localStorage.getItem('spotfix_session_id');\n  var userId = localStorage.getItem('spotfix_user_id');\n  return getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId, userId);\n}\nfunction getAllTasks(_x26) {\n  return _getAllTasks.apply(this, arguments);\n}\nfunction _getAllTasks() {\n  _getAllTasks = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee15(params) {\n    var projectToken, sessionId, tasksData;\n    return _regenerator().w(function (_context15) {\n      while (1) switch (_context15.n) {\n        case 0:\n          if (localStorage.getItem('spotfix_session_id')) {\n            _context15.n = 1;\n            break;\n          }\n          return _context15.a(2, {});\n        case 1:\n          projectToken = params.projectToken;\n          sessionId = localStorage.getItem('spotfix_session_id');\n          _context15.n = 2;\n          return getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId);\n        case 2:\n          tasksData = _context15.v;\n          return _context15.a(2, getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId));\n      }\n    }, _callee15);\n  }));\n  return _getAllTasks.apply(this, arguments);\n}\nfunction getTaskDetails(_x27, _x28) {\n  return _getTaskDetails.apply(this, arguments);\n}\nfunction _getTaskDetails() {\n  _getTaskDetails = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee16(params, taskId) {\n    var sessionId, comments;\n    return _regenerator().w(function (_context16) {\n      while (1) switch (_context16.n) {\n        case 0:\n          sessionId = localStorage.getItem('spotfix_session_id');\n          _context16.n = 1;\n          return getTaskCommentsDoboard(taskId, sessionId, params.accountId, params.projectToken);\n        case 1:\n          comments = _context16.v;\n          console.log(comments);\n          return _context16.a(2, {\n            issueTitle: comments.length > 0 ? comments[0].issueTitle : 'No Title',\n            issueComments: comments.map(function (comment) {\n              var _formatDate2 = formatDate(comment.commentDate),\n                date = _formatDate2.date,\n                time = _formatDate2.time;\n              return {\n                commentAuthorAvatarSrc: comment.commentAuthorAvatarSrc || null,\n                commentAuthorName: comment.commentAuthorName || 'Unknown Author',\n                commentBody: comment.commentBody,\n                commentDate: date,\n                commentTime: time,\n                commentUserId: comment.userId || 'Unknown User'\n              };\n            })\n          });\n      }\n    }, _callee16);\n  }));\n  return _getTaskDetails.apply(this, arguments);\n}\nfunction formatDate(dateStr) {\n  var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  // dateStr expected format: 'YYYY-MM-DD HH:mm:ss' or 'YYYY-MM-DDTHH:mm:ssZ'\n  if (!dateStr) return {\n    date: '',\n    time: ''\n  };\n  var dateObj;\n  if (dateStr.includes('T')) {\n    dateObj = new Date(dateStr);\n  } else if (dateStr.includes(' ')) {\n    dateObj = new Date(dateStr.replace(' ', 'T'));\n  } else {\n    dateObj = new Date(dateStr);\n  }\n  if (isNaN(dateObj.getTime())) return {\n    date: '',\n    time: ''\n  };\n  var month = months[dateObj.getMonth()];\n  var day = dateObj.getDate();\n  var date = \"\".concat(month, \" \").concat(day);\n  var hours = dateObj.getHours().toString().padStart(2, '0');\n  var minutes = dateObj.getMinutes().toString().padStart(2, '0');\n  var time = \"\".concat(hours, \":\").concat(minutes);\n  return {\n    date: date,\n    time: time\n  };\n}\nfunction getTaskAuthorDetails(taskId) {\n  var mockUsersData = [{\n    'taskId': '1',\n    'taskAuthorAvatarImgSrc': 'https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/avatars/081a1b65d20fe318/m.jpg',\n    'taskAuthorName': 'Test All Issues Single Author Name'\n  }];\n  var defaultData = {\n    'taskId': null,\n    'taskAuthorAvatarImgSrc': null,\n    'taskAuthorName': 'Unknown Author'\n  };\n  var data = mockUsersData.find(function (element) {\n    return element.taskId === taskId;\n  });\n  return data === undefined ? defaultData : data;\n}\nfunction getIssuesCounterString() {\n  var mock = {\n    'totalTasks': 15,\n    'tasksOnPage': 1\n  };\n  return \"(\".concat(mock.tasksOnPage, \"/\").concat(mock.totalTasks, \")\");\n}\nfunction saveUserData(tasks) {\n  // Save users avatars to local storage\n}\nfunction getTaskLastMessageDetails(_x29, _x30) {\n  return _getTaskLastMessageDetails.apply(this, arguments);\n}\n/**\n * Widget class to create a task widget\n */\nfunction _getTaskLastMessageDetails() {\n  _getTaskLastMessageDetails = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee17(params, taskId) {\n    var details, lastComment, _t10;\n    return _regenerator().w(function (_context17) {\n      while (1) switch (_context17.p = _context17.n) {\n        case 0:\n          _context17.p = 0;\n          _context17.n = 1;\n          return getTaskDetails(params, taskId);\n        case 1:\n          details = _context17.v;\n          if (!(details.issueComments && details.issueComments.length > 0)) {\n            _context17.n = 2;\n            break;\n          }\n          lastComment = details.issueComments[details.issueComments.length - 1];\n          return _context17.a(2, {\n            lastMessageText: lastComment.commentBody || '',\n            lastMessageTime: lastComment.commentTime || ''\n          });\n        case 2:\n          _context17.n = 4;\n          break;\n        case 3:\n          _context17.p = 3;\n          _t10 = _context17.v;\n          console.error(_t10);\n        case 4:\n          return _context17.a(2, {\n            lastMessageText: 'No messages yet',\n            lastMessageTime: ''\n          });\n      }\n    }, _callee17, null, [[0, 3]]);\n  }));\n  return _getTaskLastMessageDetails.apply(this, arguments);\n}\nvar CleanTalkWidgetDoboard = /*#__PURE__*/function () {\n  /**\n   * Constructor\n   */\n  function CleanTalkWidgetDoboard(selectedData, type) {\n    _classCallCheck(this, CleanTalkWidgetDoboard);\n    _defineProperty(this, \"selectedText\", '');\n    _defineProperty(this, \"selectedData\", {});\n    _defineProperty(this, \"widgetElement\", null);\n    _defineProperty(this, \"params\", {});\n    _defineProperty(this, \"currentActiveTaskId\", 0);\n    this.selectedData = selectedData;\n    this.selectedText = selectedData.selectedText;\n    this.init(type);\n  }\n\n  /**\n   * Initialize the widget\n   */\n  return _createClass(CleanTalkWidgetDoboard, [{\n    key: \"init\",\n    value: (function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7(type) {\n        return _regenerator().w(function (_context7) {\n          while (1) switch (_context7.n) {\n            case 0:\n              this.params = this.getParams();\n              _context7.n = 1;\n              return this.createWidgetElement(type);\n            case 1:\n              this.widgetElement = _context7.v;\n              this.bindWidgetInputsInteractive();\n            case 2:\n              return _context7.a(2);\n          }\n        }, _callee7, this);\n      }));\n      function init(_x31) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }())\n  }, {\n    key: \"getParams\",\n    value: function getParams() {\n      var script = document.querySelector(\"script[src*=\\\"doboard-widget-bundle.min.js\\\"]\");\n      if (!script || !script.src) {\n        throw new Error('Script not provided');\n      }\n      var url = new URL(script.src);\n      var params = Object.fromEntries(url.searchParams.entries());\n      if (!params) {\n        throw new Error('Script params not provided');\n      }\n      if (!params.projectToken || !params.accountId || !params.projectId) {\n        throw new Error('Necessary script params not provided');\n      }\n      return params;\n    }\n\n    /**\n     * Binding events to create a task\n     */\n  }, {\n    key: \"bindCreateTaskEvents\",\n    value: function bindCreateTaskEvents() {\n      var _this = this;\n      var submitButton = document.getElementById('doboard_task_widget-submit_button');\n      if (submitButton) {\n        submitButton.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8() {\n          var taskTitleElement, taskTitle, taskDescriptionElement, taskDescription, userName, userEmail, userPassword, loginSectionElement, _userEmailElement, userNameElement, userPasswordElement, userEmailElement, submitButton, taskDetails, submitTaskResult;\n          return _regenerator().w(function (_context8) {\n            while (1) switch (_context8.n) {\n              case 0:\n                // Check required fields: Report about and Description\n                taskTitleElement = document.getElementById('doboard_task_widget-title');\n                taskTitle = taskTitleElement.value;\n                if (taskTitle) {\n                  _context8.n = 1;\n                  break;\n                }\n                taskTitleElement.style.borderColor = 'red';\n                taskTitleElement.focus();\n                taskTitleElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context8.a(2);\n              case 1:\n                taskDescriptionElement = document.getElementById('doboard_task_widget-description');\n                taskDescription = taskDescriptionElement.value;\n                if (taskDescription) {\n                  _context8.n = 2;\n                  break;\n                }\n                taskDescriptionElement.style.borderColor = 'red';\n                taskDescriptionElement.focus();\n                taskDescriptionElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context8.a(2);\n              case 2:\n                // If login section is open, check required fields: Nickname, Email\n                userName = '';\n                userEmail = '';\n                userPassword = '';\n                loginSectionElement = document.querySelector('.doboard_task_widget-login');\n                if (!(loginSectionElement && loginSectionElement.classList.contains('active'))) {\n                  _context8.n = 5;\n                  break;\n                }\n                _userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userNameElement = document.getElementById('doboard_task_widget-user_name');\n                userPasswordElement = document.getElementById('doboard_task_widget-user_password');\n                userEmail = _userEmailElement.value;\n                if (userEmail) {\n                  _context8.n = 3;\n                  break;\n                }\n                _userEmailElement.style.borderColor = 'red';\n                _userEmailElement.focus();\n                _userEmailElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context8.a(2);\n              case 3:\n                if (!(_userEmailElement && userNameElement)) {\n                  _context8.n = 4;\n                  break;\n                }\n                userName = userNameElement.value;\n                if (userName) {\n                  _context8.n = 4;\n                  break;\n                }\n                userNameElement.style.borderColor = 'red';\n                userNameElement.focus();\n                userNameElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context8.a(2);\n              case 4:\n                if (!(_userEmailElement && userPasswordElement && !userNameElement)) {\n                  _context8.n = 5;\n                  break;\n                }\n                userPassword = userPasswordElement.value;\n                if (userPassword) {\n                  _context8.n = 5;\n                  break;\n                }\n                userPasswordElement.style.borderColor = 'red';\n                userPasswordElement.focus();\n                userPasswordElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context8.a(2);\n              case 5:\n                // If it is the login request\n                userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userEmail = userEmailElement.value;\n\n                // Make the submit button disable with spinner\n                submitButton = document.getElementById('doboard_task_widget-submit_button');\n                submitButton.disabled = true;\n                submitButton.style.cursor = 'waiting';\n                taskDetails = {\n                  taskTitle: taskTitle,\n                  taskDescription: taskDescription,\n                  //typeSend: typeSend,\n                  selectedData: _this.selectedData,\n                  projectToken: _this.params.projectToken,\n                  projectId: _this.params.projectId,\n                  accountId: _this.params.accountId\n                };\n                if (userEmail) {\n                  taskDetails.userEmail = userEmail;\n                }\n                if (userName) {\n                  taskDetails.userName = userName;\n                }\n                if (userPassword) {\n                  taskDetails.userPassword = userPassword;\n                }\n                _context8.n = 6;\n                return _this.submitTask(taskDetails);\n              case 6:\n                submitTaskResult = _context8.v;\n                // Return the submit button normal state\n                submitButton.disabled = false;\n                submitButton.style.cursor = 'pointer';\n                if (!submitTaskResult.needToLogin) {\n                  _context8.n = 7;\n                  break;\n                }\n                return _context8.a(2);\n              case 7:\n                if (submitTaskResult.isPublic !== undefined) {\n                  _this.selectedData.isPublic = submitTaskResult.isPublic;\n                }\n                localStorage.setItem(\"spotfix_task_data_\".concat(submitTaskResult.taskId), JSON.stringify(_this.selectedData));\n                _this.selectedData = {};\n                _context8.n = 8;\n                return _this.createWidgetElement('all_issues');\n              case 8:\n                return _context8.a(2);\n            }\n          }, _callee8);\n        })));\n      }\n    }\n\n    /**\n     * Create widget element\n     * @return {HTMLElement} widget element\n     */\n  }, {\n    key: \"createWidgetElement\",\n    value: (function () {\n      var _createWidgetElement = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee0(type) {\n        var _this2 = this,\n          _document$querySelect;\n        var showOnlyCurrentPage,\n          widgetContainer,\n          templateName,\n          variables,\n          taskDetails,\n          issuesQuantityOnPage,\n          tasks,\n          i,\n          elTask,\n          taskId,\n          taskTitle,\n          _formatDate,\n          lastMessageTime,\n          taskDataString,\n          taskData,\n          currentPageURL,\n          taskNodePath,\n          taskPublicStatusImgSrc,\n          taskPublicStatusHint,\n          lastMessageDetails,\n          authorDetails,\n          avatarData,\n          _variables,\n          taskElement,\n          text,\n          start,\n          end,\n          selectedText,\n          beforeText,\n          afterText,\n          _taskDetails,\n          issuesCommentsContainer,\n          dayMessagesData,\n          initIssuerID,\n          userIsIssuer,\n          _iterator,\n          _step,\n          comment,\n          _avatarData,\n          commentData,\n          daysWrapperHTML,\n          day,\n          currentDayMessages,\n          dayMessagesWrapperHTML,\n          messageId,\n          currentMessageData,\n          sendForm,\n          backToAllIssuesController,\n          widgetClass,\n          paperclipController,\n          _args0 = arguments,\n          _t2,\n          _t3,\n          _t4,\n          _t5,\n          _t6,\n          _t7,\n          _t8,\n          _t9,\n          _t0;\n        return _regenerator().w(function (_context0) {\n          while (1) switch (_context0.n) {\n            case 0:\n              showOnlyCurrentPage = _args0.length > 1 && _args0[1] !== undefined ? _args0[1] : true;\n              widgetContainer = document.querySelector('.doboard_task_widget') ? document.querySelector('.doboard_task_widget') : document.createElement('div');\n              widgetContainer.className = 'doboard_task_widget';\n              widgetContainer.innerHTML = '';\n              templateName = '';\n              variables = {};\n              _t2 = type;\n              _context0.n = _t2 === 'create_issue' ? 1 : _t2 === 'wrap' ? 2 : _t2 === 'all_issues' ? 3 : _t2 === 'concrete_issue' ? 4 : 6;\n              break;\n            case 1:\n              templateName = 'create_issue';\n              variables = {\n                selectedText: this.selectedText,\n                currentDomain: document.location.hostname || ''\n              };\n              return _context0.a(3, 7);\n            case 2:\n              templateName = 'wrap';\n              return _context0.a(3, 7);\n            case 3:\n              templateName = 'all_issues';\n              return _context0.a(3, 7);\n            case 4:\n              templateName = 'concrete_issue';\n              // todo: this is call duplicate!\n              _context0.n = 5;\n              return getTaskDetails(this.params, this.currentActiveTaskId);\n            case 5:\n              taskDetails = _context0.v;\n              variables = {\n                issueTitle: taskDetails.issueTitle,\n                issueComments: taskDetails.issueComments,\n                issuesCounter: getIssuesCounterString(),\n                paperclipImgSrc: '/spotfix/img/send-message--paperclip.svg',\n                sendButtonImgSrc: '/spotfix/img/send-message--button.svg',\n                msgFieldBackgroundImgSrc: '/spotfix/img/send-message--input-background.svg'\n              };\n              return _context0.a(3, 7);\n            case 6:\n              return _context0.a(3, 7);\n            case 7:\n              _context0.n = 8;\n              return this.loadTemplate(templateName, variables);\n            case 8:\n              widgetContainer.innerHTML = _context0.v;\n              document.body.appendChild(widgetContainer);\n              _t3 = type;\n              _context0.n = _t3 === 'create_issue' ? 9 : _t3 === 'wrap' ? 10 : _t3 === 'all_issues' ? 11 : _t3 === 'concrete_issue' ? 20 : 30;\n              break;\n            case 9:\n              this.bindCreateTaskEvents();\n              return _context0.a(3, 31);\n            case 10:\n              this.getTaskCount();\n              document.querySelector('.doboard_task_widget-wrap').addEventListener('click', function () {\n                _this2.createWidgetElement('all_issues');\n              });\n              return _context0.a(3, 31);\n            case 11:\n              issuesQuantityOnPage = 0; //let tasks = await getUserTasks(this.params);\n              _context0.n = 12;\n              return getAllTasks(this.params);\n            case 12:\n              tasks = _context0.v;\n              saveUserData(tasks);\n              if (!(tasks.length > 0)) {\n                _context0.n = 19;\n                break;\n              }\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '';\n              i = 0;\n            case 13:\n              if (!(i < tasks.length)) {\n                _context0.n = 18;\n                break;\n              }\n              elTask = tasks[i]; // Data from api\n              taskId = elTask.taskId;\n              taskTitle = elTask.taskTitle;\n              _formatDate = formatDate(elTask.taskLastUpdate), lastMessageTime = _formatDate.time; // Data from local storage\n              taskDataString = localStorage.getItem(\"spotfix_task_data_\".concat(taskId));\n              taskData = taskDataString ? JSON.parse(taskDataString) : null;\n              if (taskData) {\n                _context0.n = 14;\n                break;\n              }\n              return _context0.a(3, 17);\n            case 14:\n              currentPageURL = taskData.pageURL;\n              taskNodePath = taskData.nodePath; // Define publicity details\n              taskPublicStatusImgSrc = '';\n              taskPublicStatusHint = 'Task publicity is unknown';\n              if (taskData.isPublic !== undefined) {\n                if (taskData.isPublic) {\n                  taskPublicStatusImgSrc = '/spotfix/img/public.svg';\n                  taskPublicStatusHint = 'The task is public';\n                } else {\n                  taskPublicStatusImgSrc = '/spotfix/img/private.svg';\n                  taskPublicStatusHint = 'The task is private and visible only for registered DoBoard users';\n                }\n              }\n              if (!(!showOnlyCurrentPage || currentPageURL === window.location.href)) {\n                _context0.n = 17;\n                break;\n              }\n              issuesQuantityOnPage++;\n              //define last message and update time\n              _context0.n = 15;\n              return getTaskLastMessageDetails(this.params, taskId);\n            case 15:\n              lastMessageDetails = _context0.v;\n              authorDetails = getTaskAuthorDetails(taskId); // todo MOCK!\n              avatarData = getAvatarData(authorDetails);\n              _variables = {\n                taskTitle: taskTitle || '',\n                taskAuthorName: authorDetails.taskAuthorName,\n                taskPublicStatusImgSrc: taskPublicStatusImgSrc,\n                taskPublicStatusHint: taskPublicStatusHint,\n                taskLastMessage: lastMessageDetails.lastMessageText,\n                taskLastUpdate: lastMessageTime,\n                nodePath: taskNodePath,\n                taskId: taskId,\n                avatarCSSClass: avatarData.avatarCSSClass,\n                avatarStyle: avatarData.avatarStyle,\n                taskAuthorInitials: avatarData.taskAuthorInitials,\n                initialsClass: avatarData.initialsClass\n              };\n              _t4 = document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML;\n              _context0.n = 16;\n              return this.loadTemplate('list_issues', _variables);\n            case 16:\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = _t4 += _context0.v;\n              taskElement = taskAnalysis(taskData);\n              if (taskElement) {\n                if (taskData.startSelectPosition !== undefined && taskData.endSelectPosition !== undefined) {\n                  text = taskElement.innerHTML;\n                  start = taskData.startSelectPosition;\n                  end = taskData.endSelectPosition;\n                  selectedText = text.substring(start, end);\n                  beforeText = text.substring(0, start);\n                  afterText = text.substring(end);\n                  taskElement.innerHTML = beforeText + '<span class=\"doboard_task_widget-text_selection\">' + selectedText + '</span>' + afterText;\n                }\n              }\n            case 17:\n              i++;\n              _context0.n = 13;\n              break;\n            case 18:\n              document.querySelector('.doboard_task_widget-header span').innerText += ' (' + issuesQuantityOnPage + ')';\n            case 19:\n              if (tasks.length === 0 || issuesQuantityOnPage === 0) {\n                document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '<div class=\"doboard_task_widget-issues_list_empty\">The issues list is empty</div>';\n              }\n\n              // Bind the click event to the task elements for scrolling to the selected text and Go to concrete issue interface by click issue-item row\n              this.bindIssuesClick();\n              return _context0.a(3, 31);\n            case 20:\n              _context0.n = 21;\n              return getTaskDetails(this.params, this.currentActiveTaskId);\n            case 21:\n              _taskDetails = _context0.v;\n              console.log(_taskDetails);\n              variables = {\n                issueTitle: _taskDetails.issueTitle,\n                issueComments: _taskDetails.issueComments,\n                issuesCounter: getIssuesCounterString(),\n                chevronBackTitle: 'Back to all issues'\n              };\n              issuesCommentsContainer = document.querySelector('.doboard_task_widget-concrete_issues-container');\n              dayMessagesData = [];\n              initIssuerID = localStorage.getItem('spotfix_user_id');\n              console.table('initIssuerID', initIssuerID);\n              userIsIssuer = false;\n              if (!(_taskDetails.issueComments.length > 0)) {\n                _context0.n = 28;\n                break;\n              }\n              issuesCommentsContainer.innerHTML = '';\n              _iterator = _createForOfIteratorHelper(_taskDetails.issueComments);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  comment = _step.value;\n                  userIsIssuer = Number(initIssuerID) === Number(comment.commentUserId);\n                  _avatarData = getAvatarData({\n                    taskAuthorAvatarImgSrc: comment.commentAuthorAvatarSrc,\n                    taskAuthorName: comment.commentAuthorName,\n                    userIsIssuer: userIsIssuer\n                  });\n                  commentData = {\n                    commentAuthorName: comment.commentAuthorName,\n                    commentBody: comment.commentBody,\n                    commentDate: comment.commentDate,\n                    commentTime: comment.commentTime,\n                    issueTitle: variables.issueTitle,\n                    issuesCounter: variables.issuesCounter,\n                    commentContainerBackgroundSrc: userIsIssuer ? '/spotfix/img/comment-self-background.png' : '/spotfix/img/comment-other-background.png',\n                    avatarCSSClass: _avatarData.avatarCSSClass,\n                    avatarStyle: _avatarData.avatarStyle,\n                    taskAuthorInitials: _avatarData.taskAuthorInitials,\n                    initialsClass: _avatarData.initialsClass\n                  };\n                  if (dayMessagesData[comment.commentDate] === undefined) {\n                    dayMessagesData[comment.commentDate] = [];\n                    dayMessagesData[comment.commentDate].push(commentData);\n                  } else {\n                    dayMessagesData[comment.commentDate].push(commentData);\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              daysWrapperHTML = '';\n              _t5 = _regeneratorKeys(dayMessagesData);\n            case 22:\n              if ((_t6 = _t5()).done) {\n                _context0.n = 27;\n                break;\n              }\n              day = _t6.value;\n              currentDayMessages = dayMessagesData[day];\n              dayMessagesWrapperHTML = '';\n              currentDayMessages.sort(function (a, b) {\n                return a.commentTime.localeCompare(b.commentTime);\n              });\n              _t7 = _regeneratorKeys(currentDayMessages);\n            case 23:\n              if ((_t8 = _t7()).done) {\n                _context0.n = 25;\n                break;\n              }\n              messageId = _t8.value;\n              currentMessageData = currentDayMessages[messageId];\n              _t9 = dayMessagesWrapperHTML;\n              _context0.n = 24;\n              return this.loadTemplate('concrete_issue_messages', currentMessageData);\n            case 24:\n              dayMessagesWrapperHTML = _t9 += _context0.v;\n              _context0.n = 23;\n              break;\n            case 25:\n              _t0 = daysWrapperHTML;\n              _context0.n = 26;\n              return this.loadTemplate('concrete_issue_day_content', {\n                dayContentMonthDay: day,\n                dayContentMessages: dayMessagesWrapperHTML\n              });\n            case 26:\n              daysWrapperHTML = _t0 += _context0.v;\n              _context0.n = 22;\n              break;\n            case 27:\n              issuesCommentsContainer.innerHTML = daysWrapperHTML;\n              _context0.n = 29;\n              break;\n            case 28:\n              issuesCommentsContainer.innerHTML = 'No comments';\n            case 29:\n              sendForm = document.querySelector('.doboard_task_widget-send_message form');\n              if (sendForm) {\n                sendForm.addEventListener('submit', /*#__PURE__*/function () {\n                  var _ref8 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee9(e) {\n                    var input, commentText, _t;\n                    return _regenerator().w(function (_context9) {\n                      while (1) switch (_context9.p = _context9.n) {\n                        case 0:\n                          e.preventDefault();\n                          input = sendForm.querySelector('.doboard_task_widget-send_message_input');\n                          commentText = input.value.trim();\n                          if (commentText) {\n                            _context9.n = 1;\n                            break;\n                          }\n                          return _context9.a(2);\n                        case 1:\n                          input.disabled = true;\n                          _context9.p = 2;\n                          _context9.n = 3;\n                          return addTaskComment(_this2.params, _this2.currentActiveTaskId, commentText);\n                        case 3:\n                          input.value = '';\n                          _context9.n = 4;\n                          return _this2.createWidgetElement('concrete_issue');\n                        case 4:\n                          _context9.n = 6;\n                          break;\n                        case 5:\n                          _context9.p = 5;\n                          _t = _context9.v;\n                          alert('Error when adding a comment: ' + _t.message);\n                        case 6:\n                          input.disabled = false;\n                        case 7:\n                          return _context9.a(2);\n                      }\n                    }, _callee9, null, [[2, 5]]);\n                  }));\n                  return function (_x33) {\n                    return _ref8.apply(this, arguments);\n                  };\n                }());\n              }\n              return _context0.a(3, 31);\n            case 30:\n              return _context0.a(3, 31);\n            case 31:\n              backToAllIssuesController = document.querySelector('.doboard_task_widget_return_to_all');\n              if (backToAllIssuesController) {\n                widgetClass = this;\n                backToAllIssuesController.addEventListener('click', function (e) {\n                  var self = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : widgetClass;\n                  self.createWidgetElement('all_issues');\n                });\n              }\n              paperclipController = document.querySelector('.doboard_task_widget-send_message_paperclip');\n              if (paperclipController) {\n                paperclipController.addEventListener('click', function (e) {\n                  e.preventDefault();\n                  console.log('click');\n                  alert('This action is not implemented yet..');\n                });\n              }\n              ((_document$querySelect = document.querySelector('.doboard_task_widget-close_btn')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.addEventListener('click', function () {\n                _this2.hide();\n              })) || '';\n              return _context0.a(2, widgetContainer);\n          }\n        }, _callee0, this);\n      }));\n      function createWidgetElement(_x32) {\n        return _createWidgetElement.apply(this, arguments);\n      }\n      return createWidgetElement;\n    }())\n  }, {\n    key: \"bindIssuesClick\",\n    value: function bindIssuesClick() {\n      var _this3 = this;\n      document.querySelectorAll('.issue-item').forEach(function (item) {\n        item.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee1() {\n          var nodePath;\n          return _regenerator().w(function (_context1) {\n            while (1) switch (_context1.n) {\n              case 0:\n                nodePath = JSON.parse(item.getAttribute('data-node-path'));\n                scrollToNodePath(nodePath);\n                _this3.currentActiveTaskId = item.getAttribute('data-task-id');\n                _context1.n = 1;\n                return _this3.createWidgetElement('concrete_issue');\n              case 1:\n                return _context1.a(2);\n            }\n          }, _callee1);\n        })));\n      });\n    }\n\n    /**\n     * Load the template\n     *\n     * @param templateName\n     * @param variables\n     * @return {Promise<string>}\n     * @ToDo have to refactor templates loaded method: need to be templates included into the bundle\n     *\n     */\n  }, {\n    key: \"loadTemplate\",\n    value: (function () {\n      var _loadTemplate = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee10(templateName) {\n        var variables,\n          response,\n          template,\n          _i,\n          _Object$entries,\n          _Object$entries$_i,\n          key,\n          value,\n          placeholder,\n          _args10 = arguments;\n        return _regenerator().w(function (_context10) {\n          while (1) switch (_context10.n) {\n            case 0:\n              variables = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : {};\n              _context10.n = 1;\n              return fetch(\"/spotfix/templates/\".concat(templateName, \".html\"));\n            case 1:\n              response = _context10.v;\n              _context10.n = 2;\n              return response.text();\n            case 2:\n              template = _context10.v;\n              for (_i = 0, _Object$entries = Object.entries(variables); _i < _Object$entries.length; _i++) {\n                _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], value = _Object$entries$_i[1];\n                placeholder = \"{{\".concat(key, \"}}\");\n                template = template.replaceAll(placeholder, value);\n              }\n              return _context10.a(2, template);\n          }\n        }, _callee10);\n      }));\n      function loadTemplate(_x34) {\n        return _loadTemplate.apply(this, arguments);\n      }\n      return loadTemplate;\n    }())\n  }, {\n    key: \"getTaskCount\",\n    value: function () {\n      var _getTaskCount = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee11() {\n        var projectToken, sessionId, tasks, taskCountElement;\n        return _regenerator().w(function (_context11) {\n          while (1) switch (_context11.n) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context11.n = 1;\n                break;\n              }\n              return _context11.a(2, {});\n            case 1:\n              projectToken = this.params.projectToken;\n              sessionId = localStorage.getItem('spotfix_session_id');\n              _context11.n = 2;\n              return getTasksDoboard(projectToken, sessionId, this.params.accountId, this.params.projectId);\n            case 2:\n              tasks = _context11.v;\n              taskCountElement = document.getElementById('doboard_task_widget-task_count');\n              if (taskCountElement) {\n                taskCountElement.innerText = tasks.length;\n                taskCountElement.classList.remove('hidden');\n              }\n            case 3:\n              return _context11.a(2);\n          }\n        }, _callee11, this);\n      }));\n      function getTaskCount() {\n        return _getTaskCount.apply(this, arguments);\n      }\n      return getTaskCount;\n    }()\n    /**\n     * Bind events to the widget\n     */\n    /*bindEvents() {\n        this.submitButton.addEventListener('click', () => this.submitTask());\n    }*/\n    /**\n     * Submit the task\n     */\n  }, {\n    key: \"submitTask\",\n    value: (function () {\n      var _submitTask = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee12(taskDetails) {\n        var sessionId;\n        return _regenerator().w(function (_context12) {\n          while (1) switch (_context12.n) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context12.n = 2;\n                break;\n              }\n              _context12.n = 1;\n              return this.registerUser(taskDetails);\n            case 1:\n              if (!taskDetails.userPassword) {\n                _context12.n = 2;\n                break;\n              }\n              _context12.n = 2;\n              return this.loginUser(taskDetails);\n            case 2:\n              sessionId = localStorage.getItem('spotfix_session_id');\n              if (sessionId) {\n                _context12.n = 3;\n                break;\n              }\n              return _context12.a(2, {\n                needToLogin: true\n              });\n            case 3:\n              _context12.n = 4;\n              return handleCreateTask(sessionId, taskDetails);\n            case 4:\n              return _context12.a(2, _context12.v);\n          }\n        }, _callee12, this);\n      }));\n      function submitTask(_x35) {\n        return _submitTask.apply(this, arguments);\n      }\n      return submitTask;\n    }())\n  }, {\n    key: \"registerUser\",\n    value: function registerUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userName = taskDetails.userName;\n      var projectToken = taskDetails.projectToken;\n      var accountId = taskDetails.accountId;\n      return _registerUser(projectToken, accountId, userEmail, userName).then(function (response) {\n        if (response.accountExists) {\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container\").innerText = 'Account already exists. Please, login usin your password.';\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container.hidden\").classList.remove('hidden');\n          document.getElementById(\"doboard_task_widget-user_password\").focus();\n        } else if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"loginUser\",\n    value: function loginUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userPassword = taskDetails.userPassword;\n      return _loginUser(userEmail, userPassword).then(function (response) {\n        if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n\n    /**\n     * Hide the widget\n     */\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.createWidgetElement('wrap');\n      var textSelectionclassName = 'doboard_task_widget-text_selection';\n      var spans = document.querySelectorAll('.' + textSelectionclassName);\n      spans.forEach(function (span) {\n        var parent = span.parentNode;\n        while (span.firstChild) {\n          parent.insertBefore(span.firstChild, span);\n        }\n        parent.removeChild(span);\n      });\n    }\n  }, {\n    key: \"bindWidgetInputsInteractive\",\n    value: function bindWidgetInputsInteractive() {\n      // Customising placeholders\n      var inputs = document.querySelectorAll('.doboard_task_widget-field');\n      inputs.forEach(function (input) {\n        if (input.value) {\n          input.classList.add('has-value');\n        }\n        input.addEventListener('input', function () {\n          if (input.value) {\n            input.classList.add('has-value');\n          } else {\n            input.classList.remove('has-value');\n          }\n        });\n        input.addEventListener('blur', function () {\n          if (!input.value) {\n            input.classList.remove('has-value');\n          }\n        });\n      });\n\n      // Customising accordion dropdown\n      var accordionController = document.querySelector('.doboard_task_widget-login span');\n      if (accordionController) {\n        accordionController.addEventListener('click', function () {\n          this.closest('.doboard_task_widget-login').classList.toggle('active');\n        });\n      }\n    }\n  }]);\n}();\nvar selectedData = {};\nvar widgetTimeout = null;\ndocument.addEventListener('DOMContentLoaded', function () {\n  new CleanTalkWidgetDoboard({}, 'wrap');\n});\ndocument.addEventListener('selectionchange', function (e) {\n  if (widgetTimeout) {\n    clearTimeout(widgetTimeout);\n  }\n  widgetTimeout = setTimeout(function () {\n    var selection = window.getSelection();\n    if (selection.type === 'Range') {\n      var _selectedData = getSelectedData(selection);\n      var widgetExist = document.querySelector('.doboard_task_widget-container');\n      openWidget(_selectedData, widgetExist, 'create_issue');\n    }\n  }, 1000);\n});\n\n/**\n * Open the widget to create a task.\n * @param {*} selectedData\n * @param {*} widgetExist\n * @param {*} type\n */\nfunction openWidget(selectedData, widgetExist, type) {\n  if (selectedData && !widgetExist) {\n    new CleanTalkWidgetDoboard(selectedData, type);\n  }\n}\n\n/**\n * Get the selected data from the DOM\n * @param {Selection} selectedData\n * @returns {Object}\n */\nfunction getSelectedData(selectedData) {\n  var pageURL = window.location.href;\n  var selectedText = selectedData.toString();\n  var anchorOffset = selectedData.anchorOffset;\n  var focusOffset = selectedData.focusOffset;\n  return {\n    startSelectPosition: Math.min(anchorOffset, focusOffset),\n    endSelectPosition: Math.max(anchorOffset, focusOffset),\n    selectedText: selectedText,\n    pageURL: pageURL,\n    nodePath: calculateNodePath(selectedData.focusNode.parentNode)\n  };\n}\n\n/**\n * Calculate the path of a DOM node\n *\n * @param {Node} node\n * @return {int[]}\n */\nfunction calculateNodePath(node) {\n  var path = [];\n  while (node) {\n    var index = 0;\n    var sibling = node.previousSibling;\n    while (sibling) {\n      if (sibling.nodeType === 1) {\n        index++;\n      }\n      sibling = sibling.previousSibling;\n    }\n    path.unshift(index);\n    node = node.parentNode;\n  }\n\n  // Hard fix - need to remove first element to work correctly\n  path.shift();\n  return path;\n}\n\n/**\n * Retrieve a DOM node from a path\n *\n * @param {int[]} path\n * @return {*|null}\n */\nfunction retrieveNodeFromPath(path) {\n  // @ToDo check if the path is correct\n  if (!path) {\n    return null;\n  }\n  var node = document;\n  for (var i = 0; i < path.length; i++) {\n    node = node.children[path[i]];\n    if (!node) {\n      return null;\n    }\n  }\n  return node;\n}\n\n/**\n * Analyze the task selected data\n * @param {Object} taskSelectedData\n * @return {Element|null}\n */\nfunction taskAnalysis(taskSelectedData) {\n  var nodePath = taskSelectedData.nodePath;\n  return retrieveNodeFromPath(nodePath);\n}\n\n/**\n * Scroll to an element by tag, class, and text content\n * @param {string} path - The path to the element\n * @return {boolean} - True if the element was found and scrolled to, false otherwise\n */\nfunction scrollToNodePath(path) {\n  var node = retrieveNodeFromPath(path);\n  if (node && node.scrollIntoView) {\n    node.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center'\n    });\n    return true;\n  }\n  return false;\n}\nfunction getAvatarData(authorDetails) {\n  var avatarStyle;\n  var avatarCSSClass;\n  var taskAuthorInitials;\n  var hideAvatar = authorDetails.hasOwnProperty('userIsIssuer') && authorDetails.userIsIssuer === true;\n  var initialsClass = 'doboard_task_widget-avatar-initials';\n  if (authorDetails.taskAuthorAvatarImgSrc === null) {\n    avatarStyle = hideAvatar ? 'opacity:0;' : '';\n    avatarCSSClass = 'doboard_task_widget-avatar_placeholder';\n    taskAuthorInitials = authorDetails.taskAuthorName.substring(0, 2).toUpperCase();\n  } else {\n    avatarStyle = \"background-image:url('\".concat(authorDetails.taskAuthorAvatarImgSrc, \"');\");\n    avatarCSSClass = 'doboard_task_widget-avatar_container';\n    initialsClass += ' doboard_task_widget-hidden_element';\n  }\n  return {\n    avatarStyle: avatarStyle,\n    avatarCSSClass: avatarCSSClass,\n    taskAuthorInitials: taskAuthorInitials,\n    initialsClass: initialsClass\n  };\n}"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","t","n","i","u","a","f","call","next","Object","done","push","value","length","return","Array","isArray","_regeneratorKeys","unshift","pop","_createForOfIteratorHelper","_n","s","F","_arrayLikeToArray","toString","slice","name","from","test","_classCallCheck","_defineProperties","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","_defineProperty","_toPrimitive","toPrimitive","String","Number","_regenerator","toStringTag","c","p","y","G","Generator","create","_regeneratorDefine2","v","d","bind","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","w","m","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","DOBOARD_API_URL","createTaskDoboard","_ref","_callee","sessionId","taskDetails","accountId","formData","response","responseBody","_context","FormData","append","projectToken","projectId","localStorage","getItem","taskTitle","taskDescription","fetch","method","body","ok","Error","json","data","operation_status","operation_message","taskId","task_id","isPublic","_x","_x2","createTaskCommentDoboard","_ref2","_callee2","comment","status","_args2","_context2","undefined","commentId","comment_id","_x3","_x4","_x5","_x6","_x7","_registerUser","_ref3","_callee3","email","nickname","_context3","user_email_confirmed","accountExists","session_id","userId","user_id","_x8","_x9","_x0","_x1","_loginUser","_ref4","_callee4","password","_context4","_x10","_x11","getTasksDoboard","_ref5","_callee5","_context5","tasks","map","task","taskLastUpdate","updated","taskCreated","created","taskCreatorTaskUser","creator_user_id","_x12","_x13","_x14","_x15","_x16","getTaskCommentsDoboard","_ref6","_callee6","_args6","_context6","comments","commentBody","comment_text","commentDate","issueTitle","task_name","_x17","_x18","_x19","_x20","handleCreateTask","_x21","_x22","_handleCreateTask","_callee13","result","_context13","addTaskComment","_x23","_x24","_x25","_addTaskComment","_callee14","params","commentText","_context14","getUserTasks","getAllTasks","_x26","_getAllTasks","_callee15","_context15","getTaskDetails","_x27","_x28","_getTaskDetails","_callee16","_context16","console","log","issueComments","_formatDate2","formatDate","date","commentAuthorAvatarSrc","commentAuthorName","commentTime","time","commentUserId","dateStr","hours","dateObj","includes","Date","replace","isNaN","getTime","month","getMonth","day","getDate","concat","getHours","padStart","minutes","getMinutes","getTaskAuthorDetails","taskAuthorAvatarImgSrc","taskAuthorName","find","element","getIssuesCounterString","mock","saveUserData","getTaskLastMessageDetails","_x29","_x30","_getTaskLastMessageDetails","_callee17","_t10","_context17","details","lastComment","lastMessageText","lastMessageTime","error","CleanTalkWidgetDoboard","selectedData","type","selectedText","init","_init","_callee7","_context7","getParams","createWidgetElement","widgetElement","bindWidgetInputsInteractive","_x31","script","document","querySelector","src","url","URL","fromEntries","searchParams","entries","_this","submitButton","getElementById","addEventListener","_callee8","taskDescriptionElement","userName","userEmail","userPassword","_userEmailElement","userNameElement","userPasswordElement","userEmailElement","submitTaskResult","_context8","taskTitleElement","style","borderColor","focus","loginSectionElement","classList","contains","disabled","cursor","submitTask","needToLogin","setItem","JSON","stringify","_createWidgetElement","_callee0","showOnlyCurrentPage","widgetContainer","templateName","variables","issuesQuantityOnPage","taskData","taskNodePath","taskPublicStatusImgSrc","taskPublicStatusHint","lastMessageDetails","taskElement","_taskDetails","issuesCommentsContainer","dayMessagesData","initIssuerID","userIsIssuer","_iterator","_step","_avatarData","commentData","daysWrapperHTML","currentDayMessages","dayMessagesWrapperHTML","currentMessageData","sendForm","widgetClass","paperclipController","_t2","_t3","_t4","_t5","_t6","_t7","_t8","_t9","_t0","_this2","_args0","_context0","createElement","className","innerHTML","currentDomain","location","hostname","currentActiveTaskId","issuesCounter","paperclipImgSrc","sendButtonImgSrc","msgFieldBackgroundImgSrc","loadTemplate","appendChild","bindCreateTaskEvents","getTaskCount","elTask","_formatDate","taskDataString","parse","currentPageURL","pageURL","nodePath","window","href","authorDetails","avatarData","getAvatarData","_variables","taskLastMessage","avatarCSSClass","avatarStyle","taskAuthorInitials","initialsClass","taskAnalysis","startSelectPosition","endSelectPosition","text","start","end","substring","beforeText","afterText","innerText","bindIssuesClick","chevronBackTitle","table","commentContainerBackgroundSrc","err","sort","b","localeCompare","dayContentMonthDay","dayContentMessages","_ref8","_callee9","input","_context9","preventDefault","trim","alert","message","_x33","backToAllIssuesController","_document$querySelect","hide","_x32","_this3","querySelectorAll","forEach","item","_callee1","_context1","scrollToNodePath","getAttribute","_loadTemplate","_callee10","template","_i","_Object$entries","placeholder","_args10","_context10","_Object$entries$_i","replaceAll","_x34","_getTaskCount","_callee11","taskCountElement","_context11","remove","_submitTask","_callee12","_context12","registerUser","loginUser","_x35","catch","span","parent","parentNode","firstChild","insertBefore","removeChild","add","accordionController","closest","toggle","widgetTimeout","openWidget","widgetExist","getSelectedData","anchorOffset","focusOffset","Math","min","max","calculateNodePath","focusNode","node","path","index","sibling","previousSibling","nodeType","shift","retrieveNodeFromPath","children","taskSelectedData","scrollIntoView","behavior","block","hideAvatar","hasOwnProperty","toUpperCase","clearTimeout","setTimeout","selection","getSelection"],"mappings":"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"}