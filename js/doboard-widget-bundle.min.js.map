{"version":3,"file":"doboard-widget-bundle.min.js","sources":["doboard-widget-bundle.js"],"sourcesContent":["\"use strict\";\n\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _regeneratorKeys(e) { var n = Object(e), r = []; for (var t in n) r.unshift(t); return function e() { for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e; return e.done = !0, e; }; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nvar DOBOARD_API_URL = 'https://api-next.doboard.com';\nvar createTaskDoboard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(sessionId, taskDetails) {\n    var accountId, formData, response, responseBody;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          accountId = taskDetails.accountId;\n          formData = new FormData();\n          formData.append('session_id', sessionId);\n          formData.append('project_token', taskDetails.projectToken);\n          formData.append('project_id', taskDetails.projectId);\n          formData.append('user_id', localStorage.getItem('spotfix_user_id'));\n          formData.append('name', taskDetails.taskTitle);\n          formData.append('comment', taskDetails.taskDescription);\n          formData.append('meta', taskDetails.taskMeta);\n          _context.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_add', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context.v;\n          if (response.ok) {\n            _context.n = 2;\n            break;\n          }\n          throw new Error('Failed to create task');\n        case 2:\n          _context.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context.n = 6;\n            break;\n          }\n          return _context.a(2, {\n            taskId: responseBody.data.task_id,\n            isPublic: 1 //todo MOCK!\n          });\n        case 6:\n          throw new Error('Unknown error occurred during creating task');\n        case 7:\n          return _context.a(2);\n      }\n    }, _callee);\n  }));\n  return function createTaskDoboard(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar createTaskCommentDoboard = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(accountId, sessionId, taskId, comment, projectToken) {\n    var status,\n      response,\n      responseBody,\n      _args2 = arguments;\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          status = _args2.length > 5 && _args2[5] !== undefined ? _args2[5] : 'ACTIVE';\n          _context2.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/comment_add' + '?session_id=' + sessionId + '&task_id=' + taskId + '&comment=' + comment + '&project_token=' + projectToken + '&status=' + status, {\n            method: 'GET'\n          });\n        case 1:\n          response = _context2.v;\n          if (response.ok) {\n            _context2.n = 2;\n            break;\n          }\n          throw new Error('Failed to create task comment');\n        case 2:\n          _context2.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context2.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context2.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context2.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context2.n = 6;\n            break;\n          }\n          return _context2.a(2, {\n            commentId: responseBody.data.comment_id\n          });\n        case 6:\n          throw new Error('Unknown error occurred during creating task comment');\n        case 7:\n          return _context2.a(2);\n      }\n    }, _callee2);\n  }));\n  return function createTaskCommentDoboard(_x3, _x4, _x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar _registerUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(projectToken, accountId, email, nickname) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context3) {\n      while (1) switch (_context3.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('account_id', accountId);\n          if (email && nickname) {\n            formData.append('email', email);\n            formData.append('nickname', nickname);\n          }\n          _context3.n = 1;\n          return fetch(DOBOARD_API_URL + '/user_registration', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context3.v;\n          if (response.ok) {\n            _context3.n = 2;\n            break;\n          }\n          throw new Error('Registration failed');\n        case 2:\n          _context3.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context3.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context3.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context3.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context3.n = 7;\n            break;\n          }\n          if (!(responseBody.data.user_email_confirmed === 1)) {\n            _context3.n = 6;\n            break;\n          }\n          return _context3.a(2, {\n            accountExists: true\n          });\n        case 6:\n          return _context3.a(2, {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: responseBody.data.email\n          });\n        case 7:\n          throw new Error('Unknown error occurred during registration');\n        case 8:\n          return _context3.a(2);\n      }\n    }, _callee3);\n  }));\n  return function registerUser(_x8, _x9, _x0, _x1) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar _loginUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(email, password) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context4) {\n      while (1) switch (_context4.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('email', email);\n          formData.append('password', password);\n          _context4.n = 1;\n          return fetch(DOBOARD_API_URL + '/user_authorize', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context4.v;\n          if (response.ok) {\n            _context4.n = 2;\n            break;\n          }\n          throw new Error('Authorization failed');\n        case 2:\n          _context4.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context4.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context4.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context4.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context4.n = 6;\n            break;\n          }\n          return _context4.a(2, {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: email\n          });\n        case 6:\n          throw new Error('Unknown error occurred during registration');\n        case 7:\n          return _context4.a(2);\n      }\n    }, _callee4);\n  }));\n  return function loginUser(_x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getTasksDoboard = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5(projectToken, sessionId, accountId, projectId, userId) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context5) {\n      while (1) switch (_context5.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('session_id', sessionId);\n          formData.append('project_id', projectId);\n          formData.append('status', 'ACTIVE');\n          if (userId) {\n            formData.append('user_id', userId);\n          }\n          _context5.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_get', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context5.v;\n          if (response.ok) {\n            _context5.n = 2;\n            break;\n          }\n          throw new Error('Getting tasks failed');\n        case 2:\n          _context5.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context5.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context5.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context5.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context5.n = 6;\n            break;\n          }\n          return _context5.a(2, responseBody.data.tasks.map(function (task) {\n            return {\n              taskId: task.task_id,\n              taskTitle: task.name,\n              taskLastUpdate: task.updated,\n              taskCreated: task.created,\n              taskCreatorTaskUser: task.creator_user_id,\n              taskMeta: task.meta\n            };\n          }));\n        case 6:\n          throw new Error('Unknown error occurred during getting tasks');\n        case 7:\n          return _context5.a(2);\n      }\n    }, _callee5);\n  }));\n  return function getTasksDoboard(_x12, _x13, _x14, _x15, _x16) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getTaskCommentsDoboard = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6(taskId, sessionId, accountId, projectToken) {\n    var status,\n      response,\n      responseBody,\n      _args6 = arguments;\n    return _regenerator().w(function (_context6) {\n      while (1) switch (_context6.n) {\n        case 0:\n          status = _args6.length > 4 && _args6[4] !== undefined ? _args6[4] : 'ACTIVE';\n          _context6.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/comment_get' + '?session_id=' + sessionId + '&status=' + status + '&task_id=' + taskId + '&project_token=' + projectToken, {\n            method: 'GET'\n          });\n        case 1:\n          response = _context6.v;\n          if (response.ok) {\n            _context6.n = 2;\n            break;\n          }\n          throw new Error('Getting logs failed');\n        case 2:\n          _context6.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context6.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context6.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context6.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context6.n = 6;\n            break;\n          }\n          return _context6.a(2, responseBody.data.comments.map(function (comment) {\n            return {\n              commentId: comment.comment_id,\n              userId: comment.user_id,\n              comment: comment.comment,\n              commentBody: comment.comment_text,\n              commentDate: comment.updated,\n              status: comment.status,\n              issueTitle: comment.task_name\n            };\n          }));\n        case 6:\n          throw new Error('Unknown error occurred during getting comments');\n        case 7:\n          return _context6.a(2);\n      }\n    }, _callee6);\n  }));\n  return function getTaskCommentsDoboard(_x17, _x18, _x19, _x20) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar getUserDoboard = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7(sessionId, projectToken, accountId) {\n    var response, responseBody;\n    return _regenerator().w(function (_context7) {\n      while (1) switch (_context7.n) {\n        case 0:\n          _context7.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/user_get' + '?session_id=' + sessionId + '&project_token=' + projectToken, {\n            method: 'GET'\n          });\n        case 1:\n          response = _context7.v;\n          if (response.ok) {\n            _context7.n = 2;\n            break;\n          }\n          throw new Error('Getting user failed');\n        case 2:\n          _context7.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context7.v;\n          if (responseBody) {\n            _context7.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data && responseBody.data.operation_status)) {\n            _context7.n = 7;\n            break;\n          }\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context7.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context7.n = 7;\n            break;\n          }\n          if (!Array.isArray(responseBody.data.users)) {\n            _context7.n = 6;\n            break;\n          }\n          return _context7.a(2, responseBody.data.users);\n        case 6:\n          return _context7.a(2, []);\n        case 7:\n          if (!responseBody.operation_status) {\n            _context7.n = 10;\n            break;\n          }\n          if (!(responseBody.operation_status === 'FAILED')) {\n            _context7.n = 8;\n            break;\n          }\n          throw new Error(responseBody.operation_message);\n        case 8:\n          if (!(responseBody.operation_status === 'SUCCESS')) {\n            _context7.n = 10;\n            break;\n          }\n          if (!Array.isArray(responseBody.users)) {\n            _context7.n = 9;\n            break;\n          }\n          return _context7.a(2, responseBody.users);\n        case 9:\n          return _context7.a(2, []);\n        case 10:\n          throw new Error('Unknown error occurred during getting user');\n        case 11:\n          return _context7.a(2);\n      }\n    }, _callee7);\n  }));\n  return function getUserDoboard(_x21, _x22, _x23) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nfunction getTaskFullDetails(_x24, _x25) {\n  return _getTaskFullDetails.apply(this, arguments);\n}\nfunction _getTaskFullDetails() {\n  _getTaskFullDetails = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee14(params, taskId) {\n    var sessionId, comments, users, lastComment, author, date, time, dt, avatarSrc, authorName;\n    return _regenerator().w(function (_context14) {\n      while (1) switch (_context14.n) {\n        case 0:\n          sessionId = localStorage.getItem('spotfix_session_id');\n          _context14.n = 1;\n          return getTaskCommentsDoboard(taskId, sessionId, params.accountId, params.projectToken);\n        case 1:\n          comments = _context14.v;\n          _context14.n = 2;\n          return getUserDoboard(sessionId, params.projectToken, params.accountId);\n        case 2:\n          users = _context14.v;\n          // Last comment\n          lastComment = comments.length > 0 ? comments[0] : null; // Author of the last comment\n          author = null;\n          if (lastComment && users && users.length > 0) {\n            author = users.find(function (u) {\n              return String(u.user_id) === String(lastComment.userId);\n            });\n          }\n          // Format date\n          date = '', time = '';\n          if (lastComment) {\n            dt = formatDate(lastComment.commentDate);\n            date = dt.date;\n            time = dt.time;\n          }\n          // Вычисляем аватар и имя через отдельные функции\n          avatarSrc = getAvatarSrc(author);\n          authorName = getAuthorName(author);\n          return _context14.a(2, {\n            taskId: taskId,\n            taskAuthorAvatarImgSrc: avatarSrc,\n            taskAuthorName: authorName,\n            lastMessageText: lastComment ? lastComment.commentBody : 'No messages yet',\n            lastMessageTime: time,\n            issueTitle: comments.length > 0 ? comments[0].issueTitle : 'No Title',\n            issueComments: comments.sort(function (a, b) {\n              return new Date(a.commentDate) - new Date(b.commentDate);\n            }).map(function (comment) {\n              var _formatDate2 = formatDate(comment.commentDate),\n                date = _formatDate2.date,\n                time = _formatDate2.time;\n              var author = null;\n              if (users && users.length > 0) {\n                author = users.find(function (u) {\n                  return String(u.user_id) === String(comment.userId);\n                });\n              }\n              return {\n                commentAuthorAvatarSrc: getAvatarSrc(author),\n                commentAuthorName: getAuthorName(author),\n                commentBody: comment.commentBody,\n                commentDate: date,\n                commentTime: time,\n                commentUserId: comment.userId || 'Unknown User'\n              };\n            })\n          });\n      }\n    }, _callee14);\n  }));\n  return _getTaskFullDetails.apply(this, arguments);\n}\nfunction handleCreateTask(_x26, _x27) {\n  return _handleCreateTask.apply(this, arguments);\n}\nfunction _handleCreateTask() {\n  _handleCreateTask = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee15(sessionId, taskDetails) {\n    var result, _t10;\n    return _regenerator().w(function (_context15) {\n      while (1) switch (_context15.p = _context15.n) {\n        case 0:\n          _context15.p = 0;\n          _context15.n = 1;\n          return createTaskDoboard(sessionId, taskDetails);\n        case 1:\n          result = _context15.v;\n          if (!(result && result.taskId && taskDetails.taskDescription)) {\n            _context15.n = 2;\n            break;\n          }\n          _context15.n = 2;\n          return addTaskComment({\n            projectToken: taskDetails.projectToken,\n            accountId: taskDetails.accountId\n          }, result.taskId, taskDetails.taskDescription);\n        case 2:\n          return _context15.a(2, result);\n        case 3:\n          _context15.p = 3;\n          _t10 = _context15.v;\n          throw _t10;\n        case 4:\n          return _context15.a(2);\n      }\n    }, _callee15, null, [[0, 3]]);\n  }));\n  return _handleCreateTask.apply(this, arguments);\n}\nfunction addTaskComment(_x28, _x29, _x30) {\n  return _addTaskComment.apply(this, arguments);\n}\nfunction _addTaskComment() {\n  _addTaskComment = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee16(params, taskId, commentText) {\n    var sessionId;\n    return _regenerator().w(function (_context16) {\n      while (1) switch (_context16.n) {\n        case 0:\n          sessionId = localStorage.getItem('spotfix_session_id');\n          if (sessionId) {\n            _context16.n = 1;\n            break;\n          }\n          throw new Error('No session');\n        case 1:\n          if (!(!params.projectToken || !params.accountId)) {\n            _context16.n = 2;\n            break;\n          }\n          throw new Error('Missing params');\n        case 2:\n          _context16.n = 3;\n          return createTaskCommentDoboard(params.accountId, sessionId, taskId, commentText, params.projectToken);\n        case 3:\n          return _context16.a(2, _context16.v);\n      }\n    }, _callee16);\n  }));\n  return _addTaskComment.apply(this, arguments);\n}\nfunction getUserTasks(params) {\n  if (!localStorage.getItem('spotfix_session_id')) {\n    return {};\n  }\n  var projectToken = params.projectToken;\n  var sessionId = localStorage.getItem('spotfix_session_id');\n  var userId = localStorage.getItem('spotfix_user_id');\n  return getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId, userId);\n}\nfunction getAllTasks(_x31) {\n  return _getAllTasks.apply(this, arguments);\n}\nfunction _getAllTasks() {\n  _getAllTasks = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee17(params) {\n    var projectToken, sessionId, tasksData, filteredTaskData;\n    return _regenerator().w(function (_context17) {\n      while (1) switch (_context17.n) {\n        case 0:\n          if (localStorage.getItem('spotfix_session_id')) {\n            _context17.n = 1;\n            break;\n          }\n          return _context17.a(2, {});\n        case 1:\n          projectToken = params.projectToken;\n          sessionId = localStorage.getItem('spotfix_session_id');\n          _context17.n = 2;\n          return getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId);\n        case 2:\n          tasksData = _context17.v;\n          // Get only tasks with metadata\n          filteredTaskData = tasksData.filter(function (task) {\n            return task.taskMeta;\n          });\n          return _context17.a(2, filteredTaskData);\n      }\n    }, _callee17);\n  }));\n  return _getAllTasks.apply(this, arguments);\n}\nfunction formatDate(dateStr) {\n  var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  // dateStr expected format: 'YYYY-MM-DD HH:mm:ss' or 'YYYY-MM-DDTHH:mm:ssZ'\n  if (!dateStr) return {\n    date: '',\n    time: ''\n  };\n  var dateObj;\n  if (dateStr.includes('T')) {\n    dateObj = new Date(dateStr);\n  } else if (dateStr.includes(' ')) {\n    dateObj = new Date(dateStr.replace(' ', 'T'));\n  } else {\n    dateObj = new Date(dateStr);\n  }\n  if (isNaN(dateObj.getTime())) return {\n    date: '',\n    time: ''\n  };\n  var month = months[dateObj.getMonth()];\n  var day = dateObj.getDate();\n  var date = \"\".concat(month, \" \").concat(day);\n  var hours = dateObj.getHours().toString().padStart(2, '0');\n  var minutes = dateObj.getMinutes().toString().padStart(2, '0');\n  var time = \"\".concat(hours, \":\").concat(minutes);\n  return {\n    date: date,\n    time: time\n  };\n}\nfunction getTaskAuthorDetails(params, taskId) {\n  var sessionId = localStorage.getItem('spotfix_session_id');\n  var mockUsersData = [{\n    'taskId': '1',\n    'taskAuthorAvatarImgSrc': 'https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/avatars/081a1b65d20fe318/m.jpg',\n    'taskAuthorName': 'Test All Issues Single Author Name'\n  }];\n  var defaultData = {\n    'taskId': null,\n    'taskAuthorAvatarImgSrc': null,\n    'taskAuthorName': 'Task Author'\n  };\n  var data = mockUsersData.find(function (element) {\n    return element.taskId === taskId;\n  });\n  return data === undefined ? defaultData : data;\n}\nfunction getIssuesCounterString(onPageSpotsCount, totalSpotsCount) {\n  return \"(\".concat(onPageSpotsCount, \"/\").concat(totalSpotsCount, \")\");\n}\n\n// Получить аватар автора\nfunction getAvatarSrc(author) {\n  if (author && author.avatar) {\n    if (_typeof(author.avatar) === 'object' && author.avatar.m) {\n      return author.avatar.m;\n    } else if (typeof author.avatar === 'string') {\n      return author.avatar;\n    }\n  }\n  return null;\n}\n\n// Получить имя автора\nfunction getAuthorName(author) {\n  if (author) {\n    if (author.name && author.name.trim().length > 0) {\n      return author.name;\n    } else if (author.email && author.email.trim().length > 0) {\n      return author.email;\n    }\n  }\n  return 'Unknown Author';\n}\n\n/**\n * Widget class to create a task widget\n */\nvar CleanTalkWidgetDoboard = /*#__PURE__*/function () {\n  /**\n   * Constructor\n   */\n  function CleanTalkWidgetDoboard(selectedData, type) {\n    _classCallCheck(this, CleanTalkWidgetDoboard);\n    _defineProperty(this, \"selectedText\", '');\n    _defineProperty(this, \"selectedData\", {});\n    _defineProperty(this, \"widgetElement\", null);\n    _defineProperty(this, \"params\", {});\n    _defineProperty(this, \"currentActiveTaskId\", 0);\n    _defineProperty(this, \"savedIssuesQuantityOnPage\", 0);\n    _defineProperty(this, \"savedIssuesQuantityAll\", 0);\n    this.selectedData = selectedData;\n    this.selectedText = selectedData.selectedText;\n    this.init(type);\n  }\n\n  /**\n   * Initialize the widget\n   */\n  return _createClass(CleanTalkWidgetDoboard, [{\n    key: \"init\",\n    value: (function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8(type) {\n        return _regenerator().w(function (_context8) {\n          while (1) switch (_context8.n) {\n            case 0:\n              this.params = this.getParams();\n              _context8.n = 1;\n              return this.createWidgetElement(type);\n            case 1:\n              this.widgetElement = _context8.v;\n              this.bindWidgetInputsInteractive();\n              if (!this.lsGetWidgetStatusIsSet()) {\n                this.lsSetWidgetIsClosed(true);\n              }\n            case 2:\n              return _context8.a(2);\n          }\n        }, _callee8, this);\n      }));\n      function init(_x32) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }())\n  }, {\n    key: \"getParams\",\n    value: function getParams() {\n      var script = document.querySelector(\"script[src*=\\\"doboard-widget-bundle.min.js\\\"]\");\n      if (!script || !script.src) {\n        throw new Error('Script not provided');\n      }\n      var url = new URL(script.src);\n      var params = Object.fromEntries(url.searchParams.entries());\n      if (!params) {\n        throw new Error('Script params not provided');\n      }\n      if (!params.projectToken || !params.accountId || !params.projectId) {\n        throw new Error('Necessary script params not provided');\n      }\n      return params;\n    }\n\n    /**\n     * Binding events to create a task\n     */\n  }, {\n    key: \"bindCreateTaskEvents\",\n    value: function bindCreateTaskEvents() {\n      var _this = this;\n      var submitButton = document.getElementById('doboard_task_widget-submit_button');\n      if (submitButton) {\n        submitButton.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee9() {\n          var taskTitleElement, taskTitle, taskDescriptionElement, taskDescription, userName, userEmail, userPassword, loginSectionElement, _userEmailElement, userNameElement, userPasswordElement, userEmailElement, submitButton, taskDetails, submitTaskResult, _t;\n          return _regenerator().w(function (_context9) {\n            while (1) switch (_context9.p = _context9.n) {\n              case 0:\n                // Check required fields: Report about and Description\n                taskTitleElement = document.getElementById('doboard_task_widget-title');\n                taskTitle = taskTitleElement.value;\n                if (taskTitle) {\n                  _context9.n = 1;\n                  break;\n                }\n                taskTitleElement.style.borderColor = 'red';\n                taskTitleElement.focus();\n                taskTitleElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.a(2);\n              case 1:\n                taskDescriptionElement = document.getElementById('doboard_task_widget-description');\n                taskDescription = taskDescriptionElement.value;\n                if (taskDescription) {\n                  _context9.n = 2;\n                  break;\n                }\n                taskDescriptionElement.style.borderColor = 'red';\n                taskDescriptionElement.focus();\n                taskDescriptionElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.a(2);\n              case 2:\n                // If login section is open, check required fields: Nickname, Email\n                userName = '';\n                userEmail = '';\n                userPassword = '';\n                loginSectionElement = document.querySelector('.doboard_task_widget-login');\n                if (!(loginSectionElement && loginSectionElement.classList.contains('active'))) {\n                  _context9.n = 5;\n                  break;\n                }\n                _userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userNameElement = document.getElementById('doboard_task_widget-user_name');\n                userPasswordElement = document.getElementById('doboard_task_widget-user_password');\n                userEmail = _userEmailElement.value;\n                if (userEmail) {\n                  _context9.n = 3;\n                  break;\n                }\n                _userEmailElement.style.borderColor = 'red';\n                _userEmailElement.focus();\n                _userEmailElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.a(2);\n              case 3:\n                if (!(_userEmailElement && userNameElement)) {\n                  _context9.n = 4;\n                  break;\n                }\n                userName = userNameElement.value;\n                if (userName) {\n                  _context9.n = 4;\n                  break;\n                }\n                userNameElement.style.borderColor = 'red';\n                userNameElement.focus();\n                userNameElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.a(2);\n              case 4:\n                if (!(_userEmailElement && userPasswordElement && !userNameElement)) {\n                  _context9.n = 5;\n                  break;\n                }\n                userPassword = userPasswordElement.value;\n                if (userPassword) {\n                  _context9.n = 5;\n                  break;\n                }\n                userPasswordElement.style.borderColor = 'red';\n                userPasswordElement.focus();\n                userPasswordElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.a(2);\n              case 5:\n                // If it is the login request\n                userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userEmail = userEmailElement.value;\n\n                // Make the submit button disable with spinner\n                submitButton = document.getElementById('doboard_task_widget-submit_button');\n                submitButton.disabled = true;\n                submitButton.innerText = 'Creating spot...';\n                taskDetails = {\n                  taskTitle: taskTitle,\n                  taskDescription: taskDescription,\n                  //typeSend: typeSend,\n                  selectedData: _this.selectedData,\n                  projectToken: _this.params.projectToken,\n                  projectId: _this.params.projectId,\n                  accountId: _this.params.accountId,\n                  taskMeta: JSON.stringify(_this.selectedData)\n                };\n                if (userEmail) {\n                  taskDetails.userEmail = userEmail;\n                }\n                if (userName) {\n                  taskDetails.userName = userName;\n                }\n                if (userPassword) {\n                  taskDetails.userPassword = userPassword;\n                }\n                _context9.p = 6;\n                _context9.n = 7;\n                return _this.submitTask(taskDetails);\n              case 7:\n                submitTaskResult = _context9.v;\n                _context9.n = 9;\n                break;\n              case 8:\n                _context9.p = 8;\n                _t = _context9.v;\n                _this.registrationErrorShow(_t.message);\n                return _context9.a(2);\n              case 9:\n                // Return the submit button normal state\n                submitButton.disabled = false;\n                submitButton.style.cursor = 'pointer';\n                if (!submitTaskResult.needToLogin) {\n                  _context9.n = 10;\n                  break;\n                }\n                return _context9.a(2);\n              case 10:\n                if (submitTaskResult.isPublic !== undefined) {\n                  _this.selectedData.isPublic = submitTaskResult.isPublic;\n                }\n                _this.selectedData = {};\n                _context9.n = 11;\n                return _this.createWidgetElement('all_issues');\n              case 11:\n                hideContainersSpinner(false);\n              case 12:\n                return _context9.a(2);\n            }\n          }, _callee9, null, [[6, 8]]);\n        })));\n      }\n    }\n\n    /**\n     * Create widget element\n     * @return {HTMLElement} widget element\n     */\n  }, {\n    key: \"createWidgetElement\",\n    value: (function () {\n      var _createWidgetElement = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee1(type) {\n        var _this2 = this,\n          _document$querySelect,\n          _document$querySelect2;\n        var showOnlyCurrentPage,\n          widgetContainer,\n          templateName,\n          variables,\n          issuesQuantityOnPage,\n          tasks,\n          spotsToBeHighlighted,\n          i,\n          elTask,\n          taskId,\n          taskTitle,\n          taskDataString,\n          _formatDate,\n          lastMessageTime,\n          taskData,\n          currentPageURL,\n          taskNodePath,\n          taskPublicStatusImgSrc,\n          taskPublicStatusHint,\n          taskFullDetails,\n          avatarData,\n          _variables,\n          taskDetails,\n          issuesCommentsContainer,\n          dayMessagesData,\n          initIssuerID,\n          userIsIssuer,\n          _iterator,\n          _step,\n          comment,\n          _avatarData,\n          commentData,\n          daysWrapperHTML,\n          day,\n          currentDayMessages,\n          dayMessagesWrapperHTML,\n          messageId,\n          currentMessageData,\n          sendForm,\n          backToAllIssuesController,\n          widgetClass,\n          paperclipController,\n          _args1 = arguments,\n          _t3,\n          _t4,\n          _t5,\n          _t6,\n          _t7,\n          _t8,\n          _t9,\n          _t0,\n          _t1;\n        return _regenerator().w(function (_context1) {\n          while (1) switch (_context1.n) {\n            case 0:\n              showOnlyCurrentPage = _args1.length > 1 && _args1[1] !== undefined ? _args1[1] : true;\n              widgetContainer = document.querySelector('.doboard_task_widget') ? document.querySelector('.doboard_task_widget') : document.createElement('div');\n              widgetContainer.className = 'doboard_task_widget';\n              widgetContainer.innerHTML = '';\n              templateName = '';\n              variables = {};\n              _t3 = type;\n              _context1.n = _t3 === 'create_issue' ? 1 : _t3 === 'wrap' ? 2 : _t3 === 'all_issues' ? 4 : _t3 === 'concrete_issue' ? 5 : 6;\n              break;\n            case 1:\n              templateName = 'create_issue';\n              variables = {\n                selectedText: this.selectedText,\n                currentDomain: document.location.hostname || ''\n              };\n              this.lsGetUserIsDefined() && this.lsSetWidgetIsClosed(false);\n              return _context1.a(3, 7);\n            case 2:\n              if (!this.lsGetWidgetIsClosed()) {\n                _context1.n = 3;\n                break;\n              }\n              return _context1.a(2);\n            case 3:\n              templateName = 'wrap';\n              return _context1.a(3, 7);\n            case 4:\n              templateName = 'all_issues';\n              return _context1.a(3, 7);\n            case 5:\n              templateName = 'concrete_issue';\n              // todo: this is call duplicate!\n              getTaskFullDetails(this.params, this.currentActiveTaskId).then(function (taskDetails) {\n                var issueTitle = taskDetails.issueTitle;\n                var issueTitleElement = document.querySelector('.doboard_task_widget-issue-title');\n                if (issueTitleElement) {\n                  issueTitleElement.innerHTML = issueTitle;\n                }\n              });\n              variables = {\n                issueTitle: '...',\n                issuesCounter: getIssuesCounterString(this.savedIssuesQuantityOnPage, this.savedIssuesQuantityAll),\n                paperclipImgSrc: '/spotfix/img/send-message--paperclip.svg',\n                sendButtonImgSrc: '/spotfix/img/send-message--button.svg',\n                msgFieldBackgroundImgSrc: '/spotfix/img/send-message--input-background.svg'\n              };\n              return _context1.a(3, 7);\n            case 6:\n              return _context1.a(3, 7);\n            case 7:\n              _context1.n = 8;\n              return this.loadTemplate(templateName, variables);\n            case 8:\n              widgetContainer.innerHTML = _context1.v;\n              document.body.appendChild(widgetContainer);\n              _t4 = type;\n              _context1.n = _t4 === 'create_issue' ? 9 : _t4 === 'wrap' ? 10 : _t4 === 'all_issues' ? 12 : _t4 === 'concrete_issue' ? 20 : 30;\n              break;\n            case 9:\n              this.bindCreateTaskEvents();\n              return _context1.a(3, 31);\n            case 10:\n              _context1.n = 11;\n              return this.getTaskCount();\n            case 11:\n              document.querySelector('.doboard_task_widget-wrap').addEventListener('click', function (e) {\n                var widgetElementClasses = e.currentTarget.classList;\n                if (widgetElementClasses && !widgetElementClasses.contains('hidden')) {\n                  _this2.createWidgetElement('all_issues');\n                }\n              });\n              hideContainersSpinner(false);\n              return _context1.a(3, 31);\n            case 12:\n              this.removeTextSelection();\n              issuesQuantityOnPage = 0;\n              _context1.n = 13;\n              return getAllTasks(this.params);\n            case 13:\n              tasks = _context1.v;\n              spotsToBeHighlighted = [];\n              if (!(tasks.length > 0)) {\n                _context1.n = 19;\n                break;\n              }\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '';\n              i = 0;\n            case 14:\n              if (!(i < tasks.length)) {\n                _context1.n = 18;\n                break;\n              }\n              elTask = tasks[i]; // Data from api\n              taskId = elTask.taskId;\n              taskTitle = elTask.taskTitle;\n              taskDataString = elTask.taskMeta;\n              _formatDate = formatDate(elTask.taskLastUpdate), lastMessageTime = _formatDate.time;\n              taskData = taskDataString ? JSON.parse(taskDataString) : null;\n              currentPageURL = taskData ? taskData.pageURL : '';\n              taskNodePath = taskData ? taskData.nodePath : ''; // Define publicity details\n              taskPublicStatusImgSrc = '';\n              taskPublicStatusHint = 'Task publicity is unknown';\n              if (taskData && taskData.isPublic !== undefined) {\n                if (taskData.isPublic) {\n                  taskPublicStatusImgSrc = '/spotfix/img/public.svg';\n                  taskPublicStatusHint = 'The task is public';\n                } else {\n                  taskPublicStatusImgSrc = '/spotfix/img/private.svg';\n                  taskPublicStatusHint = 'The task is private and visible only for registered DoBoard users';\n                }\n              }\n              if (!(!showOnlyCurrentPage || currentPageURL === window.location.href)) {\n                _context1.n = 17;\n                break;\n              }\n              issuesQuantityOnPage++;\n              //define last message and update time\n              /* let lastMessageDetails = await getTaskLastMessageDetails(this.params, taskId);\n              const authorDetails = getTaskAuthorDetails(this.params, '1'); // todo MOCK! */\n              _context1.n = 15;\n              return getTaskFullDetails(this.params, taskId);\n            case 15:\n              taskFullDetails = _context1.v;\n              avatarData = getAvatarData(taskFullDetails);\n              _variables = {\n                taskTitle: taskTitle || '',\n                taskAuthorAvatarImgSrc: taskFullDetails.taskAuthorAvatarImgSrc,\n                taskAuthorName: taskFullDetails.taskAuthorName,\n                taskPublicStatusImgSrc: taskPublicStatusImgSrc,\n                taskPublicStatusHint: taskPublicStatusHint,\n                taskLastMessage: taskFullDetails.lastMessageText,\n                taskLastUpdate: lastMessageTime,\n                nodePath: taskNodePath,\n                taskId: taskId,\n                avatarCSSClass: avatarData.avatarCSSClass,\n                avatarStyle: avatarData.avatarStyle,\n                taskAuthorInitials: avatarData.taskAuthorInitials,\n                initialsClass: avatarData.initialsClass\n              };\n              _t5 = document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML;\n              _context1.n = 16;\n              return this.loadTemplate('list_issues', _variables);\n            case 16:\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = _t5 += _context1.v;\n              spotsToBeHighlighted.push(taskData);\n            case 17:\n              i++;\n              _context1.n = 14;\n              break;\n            case 18:\n              this.savedIssuesQuantityOnPage = issuesQuantityOnPage;\n              this.savedIssuesQuantityAll = tasks.length;\n              this.highlightElements(spotsToBeHighlighted);\n              document.querySelector('.doboard_task_widget-header span').innerText += ' ' + getIssuesCounterString(this.savedIssuesQuantityOnPage, this.savedIssuesQuantityAll);\n            case 19:\n              if (tasks.length === 0 || issuesQuantityOnPage === 0) {\n                document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '<div class=\"doboard_task_widget-issues_list_empty\">The issues list is empty</div>';\n              }\n\n              // Bind the click event to the task elements for scrolling to the selected text and Go to concrete issue interface by click issue-item row\n              this.bindIssuesClick();\n              hideContainersSpinner(false);\n              return _context1.a(3, 31);\n            case 20:\n              _context1.n = 21;\n              return getTaskFullDetails(this.params, this.currentActiveTaskId);\n            case 21:\n              taskDetails = _context1.v;\n              variables = {\n                issueTitle: taskDetails.issueTitle,\n                issueComments: taskDetails.issueComments,\n                issuesCounter: getIssuesCounterString(),\n                chevronBackTitle: 'Back to all spots'\n              };\n              issuesCommentsContainer = document.querySelector('.doboard_task_widget-concrete_issues-container');\n              dayMessagesData = [];\n              initIssuerID = localStorage.getItem('spotfix_user_id');\n              userIsIssuer = false;\n              if (!(taskDetails.issueComments.length > 0)) {\n                _context1.n = 28;\n                break;\n              }\n              issuesCommentsContainer.innerHTML = '';\n              _iterator = _createForOfIteratorHelper(taskDetails.issueComments);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  comment = _step.value;\n                  userIsIssuer = Number(initIssuerID) === Number(comment.commentUserId);\n                  if (!userIsIssuer) {\n                    this.lsSetWidgetIsClosed(false);\n                  }\n                  _avatarData = getAvatarData({\n                    taskAuthorAvatarImgSrc: comment.commentAuthorAvatarSrc,\n                    taskAuthorName: comment.commentAuthorName,\n                    userIsIssuer: userIsIssuer\n                  });\n                  commentData = {\n                    commentAuthorName: comment.commentAuthorName,\n                    commentBody: comment.commentBody,\n                    commentDate: comment.commentDate,\n                    commentTime: comment.commentTime,\n                    issueTitle: variables.issueTitle,\n                    issuesCounter: variables.issuesCounter,\n                    commentContainerBackgroundSrc: userIsIssuer ? '/spotfix/img/comment-self-background.png' : '/spotfix/img/comment-other-background.png',\n                    avatarCSSClass: _avatarData.avatarCSSClass,\n                    avatarStyle: _avatarData.avatarStyle,\n                    taskAuthorInitials: _avatarData.taskAuthorInitials,\n                    initialsClass: _avatarData.initialsClass\n                  };\n                  if (dayMessagesData[comment.commentDate] === undefined) {\n                    dayMessagesData[comment.commentDate] = [];\n                    dayMessagesData[comment.commentDate].push(commentData);\n                  } else {\n                    dayMessagesData[comment.commentDate].push(commentData);\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              daysWrapperHTML = '';\n              _t6 = _regeneratorKeys(dayMessagesData);\n            case 22:\n              if ((_t7 = _t6()).done) {\n                _context1.n = 27;\n                break;\n              }\n              day = _t7.value;\n              currentDayMessages = dayMessagesData[day];\n              dayMessagesWrapperHTML = '';\n              currentDayMessages.sort(function (a, b) {\n                return a.commentTime.localeCompare(b.commentTime);\n              });\n              _t8 = _regeneratorKeys(currentDayMessages);\n            case 23:\n              if ((_t9 = _t8()).done) {\n                _context1.n = 25;\n                break;\n              }\n              messageId = _t9.value;\n              currentMessageData = currentDayMessages[messageId];\n              _t0 = dayMessagesWrapperHTML;\n              _context1.n = 24;\n              return this.loadTemplate('concrete_issue_messages', currentMessageData);\n            case 24:\n              dayMessagesWrapperHTML = _t0 += _context1.v;\n              _context1.n = 23;\n              break;\n            case 25:\n              _t1 = daysWrapperHTML;\n              _context1.n = 26;\n              return this.loadTemplate('concrete_issue_day_content', {\n                dayContentMonthDay: day,\n                dayContentMessages: dayMessagesWrapperHTML\n              });\n            case 26:\n              daysWrapperHTML = _t1 += _context1.v;\n              _context1.n = 22;\n              break;\n            case 27:\n              issuesCommentsContainer.innerHTML = daysWrapperHTML;\n              _context1.n = 29;\n              break;\n            case 28:\n              issuesCommentsContainer.innerHTML = 'No comments';\n            case 29:\n              // Scroll to the bottom comments\n              setTimeout(function () {\n                var contentContainer = document.querySelector('.doboard_task_widget-content');\n                contentContainer.scrollTo({\n                  top: contentContainer.scrollHeight,\n                  behavior: 'smooth'\n                });\n              }, 0);\n              sendForm = document.querySelector('.doboard_task_widget-send_message form');\n              if (sendForm) {\n                sendForm.addEventListener('submit', /*#__PURE__*/function () {\n                  var _ref9 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee0(e) {\n                    var input, commentText, _t2;\n                    return _regenerator().w(function (_context0) {\n                      while (1) switch (_context0.p = _context0.n) {\n                        case 0:\n                          e.preventDefault();\n                          input = sendForm.querySelector('.doboard_task_widget-send_message_input');\n                          commentText = input.value.trim();\n                          if (commentText) {\n                            _context0.n = 1;\n                            break;\n                          }\n                          return _context0.a(2);\n                        case 1:\n                          input.disabled = true;\n                          _context0.p = 2;\n                          _context0.n = 3;\n                          return addTaskComment(_this2.params, _this2.currentActiveTaskId, commentText);\n                        case 3:\n                          input.value = '';\n                          _context0.n = 4;\n                          return _this2.createWidgetElement('concrete_issue');\n                        case 4:\n                          hideContainersSpinner(false);\n                          _context0.n = 6;\n                          break;\n                        case 5:\n                          _context0.p = 5;\n                          _t2 = _context0.v;\n                          alert('Error when adding a comment: ' + _t2.message);\n                        case 6:\n                          input.disabled = false;\n                        case 7:\n                          return _context0.a(2);\n                      }\n                    }, _callee0, null, [[2, 5]]);\n                  }));\n                  return function (_x34) {\n                    return _ref9.apply(this, arguments);\n                  };\n                }());\n              }\n              return _context1.a(3, 31);\n            case 30:\n              return _context1.a(3, 31);\n            case 31:\n              backToAllIssuesController = document.querySelector('.doboard_task_widget_return_to_all');\n              widgetClass = this;\n              if (backToAllIssuesController) {\n                backToAllIssuesController.addEventListener('click', function (e) {\n                  var self = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : widgetClass;\n                  self.createWidgetElement('all_issues');\n                });\n              }\n              paperclipController = document.querySelector('.doboard_task_widget-send_message_paperclip');\n              if (paperclipController) {\n                paperclipController.addEventListener('click', function (e) {\n                  e.preventDefault();\n                  alert('This action is not implemented yet..');\n                });\n              }\n              ((_document$querySelect = document.querySelector('.doboard_task_widget-close_btn')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.addEventListener('click', function () {\n                _this2.hide();\n              })) || '';\n              ((_document$querySelect2 = document.querySelector('#doboard_task_widget-task_count')) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.addEventListener('click', function (e) {\n                var self = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : widgetClass;\n                console.table('clock', e);\n                var widget = document.querySelector('.doboard_task_widget-wrap');\n                widget.classList.add('hidden');\n                self.lsSetWidgetIsClosed(true);\n              })) || '';\n              return _context1.a(2, widgetContainer);\n          }\n        }, _callee1, this);\n      }));\n      function createWidgetElement(_x33) {\n        return _createWidgetElement.apply(this, arguments);\n      }\n      return createWidgetElement;\n    }())\n  }, {\n    key: \"bindIssuesClick\",\n    value: function bindIssuesClick() {\n      var _this3 = this;\n      document.querySelectorAll('.issue-item').forEach(function (item) {\n        item.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee10() {\n          var nodePath;\n          return _regenerator().w(function (_context10) {\n            while (1) switch (_context10.n) {\n              case 0:\n                nodePath = JSON.parse(item.getAttribute('data-node-path'));\n                scrollToNodePath(nodePath);\n                _this3.currentActiveTaskId = item.getAttribute('data-task-id');\n                _context10.n = 1;\n                return _this3.createWidgetElement('concrete_issue');\n              case 1:\n                hideContainersSpinner(false);\n              case 2:\n                return _context10.a(2);\n            }\n          }, _callee10);\n        })));\n      });\n    }\n\n    /**\n     * Load the template\n     *\n     * @param templateName\n     * @param variables\n     * @return {Promise<string>}\n     * @ToDo have to refactor templates loaded method: need to be templates included into the bundle\n     *\n     */\n  }, {\n    key: \"loadTemplate\",\n    value: (function () {\n      var _loadTemplate = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee11(templateName) {\n        var variables,\n          response,\n          template,\n          _i,\n          _Object$entries,\n          _Object$entries$_i,\n          key,\n          value,\n          placeholder,\n          _args11 = arguments;\n        return _regenerator().w(function (_context11) {\n          while (1) switch (_context11.n) {\n            case 0:\n              variables = _args11.length > 1 && _args11[1] !== undefined ? _args11[1] : {};\n              _context11.n = 1;\n              return fetch(\"/spotfix/templates/\".concat(templateName, \".html\"));\n            case 1:\n              response = _context11.v;\n              _context11.n = 2;\n              return response.text();\n            case 2:\n              template = _context11.v;\n              for (_i = 0, _Object$entries = Object.entries(variables); _i < _Object$entries.length; _i++) {\n                _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], value = _Object$entries$_i[1];\n                placeholder = \"{{\".concat(key, \"}}\");\n                template = template.replaceAll(placeholder, value);\n              }\n              return _context11.a(2, template);\n          }\n        }, _callee11);\n      }));\n      function loadTemplate(_x35) {\n        return _loadTemplate.apply(this, arguments);\n      }\n      return loadTemplate;\n    }())\n  }, {\n    key: \"getTaskCount\",\n    value: function () {\n      var _getTaskCount = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee12() {\n        var projectToken, sessionId, tasks, filteredTasks, taskCountElement;\n        return _regenerator().w(function (_context12) {\n          while (1) switch (_context12.n) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context12.n = 1;\n                break;\n              }\n              return _context12.a(2, {});\n            case 1:\n              projectToken = this.params.projectToken;\n              sessionId = localStorage.getItem('spotfix_session_id');\n              _context12.n = 2;\n              return getTasksDoboard(projectToken, sessionId, this.params.accountId, this.params.projectId);\n            case 2:\n              tasks = _context12.v;\n              filteredTasks = tasks.filter(function (task) {\n                return task.taskMeta;\n              });\n              taskCountElement = document.getElementById('doboard_task_widget-task_count');\n              if (taskCountElement) {\n                taskCountElement.innerText = filteredTasks.length;\n                taskCountElement.classList.remove('hidden');\n              }\n            case 3:\n              return _context12.a(2);\n          }\n        }, _callee12, this);\n      }));\n      function getTaskCount() {\n        return _getTaskCount.apply(this, arguments);\n      }\n      return getTaskCount;\n    }()\n    /**\n     * Bind events to the widget\n     */\n    /*bindEvents() {\n        this.submitButton.addEventListener('click', () => this.submitTask());\n    }*/\n    /**\n     * Submit the task\n     */\n  }, {\n    key: \"submitTask\",\n    value: (function () {\n      var _submitTask = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee13(taskDetails) {\n        var sessionId;\n        return _regenerator().w(function (_context13) {\n          while (1) switch (_context13.n) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context13.n = 2;\n                break;\n              }\n              _context13.n = 1;\n              return this.registerUser(taskDetails);\n            case 1:\n              if (!taskDetails.userPassword) {\n                _context13.n = 2;\n                break;\n              }\n              _context13.n = 2;\n              return this.loginUser(taskDetails);\n            case 2:\n              sessionId = localStorage.getItem('spotfix_session_id');\n              if (sessionId) {\n                _context13.n = 3;\n                break;\n              }\n              return _context13.a(2, {\n                needToLogin: true\n              });\n            case 3:\n              _context13.n = 4;\n              return handleCreateTask(sessionId, taskDetails);\n            case 4:\n              return _context13.a(2, _context13.v);\n          }\n        }, _callee13, this);\n      }));\n      function submitTask(_x36) {\n        return _submitTask.apply(this, arguments);\n      }\n      return submitTask;\n    }())\n  }, {\n    key: \"registerUser\",\n    value: function registerUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userName = taskDetails.userName;\n      var projectToken = taskDetails.projectToken;\n      var accountId = taskDetails.accountId;\n      return _registerUser(projectToken, accountId, userEmail, userName).then(function (response) {\n        if (response.accountExists) {\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container\").innerText = 'Account already exists. Please, login usin your password.';\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container.hidden\").classList.remove('hidden');\n          document.getElementById(\"doboard_task_widget-user_password\").focus();\n        } else if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"loginUser\",\n    value: function loginUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userPassword = taskDetails.userPassword;\n      return _loginUser(userEmail, userPassword).then(function (response) {\n        if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n\n    /**\n     * Hide the widget\n     */\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.removeTextSelection();\n      this.createWidgetElement('wrap');\n    }\n  }, {\n    key: \"removeTextSelection\",\n    value: function removeTextSelection() {\n      var textSelectionclassName = 'doboard_task_widget-text_selection';\n      var spans = document.querySelectorAll('.' + textSelectionclassName);\n      spans.forEach(function (span) {\n        var parent = span.parentNode;\n        while (span.firstChild) {\n          parent.insertBefore(span.firstChild, span);\n        }\n        parent.removeChild(span);\n      });\n    }\n  }, {\n    key: \"highlightElements\",\n    value: function highlightElements(spotsToBeHighlighted) {\n      if (spotsToBeHighlighted.length === 0) {\n        return;\n      }\n      var sortedSpots = new Map();\n      // Aggregate selections by HtmlElement: [Element1 => [selection1, selection2], Element2 => [selection3]]\n      spotsToBeHighlighted.forEach(function (spot) {\n        var element = retrieveNodeFromPath(spot.nodePath);\n        if (!sortedSpots.has(element)) {\n          sortedSpots.set(element, []);\n        }\n        var currentData = sortedSpots.get(element);\n        currentData.push({\n          selectStartPosition: spot.startSelectPosition,\n          selectEndPosition: spot.endSelectPosition\n        });\n      });\n      // Render selections for the HtmlElement\n      var highlightWrapperOpen = '<span class=\"doboard_task_widget-text_selection\">';\n      var highlightWrapperClose = '</span>';\n      sortedSpots.forEach(function (spotSelectionsPositions, element) {\n        // If the element no provided\n        if (!element) {\n          return;\n        }\n        //Is the element is the not simple text one\n        if (element.children.length > 0) {\n          // @ToDo make selection for the difficult elements\n          //console.log('Try to highlight difficult element: ' + element.innerHTML); // The debug statement\n          return;\n        }\n        var positions = [];\n        spotSelectionsPositions.forEach(function (spotSelectionPositions) {\n          positions.push({\n            pos: spotSelectionPositions.selectStartPosition,\n            type: 'start'\n          }, {\n            pos: spotSelectionPositions.selectEndPosition,\n            type: 'end'\n          });\n        });\n        positions.sort(function (a, b) {\n          return b.pos - a.pos;\n        });\n        var text = element.innerHTML;\n        var prevSlicePosition = null;\n        var slicedStringWithSelections = [];\n        positions.forEach(function (position) {\n          var afterText = text.substring(position.pos, prevSlicePosition ? prevSlicePosition : position.pos);\n          prevSlicePosition = position.pos;\n          var span = position.type === 'start' ? highlightWrapperOpen : highlightWrapperClose;\n          slicedStringWithSelections.unshift(afterText);\n          slicedStringWithSelections.unshift(span);\n        });\n        element.innerHTML = text.substring(0, prevSlicePosition) + slicedStringWithSelections.join('');\n      });\n    }\n  }, {\n    key: \"bindWidgetInputsInteractive\",\n    value: function bindWidgetInputsInteractive() {\n      // Customising placeholders\n      var inputs = document.querySelectorAll('.doboard_task_widget-field');\n      inputs.forEach(function (input) {\n        if (input.value) {\n          input.classList.add('has-value');\n        }\n        input.addEventListener('input', function () {\n          if (input.value) {\n            input.classList.add('has-value');\n          } else {\n            input.classList.remove('has-value');\n          }\n        });\n        input.addEventListener('blur', function () {\n          if (!input.value) {\n            input.classList.remove('has-value');\n          }\n        });\n      });\n\n      // Customising accordion dropdown\n      var accordionController = document.querySelector('.doboard_task_widget-login span');\n      if (accordionController) {\n        accordionController.addEventListener('click', function () {\n          this.closest('.doboard_task_widget-login').classList.toggle('active');\n        });\n      }\n    }\n  }, {\n    key: \"registrationErrorShow\",\n    value: function registrationErrorShow(errorText) {\n      var errorDiv = document.getElementById('doboard_task_widget-error_message');\n      var errorWrap = document.querySelector('.doboard_task_widget-error_message-wrapper');\n      if (typeof errorText === 'string' && errorDiv !== null && errorWrap !== null) {\n        errorDiv.innerText = errorText;\n        errorWrap.classList.remove('hidden');\n      }\n    }\n  }, {\n    key: \"lsGetWidgetIsClosed\",\n    value: function lsGetWidgetIsClosed() {\n      return localStorage.getItem('doboard_widget_is_closed') === '1';\n    }\n  }, {\n    key: \"lsGetWidgetStatusIsSet\",\n    value: function lsGetWidgetStatusIsSet() {\n      return localStorage.getItem('doboard_widget_is_closed') !== null;\n    }\n  }, {\n    key: \"lsSetWidgetIsClosed\",\n    value: function lsSetWidgetIsClosed(visible) {\n      localStorage.setItem('doboard_widget_is_closed', visible ? '1' : '0');\n    }\n  }, {\n    key: \"lsGetUserIsDefined\",\n    value: function lsGetUserIsDefined() {\n      return localStorage.getItem('spotfix_user_id') !== null;\n    }\n  }]);\n}();\nvar selectedData = {};\nvar widgetTimeout = null;\ndocument.addEventListener('DOMContentLoaded', function () {\n  new CleanTalkWidgetDoboard({}, 'wrap');\n});\ndocument.addEventListener('selectionchange', function (e) {\n  if (widgetTimeout) {\n    clearTimeout(widgetTimeout);\n  }\n  widgetTimeout = setTimeout(function () {\n    var selection = window.getSelection();\n    if (selection.type === 'Range') {\n      var _selectedData = getSelectedData(selection);\n      var widgetExist = document.querySelector('.doboard_task_widget-container');\n      openWidget(_selectedData, widgetExist, 'create_issue');\n    }\n  }, 1000);\n});\n\n/**\n * Open the widget to create a task.\n * @param {*} selectedData\n * @param {*} widgetExist\n * @param {*} type\n */\nfunction openWidget(selectedData, widgetExist, type) {\n  if (selectedData && !widgetExist) {\n    new CleanTalkWidgetDoboard(selectedData, type);\n  }\n}\n\n/**\n * Get the selected data from the DOM\n * @param {Selection} selectedData\n * @returns {Object}\n */\nfunction getSelectedData(selectedData) {\n  var pageURL = window.location.href;\n  var selectedText = selectedData.toString();\n  var anchorOffset = selectedData.anchorOffset;\n  var focusOffset = selectedData.focusOffset;\n  var nodeToCalculate = selectedData.focusNode.nodeName === '#text' ? selectedData.focusNode.parentNode : selectedData.focusNode;\n  return {\n    startSelectPosition: Math.min(anchorOffset, focusOffset),\n    endSelectPosition: Math.max(anchorOffset, focusOffset),\n    selectedText: selectedText,\n    pageURL: pageURL,\n    nodePath: calculateNodePath(nodeToCalculate)\n  };\n}\n\n/**\n * Calculate the path of a DOM node\n *\n * @param {Node} node\n * @return {int[]}\n */\nfunction calculateNodePath(node) {\n  var path = [];\n  while (node) {\n    var index = 0;\n    var sibling = node.previousSibling;\n    while (sibling) {\n      if (sibling.nodeType === 1) {\n        index++;\n      }\n      sibling = sibling.previousSibling;\n    }\n    path.unshift(index);\n    node = node.parentNode;\n  }\n\n  // Hard fix - need to remove first element to work correctly\n  path.shift();\n  return path;\n}\n\n/**\n * Retrieve a DOM node from a path\n *\n * @param {int[]} path\n * @return {*|null}\n */\nfunction retrieveNodeFromPath(path) {\n  // @ToDo check if the path is correct\n  if (!path) {\n    return null;\n  }\n  var node = document;\n  for (var i = 0; i < path.length; i++) {\n    node = node.children[path[i]];\n    if (!node) {\n      return null;\n    }\n  }\n  return node;\n}\n\n/**\n * Analyze the task selected data\n * @param {Object} taskSelectedData\n * @return {Element|null}\n */\nfunction taskAnalysis(taskSelectedData) {\n  var nodePath = taskSelectedData ? taskSelectedData.nodePath : '';\n  return retrieveNodeFromPath(nodePath);\n}\n\n/**\n * Scroll to an element by tag, class, and text content\n * @param {string} path - The path to the element\n * @return {boolean} - True if the element was found and scrolled to, false otherwise\n */\nfunction scrollToNodePath(path) {\n  var node = retrieveNodeFromPath(path);\n  if (node && node.scrollIntoView) {\n    node.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center'\n    });\n    return true;\n  }\n  return false;\n}\nfunction hideContainersSpinner() {\n  var spinners = document.getElementsByClassName('doboard_task_widget-spinner_wrapper_for_containers');\n  if (spinners.length > 0) {\n    for (var i = 0; i < spinners.length; i++) {\n      spinners[i].style.display = 'none';\n    }\n  }\n  var containerClassesToShow = ['doboard_task_widget-all_issues-container', 'doboard_task_widget-concrete_issues-container'];\n  for (var _i2 = 0; _i2 < containerClassesToShow.length; _i2++) {\n    var containers = document.getElementsByClassName(containerClassesToShow[_i2]);\n    if (containers.length > 0) {\n      for (var _i3 = 0; _i3 < containers.length; _i3++) {\n        containers[_i3].style.display = 'block';\n      }\n    }\n  }\n}\nfunction getAvatarData(authorDetails) {\n  var avatarStyle;\n  var avatarCSSClass;\n  var taskAuthorInitials;\n  var hideAvatar = authorDetails.hasOwnProperty('userIsIssuer') && authorDetails.userIsIssuer === true;\n  var initialsClass = 'doboard_task_widget-avatar-initials';\n  if (authorDetails.taskAuthorAvatarImgSrc === null) {\n    avatarStyle = \"background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAE9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZmFiLCAyMDIyLzA4LzE2LTIyOjM1OjQxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDQtMTBUMTk6MDg6MDkrMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNWRjOWI0Yy04ZWVmLTRkNTEtYmE0MS1kOTkzZTZmNjNmMTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTVkYzliNGMt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');\";\n    avatarCSSClass = 'doboard_task_widget-avatar_container';\n    initialsClass += ' doboard_task_widget-hidden_element';\n  } else {\n    avatarStyle = \"background-image:url('\".concat(authorDetails.taskAuthorAvatarImgSrc, \"');\");\n    avatarCSSClass = 'doboard_task_widget-avatar_container';\n    initialsClass += ' doboard_task_widget-hidden_element';\n  }\n  return {\n    avatarStyle: avatarStyle,\n    avatarCSSClass: avatarCSSClass,\n    taskAuthorInitials: taskAuthorInitials,\n    initialsClass: initialsClass\n  };\n}"],"names":["_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","t","Symbol","iterator","n","i","u","a","f","o","call","next","Object","done","push","value","length","return","Array","isArray","_regeneratorKeys","unshift","pop","_createForOfIteratorHelper","_n","s","F","_arrayLikeToArray","toString","slice","constructor","name","from","test","_classCallCheck","_defineProperties","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","prototype","_defineProperty","_toPrimitive","_typeof","toPrimitive","String","Number","_regenerator","toStringTag","c","p","y","G","Generator","create","_regeneratorDefine2","v","d","bind","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","w","m","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","DOBOARD_API_URL","createTaskDoboard","_ref","_callee","sessionId","taskDetails","accountId","formData","response","responseBody","_context","FormData","append","projectToken","projectId","localStorage","getItem","taskTitle","taskDescription","taskMeta","fetch","method","body","ok","Error","json","data","operation_status","operation_message","taskId","task_id","isPublic","_x","_x2","createTaskCommentDoboard","_ref2","_callee2","comment","status","_args2","_context2","undefined","commentId","comment_id","_x3","_x4","_x5","_x6","_x7","_registerUser","_ref3","_callee3","email","nickname","_context3","user_email_confirmed","accountExists","session_id","userId","user_id","_x8","_x9","_x0","_x1","_loginUser","_ref4","_callee4","password","_context4","_x10","_x11","getTasksDoboard","_ref5","_callee5","_context5","tasks","map","task","taskLastUpdate","updated","taskCreated","created","taskCreatorTaskUser","creator_user_id","meta","_x12","_x13","_x14","_x15","_x16","getTaskCommentsDoboard","_ref6","_callee6","_args6","_context6","comments","commentBody","comment_text","commentDate","issueTitle","task_name","_x17","_x18","_x19","_x20","getUserDoboard","_ref7","_callee7","_context7","users","_x21","_x22","_x23","getTaskFullDetails","_x24","_x25","_getTaskFullDetails","_callee14","params","lastComment","time","avatarSrc","authorName","_context14","author","find","dt","formatDate","date","getAvatarSrc","getAuthorName","taskAuthorAvatarImgSrc","taskAuthorName","lastMessageText","lastMessageTime","issueComments","sort","b","Date","_formatDate2","commentAuthorAvatarSrc","commentAuthorName","commentTime","commentUserId","handleCreateTask","_x26","_x27","_handleCreateTask","_callee15","result","_context15","addTaskComment","_x28","_x29","_x30","_addTaskComment","_callee16","commentText","_context16","getUserTasks","getAllTasks","_x31","_getAllTasks","_callee17","tasksData","filteredTaskData","_context17","filter","dateStr","hours","dateObj","includes","replace","isNaN","getTime","month","getMonth","day","getDate","concat","getHours","padStart","minutes","getMinutes","getTaskAuthorDetails","element","getIssuesCounterString","onPageSpotsCount","totalSpotsCount","avatar","trim","CleanTalkWidgetDoboard","selectedData","type","selectedText","init","_init","_callee8","_context8","getParams","createWidgetElement","widgetElement","bindWidgetInputsInteractive","lsGetWidgetStatusIsSet","lsSetWidgetIsClosed","_x32","script","document","querySelector","src","url","URL","fromEntries","searchParams","entries","_this","submitButton","getElementById","addEventListener","_callee9","taskDescriptionElement","userName","userEmail","userPassword","_userEmailElement","userNameElement","userPasswordElement","userEmailElement","submitTaskResult","_t","_context9","taskTitleElement","style","borderColor","focus","loginSectionElement","classList","contains","disabled","innerText","JSON","stringify","submitTask","registrationErrorShow","message","cursor","needToLogin","hideContainersSpinner","_createWidgetElement","_callee1","showOnlyCurrentPage","widgetContainer","templateName","variables","issuesQuantityOnPage","spotsToBeHighlighted","taskData","taskNodePath","taskPublicStatusImgSrc","taskPublicStatusHint","taskFullDetails","issuesCommentsContainer","dayMessagesData","initIssuerID","userIsIssuer","_iterator","_step","_avatarData","commentData","daysWrapperHTML","currentDayMessages","dayMessagesWrapperHTML","sendForm","backToAllIssuesController","widgetClass","paperclipController","_t4","_t5","_t6","_t8","_t9","_t0","_t1","_this2","_args1","_context1","createElement","className","innerHTML","_t3","currentDomain","location","hostname","lsGetUserIsDefined","lsGetWidgetIsClosed","currentActiveTaskId","issueTitleElement","issuesCounter","savedIssuesQuantityOnPage","savedIssuesQuantityAll","paperclipImgSrc","sendButtonImgSrc","msgFieldBackgroundImgSrc","loadTemplate","appendChild","bindCreateTaskEvents","getTaskCount","widgetElementClasses","currentTarget","removeTextSelection","elTask","taskDataString","_formatDate","parse","currentPageURL","pageURL","nodePath","window","href","avatarData","getAvatarData","_variables","taskLastMessage","avatarCSSClass","avatarStyle","taskAuthorInitials","initialsClass","highlightElements","bindIssuesClick","chevronBackTitle","commentContainerBackgroundSrc","err","_t7","localeCompare","currentMessageData","dayContentMonthDay","dayContentMessages","setTimeout","contentContainer","scrollTo","top","scrollHeight","behavior","_ref9","_callee0","input","_context0","preventDefault","alert","_x34","_document$querySelect","hide","_document$querySelect2","self","console","table","add","_x33","_this3","querySelectorAll","forEach","item","_callee10","_context10","scrollToNodePath","getAttribute","_loadTemplate","_callee11","template","_i","_Object$entries","placeholder","_args11","_context11","text","_Object$entries$_i","replaceAll","_x35","_getTaskCount","_callee12","filteredTasks","taskCountElement","_context12","remove","_submitTask","_callee13","_context13","registerUser","loginUser","_x36","setItem","catch","error","span","parent","parentNode","firstChild","insertBefore","removeChild","sortedSpots","Map","spot","retrieveNodeFromPath","has","set","get","selectStartPosition","startSelectPosition","selectEndPosition","endSelectPosition","spotSelectionsPositions","positions","prevSlicePosition","slicedStringWithSelections","children","spotSelectionPositions","pos","position","afterText","substring","join","accordionController","closest","toggle","errorText","errorDiv","errorWrap","visible","widgetTimeout","openWidget","widgetExist","getSelectedData","anchorOffset","focusOffset","nodeToCalculate","focusNode","nodeName","Math","min","max","calculateNodePath","node","path","index","sibling","previousSibling","nodeType","shift","taskAnalysis","taskSelectedData","scrollIntoView","block","spinners","getElementsByClassName","display","containerClassesToShow","_i2","containers","_i3","authorDetails","hasOwnProperty","clearTimeout","selection","getSelection"],"mappings":"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"}