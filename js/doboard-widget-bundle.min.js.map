{"version":3,"file":"doboard-widget-bundle.min.js","sources":["doboard-widget-bundle.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return r; }; var t, r = {}, e = Object.prototype, n = e.hasOwnProperty, o = \"function\" == typeof Symbol ? Symbol : {}, i = o.iterator || \"@@iterator\", a = o.asyncIterator || \"@@asyncIterator\", u = o.toStringTag || \"@@toStringTag\"; function c(t, r, e, n) { return Object.defineProperty(t, r, { value: e, enumerable: !n, configurable: !n, writable: !n }); } try { c({}, \"\"); } catch (t) { c = function c(t, r, e) { return t[r] = e; }; } function h(r, e, n, o) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype); return c(a, \"_invoke\", function (r, e, n) { var o = 1; return function (i, a) { if (3 === o) throw Error(\"Generator is already running\"); if (4 === o) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var u = n.delegate; if (u) { var c = d(u, n); if (c) { if (c === f) continue; return c; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (1 === o) throw o = 4, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = 3; var h = s(r, e, n); if (\"normal\" === h.type) { if (o = n.done ? 4 : 2, h.arg === f) continue; return { value: h.arg, done: n.done }; } \"throw\" === h.type && (o = 4, n.method = \"throw\", n.arg = h.arg); } }; }(r, n, new Context(o || [])), !0), a; } function s(t, r, e) { try { return { type: \"normal\", arg: t.call(r, e) }; } catch (t) { return { type: \"throw\", arg: t }; } } r.wrap = h; var f = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var l = {}; c(l, i, function () { return this; }); var p = Object.getPrototypeOf, y = p && p(p(x([]))); y && y !== e && n.call(y, i) && (l = y); var v = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(l); function g(t) { [\"next\", \"throw\", \"return\"].forEach(function (r) { c(t, r, function (t) { return this._invoke(r, t); }); }); } function AsyncIterator(t, r) { function e(o, i, a, u) { var c = s(t[o], t, i); if (\"throw\" !== c.type) { var h = c.arg, f = h.value; return f && \"object\" == _typeof(f) && n.call(f, \"__await\") ? r.resolve(f.__await).then(function (t) { e(\"next\", t, a, u); }, function (t) { e(\"throw\", t, a, u); }) : r.resolve(f).then(function (t) { h.value = t, a(h); }, function (t) { return e(\"throw\", t, a, u); }); } u(c.arg); } var o; c(this, \"_invoke\", function (t, n) { function i() { return new r(function (r, o) { e(t, n, r, o); }); } return o = o ? o.then(i, i) : i(); }, !0); } function d(r, e) { var n = e.method, o = r.i[n]; if (o === t) return e.delegate = null, \"throw\" === n && r.i.return && (e.method = \"return\", e.arg = t, d(r, e), \"throw\" === e.method) || \"return\" !== n && (e.method = \"throw\", e.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), f; var i = s(o, r.i, e.arg); if (\"throw\" === i.type) return e.method = \"throw\", e.arg = i.arg, e.delegate = null, f; var a = i.arg; return a ? a.done ? (e[r.r] = a.value, e.next = r.n, \"return\" !== e.method && (e.method = \"next\", e.arg = t), e.delegate = null, f) : a : (e.method = \"throw\", e.arg = new TypeError(\"iterator result is not an object\"), e.delegate = null, f); } function w(t) { this.tryEntries.push(t); } function m(r) { var e = r[4] || {}; e.type = \"normal\", e.arg = t, r[4] = e; } function Context(t) { this.tryEntries = [[-1]], t.forEach(w, this), this.reset(!0); } function x(r) { if (null != r) { var e = r[i]; if (e) return e.call(r); if (\"function\" == typeof r.next) return r; if (!isNaN(r.length)) { var o = -1, a = function e() { for (; ++o < r.length;) if (n.call(r, o)) return e.value = r[o], e.done = !1, e; return e.value = t, e.done = !0, e; }; return a.next = a; } } throw new TypeError(_typeof(r) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, c(v, \"constructor\", GeneratorFunctionPrototype), c(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = c(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), r.isGeneratorFunction = function (t) { var r = \"function\" == typeof t && t.constructor; return !!r && (r === GeneratorFunction || \"GeneratorFunction\" === (r.displayName || r.name)); }, r.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, c(t, u, \"GeneratorFunction\")), t.prototype = Object.create(v), t; }, r.awrap = function (t) { return { __await: t }; }, g(AsyncIterator.prototype), c(AsyncIterator.prototype, a, function () { return this; }), r.AsyncIterator = AsyncIterator, r.async = function (t, e, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(h(t, e, n, o), i); return r.isGeneratorFunction(e) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, g(v), c(v, u, \"Generator\"), c(v, i, function () { return this; }), c(v, \"toString\", function () { return \"[object Generator]\"; }), r.keys = function (t) { var r = Object(t), e = []; for (var n in r) e.unshift(n); return function t() { for (; e.length;) if ((n = e.pop()) in r) return t.value = n, t.done = !1, t; return t.done = !0, t; }; }, r.values = x, Context.prototype = { constructor: Context, reset: function reset(r) { if (this.prev = this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(m), !r) for (var e in this) \"t\" === e.charAt(0) && n.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0][4]; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(r) { if (this.done) throw r; var e = this; function n(t) { a.type = \"throw\", a.arg = r, e.next = t; } for (var o = e.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i[4], u = this.prev, c = i[1], h = i[2]; if (-1 === i[0]) return n(\"end\"), !1; if (!c && !h) throw Error(\"try statement without catch or finally\"); if (null != i[0] && i[0] <= u) { if (u < c) return this.method = \"next\", this.arg = t, n(c), !0; if (u < h) return n(h), !1; } } }, abrupt: function abrupt(t, r) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var n = this.tryEntries[e]; if (n[0] > -1 && n[0] <= this.prev && this.prev < n[2]) { var o = n; break; } } o && (\"break\" === t || \"continue\" === t) && o[0] <= r && r <= o[2] && (o = null); var i = o ? o[4] : {}; return i.type = t, i.arg = r, o ? (this.method = \"next\", this.next = o[2], f) : this.complete(i); }, complete: function complete(t, r) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && r && (this.next = r), f; }, finish: function finish(t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var e = this.tryEntries[r]; if (e[2] === t) return this.complete(e[4], e[3]), m(e), f; } }, catch: function _catch(t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var e = this.tryEntries[r]; if (e[0] === t) { var n = e[4]; if (\"throw\" === n.type) { var o = n.arg; m(e); } return o; } } throw Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(r, e, n) { return this.delegate = { i: x(r), r: e, n: n }, \"next\" === this.method && (this.arg = t), f; } }, r; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nvar DOBOARD_API_URL = 'https://api-next.doboard.com';\nvar createTaskDoboard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(sessionId, taskDetails) {\n    var accountId, formData, response, responseBody;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          accountId = taskDetails.accountId;\n          formData = new FormData();\n          formData.append('session_id', sessionId);\n          formData.append('project_token', taskDetails.projectToken);\n          formData.append('project_id', taskDetails.projectId);\n          formData.append('user_id', localStorage.getItem('spotfix_user_id'));\n          formData.append('name', taskDetails.taskTitle);\n          formData.append('comment', taskDetails.taskDescription);\n          _context.next = 10;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_add', {\n            method: 'POST',\n            body: formData\n          });\n        case 10:\n          response = _context.sent;\n          if (response.ok) {\n            _context.next = 13;\n            break;\n          }\n          throw new Error('Failed to create task');\n        case 13:\n          _context.next = 15;\n          return response.json();\n        case 15:\n          responseBody = _context.sent;\n          if (!(!responseBody || !responseBody.data)) {\n            _context.next = 18;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 18:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context.next = 20;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 20:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context.next = 22;\n            break;\n          }\n          return _context.abrupt(\"return\", {\n            taskId: responseBody.data.task_id,\n            isPublic: 1 //todo MOCK!\n          });\n        case 22:\n          throw new Error('Unknown error occurred during creating task');\n        case 23:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function createTaskDoboard(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar createTaskCommentDoboard = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(accountId, sessionId, taskId, comment, projectToken) {\n    var status,\n      response,\n      responseBody,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          status = _args2.length > 5 && _args2[5] !== undefined ? _args2[5] : 'ACTIVE';\n          _context2.next = 3;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/comment_add' + '?session_id=' + sessionId + '&task_id=' + taskId + '&comment=' + comment + '&project_token=' + projectToken + '&status=' + status, {\n            method: 'GET'\n          });\n        case 3:\n          response = _context2.sent;\n          if (response.ok) {\n            _context2.next = 6;\n            break;\n          }\n          throw new Error('Failed to create task comment');\n        case 6:\n          _context2.next = 8;\n          return response.json();\n        case 8:\n          responseBody = _context2.sent;\n          if (!(!responseBody || !responseBody.data)) {\n            _context2.next = 11;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 11:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context2.next = 13;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 13:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context2.next = 15;\n            break;\n          }\n          return _context2.abrupt(\"return\", {\n            commentId: responseBody.data.comment_id\n          });\n        case 15:\n          throw new Error('Unknown error occurred during creating task comment');\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function createTaskCommentDoboard(_x3, _x4, _x5, _x6, _x7) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar _registerUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(projectToken, accountId, email, nickname) {\n    var formData, response, responseBody;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('account_id', accountId);\n          if (email && nickname) {\n            formData.append('email', email);\n            formData.append('nickname', nickname);\n          }\n          _context3.next = 6;\n          return fetch(DOBOARD_API_URL + '/user_registration', {\n            method: 'POST',\n            body: formData\n          });\n        case 6:\n          response = _context3.sent;\n          if (response.ok) {\n            _context3.next = 9;\n            break;\n          }\n          throw new Error('Registration failed');\n        case 9:\n          _context3.next = 11;\n          return response.json();\n        case 11:\n          responseBody = _context3.sent;\n          if (!(!responseBody || !responseBody.data)) {\n            _context3.next = 14;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 14:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context3.next = 16;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 16:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context3.next = 20;\n            break;\n          }\n          if (!(responseBody.data.user_email_confirmed === 1)) {\n            _context3.next = 19;\n            break;\n          }\n          return _context3.abrupt(\"return\", {\n            accountExists: true\n          });\n        case 19:\n          return _context3.abrupt(\"return\", {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: responseBody.data.email\n          });\n        case 20:\n          throw new Error('Unknown error occurred during registration');\n        case 21:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function registerUser(_x8, _x9, _x0, _x1) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar _loginUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(email, password) {\n    var formData, response, responseBody;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          formData = new FormData();\n          formData.append('email', email);\n          formData.append('password', password);\n          _context4.next = 5;\n          return fetch(DOBOARD_API_URL + '/user_authorize', {\n            method: 'POST',\n            body: formData\n          });\n        case 5:\n          response = _context4.sent;\n          if (response.ok) {\n            _context4.next = 8;\n            break;\n          }\n          throw new Error('Authorization failed');\n        case 8:\n          _context4.next = 10;\n          return response.json();\n        case 10:\n          responseBody = _context4.sent;\n          if (!(!responseBody || !responseBody.data)) {\n            _context4.next = 13;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 13:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context4.next = 15;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 15:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context4.next = 17;\n            break;\n          }\n          return _context4.abrupt(\"return\", {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: email\n          });\n        case 17:\n          throw new Error('Unknown error occurred during registration');\n        case 18:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function loginUser(_x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar getTasksDoboard = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(projectToken, sessionId, accountId, projectId, userId) {\n    var formData, response, responseBody;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('session_id', sessionId);\n          formData.append('project_id', projectId);\n          formData.append('status', 'ACTIVE');\n          if (userId) {\n            formData.append('user_id', userId);\n          }\n          _context5.next = 8;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_get', {\n            method: 'POST',\n            body: formData\n          });\n        case 8:\n          response = _context5.sent;\n          if (response.ok) {\n            _context5.next = 11;\n            break;\n          }\n          throw new Error('Getting tasks failed');\n        case 11:\n          _context5.next = 13;\n          return response.json();\n        case 13:\n          responseBody = _context5.sent;\n          if (!(!responseBody || !responseBody.data)) {\n            _context5.next = 16;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 16:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context5.next = 18;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 18:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context5.next = 20;\n            break;\n          }\n          return _context5.abrupt(\"return\", responseBody.data.tasks.map(function (task) {\n            return {\n              taskId: task.task_id,\n              taskTitle: task.name,\n              taskLastUpdate: task.updated,\n              taskCreated: task.created,\n              taskCreatorTaskUser: task.creator_user_id\n            };\n          }));\n        case 20:\n          throw new Error('Unknown error occurred during getting tasks');\n        case 21:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function getTasksDoboard(_x12, _x13, _x14, _x15, _x16) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getTaskCommentsDoboard = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(taskId, sessionId, accountId, projectToken) {\n    var status,\n      response,\n      responseBody,\n      _args6 = arguments;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          status = _args6.length > 4 && _args6[4] !== undefined ? _args6[4] : 'ACTIVE';\n          _context6.next = 3;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/comment_get' + '?session_id=' + sessionId + '&status=' + status + '&task_id=' + taskId + '&project_token=' + projectToken, {\n            method: 'GET'\n          });\n        case 3:\n          response = _context6.sent;\n          if (response.ok) {\n            _context6.next = 6;\n            break;\n          }\n          throw new Error('Getting logs failed');\n        case 6:\n          _context6.next = 8;\n          return response.json();\n        case 8:\n          responseBody = _context6.sent;\n          if (!(!responseBody || !responseBody.data)) {\n            _context6.next = 11;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 11:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context6.next = 13;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 13:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context6.next = 15;\n            break;\n          }\n          return _context6.abrupt(\"return\", responseBody.data.comments.map(function (comment) {\n            return {\n              commentId: comment.comment_id,\n              userId: comment.user_id,\n              comment: comment.comment,\n              commentBody: comment.comment_text,\n              commentDate: comment.updated,\n              status: comment.status,\n              issueTitle: comment.task_name\n            };\n          }));\n        case 15:\n          throw new Error('Unknown error occurred during getting comments');\n        case 16:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function getTaskCommentsDoboard(_x17, _x18, _x19, _x20) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar getUserDoboard = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(sessionId, projectToken, accountId) {\n    var response, responseBody;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/user_get' + '?session_id=' + sessionId + '&project_token=' + projectToken, {\n            method: 'GET'\n          });\n        case 2:\n          response = _context7.sent;\n          if (response.ok) {\n            _context7.next = 5;\n            break;\n          }\n          throw new Error('Getting user failed');\n        case 5:\n          _context7.next = 7;\n          return response.json();\n        case 7:\n          responseBody = _context7.sent;\n          console.log(responseBody);\n          if (responseBody) {\n            _context7.next = 11;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 11:\n          if (!(responseBody.data && responseBody.data.operation_status)) {\n            _context7.next = 18;\n            break;\n          }\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context7.next = 14;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 14:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context7.next = 18;\n            break;\n          }\n          if (!Array.isArray(responseBody.data.users)) {\n            _context7.next = 17;\n            break;\n          }\n          return _context7.abrupt(\"return\", responseBody.data.users);\n        case 17:\n          return _context7.abrupt(\"return\", []);\n        case 18:\n          if (!responseBody.operation_status) {\n            _context7.next = 25;\n            break;\n          }\n          if (!(responseBody.operation_status === 'FAILED')) {\n            _context7.next = 21;\n            break;\n          }\n          throw new Error(responseBody.operation_message);\n        case 21:\n          if (!(responseBody.operation_status === 'SUCCESS')) {\n            _context7.next = 25;\n            break;\n          }\n          if (!Array.isArray(responseBody.users)) {\n            _context7.next = 24;\n            break;\n          }\n          return _context7.abrupt(\"return\", responseBody.users);\n        case 24:\n          return _context7.abrupt(\"return\", []);\n        case 25:\n          throw new Error('Unknown error occurred during getting user');\n        case 26:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function getUserDoboard(_x21, _x22, _x23) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nfunction getTaskFullDetails(_x24, _x25) {\n  return _getTaskFullDetails.apply(this, arguments);\n}\nfunction _getTaskFullDetails() {\n  _getTaskFullDetails = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee14(params, taskId) {\n    var sessionId, comments, users, lastComment, author, date, time, dt, avatarSrc, authorName;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          sessionId = localStorage.getItem('spotfix_session_id');\n          _context14.next = 3;\n          return getTaskCommentsDoboard(taskId, sessionId, params.accountId, params.projectToken);\n        case 3:\n          comments = _context14.sent;\n          _context14.next = 6;\n          return getUserDoboard(sessionId, params.projectToken, params.accountId);\n        case 6:\n          users = _context14.sent;\n          // Последний комментарий (новый сверху)\n          lastComment = comments.length > 0 ? comments[0] : null; // Автор последнего комментария\n          author = null;\n          if (lastComment && users && users.length > 0) {\n            author = users.find(function (u) {\n              return String(u.user_id) === String(lastComment.userId);\n            });\n          }\n          // Форматируем дату\n          date = '', time = '';\n          if (lastComment) {\n            dt = formatDate(lastComment.commentDate);\n            date = dt.date;\n            time = dt.time;\n          }\n          // Аватар: если avatar — объект, берём .m, иначе строку, иначе дефолт\n          avatarSrc = '/spotfix/img/empty_avatar.png';\n          if (author && author.avatar) {\n            if (_typeof(author.avatar) === 'object' && author.avatar.m) {\n              avatarSrc = author.avatar.m;\n            } else if (typeof author.avatar === 'string') {\n              avatarSrc = author.avatar;\n            }\n          }\n          // Имя: если пустое, fallback на email или 'Unknown Author'\n          authorName = 'Unknown Author';\n          if (author) {\n            if (author.name && author.name.trim().length > 0) {\n              authorName = author.name;\n            } else if (author.email && author.email.trim().length > 0) {\n              authorName = author.email;\n            }\n          }\n          return _context14.abrupt(\"return\", {\n            taskId: taskId,\n            taskAuthorAvatarImgSrc: avatarSrc,\n            taskAuthorName: authorName,\n            lastMessageText: lastComment ? lastComment.commentBody : 'No messages yet',\n            lastMessageTime: time,\n            issueTitle: comments.length > 0 ? comments[0].issueTitle : 'No Title',\n            issueComments: comments.map(function (comment) {\n              var _formatDate2 = formatDate(comment.commentDate),\n                date = _formatDate2.date,\n                time = _formatDate2.time;\n              // Найти автора\n              var author = null;\n              if (users && users.length > 0) {\n                author = users.find(function (u) {\n                  return String(u.user_id) === String(comment.userId);\n                });\n              }\n              // Аватар\n              var avatarSrc = '/spotfix/img/empty_avatar.png';\n              if (author && author.avatar) {\n                if (_typeof(author.avatar) === 'object' && author.avatar.m) {\n                  avatarSrc = author.avatar.m;\n                } else if (typeof author.avatar === 'string') {\n                  avatarSrc = author.avatar;\n                }\n              }\n              // Имя\n              var authorName = 'Unknown Author';\n              if (author) {\n                if (author.name && author.name.trim().length > 0) {\n                  authorName = author.name;\n                } else if (author.email && author.email.trim().length > 0) {\n                  authorName = author.email;\n                }\n              }\n              return {\n                commentAuthorAvatarSrc: avatarSrc,\n                commentAuthorName: authorName,\n                commentBody: comment.commentBody,\n                commentDate: date,\n                commentTime: time,\n                commentUserId: comment.userId || 'Unknown User'\n              };\n            })\n          });\n        case 17:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14);\n  }));\n  return _getTaskFullDetails.apply(this, arguments);\n}\nfunction handleCreateTask(_x26, _x27) {\n  return _handleCreateTask.apply(this, arguments);\n}\nfunction _handleCreateTask() {\n  _handleCreateTask = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee15(sessionId, taskDetails) {\n    var result;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.prev = 0;\n          _context15.next = 3;\n          return createTaskDoboard(sessionId, taskDetails);\n        case 3:\n          result = _context15.sent;\n          if (!(result && result.taskId && taskDetails.taskDescription)) {\n            _context15.next = 7;\n            break;\n          }\n          _context15.next = 7;\n          return addTaskComment({\n            projectToken: taskDetails.projectToken,\n            accountId: taskDetails.accountId\n          }, result.taskId, taskDetails.taskDescription);\n        case 7:\n          return _context15.abrupt(\"return\", result);\n        case 10:\n          _context15.prev = 10;\n          _context15.t0 = _context15[\"catch\"](0);\n          throw _context15.t0;\n        case 13:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15, null, [[0, 10]]);\n  }));\n  return _handleCreateTask.apply(this, arguments);\n}\nfunction addTaskComment(_x28, _x29, _x30) {\n  return _addTaskComment.apply(this, arguments);\n}\nfunction _addTaskComment() {\n  _addTaskComment = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee16(params, taskId, commentText) {\n    var sessionId;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          sessionId = localStorage.getItem('spotfix_session_id');\n          if (sessionId) {\n            _context16.next = 3;\n            break;\n          }\n          throw new Error('No session');\n        case 3:\n          if (!(!params.projectToken || !params.accountId)) {\n            _context16.next = 5;\n            break;\n          }\n          throw new Error('Missing params');\n        case 5:\n          _context16.next = 7;\n          return createTaskCommentDoboard(params.accountId, sessionId, taskId, commentText, params.projectToken);\n        case 7:\n          return _context16.abrupt(\"return\", _context16.sent);\n        case 8:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16);\n  }));\n  return _addTaskComment.apply(this, arguments);\n}\nfunction getUserTasks(params) {\n  if (!localStorage.getItem('spotfix_session_id')) {\n    return {};\n  }\n  var projectToken = params.projectToken;\n  var sessionId = localStorage.getItem('spotfix_session_id');\n  var userId = localStorage.getItem('spotfix_user_id');\n  return getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId, userId);\n}\nfunction getAllTasks(_x31) {\n  return _getAllTasks.apply(this, arguments);\n}\nfunction _getAllTasks() {\n  _getAllTasks = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee17(params) {\n    var projectToken, sessionId, tasksData;\n    return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          if (localStorage.getItem('spotfix_session_id')) {\n            _context17.next = 2;\n            break;\n          }\n          return _context17.abrupt(\"return\", {});\n        case 2:\n          projectToken = params.projectToken;\n          sessionId = localStorage.getItem('spotfix_session_id');\n          _context17.next = 6;\n          return getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId);\n        case 6:\n          tasksData = _context17.sent;\n          return _context17.abrupt(\"return\", getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId));\n        case 8:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17);\n  }));\n  return _getAllTasks.apply(this, arguments);\n}\nfunction formatDate(dateStr) {\n  var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  // dateStr expected format: 'YYYY-MM-DD HH:mm:ss' or 'YYYY-MM-DDTHH:mm:ssZ'\n  if (!dateStr) return {\n    date: '',\n    time: ''\n  };\n  var dateObj;\n  if (dateStr.includes('T')) {\n    dateObj = new Date(dateStr);\n  } else if (dateStr.includes(' ')) {\n    dateObj = new Date(dateStr.replace(' ', 'T'));\n  } else {\n    dateObj = new Date(dateStr);\n  }\n  if (isNaN(dateObj.getTime())) return {\n    date: '',\n    time: ''\n  };\n  var month = months[dateObj.getMonth()];\n  var day = dateObj.getDate();\n  var date = \"\".concat(month, \" \").concat(day);\n  var hours = dateObj.getHours().toString().padStart(2, '0');\n  var minutes = dateObj.getMinutes().toString().padStart(2, '0');\n  var time = \"\".concat(hours, \":\").concat(minutes);\n  return {\n    date: date,\n    time: time\n  };\n}\nfunction getTaskAuthorDetails(params, taskId) {\n  var sessionId = localStorage.getItem('spotfix_session_id');\n  var mockUsersData = [{\n    'taskId': '1',\n    'taskAuthorAvatarImgSrc': 'https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/avatars/081a1b65d20fe318/m.jpg',\n    'taskAuthorName': 'Test All Issues Single Author Name'\n  }];\n  var defaultData = {\n    'taskId': null,\n    'taskAuthorAvatarImgSrc': '/spotfix/img/empty_avatar.png',\n    'taskAuthorName': 'Unknown Author'\n  };\n  var data = mockUsersData.find(function (element) {\n    return element.taskId === taskId;\n  });\n  return data === undefined ? defaultData : data;\n}\nfunction getIssuesCounterString() {\n  var mock = {\n    'totalTasks': 15,\n    'tasksOnPage': 1\n  };\n  return \"(\".concat(mock.tasksOnPage, \"/\").concat(mock.totalTasks, \")\");\n}\nfunction saveUserData(tasks) {\n  // Save users avatars to local storage\n}\n\n/**\n * Widget class to create a task widget\n */\nvar CleanTalkWidgetDoboard = /*#__PURE__*/function () {\n  /**\n   * Constructor\n   */\n  function CleanTalkWidgetDoboard(selectedData, type) {\n    _classCallCheck(this, CleanTalkWidgetDoboard);\n    _defineProperty(this, \"selectedText\", '');\n    _defineProperty(this, \"selectedData\", {});\n    _defineProperty(this, \"widgetElement\", null);\n    _defineProperty(this, \"params\", {});\n    _defineProperty(this, \"currentActiveTaskId\", 0);\n    this.selectedData = selectedData;\n    this.selectedText = selectedData.selectedText;\n    this.init(type);\n  }\n\n  /**\n   * Initialize the widget\n   */\n  return _createClass(CleanTalkWidgetDoboard, [{\n    key: \"init\",\n    value: (function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(type) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              this.params = this.getParams();\n              _context8.next = 3;\n              return this.createWidgetElement(type);\n            case 3:\n              this.widgetElement = _context8.sent;\n              this.bindWidgetInputsInteractive();\n            case 5:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, this);\n      }));\n      function init(_x32) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }())\n  }, {\n    key: \"getParams\",\n    value: function getParams() {\n      var script = document.querySelector(\"script[src*=\\\"doboard-widget-bundle.min.js\\\"]\");\n      if (!script || !script.src) {\n        throw new Error('Script not provided');\n      }\n      var url = new URL(script.src);\n      var params = Object.fromEntries(url.searchParams.entries());\n      if (!params) {\n        throw new Error('Script params not provided');\n      }\n      if (!params.projectToken || !params.accountId || !params.projectId) {\n        throw new Error('Necessary script params not provided');\n      }\n      return params;\n    }\n\n    /**\n     * Binding events to create a task\n     */\n  }, {\n    key: \"bindCreateTaskEvents\",\n    value: function bindCreateTaskEvents() {\n      var _this = this;\n      var submitButton = document.getElementById('doboard_task_widget-submit_button');\n      if (submitButton) {\n        submitButton.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n          var taskTitleElement, taskTitle, taskDescriptionElement, taskDescription, userName, userEmail, userPassword, loginSectionElement, _userEmailElement, userNameElement, userPasswordElement, userEmailElement, submitButton, taskDetails, submitTaskResult;\n          return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n            while (1) switch (_context9.prev = _context9.next) {\n              case 0:\n                // Check required fields: Report about and Description\n                taskTitleElement = document.getElementById('doboard_task_widget-title');\n                taskTitle = taskTitleElement.value;\n                if (taskTitle) {\n                  _context9.next = 7;\n                  break;\n                }\n                taskTitleElement.style.borderColor = 'red';\n                taskTitleElement.focus();\n                taskTitleElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.abrupt(\"return\");\n              case 7:\n                taskDescriptionElement = document.getElementById('doboard_task_widget-description');\n                taskDescription = taskDescriptionElement.value;\n                if (taskDescription) {\n                  _context9.next = 14;\n                  break;\n                }\n                taskDescriptionElement.style.borderColor = 'red';\n                taskDescriptionElement.focus();\n                taskDescriptionElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.abrupt(\"return\");\n              case 14:\n                // If login section is open, check required fields: Nickname, Email\n                userName = '';\n                userEmail = '';\n                userPassword = '';\n                loginSectionElement = document.querySelector('.doboard_task_widget-login');\n                if (!(loginSectionElement && loginSectionElement.classList.contains('active'))) {\n                  _context9.next = 42;\n                  break;\n                }\n                _userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userNameElement = document.getElementById('doboard_task_widget-user_name');\n                userPasswordElement = document.getElementById('doboard_task_widget-user_password');\n                userEmail = _userEmailElement.value;\n                if (userEmail) {\n                  _context9.next = 28;\n                  break;\n                }\n                _userEmailElement.style.borderColor = 'red';\n                _userEmailElement.focus();\n                _userEmailElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.abrupt(\"return\");\n              case 28:\n                if (!(_userEmailElement && userNameElement)) {\n                  _context9.next = 35;\n                  break;\n                }\n                userName = userNameElement.value;\n                if (userName) {\n                  _context9.next = 35;\n                  break;\n                }\n                userNameElement.style.borderColor = 'red';\n                userNameElement.focus();\n                userNameElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.abrupt(\"return\");\n              case 35:\n                if (!(_userEmailElement && userPasswordElement && !userNameElement)) {\n                  _context9.next = 42;\n                  break;\n                }\n                userPassword = userPasswordElement.value;\n                if (userPassword) {\n                  _context9.next = 42;\n                  break;\n                }\n                userPasswordElement.style.borderColor = 'red';\n                userPasswordElement.focus();\n                userPasswordElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context9.abrupt(\"return\");\n              case 42:\n                // If it is the login request\n                userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userEmail = userEmailElement.value;\n\n                // Make the submit button disable with spinner\n                submitButton = document.getElementById('doboard_task_widget-submit_button');\n                submitButton.disabled = true;\n                submitButton.style.cursor = 'waiting';\n                taskDetails = {\n                  taskTitle: taskTitle,\n                  taskDescription: taskDescription,\n                  //typeSend: typeSend,\n                  selectedData: _this.selectedData,\n                  projectToken: _this.params.projectToken,\n                  projectId: _this.params.projectId,\n                  accountId: _this.params.accountId\n                };\n                if (userEmail) {\n                  taskDetails.userEmail = userEmail;\n                }\n                if (userName) {\n                  taskDetails.userName = userName;\n                }\n                if (userPassword) {\n                  taskDetails.userPassword = userPassword;\n                }\n                _context9.next = 53;\n                return _this.submitTask(taskDetails);\n              case 53:\n                submitTaskResult = _context9.sent;\n                // Return the submit button normal state\n                submitButton.disabled = false;\n                submitButton.style.cursor = 'pointer';\n                if (!submitTaskResult.needToLogin) {\n                  _context9.next = 58;\n                  break;\n                }\n                return _context9.abrupt(\"return\");\n              case 58:\n                if (submitTaskResult.isPublic !== undefined) {\n                  _this.selectedData.isPublic = submitTaskResult.isPublic;\n                }\n                localStorage.setItem(\"spotfix_task_data_\".concat(submitTaskResult.taskId), JSON.stringify(_this.selectedData));\n                _this.selectedData = {};\n                _context9.next = 63;\n                return _this.createWidgetElement('all_issues');\n              case 63:\n              case \"end\":\n                return _context9.stop();\n            }\n          }, _callee9);\n        })));\n      }\n    }\n\n    /**\n     * Create widget element\n     * @return {HTMLElement} widget element\n     */\n  }, {\n    key: \"createWidgetElement\",\n    value: (function () {\n      var _createWidgetElement = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee1(type) {\n        var _this2 = this,\n          _document$querySelect;\n        var showOnlyCurrentPage,\n          widgetContainer,\n          templateName,\n          variables,\n          taskDetails,\n          issuesQuantityOnPage,\n          tasks,\n          i,\n          elTask,\n          taskId,\n          taskTitle,\n          _formatDate,\n          lastMessageTime,\n          taskDataString,\n          taskData,\n          currentPageURL,\n          taskNodePath,\n          taskPublicStatusImgSrc,\n          taskPublicStatusHint,\n          taskFullDetails,\n          _variables,\n          taskElement,\n          text,\n          start,\n          end,\n          selectedText,\n          beforeText,\n          afterText,\n          _taskDetails,\n          issuesCommentsContainer,\n          dayMessagesData,\n          initIssuerID,\n          userIsIssuer,\n          _iterator,\n          _step,\n          comment,\n          commentData,\n          daysWrapperHTML,\n          day,\n          currentDayMessages,\n          dayMessagesWrapperHTML,\n          messageId,\n          currentMessageData,\n          sendForm,\n          backToAllIssuesController,\n          widgetClass,\n          paperclipController,\n          _args1 = arguments;\n        return _regeneratorRuntime().wrap(function _callee1$(_context1) {\n          while (1) switch (_context1.prev = _context1.next) {\n            case 0:\n              showOnlyCurrentPage = _args1.length > 1 && _args1[1] !== undefined ? _args1[1] : false;\n              widgetContainer = document.querySelector('.doboard_task_widget') ? document.querySelector('.doboard_task_widget') : document.createElement('div');\n              widgetContainer.className = 'doboard_task_widget';\n              widgetContainer.innerHTML = '';\n              templateName = '';\n              variables = {};\n              _context1.t0 = type;\n              _context1.next = _context1.t0 === 'create_issue' ? 9 : _context1.t0 === 'wrap' ? 12 : _context1.t0 === 'all_issues' ? 14 : _context1.t0 === 'concrete_issue' ? 16 : 22;\n              break;\n            case 9:\n              templateName = 'create_issue';\n              variables = {\n                selectedText: this.selectedText,\n                currentDomain: document.location.hostname || ''\n              };\n              return _context1.abrupt(\"break\", 23);\n            case 12:\n              templateName = 'wrap';\n              return _context1.abrupt(\"break\", 23);\n            case 14:\n              templateName = 'all_issues';\n              return _context1.abrupt(\"break\", 23);\n            case 16:\n              templateName = 'concrete_issue';\n              // todo: this is call duplicate!\n              _context1.next = 19;\n              return getTaskFullDetails(this.params, this.currentActiveTaskId);\n            case 19:\n              taskDetails = _context1.sent;\n              variables = {\n                issueTitle: taskDetails.issueTitle,\n                issueComments: taskDetails.issueComments,\n                issuesCounter: getIssuesCounterString(),\n                paperclipImgSrc: '/spotfix/img/send-message--paperclip.svg',\n                sendButtonImgSrc: '/spotfix/img/send-message--button.svg',\n                msgFieldBackgroundImgSrc: '/spotfix/img/send-message--input-background.svg'\n              };\n              return _context1.abrupt(\"break\", 23);\n            case 22:\n              return _context1.abrupt(\"break\", 23);\n            case 23:\n              _context1.next = 25;\n              return this.loadTemplate(templateName, variables);\n            case 25:\n              widgetContainer.innerHTML = _context1.sent;\n              document.body.appendChild(widgetContainer);\n              _context1.t1 = type;\n              _context1.next = _context1.t1 === 'create_issue' ? 30 : _context1.t1 === 'wrap' ? 32 : _context1.t1 === 'all_issues' ? 35 : _context1.t1 === 'concrete_issue' ? 74 : 118;\n              break;\n            case 30:\n              this.bindCreateTaskEvents();\n              return _context1.abrupt(\"break\", 119);\n            case 32:\n              this.getTaskCount();\n              document.querySelector('.doboard_task_widget-wrap').addEventListener('click', function () {\n                _this2.createWidgetElement('all_issues');\n              });\n              return _context1.abrupt(\"break\", 119);\n            case 35:\n              issuesQuantityOnPage = 0; //let tasks = await getUserTasks(this.params);\n              _context1.next = 38;\n              return getAllTasks(this.params);\n            case 38:\n              tasks = _context1.sent;\n              saveUserData(tasks);\n              if (!(tasks.length > 0)) {\n                _context1.next = 71;\n                break;\n              }\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '';\n              i = 0;\n            case 43:\n              if (!(i < tasks.length)) {\n                _context1.next = 70;\n                break;\n              }\n              elTask = tasks[i]; // Data from api\n              taskId = elTask.taskId;\n              taskTitle = elTask.taskTitle;\n              _formatDate = formatDate(elTask.taskLastUpdate), lastMessageTime = _formatDate.time; // Data from local storage\n              taskDataString = localStorage.getItem(\"spotfix_task_data_\".concat(taskId));\n              taskData = taskDataString ? JSON.parse(taskDataString) : null;\n              currentPageURL = taskData ? taskData.pageURL : '';\n              taskNodePath = taskData ? taskData.nodePath : ''; // Define publicity details\n              taskPublicStatusImgSrc = '';\n              taskPublicStatusHint = 'Task publicity is unknown';\n              if (taskData && taskData.isPublic !== undefined) {\n                if (taskData.isPublic) {\n                  taskPublicStatusImgSrc = '/spotfix/img/public.svg';\n                  taskPublicStatusHint = 'The task is public';\n                } else {\n                  taskPublicStatusImgSrc = '/spotfix/img/private.svg';\n                  taskPublicStatusHint = 'The task is private and visible only for registered DoBoard users';\n                }\n              }\n              if (!(!showOnlyCurrentPage || currentPageURL === window.location.href)) {\n                _context1.next = 67;\n                break;\n              }\n              issuesQuantityOnPage++;\n              //define last message and update time\n              /* let lastMessageDetails = await getTaskLastMessageDetails(this.params, taskId);\n              const authorDetails = getTaskAuthorDetails(this.params, '1'); // todo MOCK! */\n              _context1.next = 59;\n              return getTaskFullDetails(this.params, taskId);\n            case 59:\n              taskFullDetails = _context1.sent;\n              _variables = {\n                taskTitle: taskTitle || '',\n                taskAuthorAvatarImgSrc: taskFullDetails.taskAuthorAvatarImgSrc,\n                taskAuthorName: taskFullDetails.taskAuthorName,\n                taskPublicStatusImgSrc: taskPublicStatusImgSrc,\n                taskPublicStatusHint: taskPublicStatusHint,\n                taskLastMessage: taskFullDetails.lastMessageText,\n                taskLastUpdate: lastMessageTime,\n                nodePath: taskNodePath,\n                taskId: taskId\n              };\n              _context1.t2 = document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML;\n              _context1.next = 64;\n              return this.loadTemplate('list_issues', _variables);\n            case 64:\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = _context1.t2 += _context1.sent;\n              taskElement = taskAnalysis(taskData);\n              if (taskElement) {\n                if (taskData.startSelectPosition !== undefined && taskData.endSelectPosition !== undefined) {\n                  text = taskElement.innerHTML;\n                  start = taskData.startSelectPosition;\n                  end = taskData.endSelectPosition;\n                  selectedText = text.substring(start, end);\n                  beforeText = text.substring(0, start);\n                  afterText = text.substring(end);\n                  taskElement.innerHTML = beforeText + '<span class=\"doboard_task_widget-text_selection\">' + selectedText + '</span>' + afterText;\n                }\n              }\n            case 67:\n              i++;\n              _context1.next = 43;\n              break;\n            case 70:\n              document.querySelector('.doboard_task_widget-header span').innerText += ' (' + issuesQuantityOnPage + ')';\n            case 71:\n              if (tasks.length === 0 || issuesQuantityOnPage === 0) {\n                document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '<div class=\"doboard_task_widget-issues_list_empty\">The issues list is empty</div>';\n              }\n\n              // Bind the click event to the task elements for scrolling to the selected text and Go to concrete issue interface by click issue-item row\n              this.bindIssuesClick();\n              return _context1.abrupt(\"break\", 119);\n            case 74:\n              _context1.next = 76;\n              return getTaskFullDetails(this.params, this.currentActiveTaskId);\n            case 76:\n              _taskDetails = _context1.sent;\n              console.log(_taskDetails);\n              variables = {\n                issueTitle: _taskDetails.issueTitle,\n                issueComments: _taskDetails.issueComments,\n                issuesCounter: getIssuesCounterString(),\n                chevronBackTitle: 'Back to all issues'\n              };\n              issuesCommentsContainer = document.querySelector('.doboard_task_widget-concrete_issues-container');\n              dayMessagesData = [];\n              initIssuerID = localStorage.getItem('spotfix_user_id');\n              console.table('initIssuerID', initIssuerID);\n              userIsIssuer = false;\n              if (!(_taskDetails.issueComments.length > 0)) {\n                _context1.next = 114;\n                break;\n              }\n              issuesCommentsContainer.innerHTML = '';\n              _iterator = _createForOfIteratorHelper(_taskDetails.issueComments);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  comment = _step.value;\n                  userIsIssuer = Number(initIssuerID) === Number(comment.commentUserId);\n                  commentData = {\n                    commentAuthorAvatarSrc: comment.commentAuthorAvatarSrc,\n                    commentAuthorName: comment.commentAuthorName,\n                    commentBody: comment.commentBody,\n                    commentDate: comment.commentDate,\n                    commentTime: comment.commentTime,\n                    issueTitle: variables.issueTitle,\n                    issuesCounter: variables.issuesCounter,\n                    commentContainerBackgroundSrc: userIsIssuer ? '/spotfix/img/comment-self-background.png' : '/spotfix/img/comment-other-background.png',\n                    additionalClasses: userIsIssuer ? 'doboard_task_widget-hidden_element' : ''\n                  };\n                  if (dayMessagesData[comment.commentDate] === undefined) {\n                    dayMessagesData[comment.commentDate] = [];\n                    dayMessagesData[comment.commentDate].push(commentData);\n                  } else {\n                    dayMessagesData[comment.commentDate].push(commentData);\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              daysWrapperHTML = '';\n              _context1.t3 = _regeneratorRuntime().keys(dayMessagesData);\n            case 90:\n              if ((_context1.t4 = _context1.t3()).done) {\n                _context1.next = 111;\n                break;\n              }\n              day = _context1.t4.value;\n              currentDayMessages = dayMessagesData[day];\n              dayMessagesWrapperHTML = '';\n              currentDayMessages.sort(function (a, b) {\n                return a.commentTime.localeCompare(b.commentTime);\n              });\n              _context1.t5 = _regeneratorRuntime().keys(currentDayMessages);\n            case 96:\n              if ((_context1.t6 = _context1.t5()).done) {\n                _context1.next = 105;\n                break;\n              }\n              messageId = _context1.t6.value;\n              currentMessageData = currentDayMessages[messageId];\n              _context1.t7 = dayMessagesWrapperHTML;\n              _context1.next = 102;\n              return this.loadTemplate('concrete_issue_messages', currentMessageData);\n            case 102:\n              dayMessagesWrapperHTML = _context1.t7 += _context1.sent;\n              _context1.next = 96;\n              break;\n            case 105:\n              _context1.t8 = daysWrapperHTML;\n              _context1.next = 108;\n              return this.loadTemplate('concrete_issue_day_content', {\n                dayContentMonthDay: day,\n                dayContentMessages: dayMessagesWrapperHTML\n              });\n            case 108:\n              daysWrapperHTML = _context1.t8 += _context1.sent;\n              _context1.next = 90;\n              break;\n            case 111:\n              issuesCommentsContainer.innerHTML = daysWrapperHTML;\n              _context1.next = 115;\n              break;\n            case 114:\n              issuesCommentsContainer.innerHTML = 'No comments';\n            case 115:\n              sendForm = document.querySelector('.doboard_task_widget-send_message form');\n              if (sendForm) {\n                sendForm.addEventListener('submit', /*#__PURE__*/function () {\n                  var _ref9 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee0(e) {\n                    var input, commentText;\n                    return _regeneratorRuntime().wrap(function _callee0$(_context0) {\n                      while (1) switch (_context0.prev = _context0.next) {\n                        case 0:\n                          e.preventDefault();\n                          input = sendForm.querySelector('.doboard_task_widget-send_message_input');\n                          commentText = input.value.trim();\n                          if (commentText) {\n                            _context0.next = 5;\n                            break;\n                          }\n                          return _context0.abrupt(\"return\");\n                        case 5:\n                          input.disabled = true;\n                          _context0.prev = 6;\n                          _context0.next = 9;\n                          return addTaskComment(_this2.params, _this2.currentActiveTaskId, commentText);\n                        case 9:\n                          input.value = '';\n                          _context0.next = 12;\n                          return _this2.createWidgetElement('concrete_issue');\n                        case 12:\n                          _context0.next = 17;\n                          break;\n                        case 14:\n                          _context0.prev = 14;\n                          _context0.t0 = _context0[\"catch\"](6);\n                          alert('Error when adding a comment: ' + _context0.t0.message);\n                        case 17:\n                          input.disabled = false;\n                        case 18:\n                        case \"end\":\n                          return _context0.stop();\n                      }\n                    }, _callee0, null, [[6, 14]]);\n                  }));\n                  return function (_x34) {\n                    return _ref9.apply(this, arguments);\n                  };\n                }());\n              }\n              return _context1.abrupt(\"break\", 119);\n            case 118:\n              return _context1.abrupt(\"break\", 119);\n            case 119:\n              backToAllIssuesController = document.querySelector('.doboard_task_widget_return_to_all');\n              if (backToAllIssuesController) {\n                widgetClass = this;\n                backToAllIssuesController.addEventListener('click', function (e) {\n                  var self = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : widgetClass;\n                  self.createWidgetElement('all_issues');\n                });\n              }\n              paperclipController = document.querySelector('.doboard_task_widget-send_message_paperclip');\n              if (paperclipController) {\n                paperclipController.addEventListener('click', function (e) {\n                  e.preventDefault();\n                  console.log('click');\n                  alert('This action is not implemented yet..');\n                });\n              }\n              ((_document$querySelect = document.querySelector('.doboard_task_widget-close_btn')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.addEventListener('click', function () {\n                _this2.hide();\n              })) || '';\n              return _context1.abrupt(\"return\", widgetContainer);\n            case 125:\n            case \"end\":\n              return _context1.stop();\n          }\n        }, _callee1, this);\n      }));\n      function createWidgetElement(_x33) {\n        return _createWidgetElement.apply(this, arguments);\n      }\n      return createWidgetElement;\n    }())\n  }, {\n    key: \"bindIssuesClick\",\n    value: function bindIssuesClick() {\n      var _this3 = this;\n      document.querySelectorAll('.issue-item').forEach(function (item) {\n        item.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n          var nodePath;\n          return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n            while (1) switch (_context10.prev = _context10.next) {\n              case 0:\n                nodePath = JSON.parse(item.getAttribute('data-node-path'));\n                scrollToNodePath(nodePath);\n                _this3.currentActiveTaskId = item.getAttribute('data-task-id');\n                _context10.next = 5;\n                return _this3.createWidgetElement('concrete_issue');\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }, _callee10);\n        })));\n      });\n    }\n\n    /**\n     * Load the template\n     *\n     * @param templateName\n     * @param variables\n     * @return {Promise<string>}\n     * @ToDo have to refactor templates loaded method: need to be templates included into the bundle\n     *\n     */\n  }, {\n    key: \"loadTemplate\",\n    value: (function () {\n      var _loadTemplate = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(templateName) {\n        var variables,\n          response,\n          template,\n          _i,\n          _Object$entries,\n          _Object$entries$_i,\n          key,\n          value,\n          placeholder,\n          _args11 = arguments;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              variables = _args11.length > 1 && _args11[1] !== undefined ? _args11[1] : {};\n              _context11.next = 3;\n              return fetch(\"/spotfix/templates/\".concat(templateName, \".html\"));\n            case 3:\n              response = _context11.sent;\n              _context11.next = 6;\n              return response.text();\n            case 6:\n              template = _context11.sent;\n              for (_i = 0, _Object$entries = Object.entries(variables); _i < _Object$entries.length; _i++) {\n                _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], value = _Object$entries$_i[1];\n                placeholder = \"{{\".concat(key, \"}}\");\n                template = template.replaceAll(placeholder, value);\n              }\n              return _context11.abrupt(\"return\", template);\n            case 9:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11);\n      }));\n      function loadTemplate(_x35) {\n        return _loadTemplate.apply(this, arguments);\n      }\n      return loadTemplate;\n    }())\n  }, {\n    key: \"getTaskCount\",\n    value: function () {\n      var _getTaskCount = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee12() {\n        var projectToken, sessionId, tasks, taskCountElement;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context12.next = 2;\n                break;\n              }\n              return _context12.abrupt(\"return\", {});\n            case 2:\n              projectToken = this.params.projectToken;\n              sessionId = localStorage.getItem('spotfix_session_id');\n              _context12.next = 6;\n              return getTasksDoboard(projectToken, sessionId, this.params.accountId, this.params.projectId);\n            case 6:\n              tasks = _context12.sent;\n              taskCountElement = document.getElementById('doboard_task_widget-task_count');\n              if (taskCountElement) {\n                taskCountElement.innerText = tasks.length;\n                taskCountElement.classList.remove('hidden');\n              }\n            case 9:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this);\n      }));\n      function getTaskCount() {\n        return _getTaskCount.apply(this, arguments);\n      }\n      return getTaskCount;\n    }()\n    /**\n     * Bind events to the widget\n     */\n    /*bindEvents() {\n        this.submitButton.addEventListener('click', () => this.submitTask());\n    }*/\n    /**\n     * Submit the task\n     */\n  }, {\n    key: \"submitTask\",\n    value: (function () {\n      var _submitTask = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee13(taskDetails) {\n        var sessionId;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context13.next = 6;\n                break;\n              }\n              _context13.next = 3;\n              return this.registerUser(taskDetails);\n            case 3:\n              if (!taskDetails.userPassword) {\n                _context13.next = 6;\n                break;\n              }\n              _context13.next = 6;\n              return this.loginUser(taskDetails);\n            case 6:\n              sessionId = localStorage.getItem('spotfix_session_id');\n              if (sessionId) {\n                _context13.next = 9;\n                break;\n              }\n              return _context13.abrupt(\"return\", {\n                needToLogin: true\n              });\n            case 9:\n              _context13.next = 11;\n              return handleCreateTask(sessionId, taskDetails);\n            case 11:\n              return _context13.abrupt(\"return\", _context13.sent);\n            case 12:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee13, this);\n      }));\n      function submitTask(_x36) {\n        return _submitTask.apply(this, arguments);\n      }\n      return submitTask;\n    }())\n  }, {\n    key: \"registerUser\",\n    value: function registerUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userName = taskDetails.userName;\n      var projectToken = taskDetails.projectToken;\n      var accountId = taskDetails.accountId;\n      return _registerUser(projectToken, accountId, userEmail, userName).then(function (response) {\n        if (response.accountExists) {\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container\").innerText = 'Account already exists. Please, login usin your password.';\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container.hidden\").classList.remove('hidden');\n          document.getElementById(\"doboard_task_widget-user_password\").focus();\n        } else if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"loginUser\",\n    value: function loginUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userPassword = taskDetails.userPassword;\n      return _loginUser(userEmail, userPassword).then(function (response) {\n        if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n\n    /**\n     * Hide the widget\n     */\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.createWidgetElement('wrap');\n      var textSelectionclassName = 'doboard_task_widget-text_selection';\n      var spans = document.querySelectorAll('.' + textSelectionclassName);\n      spans.forEach(function (span) {\n        var parent = span.parentNode;\n        while (span.firstChild) {\n          parent.insertBefore(span.firstChild, span);\n        }\n        parent.removeChild(span);\n      });\n    }\n  }, {\n    key: \"bindWidgetInputsInteractive\",\n    value: function bindWidgetInputsInteractive() {\n      // Customising placeholders\n      var inputs = document.querySelectorAll('.doboard_task_widget-field');\n      inputs.forEach(function (input) {\n        if (input.value) {\n          input.classList.add('has-value');\n        }\n        input.addEventListener('input', function () {\n          if (input.value) {\n            input.classList.add('has-value');\n          } else {\n            input.classList.remove('has-value');\n          }\n        });\n        input.addEventListener('blur', function () {\n          if (!input.value) {\n            input.classList.remove('has-value');\n          }\n        });\n      });\n\n      // Customising accordion dropdown\n      var accordionController = document.querySelector('.doboard_task_widget-login span');\n      if (accordionController) {\n        accordionController.addEventListener('click', function () {\n          this.closest('.doboard_task_widget-login').classList.toggle('active');\n        });\n      }\n    }\n  }]);\n}();\nvar selectedData = {};\nvar widgetTimeout = null;\ndocument.addEventListener('DOMContentLoaded', function () {\n  new CleanTalkWidgetDoboard({}, 'wrap');\n});\ndocument.addEventListener('selectionchange', function (e) {\n  if (widgetTimeout) {\n    clearTimeout(widgetTimeout);\n  }\n  widgetTimeout = setTimeout(function () {\n    var selection = window.getSelection();\n    if (selection.type === 'Range') {\n      var _selectedData = getSelectedData(selection);\n      var widgetExist = document.querySelector('.doboard_task_widget-container');\n      openWidget(_selectedData, widgetExist, 'create_issue');\n    }\n  }, 1000);\n});\n\n/**\n * Open the widget to create a task.\n * @param {*} selectedData\n * @param {*} widgetExist\n * @param {*} type\n */\nfunction openWidget(selectedData, widgetExist, type) {\n  if (selectedData && !widgetExist) {\n    new CleanTalkWidgetDoboard(selectedData, type);\n  }\n}\n\n/**\n * Get the selected data from the DOM\n * @param {Selection} selectedData\n * @returns {Object}\n */\nfunction getSelectedData(selectedData) {\n  var pageURL = window.location.href;\n  var selectedText = selectedData.toString();\n  var anchorOffset = selectedData.anchorOffset;\n  var focusOffset = selectedData.focusOffset;\n  return {\n    startSelectPosition: Math.min(anchorOffset, focusOffset),\n    endSelectPosition: Math.max(anchorOffset, focusOffset),\n    selectedText: selectedText,\n    pageURL: pageURL,\n    nodePath: calculateNodePath(selectedData.focusNode.parentNode)\n  };\n}\n\n/**\n * Calculate the path of a DOM node\n *\n * @param {Node} node\n * @return {int[]}\n */\nfunction calculateNodePath(node) {\n  var path = [];\n  while (node) {\n    var index = 0;\n    var sibling = node.previousSibling;\n    while (sibling) {\n      if (sibling.nodeType === 1) {\n        index++;\n      }\n      sibling = sibling.previousSibling;\n    }\n    path.unshift(index);\n    node = node.parentNode;\n  }\n\n  // Hard fix - need to remove first element to work correctly\n  path.shift();\n  return path;\n}\n\n/**\n * Retrieve a DOM node from a path\n *\n * @param {int[]} path\n * @return {*|null}\n */\nfunction retrieveNodeFromPath(path) {\n  // @ToDo check if the path is correct\n  if (!path) {\n    return null;\n  }\n  var node = document;\n  for (var i = 0; i < path.length; i++) {\n    node = node.children[path[i]];\n    if (!node) {\n      return null;\n    }\n  }\n  return node;\n}\n\n/**\n * Analyze the task selected data\n * @param {Object} taskSelectedData\n * @return {Element|null}\n */\nfunction taskAnalysis(taskSelectedData) {\n  var nodePath = taskSelectedData ? taskSelectedData.nodePath : '';\n  return retrieveNodeFromPath(nodePath);\n}\n\n/**\n * Scroll to an element by tag, class, and text content\n * @param {string} path - The path to the element\n * @return {boolean} - True if the element was found and scrolled to, false otherwise\n */\nfunction scrollToNodePath(path) {\n  var node = retrieveNodeFromPath(path);\n  if (node && node.scrollIntoView) {\n    node.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center'\n    });\n    return true;\n  }\n  return false;\n}"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","t","n","i","u","a","f","call","next","Object","done","push","value","length","return","Array","isArray","_createForOfIteratorHelper","_n","s","F","_arrayLikeToArray","toString","slice","name","from","test","_classCallCheck","_defineProperties","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","_defineProperty","_toPrimitive","toPrimitive","String","Number","_regeneratorRuntime","hasOwnProperty","asyncIterator","toStringTag","c","h","Generator","create","Context","Error","method","arg","delegate","d","type","sent","_sent","dispatchException","abrupt","wrap","GeneratorFunction","GeneratorFunctionPrototype","p","this","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","resolve","__await","then","w","tryEntries","m","reset","isNaN","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","stop","rval","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","DOBOARD_API_URL","createTaskDoboard","_ref","_callee","sessionId","taskDetails","accountId","formData","response","responseBody","_context","FormData","append","projectToken","projectId","localStorage","getItem","taskTitle","taskDescription","fetch","body","ok","json","data","operation_status","operation_message","taskId","task_id","isPublic","_x","_x2","createTaskCommentDoboard","_ref2","_callee2","comment","status","_args2","_context2","undefined","commentId","comment_id","_x3","_x4","_x5","_x6","_x7","_registerUser","_ref3","_callee3","email","nickname","_context3","user_email_confirmed","accountExists","session_id","userId","user_id","_x8","_x9","_x0","_x1","_loginUser","_ref4","_callee4","password","_context4","_x10","_x11","getTasksDoboard","_ref5","_callee5","_context5","tasks","map","task","taskLastUpdate","updated","taskCreated","created","taskCreatorTaskUser","creator_user_id","_x12","_x13","_x14","_x15","_x16","getTaskCommentsDoboard","_ref6","_callee6","_args6","_context6","comments","commentBody","comment_text","commentDate","issueTitle","task_name","_x17","_x18","_x19","_x20","getUserDoboard","_ref7","_callee7","_context7","console","log","users","_x21","_x22","_x23","getTaskFullDetails","_x24","_x25","_getTaskFullDetails","_callee14","params","lastComment","author","time","avatarSrc","authorName","_context14","find","dt","formatDate","date","avatar","trim","taskAuthorAvatarImgSrc","taskAuthorName","lastMessageText","lastMessageTime","issueComments","_formatDate2","commentAuthorAvatarSrc","commentAuthorName","commentTime","commentUserId","handleCreateTask","_x26","_x27","_handleCreateTask","_callee15","result","_context15","addTaskComment","t0","_x28","_x29","_x30","_addTaskComment","_callee16","commentText","_context16","getUserTasks","getAllTasks","_x31","_getAllTasks","_callee17","_context17","dateStr","hours","dateObj","includes","Date","replace","getTime","month","getMonth","day","getDate","concat","getHours","padStart","minutes","getMinutes","getTaskAuthorDetails","element","getIssuesCounterString","mock","saveUserData","CleanTalkWidgetDoboard","selectedData","selectedText","init","_init","_callee8","_context8","getParams","createWidgetElement","widgetElement","bindWidgetInputsInteractive","_x32","script","document","querySelector","src","url","URL","fromEntries","searchParams","entries","_this","submitButton","getElementById","addEventListener","_callee9","taskDescriptionElement","userName","userEmail","userPassword","_userEmailElement","userNameElement","userPasswordElement","userEmailElement","submitTaskResult","_context9","taskTitleElement","style","borderColor","focus","loginSectionElement","classList","contains","disabled","cursor","submitTask","needToLogin","setItem","JSON","stringify","_createWidgetElement","_callee1","showOnlyCurrentPage","widgetContainer","templateName","variables","issuesQuantityOnPage","elTask","taskData","taskNodePath","taskPublicStatusImgSrc","taskPublicStatusHint","taskFullDetails","taskElement","_taskDetails","issuesCommentsContainer","dayMessagesData","initIssuerID","userIsIssuer","_iterator","_step","commentData","daysWrapperHTML","currentDayMessages","dayMessagesWrapperHTML","messageId","currentMessageData","sendForm","backToAllIssuesController","widgetClass","paperclipController","_this2","_args1","_context1","createElement","className","innerHTML","currentDomain","location","hostname","currentActiveTaskId","issuesCounter","paperclipImgSrc","sendButtonImgSrc","msgFieldBackgroundImgSrc","loadTemplate","appendChild","t1","bindCreateTaskEvents","getTaskCount","_formatDate","taskDataString","parse","currentPageURL","pageURL","nodePath","window","href","_variables","taskLastMessage","t2","taskAnalysis","startSelectPosition","endSelectPosition","text","start","end","substring","beforeText","afterText","innerText","bindIssuesClick","chevronBackTitle","table","commentContainerBackgroundSrc","additionalClasses","err","t3","t4","sort","b","localeCompare","t5","t6","t7","t8","dayContentMonthDay","dayContentMessages","_ref9","_callee0","input","_context0","preventDefault","alert","message","_x34","_document$querySelect","hide","_x33","_this3","querySelectorAll","item","_callee10","_context10","scrollToNodePath","getAttribute","_loadTemplate","_callee11","template","_i","_Object$entries","placeholder","_args11","_context11","_Object$entries$_i","replaceAll","_x35","_getTaskCount","_callee12","taskCountElement","_context12","remove","_submitTask","_callee13","_context13","registerUser","loginUser","_x36","error","span","parent","parentNode","firstChild","insertBefore","removeChild","add","accordionController","closest","toggle","widgetTimeout","openWidget","widgetExist","getSelectedData","anchorOffset","focusOffset","Math","min","max","calculateNodePath","focusNode","node","path","index","sibling","previousSibling","nodeType","shift","retrieveNodeFromPath","children","taskSelectedData","scrollIntoView","behavior","block","clearTimeout","setTimeout","selection","getSelection"],"mappings":"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"}