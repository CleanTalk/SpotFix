{"version":3,"file":"doboard-widget-bundle.min.js","sources":["doboard-widget-bundle.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i.return) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2)); }, _regeneratorDefine2(e, r, n, t); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n); } _next(void 0); }); }; }\nvar DOBOARD_API_URL = 'https://api-next.doboard.com';\nvar createTaskDoboard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(sessionId, taskDetails) {\n    var accountId, formData, response, responseBody;\n    return _regenerator().w(function (_context) {\n      while (1) switch (_context.n) {\n        case 0:\n          accountId = taskDetails.accountId;\n          formData = new FormData();\n          formData.append('session_id', sessionId);\n          formData.append('project_token', taskDetails.projectToken);\n          formData.append('project_id', taskDetails.projectId);\n          formData.append('user_id', localStorage.getItem('spotfix_user_id'));\n          formData.append('name', taskDetails.taskTitle);\n          formData.append('comment', taskDetails.taskDescription);\n          _context.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_add', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context.v;\n          if (response.ok) {\n            _context.n = 2;\n            break;\n          }\n          throw new Error('Failed to create task');\n        case 2:\n          _context.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context.n = 6;\n            break;\n          }\n          return _context.a(2, {\n            taskId: responseBody.data.task_id\n          });\n        case 6:\n          throw new Error('Unknown error occurred during creating task');\n        case 7:\n          return _context.a(2);\n      }\n    }, _callee);\n  }));\n  return function createTaskDoboard(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar _registerUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(projectToken, accountId, email, nickname) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context2) {\n      while (1) switch (_context2.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('account_id', accountId);\n          if (email && nickname) {\n            formData.append('email', email);\n            formData.append('nickname', nickname);\n          }\n          _context2.n = 1;\n          return fetch(DOBOARD_API_URL + '/user_registration', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context2.v;\n          if (response.ok) {\n            _context2.n = 2;\n            break;\n          }\n          throw new Error('Registration failed');\n        case 2:\n          _context2.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context2.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context2.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context2.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context2.n = 7;\n            break;\n          }\n          if (!(responseBody.data.user_email_confirmed === 1)) {\n            _context2.n = 6;\n            break;\n          }\n          return _context2.a(2, {\n            accountExists: true\n          });\n        case 6:\n          return _context2.a(2, {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: responseBody.data.email\n          });\n        case 7:\n          throw new Error('Unknown error occurred during registration');\n        case 8:\n          return _context2.a(2);\n      }\n    }, _callee2);\n  }));\n  return function registerUser(_x3, _x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar _loginUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3(email, password) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context3) {\n      while (1) switch (_context3.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('email', email);\n          formData.append('password', password);\n          _context3.n = 1;\n          return fetch(DOBOARD_API_URL + '/user_authorize', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context3.v;\n          if (response.ok) {\n            _context3.n = 2;\n            break;\n          }\n          throw new Error('Authorization failed');\n        case 2:\n          _context3.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context3.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context3.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context3.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context3.n = 6;\n            break;\n          }\n          return _context3.a(2, {\n            sessionId: responseBody.data.session_id,\n            userId: responseBody.data.user_id,\n            email: email\n          });\n        case 6:\n          throw new Error('Unknown error occurred during registration');\n        case 7:\n          return _context3.a(2);\n      }\n    }, _callee3);\n  }));\n  return function loginUser(_x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getTasksDoboard = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4(projectToken, sessionId, accountId, projectId, userId) {\n    var formData, response, responseBody;\n    return _regenerator().w(function (_context4) {\n      while (1) switch (_context4.n) {\n        case 0:\n          formData = new FormData();\n          formData.append('project_token', projectToken);\n          formData.append('session_id', sessionId);\n          formData.append('project_id', projectId);\n          formData.append('status', 'ACTIVE');\n          if (userId) {\n            formData.append('user_id', userId);\n          }\n          _context4.n = 1;\n          return fetch(DOBOARD_API_URL + '/' + accountId + '/task_get', {\n            method: 'POST',\n            body: formData\n          });\n        case 1:\n          response = _context4.v;\n          if (response.ok) {\n            _context4.n = 2;\n            break;\n          }\n          throw new Error('Getting tasks failed');\n        case 2:\n          _context4.n = 3;\n          return response.json();\n        case 3:\n          responseBody = _context4.v;\n          if (!(!responseBody || !responseBody.data)) {\n            _context4.n = 4;\n            break;\n          }\n          throw new Error('Invalid response from server');\n        case 4:\n          if (!(responseBody.data.operation_status === 'FAILED')) {\n            _context4.n = 5;\n            break;\n          }\n          throw new Error(responseBody.data.operation_message);\n        case 5:\n          if (!(responseBody.data.operation_status === 'SUCCESS')) {\n            _context4.n = 6;\n            break;\n          }\n          return _context4.a(2, responseBody.data.tasks.map(function (task) {\n            return {\n              taskId: task.task_id,\n              taskTitle: task.name\n            };\n          }));\n        case 6:\n          throw new Error('Unknown error occurred during getting tasks');\n        case 7:\n          return _context4.a(2);\n      }\n    }, _callee4);\n  }));\n  return function getTasksDoboard(_x9, _x0, _x1, _x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\n/**\n * Widget class to create a task widget\n */\nvar CleanTalkWidgetDoboard = /*#__PURE__*/function () {\n  /**\n   * Constructor\n   */\n  function CleanTalkWidgetDoboard(selectedData, type) {\n    _classCallCheck(this, CleanTalkWidgetDoboard);\n    _defineProperty(this, \"selectedText\", '');\n    _defineProperty(this, \"selectedData\", {});\n    _defineProperty(this, \"widgetElement\", null);\n    _defineProperty(this, \"params\", {});\n    _defineProperty(this, \"currentActiveTaskId\", 0);\n    this.selectedData = selectedData;\n    this.selectedText = selectedData.selectedText;\n    this.init(type);\n  }\n\n  /**\n   * Initialize the widget\n   */\n  return _createClass(CleanTalkWidgetDoboard, [{\n    key: \"init\",\n    value: (function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5(type) {\n        return _regenerator().w(function (_context5) {\n          while (1) switch (_context5.n) {\n            case 0:\n              this.params = this.getParams();\n              _context5.n = 1;\n              return this.createWidgetElement(type);\n            case 1:\n              this.widgetElement = _context5.v;\n              this.bindWidgetInputsInteractive();\n            case 2:\n              return _context5.a(2);\n          }\n        }, _callee5, this);\n      }));\n      function init(_x12) {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }())\n  }, {\n    key: \"getParams\",\n    value: function getParams() {\n      var script = document.querySelector(\"script[src*=\\\"doboard-widget-bundle.min.js\\\"]\");\n      if (!script || !script.src) {\n        throw new Error('Script not provided');\n      }\n      var url = new URL(script.src);\n      var params = Object.fromEntries(url.searchParams.entries());\n      if (!params) {\n        throw new Error('Script params not provided');\n      }\n      if (!params.projectToken || !params.accountId || !params.projectId) {\n        throw new Error('Necessary script params not provided');\n      }\n      return params;\n    }\n\n    /**\n     * Binding events to create a task\n     */\n  }, {\n    key: \"bindCreateTaskEvents\",\n    value: function bindCreateTaskEvents() {\n      var _this = this;\n      var submitButton = document.getElementById('doboard_task_widget-submit_button');\n      if (submitButton) {\n        submitButton.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6() {\n          var taskTitleElement, taskTitle, taskDescriptionElement, taskDescription, userName, userEmail, userPassword, loginSectionElement, _userEmailElement, userNameElement, userPasswordElement, userEmailElement, submitButton, taskDetails, submitTaskResult;\n          return _regenerator().w(function (_context6) {\n            while (1) switch (_context6.n) {\n              case 0:\n                // Check required fields: Report about and Description\n                taskTitleElement = document.getElementById('doboard_task_widget-title');\n                taskTitle = taskTitleElement.value;\n                if (taskTitle) {\n                  _context6.n = 1;\n                  break;\n                }\n                taskTitleElement.style.borderColor = 'red';\n                taskTitleElement.focus();\n                taskTitleElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context6.a(2);\n              case 1:\n                taskDescriptionElement = document.getElementById('doboard_task_widget-description');\n                taskDescription = taskDescriptionElement.value;\n                if (taskDescription) {\n                  _context6.n = 2;\n                  break;\n                }\n                taskDescriptionElement.style.borderColor = 'red';\n                taskDescriptionElement.focus();\n                taskDescriptionElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context6.a(2);\n              case 2:\n                // If login section is open, check required fields: Nickname, Email\n                userName = '';\n                userEmail = '';\n                userPassword = '';\n                loginSectionElement = document.querySelector('.doboard_task_widget-login');\n                if (!(loginSectionElement && loginSectionElement.classList.contains('active'))) {\n                  _context6.n = 5;\n                  break;\n                }\n                _userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userNameElement = document.getElementById('doboard_task_widget-user_name');\n                userPasswordElement = document.getElementById('doboard_task_widget-user_password');\n                userEmail = _userEmailElement.value;\n                if (userEmail) {\n                  _context6.n = 3;\n                  break;\n                }\n                _userEmailElement.style.borderColor = 'red';\n                _userEmailElement.focus();\n                _userEmailElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context6.a(2);\n              case 3:\n                if (!(_userEmailElement && userNameElement)) {\n                  _context6.n = 4;\n                  break;\n                }\n                userName = userNameElement.value;\n                if (userName) {\n                  _context6.n = 4;\n                  break;\n                }\n                userNameElement.style.borderColor = 'red';\n                userNameElement.focus();\n                userNameElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context6.a(2);\n              case 4:\n                if (!(_userEmailElement && userPasswordElement && !userNameElement)) {\n                  _context6.n = 5;\n                  break;\n                }\n                userPassword = userPasswordElement.value;\n                if (userPassword) {\n                  _context6.n = 5;\n                  break;\n                }\n                userPasswordElement.style.borderColor = 'red';\n                userPasswordElement.focus();\n                userPasswordElement.addEventListener('input', function () {\n                  this.style.borderColor = '';\n                });\n                return _context6.a(2);\n              case 5:\n                // If it is the login request\n                userEmailElement = document.getElementById('doboard_task_widget-user_email');\n                userEmail = userEmailElement.value;\n\n                // Make the submit button disable with spinner\n                submitButton = document.getElementById('doboard_task_widget-submit_button');\n                submitButton.disabled = true;\n                submitButton.style.cursor = 'waiting';\n                taskDetails = {\n                  taskTitle: taskTitle,\n                  taskDescription: taskDescription,\n                  //typeSend: typeSend,\n                  selectedData: _this.selectedData,\n                  projectToken: _this.params.projectToken,\n                  projectId: _this.params.projectId,\n                  accountId: _this.params.accountId\n                };\n                if (userEmail) {\n                  taskDetails.userEmail = userEmail;\n                }\n                if (userName) {\n                  taskDetails.userName = userName;\n                }\n                if (userPassword) {\n                  taskDetails.userPassword = userPassword;\n                }\n                _context6.n = 6;\n                return _this.submitTask(taskDetails);\n              case 6:\n                submitTaskResult = _context6.v;\n                // Return the submit button normal state\n                submitButton.disabled = false;\n                submitButton.style.cursor = 'pointer';\n                if (!submitTaskResult.needToLogin) {\n                  _context6.n = 7;\n                  break;\n                }\n                return _context6.a(2);\n              case 7:\n                localStorage.setItem(\"spotfix_task_data_\".concat(submitTaskResult.taskId), JSON.stringify(_this.selectedData));\n                _this.selectedData = {};\n                _context6.n = 8;\n                return _this.createWidgetElement('all_issues');\n              case 8:\n                return _context6.a(2);\n            }\n          }, _callee6);\n        })));\n      }\n    }\n\n    /**\n     * Create widget element\n     * @return {HTMLElement} widget element\n     */\n  }, {\n    key: \"createWidgetElement\",\n    value: (function () {\n      var _createWidgetElement = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee7(type) {\n        var _this2 = this,\n          _document$querySelect;\n        var widgetContainer, templateName, variables, taskDetails, issuesQuantityOnPage, tasks, i, elTask, taskId, taskTitle, taskDataString, taskData, currentPageURL, taskNodePath, authorDetails, _variables, taskElement, text, start, end, selectedText, beforeText, afterText, _taskDetails, issuesCommentsContainer, _iterator, _step, comment, commentData, backToAllIssuesController, widgetClass, _t, _t2, _t3, _t4, _t5;\n        return _regenerator().w(function (_context7) {\n          while (1) switch (_context7.p = _context7.n) {\n            case 0:\n              widgetContainer = document.querySelector('.doboard_task_widget') ? document.querySelector('.doboard_task_widget') : document.createElement('div');\n              widgetContainer.className = 'doboard_task_widget';\n              widgetContainer.innerHTML = '';\n              templateName = '';\n              variables = {};\n              _t = type;\n              _context7.n = _t === 'create_issue' ? 1 : _t === 'wrap' ? 2 : _t === 'all_issues' ? 3 : _t === 'concrete_issue' ? 4 : 6;\n              break;\n            case 1:\n              templateName = 'create_issue';\n              variables = {\n                selectedText: this.selectedText,\n                currentDomain: document.location.hostname || ''\n              };\n              return _context7.a(3, 7);\n            case 2:\n              templateName = 'wrap';\n              return _context7.a(3, 7);\n            case 3:\n              templateName = 'all_issues';\n              return _context7.a(3, 7);\n            case 4:\n              templateName = 'concrete_issue';\n              // todo: this is call duplicate!\n              _context7.n = 5;\n              return this.getTaskDetails();\n            case 5:\n              taskDetails = _context7.v;\n              variables = {\n                issueTitle: taskDetails.issueTitle,\n                issueComments: taskDetails.issueComments,\n                issuesCounter: this.getIssuesCounterString()\n              };\n              return _context7.a(3, 7);\n            case 6:\n              return _context7.a(3, 7);\n            case 7:\n              _context7.n = 8;\n              return this.loadTemplate(templateName, variables);\n            case 8:\n              widgetContainer.innerHTML = _context7.v;\n              document.body.appendChild(widgetContainer);\n              _t2 = type;\n              _context7.n = _t2 === 'create_issue' ? 9 : _t2 === 'wrap' ? 10 : _t2 === 'all_issues' ? 11 : _t2 === 'concrete_issue' ? 18 : 30;\n              break;\n            case 9:\n              this.bindCreateTaskEvents();\n              return _context7.a(3, 31);\n            case 10:\n              this.getTaskCount();\n              document.querySelector('.doboard_task_widget-wrap').addEventListener('click', function () {\n                _this2.createWidgetElement('all_issues');\n              });\n              return _context7.a(3, 31);\n            case 11:\n              issuesQuantityOnPage = 0;\n              _context7.n = 12;\n              return this.getTasks();\n            case 12:\n              tasks = _context7.v;\n              this.saveUserData(tasks);\n              if (!(tasks.length > 0)) {\n                _context7.n = 17;\n                break;\n              }\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '';\n              i = 0;\n            case 13:\n              if (!(i < tasks.length)) {\n                _context7.n = 16;\n                break;\n              }\n              elTask = tasks[i]; // Data from api\n              taskId = elTask.taskId;\n              taskTitle = elTask.taskTitle; // Data from local storage\n              taskDataString = localStorage.getItem(\"spotfix_task_data_\".concat(taskId));\n              taskData = taskDataString ? JSON.parse(taskDataString) : null;\n              currentPageURL = taskData.pageURL;\n              taskNodePath = taskData.nodePath;\n              if (!(currentPageURL === window.location.href)) {\n                _context7.n = 15;\n                break;\n              }\n              issuesQuantityOnPage++;\n              authorDetails = this.getTaskAuthorDetails(taskId);\n              _variables = {\n                taskTitle: taskTitle || '',\n                taskAuthorAvatarImgSrc: authorDetails.taskAuthorAvatarImgSrc,\n                taskAuthorName: authorDetails.taskAuthorName,\n                nodePath: taskNodePath,\n                taskId: taskId\n              };\n              _t3 = document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML;\n              _context7.n = 14;\n              return this.loadTemplate('list_issues', _variables);\n            case 14:\n              document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = _t3 += _context7.v;\n              taskElement = taskAnalysis(taskData);\n              if (taskElement) {\n                if (taskData.startSelectPosition !== undefined && taskData.endSelectPosition !== undefined) {\n                  text = taskElement.innerHTML;\n                  start = taskData.startSelectPosition;\n                  end = taskData.endSelectPosition;\n                  selectedText = text.substring(start, end);\n                  beforeText = text.substring(0, start);\n                  afterText = text.substring(end);\n                  taskElement.innerHTML = beforeText + '<span class=\"doboard_task_widget-text_selection\">' + selectedText + '</span>' + afterText;\n                }\n              }\n            case 15:\n              i++;\n              _context7.n = 13;\n              break;\n            case 16:\n              document.querySelector('.doboard_task_widget-header span').innerText += ' (' + issuesQuantityOnPage + ')';\n            case 17:\n              if (tasks.length === 0 || issuesQuantityOnPage === 0) {\n                document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '<div class=\"doboard_task_widget-issues_list_empty\">The issues list is empty</div>';\n              }\n\n              // Bind the click event to the task elements for scrolling to the selected text and Go to concrete issue interface by click issue-item row\n              this.bindIssuesClick();\n              return _context7.a(3, 31);\n            case 18:\n              _context7.n = 19;\n              return this.getTaskDetails();\n            case 19:\n              _taskDetails = _context7.v;\n              variables = {\n                issueTitle: _taskDetails.issueTitle,\n                issueComments: _taskDetails.issueComments,\n                issuesCounter: this.getIssuesCounterString()\n              };\n              issuesCommentsContainer = document.querySelector('.doboard_task_widget-concrete_issues-container');\n              if (!(_taskDetails.issueComments.length > 0)) {\n                _context7.n = 28;\n                break;\n              }\n              issuesCommentsContainer.innerHTML = '';\n              _iterator = _createForOfIteratorHelper(_taskDetails.issueComments);\n              _context7.p = 20;\n              _iterator.s();\n            case 21:\n              if ((_step = _iterator.n()).done) {\n                _context7.n = 24;\n                break;\n              }\n              comment = _step.value;\n              commentData = {\n                commentAuthorAvatarSrc: comment.commentAuthorAvatarSrc,\n                commentAuthorName: comment.commentAuthorName,\n                commentBody: comment.commentBody,\n                commentDate: comment.commentDate,\n                commentTime: comment.commentTime,\n                issueTitle: variables.issueTitle,\n                issuesCounter: variables.issuesCounter\n              };\n              _t4 = issuesCommentsContainer.innerHTML;\n              _context7.n = 22;\n              return this.loadTemplate('concrete_issue_messages', commentData);\n            case 22:\n              issuesCommentsContainer.innerHTML = _t4 += _context7.v;\n            case 23:\n              _context7.n = 21;\n              break;\n            case 24:\n              _context7.n = 26;\n              break;\n            case 25:\n              _context7.p = 25;\n              _t5 = _context7.v;\n              _iterator.e(_t5);\n            case 26:\n              _context7.p = 26;\n              _iterator.f();\n              return _context7.f(26);\n            case 27:\n              _context7.n = 29;\n              break;\n            case 28:\n              issuesCommentsContainer.innerHTML = 'No comments';\n            case 29:\n              return _context7.a(3, 31);\n            case 30:\n              return _context7.a(3, 31);\n            case 31:\n              backToAllIssuesController = document.querySelector('.doboard_task_widget_return_to_all');\n              if (backToAllIssuesController) {\n                widgetClass = this;\n                backToAllIssuesController.addEventListener('click', function (e) {\n                  var self = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : widgetClass;\n                  self.createWidgetElement('all_issues');\n                });\n              }\n              ((_document$querySelect = document.querySelector('.doboard_task_widget-close_btn')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.addEventListener('click', function () {\n                _this2.hide();\n              })) || '';\n              return _context7.a(2, widgetContainer);\n          }\n        }, _callee7, this, [[20, 25, 26, 27]]);\n      }));\n      function createWidgetElement(_x13) {\n        return _createWidgetElement.apply(this, arguments);\n      }\n      return createWidgetElement;\n    }())\n  }, {\n    key: \"bindIssuesClick\",\n    value: function bindIssuesClick() {\n      var _this3 = this;\n      document.querySelectorAll('.issue-item').forEach(function (item) {\n        item.addEventListener('click', /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee8() {\n          var nodePath;\n          return _regenerator().w(function (_context8) {\n            while (1) switch (_context8.n) {\n              case 0:\n                nodePath = JSON.parse(item.getAttribute('data-node-path'));\n                scrollToNodePath(nodePath);\n                _this3.currentActiveTaskId = item.getAttribute('data-task-id');\n                _context8.n = 1;\n                return _this3.createWidgetElement('concrete_issue');\n              case 1:\n                return _context8.a(2);\n            }\n          }, _callee8);\n        })));\n      });\n    }\n\n    /**\n     * Load the template\n     *\n     * @param templateName\n     * @param variables\n     * @return {Promise<string>}\n     * @ToDo have to refactor templates loaded method: need to be templates included into the bundle\n     *\n     */\n  }, {\n    key: \"loadTemplate\",\n    value: (function () {\n      var _loadTemplate = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee9(templateName) {\n        var variables,\n          response,\n          template,\n          _i,\n          _Object$entries,\n          _Object$entries$_i,\n          key,\n          value,\n          placeholder,\n          _args9 = arguments;\n        return _regenerator().w(function (_context9) {\n          while (1) switch (_context9.n) {\n            case 0:\n              variables = _args9.length > 1 && _args9[1] !== undefined ? _args9[1] : {};\n              _context9.n = 1;\n              return fetch(\"/spotfix/templates/\".concat(templateName, \".html\"));\n            case 1:\n              response = _context9.v;\n              _context9.n = 2;\n              return response.text();\n            case 2:\n              template = _context9.v;\n              for (_i = 0, _Object$entries = Object.entries(variables); _i < _Object$entries.length; _i++) {\n                _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2), key = _Object$entries$_i[0], value = _Object$entries$_i[1];\n                placeholder = \"{{\".concat(key, \"}}\");\n                template = template.replaceAll(placeholder, value);\n              }\n              return _context9.a(2, template);\n          }\n        }, _callee9);\n      }));\n      function loadTemplate(_x14) {\n        return _loadTemplate.apply(this, arguments);\n      }\n      return loadTemplate;\n    }())\n  }, {\n    key: \"getTaskCount\",\n    value: function () {\n      var _getTaskCount = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee0() {\n        var projectToken, sessionId, user_id, tasks, taskCountElement;\n        return _regenerator().w(function (_context0) {\n          while (1) switch (_context0.n) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context0.n = 1;\n                break;\n              }\n              return _context0.a(2, {});\n            case 1:\n              projectToken = this.params.projectToken;\n              sessionId = localStorage.getItem('spotfix_session_id');\n              user_id = localStorage.getItem('spotfix_user_id') ? localStorage.getItem('spotfix_user_id') : '';\n              _context0.n = 2;\n              return getTasksDoboard(projectToken, sessionId, this.params.accountId, this.params.projectId, user_id);\n            case 2:\n              tasks = _context0.v;\n              taskCountElement = document.getElementById('doboard_task_widget-task_count');\n              if (taskCountElement) {\n                taskCountElement.innerText = tasks.length;\n                taskCountElement.classList.remove('hidden');\n              }\n            case 3:\n              return _context0.a(2);\n          }\n        }, _callee0, this);\n      }));\n      function getTaskCount() {\n        return _getTaskCount.apply(this, arguments);\n      }\n      return getTaskCount;\n    }()\n    /**\n     * Bind events to the widget\n     */\n    /*bindEvents() {\n        this.submitButton.addEventListener('click', () => this.submitTask());\n    }*/\n    /**\n     * Submit the task\n     */\n  }, {\n    key: \"submitTask\",\n    value: (function () {\n      var _submitTask = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee1(taskDetails) {\n        var sessionId;\n        return _regenerator().w(function (_context1) {\n          while (1) switch (_context1.n) {\n            case 0:\n              if (localStorage.getItem('spotfix_session_id')) {\n                _context1.n = 2;\n                break;\n              }\n              _context1.n = 1;\n              return this.registerUser(taskDetails);\n            case 1:\n              if (!taskDetails.userPassword) {\n                _context1.n = 2;\n                break;\n              }\n              _context1.n = 2;\n              return this.loginUser(taskDetails);\n            case 2:\n              sessionId = localStorage.getItem('spotfix_session_id');\n              if (sessionId) {\n                _context1.n = 3;\n                break;\n              }\n              return _context1.a(2, {\n                needToLogin: true\n              });\n            case 3:\n              _context1.n = 4;\n              return this.createTask(sessionId, taskDetails);\n            case 4:\n              return _context1.a(2, _context1.v);\n          }\n        }, _callee1, this);\n      }));\n      function submitTask(_x15) {\n        return _submitTask.apply(this, arguments);\n      }\n      return submitTask;\n    }()\n    /**\n     * Create a task\n     * @param {*} taskDetails\n     * @param {string} sessionId\n     */\n    )\n  }, {\n    key: \"createTask\",\n    value: function createTask(sessionId, taskDetails) {\n      return createTaskDoboard(sessionId, taskDetails).then(function (response) {\n        return response;\n      });\n    }\n  }, {\n    key: \"registerUser\",\n    value: function registerUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userName = taskDetails.userName;\n      var projectToken = taskDetails.projectToken;\n      var accountId = taskDetails.accountId;\n      return _registerUser(projectToken, accountId, userEmail, userName).then(function (response) {\n        if (response.accountExists) {\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container\").innerText = 'Account already exists. Please, login usin your password.';\n          document.querySelector(\".doboard_task_widget-accordion>.doboard_task_widget-input-container.hidden\").classList.remove('hidden');\n          document.getElementById(\"doboard_task_widget-user_password\").focus();\n        } else if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  }, {\n    key: \"loginUser\",\n    value: function loginUser(taskDetails) {\n      var userEmail = taskDetails.userEmail;\n      var userPassword = taskDetails.userPassword;\n      return _loginUser(userEmail, userPassword).then(function (response) {\n        if (response.sessionId) {\n          localStorage.setItem('spotfix_session_id', response.sessionId);\n          localStorage.setItem('spotfix_user_id', response.userId);\n          localStorage.setItem('spotfix_email', response.email);\n        } else {\n          throw new Error('Session ID not found in response');\n        }\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n\n    /**\n     * Get the task\n     *\n     * @return {any|Promise<*|undefined>|{}}\n     */\n  }, {\n    key: \"getTasks\",\n    value: function getTasks() {\n      if (!localStorage.getItem('spotfix_session_id')) {\n        return {};\n      }\n      var projectToken = this.params.projectToken;\n      var sessionId = localStorage.getItem('spotfix_session_id');\n      var userId = localStorage.getItem('spotfix_user_id');\n      return getTasksDoboard(projectToken, sessionId, this.params.accountId, this.params.projectId, userId);\n    }\n  }, {\n    key: \"getTaskDetails\",\n    value: function getTaskDetails(taskId) {\n      //contract mock\n      return {\n        issueTitle: 'Test Title',\n        issueComments: [{\n          commentAuthorAvatarSrc: '/spotfix/img/empty_avatar.png',\n          commentAuthorName: 'testName 1',\n          commentBody: 'Test Body 1',\n          commentDate: 'August 31',\n          commentTime: '14:15'\n        }, {\n          commentAuthorAvatarSrc: '/spotfix/img/empty_avatar.png',\n          commentAuthorName: 'testName 2',\n          commentBody: 'Test Body 2',\n          commentDate: 'August 31',\n          commentTime: '14:16'\n        }]\n      };\n    }\n  }, {\n    key: \"saveUserData\",\n    value: function saveUserData(tasks) {\n      // Save users avatars to local storage\n    }\n\n    /**\n     * Hide the widget\n     */\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.createWidgetElement('wrap');\n      var textSelectionclassName = 'doboard_task_widget-text_selection';\n      var spans = document.querySelectorAll('.' + textSelectionclassName);\n      spans.forEach(function (span) {\n        var parent = span.parentNode;\n        while (span.firstChild) {\n          parent.insertBefore(span.firstChild, span);\n        }\n        parent.removeChild(span);\n      });\n    }\n  }, {\n    key: \"bindWidgetInputsInteractive\",\n    value: function bindWidgetInputsInteractive() {\n      // Customising placeholders\n      var inputs = document.querySelectorAll('.doboard_task_widget-field');\n      inputs.forEach(function (input) {\n        if (input.value) {\n          input.classList.add('has-value');\n        }\n        input.addEventListener('input', function () {\n          if (input.value) {\n            input.classList.add('has-value');\n          } else {\n            input.classList.remove('has-value');\n          }\n        });\n        input.addEventListener('blur', function () {\n          if (!input.value) {\n            input.classList.remove('has-value');\n          }\n        });\n      });\n\n      // Customising accordion dropdown\n      var accordionController = document.querySelector('.doboard_task_widget-login span');\n      if (accordionController) {\n        accordionController.addEventListener('click', function () {\n          this.closest('.doboard_task_widget-login').classList.toggle('active');\n        });\n      }\n    }\n  }, {\n    key: \"getTaskAuthorDetails\",\n    value: function getTaskAuthorDetails(taskId) {\n      var mockUsersData = [{\n        'taskId': '1',\n        'taskAuthorAvatarImgSrc': '/spotfix/img/empty_avatar.png',\n        'taskAuthorName': 'Test All Issues Single Author Name'\n      }];\n      var defaultData = {\n        'taskId': null,\n        'taskAuthorAvatarImgSrc': '/spotfix/img/empty_avatar.png',\n        'taskAuthorName': 'Unknown Author'\n      };\n      var data = mockUsersData.find(function (element) {\n        return element.taskId === taskId;\n      });\n\n      //probably use refilling vai API there instead of default val\n\n      return data === undefined ? defaultData : data;\n    }\n  }, {\n    key: \"getIssuesCounterString\",\n    value: function getIssuesCounterString() {\n      var mock = {\n        'totalTasks': 15,\n        'tasksOnPage': 1\n      };\n      return \"(\".concat(mock.tasksOnPage, \"/\").concat(mock.totalTasks, \")\");\n    }\n  }]);\n}();\nvar selectedData = {};\nvar widgetTimeout = null;\ndocument.addEventListener('DOMContentLoaded', function () {\n  new CleanTalkWidgetDoboard({}, 'wrap');\n});\ndocument.addEventListener('selectionchange', function (e) {\n  if (widgetTimeout) {\n    clearTimeout(widgetTimeout);\n  }\n  widgetTimeout = setTimeout(function () {\n    var selection = window.getSelection();\n    if (selection.type === 'Range') {\n      var _selectedData = getSelectedData(selection);\n      var widgetExist = document.querySelector('.task-widget');\n      openWidget(_selectedData, widgetExist, 'create_issue');\n    }\n  }, 1000);\n});\n\n/**\n * Open the widget to create a task.\n * @param {*} selectedData\n * @param {*} widgetExist\n * @param {*} type\n */\nfunction openWidget(selectedData, widgetExist, type) {\n  if (selectedData && !widgetExist) {\n    new CleanTalkWidgetDoboard(selectedData, type);\n  }\n}\n\n/**\n * Get the selected data from the DOM\n * @param {Selection} selectedData\n * @returns {Object}\n */\nfunction getSelectedData(selectedData) {\n  var pageURL = window.location.href;\n  var selectedText = selectedData.toString();\n  var anchorOffset = selectedData.anchorOffset;\n  var focusOffset = selectedData.focusOffset;\n  return {\n    startSelectPosition: Math.min(anchorOffset, focusOffset),\n    endSelectPosition: Math.max(anchorOffset, focusOffset),\n    selectedText: selectedText,\n    pageURL: pageURL,\n    nodePath: calculateNodePath(selectedData.focusNode.parentNode)\n  };\n}\n\n/**\n * Calculate the path of a DOM node\n *\n * @param {Node} node\n * @return {int[]}\n */\nfunction calculateNodePath(node) {\n  var path = [];\n  while (node) {\n    var index = 0;\n    var sibling = node.previousSibling;\n    while (sibling) {\n      if (sibling.nodeType === 1) {\n        index++;\n      }\n      sibling = sibling.previousSibling;\n    }\n    path.unshift(index);\n    node = node.parentNode;\n  }\n\n  // Hard fix - need to remove first element to work correctly\n  path.shift();\n  return path;\n}\n\n/**\n * Retrieve a DOM node from a path\n *\n * @param {int[]} path\n * @return {*|null}\n */\nfunction retrieveNodeFromPath(path) {\n  // @ToDo check if the path is correct\n  if (!path) {\n    return null;\n  }\n  var node = document;\n  for (var i = 0; i < path.length; i++) {\n    node = node.children[path[i]];\n    if (!node) {\n      return null;\n    }\n  }\n  return node;\n}\n\n/**\n * Analyze the task selected data\n * @param {Object} taskSelectedData\n * @return {Element|null}\n */\nfunction taskAnalysis(taskSelectedData) {\n  var nodePath = taskSelectedData.nodePath;\n  return retrieveNodeFromPath(nodePath);\n}\n\n/**\n * Scroll to an element by tag, class, and text content\n * @param {string} path - The path to the element\n * @return {boolean} - True if the element was found and scrolled to, false otherwise\n */\nfunction scrollToNodePath(path) {\n  var node = retrieveNodeFromPath(path);\n  if (node && node.scrollIntoView) {\n    node.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center'\n    });\n    return true;\n  }\n  return false;\n}"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","t","n","i","u","a","f","call","next","Object","done","push","value","length","return","Array","isArray","_createForOfIteratorHelper","_n","s","F","_arrayLikeToArray","toString","slice","name","from","test","_classCallCheck","_defineProperties","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","_defineProperty","_toPrimitive","toPrimitive","String","Number","_regenerator","toStringTag","c","p","y","G","Generator","create","_regeneratorDefine2","v","d","bind","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","this","setPrototypeOf","__proto__","displayName","w","m","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","DOBOARD_API_URL","createTaskDoboard","_ref","_callee","sessionId","taskDetails","accountId","formData","response","responseBody","_context","FormData","append","projectToken","projectId","localStorage","getItem","taskTitle","taskDescription","fetch","method","body","ok","Error","json","data","operation_status","operation_message","taskId","task_id","_x","_x2","_registerUser","_ref2","_callee2","email","nickname","_context2","user_email_confirmed","accountExists","session_id","userId","user_id","_x3","_x4","_x5","_x6","_loginUser","_ref3","_callee3","password","_context3","_x7","_x8","getTasksDoboard","_ref4","_callee4","_context4","tasks","map","task","_x9","_x0","_x1","_x10","_x11","CleanTalkWidgetDoboard","selectedData","type","selectedText","init","_init","_callee5","_context5","params","getParams","createWidgetElement","widgetElement","bindWidgetInputsInteractive","_x12","script","document","querySelector","src","url","URL","fromEntries","searchParams","entries","_this","submitButton","getElementById","addEventListener","_callee6","taskDescriptionElement","userName","userEmail","userPassword","_userEmailElement","userNameElement","userPasswordElement","userEmailElement","submitTaskResult","_context6","taskTitleElement","style","borderColor","focus","loginSectionElement","classList","contains","disabled","cursor","submitTask","needToLogin","setItem","concat","JSON","stringify","_createWidgetElement","_callee7","widgetContainer","templateName","variables","issuesQuantityOnPage","taskData","taskElement","text","start","end","_taskDetails","issuesCommentsContainer","_iterator","_step","comment","backToAllIssuesController","widgetClass","_t","_t2","_t3","_t4","_t5","_this2","_context7","createElement","className","innerHTML","currentDomain","location","hostname","getTaskDetails","issueTitle","issueComments","issuesCounter","getIssuesCounterString","loadTemplate","appendChild","bindCreateTaskEvents","getTaskCount","getTasks","saveUserData","elTask","taskDataString","parse","currentPageURL","pageURL","taskNodePath","nodePath","window","href","authorDetails","getTaskAuthorDetails","_variables","taskAuthorAvatarImgSrc","taskAuthorName","taskAnalysis","undefined","startSelectPosition","endSelectPosition","substring","beforeText","afterText","innerText","bindIssuesClick","commentData","commentAuthorAvatarSrc","commentAuthorName","commentBody","commentDate","commentTime","_document$querySelect","hide","_x13","_this3","querySelectorAll","forEach","item","_callee8","_context8","scrollToNodePath","getAttribute","currentActiveTaskId","_loadTemplate","_callee9","template","_i","_Object$entries","placeholder","_args9","_context9","_Object$entries$_i","replaceAll","_x14","_getTaskCount","_callee0","taskCountElement","_context0","remove","_submitTask","_callee1","_context1","registerUser","loginUser","createTask","_x15","catch","error","span","parent","parentNode","firstChild","insertBefore","removeChild","input","add","accordionController","closest","toggle","find","element","mock","widgetTimeout","openWidget","widgetExist","getSelectedData","anchorOffset","focusOffset","Math","min","max","calculateNodePath","focusNode","node","path","index","sibling","previousSibling","nodeType","unshift","shift","retrieveNodeFromPath","children","taskSelectedData","scrollIntoView","behavior","block","clearTimeout","setTimeout","selection","getSelection"],"mappings":"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"}