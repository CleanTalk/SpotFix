let DOBOARD_API_URL="https://api-next.doboard.com",createTaskDoboard=async(e,t)=>{var a=t.accountId,s=new FormData,e=(s.append("session_id",e),s.append("project_token",t.projectToken),s.append("project_id",t.projectId),s.append("user_id",localStorage.getItem("spotfix_user_id")),s.append("name",t.taskTitle),s.append("comment",t.taskDescription),s.append("meta",t.taskMeta),await fetch(DOBOARD_API_URL+"/"+a+"/task_add",{method:"POST",body:s}));if(!e.ok)throw new Error("Failed to create task");t=await e.json();if(!t||!t.data)throw new Error("Invalid response from server");if("FAILED"===t.data.operation_status)throw new Error(t.data.operation_message);if("SUCCESS"===t.data.operation_status)return{taskId:t.data.task_id,isPublic:1};throw new Error("Unknown error occurred during creating task")},createTaskCommentDoboard=async(e,t,a,s,r,o="ACTIVE")=>{e=await fetch(DOBOARD_API_URL+"/"+e+"/comment_add?session_id="+t+"&task_id="+a+"&comment="+s+"&project_token="+r+"&status="+o,{method:"GET"});if(!e.ok)throw new Error("Failed to create task comment");t=await e.json();if(!t||!t.data)throw new Error("Invalid response from server");if("FAILED"===t.data.operation_status)throw new Error(t.data.operation_message);if("SUCCESS"===t.data.operation_status)return{commentId:t.data.comment_id};throw new Error("Unknown error occurred during creating task comment")},registerUserDoboard=async(e,t,a,s)=>{var r=new FormData,e=(r.append("project_token",e),r.append("account_id",t),a&&s&&(r.append("email",a),r.append("nickname",s)),await fetch(DOBOARD_API_URL+"/user_registration",{method:"POST",body:r}));if(!e.ok)throw new Error("Registration failed");t=await e.json();if(!t||!t.data)throw new Error("Invalid response from server");if("FAILED"===t.data.operation_status)throw new Error(t.data.operation_message);if("SUCCESS"===t.data.operation_status)return 1===t.data.user_email_confirmed?{accountExists:!0}:{sessionId:t.data.session_id,userId:t.data.user_id,email:t.data.email};throw new Error("Unknown error occurred during registration")},loginUser=async(e,t)=>{var a=new FormData,t=(a.append("email",e),a.append("password",t),await fetch(DOBOARD_API_URL+"/user_authorize",{method:"POST",body:a}));if(!t.ok)throw new Error("Authorization failed");a=await t.json();if(!a||!a.data)throw new Error("Invalid response from server");if("FAILED"===a.data.operation_status)throw new Error(a.data.operation_message);if("SUCCESS"===a.data.operation_status)return{sessionId:a.data.session_id,userId:a.data.user_id,email:e};throw new Error("Unknown error occurred during registration")},getTasksDoboard=async(e,t,a,s,r)=>{var o=new FormData,e=(o.append("project_token",e),o.append("session_id",t),o.append("project_id",s),o.append("status","ACTIVE"),r&&o.append("user_id",r),await fetch(DOBOARD_API_URL+"/"+a+"/task_get",{method:"POST",body:o}));if(!e.ok)throw new Error("Getting tasks failed");t=await e.json();if(!t||!t.data)throw new Error("Invalid response from server");if("FAILED"===t.data.operation_status)throw new Error(t.data.operation_message);if("SUCCESS"===t.data.operation_status)return t.data.tasks.map(e=>({taskId:e.task_id,taskTitle:e.name,taskLastUpdate:e.updated,taskCreated:e.created,taskCreatorTaskUser:e.creator_user_id,taskMeta:e.meta}));throw new Error("Unknown error occurred during getting tasks")},getTaskCommentsDoboard=async(e,t,a,s,r="ACTIVE")=>{a=await fetch(DOBOARD_API_URL+"/"+a+"/comment_get?session_id="+t+"&status="+r+"&task_id="+e+"&project_token="+s,{method:"GET"});if(!a.ok)throw new Error("Getting logs failed");t=await a.json();if(!t||!t.data)throw new Error("Invalid response from server");if("FAILED"===t.data.operation_status)throw new Error(t.data.operation_message);if("SUCCESS"===t.data.operation_status)return t.data.comments.map(e=>({commentId:e.comment_id,userId:e.user_id,comment:e.comment,commentBody:e.comment_text,commentDate:e.updated,status:e.status,issueTitle:e.task_name}));throw new Error("Unknown error occurred during getting comments")},getUserDoboard=async(e,t,a)=>{a=await fetch(DOBOARD_API_URL+"/"+a+"/user_get?session_id="+e+"&project_token="+t,{method:"GET"});if(!a.ok)throw new Error("Getting user failed");e=await a.json();if(!e)throw new Error("Invalid response from server");if(e.data&&e.data.operation_status){if("FAILED"===e.data.operation_status)throw new Error(e.data.operation_message);if("SUCCESS"===e.data.operation_status)return Array.isArray(e.data.users)?e.data.users:[]}if(e.operation_status){if("FAILED"===e.operation_status)throw new Error(e.operation_message);if("SUCCESS"===e.operation_status)return Array.isArray(e.users)?e.users:[]}throw new Error("Unknown error occurred during getting user")},userUpdateDoboard=async(e,t,a,s,r)=>{t=await fetch(DOBOARD_API_URL+"/"+t+"/user_update?session_id="+a+"&project_token="+e+"&user_id="+s+"&timezone="+r,{method:"GET"});if(!t.ok)throw new Error("User update failed");a=await t.json();if(!a||!a.data)throw new Error("Invalid response from server");if("FAILED"===a.data.operation_status)throw new Error(a.data.operation_message);if("SUCCESS"===a.data.operation_status)return{success:!0};throw new Error("Unknown error occurred during user update")};async function getTaskFullDetails(e,t){var a=localStorage.getItem("spotfix_session_id"),s=await getTaskCommentsDoboard(t,a,e.accountId,e.projectToken);let r=await getUserDoboard(a,e.projectToken,e.accountId),o=0<s.length?s[0]:null,i=null,n=(o&&r&&0<r.length&&(i=r.find(e=>String(e.user_id)===String(o.userId))),"");return o&&((a=formatDate(o.commentDate)).date,n=a.time),{taskId:t,taskAuthorAvatarImgSrc:getAvatarSrc(i),taskAuthorName:getAuthorName(i),lastMessageText:o?o.commentBody:"No messages yet",lastMessageTime:n,issueTitle:0<s.length?s[0].issueTitle:"No Title",issueComments:s.sort((e,t)=>new Date(e.commentDate)-new Date(t.commentDate)).map(t=>{var{date:e,time:a}=formatDate(t.commentDate);let s=null;return{commentAuthorAvatarSrc:getAvatarSrc(s=r&&0<r.length?r.find(e=>String(e.user_id)===String(t.userId)):s),commentAuthorName:getAuthorName(s),commentBody:t.commentBody,commentDate:e,commentTime:a,commentUserId:t.userId||"Unknown User"}})}}async function handleCreateTask(e,t){try{var a=await createTaskDoboard(e,t);return a&&a.taskId&&t.taskDescription&&await addTaskComment({projectToken:t.projectToken,accountId:t.accountId},a.taskId,t.taskDescription),a}catch(e){throw e}}async function addTaskComment(e,t,a){var s=localStorage.getItem("spotfix_session_id");if(!s)throw new Error("No session");if(e.projectToken&&e.accountId)return createTaskCommentDoboard(e.accountId,s,t,a,e.projectToken);throw new Error("Missing params")}function getUserTasks(e){var t,a,s;return localStorage.getItem("spotfix_session_id")?(t=e.projectToken,a=localStorage.getItem("spotfix_session_id"),s=localStorage.getItem("spotfix_user_id"),getTasksDoboard(t,a,e.accountId,e.projectId,s)):{}}async function getAllTasks(e){var t,a;return localStorage.getItem("spotfix_session_id")?(t=e.projectToken,a=localStorage.getItem("spotfix_session_id"),(await getTasksDoboard(t,a,e.accountId,e.projectId)).filter(e=>e.taskMeta)):{}}function formatDate(e){if(!e)return{date:"",time:""};let t;return t=!e.includes("T")&&e.includes(" ")?new Date(e.replace(" ","T")):new Date(e),isNaN(t.getTime())?{date:"",time:""}:(e=t.getTimezoneOffset(),{date:["January","February","March","April","May","June","July","August","September","October","November","December"][(e=new Date(t.getTime()-6e4*e)).getMonth()]+" "+e.getDate(),time:e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")})}function getTaskAuthorDetails(e,t){localStorage.getItem("spotfix_session_id");var a=[{taskId:"1",taskAuthorAvatarImgSrc:"https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/avatars/081a1b65d20fe318/m.jpg",taskAuthorName:"Test All Issues Single Author Name"}].find(e=>e.taskId===t);return void 0===a?{taskId:null,taskAuthorAvatarImgSrc:null,taskAuthorName:"Task Author"}:a}function getIssuesCounterString(e,t){return`(${e}/${t})`}function getAvatarSrc(e){if(e&&e.avatar){if("object"==typeof e.avatar&&e.avatar.m)return e.avatar.m;if("string"==typeof e.avatar)return e.avatar}return null}function getAuthorName(e){if(e){if(e.name&&0<e.name.trim().length)return e.name;if(e.email&&0<e.email.trim().length)return e.email}return"Unknown Author"}function registerUser(e){var t=e.userEmail,a=e.userName;let s=e.projectToken,r=e.accountId;return registerUserDoboard(s,r,t,a).then(e=>{if(e.accountExists)document.querySelector(".doboard_task_widget-accordion>.doboard_task_widget-input-container").innerText="Account already exists. Please, login usin your password.",document.querySelector(".doboard_task_widget-accordion>.doboard_task_widget-input-container.hidden").classList.remove("hidden"),document.getElementById("doboard_task_widget-user_password").focus();else{if(!e.sessionId)throw new Error("Session ID not found in response");localStorage.setItem("spotfix_session_id",e.sessionId),localStorage.setItem("spotfix_user_id",e.userId),localStorage.setItem("spotfix_email",e.email),userUpdate(s,r)}}).catch(e=>{throw e})}function userUpdate(e,t){var a=localStorage.getItem("spotfix_session_id"),s=localStorage.getItem("spotfix_user_id"),r=Intl.DateTimeFormat().resolvedOptions().timeZone;return userUpdateDoboard(e,t,a,s,r)}class CleanTalkWidgetDoboard{selectedText="";selectedData={};widgetElement=null;params={};currentActiveTaskId=0;savedIssuesQuantityOnPage=0;savedIssuesQuantityAll=0;constructor(e,t){this.selectedData=e,this.selectedText=e.selectedText,this.init(t)}async init(e){this.params=this.getParams(),this.widgetElement=await this.createWidgetElement(e),this.bindWidgetInputsInteractive()}getParams(){var e=document.querySelector('script[src*="doboard-widget-bundle.min.js"]');if(!e||!e.src)throw new Error("Script not provided");e=new URL(e.src),e=Object.fromEntries(e.searchParams.entries());if(!e)throw new Error("Script params not provided");if(e.projectToken&&e.accountId&&e.projectId)return e;throw new Error("Necessary script params not provided")}bindCreateTaskEvents(){var e=document.getElementById("doboard_task_widget-submit_button");e&&e.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-title"),r=e.value;if(r){var t=document.getElementById("doboard_task_widget-description"),o=t.value;if(o){let t="",a="",s="";var i=document.querySelector(".doboard_task_widget-login");if(i&&i.classList.contains("active")){let e=document.getElementById("doboard_task_widget-user_email");var i=document.getElementById("doboard_task_widget-user_name"),n=document.getElementById("doboard_task_widget-user_password");if(!(a=e.value))return e.style.borderColor="red",e.focus(),void e.addEventListener("input",function(){this.style.borderColor=""});if(e&&i&&!(t=i.value))return i.style.borderColor="red",i.focus(),void i.addEventListener("input",function(){this.style.borderColor=""});if(e&&n&&!i&&!(s=n.value))return n.style.borderColor="red",n.focus(),void n.addEventListener("input",function(){this.style.borderColor=""})}let e=document.getElementById("doboard_task_widget-user_email");a=e.value;i=document.getElementById("doboard_task_widget-submit_button"),n=(i.disabled=!0,i.innerText="Creating spot...",{taskTitle:r,taskDescription:o,selectedData:this.selectedData,projectToken:this.params.projectToken,projectId:this.params.projectId,accountId:this.params.accountId,taskMeta:JSON.stringify(this.selectedData)}),r=(a&&(n.userEmail=a),t&&(n.userName=t),s&&(n.userPassword=s),await this.submitTask(n));i.disabled=!1,i.style.cursor="pointer",r.needToLogin||(void 0!==r.isPublic&&(this.selectedData.isPublic=r.isPublic),this.selectedData={},await this.createWidgetElement("all_issues"),hideContainersSpinner(!1))}else t.style.borderColor="red",t.focus(),t.addEventListener("input",function(){this.style.borderColor=""})}else e.style.borderColor="red",e.focus(),e.addEventListener("input",function(){this.style.borderColor=""})})}async createWidgetElement(e,r=!0){var t=document.querySelector(".doboard_task_widget")?document.querySelector(".doboard_task_widget"):document.createElement("div");t.className="doboard_task_widget";let a=t.innerHTML="",o={};switch(e){case"create_issue":a="create_issue",o={selectedText:this.selectedText,currentDomain:document.location.hostname||""};break;case"wrap":a="wrap";break;case"all_issues":a="all_issues";break;case"concrete_issue":a="concrete_issue",getTaskFullDetails(this.params,this.currentActiveTaskId).then(e=>{var e=e.issueTitle,t=document.querySelector(".doboard_task_widget-issue-title");t&&(t.innerHTML=e)}),o={issueTitle:"...",issuesCounter:getIssuesCounterString(this.savedIssuesQuantityOnPage,this.savedIssuesQuantityAll),paperclipImgSrc:"/spotfix/img/send-message--paperclip.svg",sendButtonImgSrc:"/spotfix/img/send-message--button.svg",msgFieldBackgroundImgSrc:"/spotfix/img/send-message--input-background.svg"}}switch(t.innerHTML=await this.loadTemplate(a,o),document.body.appendChild(t),e){case"create_issue":this.bindCreateTaskEvents();break;case"wrap":await this.getTaskCount(),document.querySelector(".doboard_task_widget-wrap").addEventListener("click",()=>{this.createWidgetElement("all_issues")}),hideContainersSpinner(!1);break;case"all_issues":this.removeTextSelection();let s=0;var i=await getAllTasks(this.params),n=[];if(0<i.length){document.querySelector(".doboard_task_widget-all_issues-container").innerHTML="";for(let e=0;e<i.length;e++){var d=i[e],c=d.taskId,l=d.taskTitle,u=d.taskMeta,d=formatDate(d.taskLastUpdate).time,u=u?JSON.parse(u):null,A=u?u.pageURL:"",m=u?u.nodePath:"";let t="",a="Task publicity is unknown";if(u&&void 0!==u.isPublic&&(a=u.isPublic?(t="/spotfix/img/public.svg","The task is public"):(t="/spotfix/img/private.svg","The task is private and visible only for registered DoBoard users")),!r||A===window.location.href){s++;var A=await getTaskFullDetails(this.params,c),g=getAvatarData(A);let e={taskTitle:l||"",taskAuthorAvatarImgSrc:A.taskAuthorAvatarImgSrc,taskAuthorName:A.taskAuthorName,taskPublicStatusImgSrc:t,taskPublicStatusHint:a,taskLastMessage:A.lastMessageText,taskLastUpdate:d,nodePath:m,taskId:c,avatarCSSClass:g.avatarCSSClass,avatarStyle:g.avatarStyle,taskAuthorInitials:g.taskAuthorInitials,initialsClass:g.initialsClass};document.querySelector(".doboard_task_widget-all_issues-container").innerHTML+=await this.loadTemplate("list_issues",e),n.push(u)}}this.savedIssuesQuantityOnPage=s,this.savedIssuesQuantityAll=i.length,this.highlightElements(n),document.querySelector(".doboard_task_widget-header span").innerText+=" "+getIssuesCounterString(this.savedIssuesQuantityOnPage,this.savedIssuesQuantityAll)}0!==i.length&&0!==s||(document.querySelector(".doboard_task_widget-all_issues-container").innerHTML='<div class="doboard_task_widget-issues_list_empty">The issues list is empty</div>'),this.bindIssuesClick(),hideContainersSpinner(!1);break;case"concrete_issue":var p=await getTaskFullDetails(this.params,this.currentActiveTaskId),h=(o={issueTitle:p.issueTitle,issueComments:p.issueComments,issuesCounter:getIssuesCounterString(),chevronBackTitle:"Back to all spots"},document.querySelector(".doboard_task_widget-concrete_issues-container")),w=[],k=localStorage.getItem("spotfix_user_id");if(0<p.issueComments.length){h.innerHTML="";for(var v of p.issueComments){var I=Number(k)===Number(v.commentUserId),f=getAvatarData({taskAuthorAvatarImgSrc:v.commentAuthorAvatarSrc,taskAuthorName:v.commentAuthorName,userIsIssuer:I}),I={commentAuthorName:v.commentAuthorName,commentBody:v.commentBody,commentDate:v.commentDate,commentTime:v.commentTime,issueTitle:o.issueTitle,issuesCounter:o.issuesCounter,commentContainerBackgroundSrc:I?"/spotfix/img/comment-self-background.png":"/spotfix/img/comment-other-background.png",avatarCSSClass:f.avatarCSSClass,avatarStyle:f.avatarStyle,taskAuthorInitials:f.taskAuthorInitials,initialsClass:f.initialsClass};void 0===w[v.commentDate]&&(w[v.commentDate]=[]),w[v.commentDate].push(I)}let t="";for(var b in w){var _,T=w[b];let e="";for(_ in T.sort((e,t)=>e.commentTime.localeCompare(t.commentTime)),T){var S=T[_];e+=await this.loadTemplate("concrete_issue_messages",S)}t+=await this.loadTemplate("concrete_issue_day_content",{dayContentMonthDay:b,dayContentMessages:e})}h.innerHTML=t}else h.innerHTML="No comments";setTimeout(()=>{var e=document.querySelector(".doboard_task_widget-content");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},0);let a=document.querySelector(".doboard_task_widget-send_message form");a&&a.addEventListener("submit",async e=>{e.preventDefault();var e=a.querySelector(".doboard_task_widget-send_message_input"),t=e.value.trim();if(t){e.disabled=!0;try{await addTaskComment(this.params,this.currentActiveTaskId,t),e.value="",await this.createWidgetElement("concrete_issue"),hideContainersSpinner(!1)}catch(e){alert("Error when adding a comment: "+e.message)}e.disabled=!1}})}e=document.querySelector(".doboard_task_widget_return_to_all");if(e){let a=this;e.addEventListener("click",function(e,t=a){t.createWidgetElement("all_issues")})}e=document.querySelector(".doboard_task_widget-send_message_paperclip");return e&&e.addEventListener("click",function(e){e.preventDefault(),alert("This action is not implemented yet..")}),document.querySelector(".doboard_task_widget-close_btn")?.addEventListener("click",()=>{this.hide()}),t}bindIssuesClick(){document.querySelectorAll(".issue-item").forEach(e=>{e.addEventListener("click",async()=>{scrollToNodePath(JSON.parse(e.getAttribute("data-node-path"))),this.currentActiveTaskId=e.getAttribute("data-task-id"),await this.createWidgetElement("concrete_issue"),hideContainersSpinner(!1)})})}async loadTemplate(e,t={}){var a,s;let r=await(await fetch(`/spotfix/templates/${e}.html`)).text();for([a,s]of Object.entries(t)){var o=`{{${a}}}`;r=r.replaceAll(o,s)}return r}async getTaskCount(){if(!localStorage.getItem("spotfix_session_id"))return{};var e=this.params.projectToken,t=localStorage.getItem("spotfix_session_id"),e=(await getTasksDoboard(e,t,this.params.accountId,this.params.projectId)).filter(e=>e.taskMeta),t=document.getElementById("doboard_task_widget-task_count");t&&(t.innerText=e.length,t.classList.remove("hidden"))}async submitTask(e){localStorage.getItem("spotfix_session_id")||(await registerUser(e),e.userPassword&&await this.loginUser(e));var t=localStorage.getItem("spotfix_session_id");return t?handleCreateTask(t,e):{needToLogin:!0}}loginUser(e){var t=e.userEmail,e=e.userPassword;return loginUser(t,e).then(e=>{if(!e.sessionId)throw new Error("Session ID not found in response");localStorage.setItem("spotfix_session_id",e.sessionId),localStorage.setItem("spotfix_user_id",e.userId),localStorage.setItem("spotfix_email",e.email)}).catch(e=>{throw e})}hide(){this.removeTextSelection(),this.createWidgetElement("wrap")}removeTextSelection(){document.querySelectorAll(".doboard_task_widget-text_selection").forEach(e=>{for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)})}highlightElements(e){if(0!==e.length){let a=new Map;e.forEach(e=>{var t=retrieveNodeFromPath(e.nodePath);a.has(t)||a.set(t,[]),a.get(t).push({selectStartPosition:e.startSelectPosition,selectEndPosition:e.endSelectPosition})});a.forEach((e,o)=>{if(o&&!(0<o.children.length)){let t=[],a=(e.forEach(e=>{t.push({pos:e.selectStartPosition,type:"start"},{pos:e.selectEndPosition,type:"end"})}),t.sort((e,t)=>t.pos-e.pos),o.innerHTML),s=null,r=[];t.forEach(e=>{var t=a.substring(e.pos,s||e.pos),e=(s=e.pos,"start"===e.type?'<span class="doboard_task_widget-text_selection">':"</span>");r.unshift(t),r.unshift(e)}),o.innerHTML=a.substring(0,s)+r.join("")}})}}bindWidgetInputsInteractive(){document.querySelectorAll(".doboard_task_widget-field").forEach(e=>{e.value&&e.classList.add("has-value"),e.addEventListener("input",()=>{e.value?e.classList.add("has-value"):e.classList.remove("has-value")}),e.addEventListener("blur",()=>{e.value||e.classList.remove("has-value")})});var e=document.querySelector(".doboard_task_widget-login span");e&&e.addEventListener("click",function(){this.closest(".doboard_task_widget-login").classList.toggle("active")})}}var selectedData={},widgetTimeout=null;function openWidget(e,t,a){e&&!t&&new CleanTalkWidgetDoboard(e,a)}function getSelectedData(e){var t=window.location.href,a=e.toString(),s=e.anchorOffset,r=e.focusOffset,e="#text"===e.focusNode.nodeName?e.focusNode.parentNode:e.focusNode;return{startSelectPosition:Math.min(s,r),endSelectPosition:Math.max(s,r),selectedText:a,pageURL:t,nodePath:calculateNodePath(e)}}function calculateNodePath(a){for(var s=[];a;){let e=0,t=a.previousSibling;for(;t;)1===t.nodeType&&e++,t=t.previousSibling;s.unshift(e),a=a.parentNode}return s.shift(),s}function retrieveNodeFromPath(t){if(!t)return null;let a=document;for(let e=0;e<t.length;e++)if(!(a=a.children[t[e]]))return null;return a}function taskAnalysis(e){return retrieveNodeFromPath(e?e.nodePath:"")}function scrollToNodePath(e){e=retrieveNodeFromPath(e);return!(!e||!e.scrollIntoView||(e.scrollIntoView({behavior:"smooth",block:"center"}),0))}function hideContainersSpinner(){var t=document.getElementsByClassName("doboard_task_widget-spinner_wrapper_for_containers");if(0<t.length)for(let e=0;e<t.length;e++)t[e].style.display="none";var a=["doboard_task_widget-all_issues-container","doboard_task_widget-concrete_issues-container"];for(let e=0;e<a.length;e++){var s=document.getElementsByClassName(a[e]);if(0<s.length)for(let e=0;e<s.length;e++)s[e].style.display="block"}}function getAvatarData(e){let t,a;e.hasOwnProperty("userIsIssuer")&&e.userIsIssuer;let s="doboard_task_widget-avatar-initials";return a=(t=null===e.taskAuthorAvatarImgSrc?"background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAE9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZmFiLCAyMDIyLzA4LzE2LTIyOjM1OjQxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDQtMTBUMTk6MDg6MDkrMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNWRjOWI0Yy04ZWVmLTRkNTEtYmE0MS1kOTkzZTZmNjNmMTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTVkYzliNGMt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');":`background-image:url('${e.taskAuthorAvatarImgSrc}');`,"doboard_task_widget-avatar_container"),s+=" doboard_task_widget-hidden_element",{avatarStyle:t,avatarCSSClass:a,taskAuthorInitials:void 0,initialsClass:s}}document.addEventListener("DOMContentLoaded",()=>{new CleanTalkWidgetDoboard({},"wrap")}),document.addEventListener("selectionchange",function(e){widgetTimeout&&clearTimeout(widgetTimeout),widgetTimeout=setTimeout(()=>{var e=window.getSelection();"Range"===e.type&&openWidget(getSelectedData(e),document.querySelector(".doboard_task_widget-container"),"create_issue")},1e3)});
//# sourceMappingURL=doboard-widget-bundle.min.js.map
