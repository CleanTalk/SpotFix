((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).html2canvas=t()})(this,function(){var D=function(e,t){return(D=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}))(e,t)};function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var O=function(){return(O=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function c(e,A,i,s){return new(i=i||Promise)(function(o,t){function r(e){try{a(s.next(e))}catch(e){t(e)}}function n(e){try{a(s.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,n)}a((s=s.apply(e,A||[])).next())})}function I(r,n){var a,A,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(o){return function(e){var t=[o,e];if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,A&&(i=2&t[0]?A.return:t[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,t[1])).done)return i;switch(A=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,A=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(i=0<(i=s.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3]))s.label=t[1];else if(6===t[0]&&s.label<i[1])s.label=i[1],i=t;else{if(!(i&&s.label<i[2])){i[2]&&s.ops.pop(),s.trys.pop();continue}s.label=i[2],s.ops.push(t)}}t=n.call(r,s)}catch(e){t=[6,e],A=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}function L(e,t,o){if(o||2===arguments.length)for(var r,n=0,a=t.length;n<a;n++)!r&&n in t||((r=r||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(r||t)}n.prototype.add=function(e,t,o,r){return new n(this.left+e,this.top+t,this.width+o,this.height+r)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){t=Array.from(t).find(function(e){return 0!==e.width});return t?new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height):n.EMPTY},n.EMPTY=new n(0,0,0,0);var N=n;function n(e,t,o,r){this.left=e,this.top=t,this.width=o,this.height=r}for(var R=function(e,t){return N.fromClientRect(e,t.getBoundingClientRect())},P=function(e){var t,o=e.body,e=e.documentElement;if(o&&e)return t=Math.max(Math.max(o.scrollWidth,e.scrollWidth),Math.max(o.offsetWidth,e.offsetWidth),Math.max(o.clientWidth,e.clientWidth)),o=Math.max(Math.max(o.scrollHeight,e.scrollHeight),Math.max(o.offsetHeight,e.offsetHeight),Math.max(o.clientHeight,e.clientHeight)),new N(0,0,t,o);throw new Error("Unable to get document size")},V=function(e){for(var t=[],o=0,r=e.length;o<r;){var n,a=e.charCodeAt(o++);55296<=a&&a<=56319&&o<r?56320==(64512&(n=e.charCodeAt(o++)))?t.push(((1023&a)<<10)+(1023&n)+65536):(t.push(a),o--):t.push(a)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var o=e.length;if(!o)return"";for(var r=[],n=-1,a="";++n<o;){var A=e[n];A<=65535?r.push(A):r.push(55296+((A-=65536)>>10),A%1024+56320),(n+1===o||16384<r.length)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Z=0;Z<z.length;Z++)K[z.charCodeAt(Z)]=Z;for(var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="undefined"==typeof Uint8Array?[]:new Uint8Array(256),W=0;W<G.length;W++)j[G.charCodeAt(W)]=W;function X(e,t,o){return e.slice?e.slice(t,o):new Uint16Array(Array.prototype.slice.call(e,t,o))}J.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=this.index[e>>5],this.data[t=(t<<2)+(31&e)];if(e<=65535)return t=this.index[2048+(e-55296>>5)],this.data[t=(t<<2)+(31&e)];if(e<this.highStart)return t=this.index[t=2080+(e>>11)],t=this.index[t+=e>>5&63],this.data[t=(t<<2)+(31&e)];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue};var Y=J;function J(e,t,o,r,n,a){this.initialValue=e,this.errorValue=t,this.highStart=o,this.highValueIndex=r,this.index=n,this.data=a}for(var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ee=0;ee<q.length;ee++)$[q.charCodeAt(ee)]=ee;var te=50,oe=2,re=3,ne=4,ae=7,Ae=8,ie=9,se=10,le=11,de=12,ce=13,ue=14,ge=15,me=16,pe=17,he=18,fe=19,be=20,ve=21,we=22,xe=23,Be=24,g=25,ye=26,Ce=27,_e=28,ke=29,Ee=30,Fe=31,Se=32,Qe=33,Ue=34,Ie=35,Te=36,Me=37,He=38,De=39,Oe=40,Le=41,Ne=42,Re=43,Pe=[9001,65288],Ve="!",m="ร",ze="รท",Ke=(i=(e=>{for(var t,o,r,n,a=.75*e.length,A=e.length,i=0,a=("="===e[e.length-1]&&(a--,"="===e[e.length-2])&&a--,new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(a)),s=Array.isArray(a)?a:new Uint8Array(a),l=0;l<A;l+=4)t=j[e.charCodeAt(l)],o=j[e.charCodeAt(l+1)],r=j[e.charCodeAt(l+2)],n=j[e.charCodeAt(l+3)],s[i++]=t<<2|o>>4,s[i++]=(15&o)<<4|r>>2,s[i++]=(3&r)<<6|63&n;return a})(i="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),B=Array.isArray(i)?(e=>{for(var t=e.length,o=[],r=0;r<t;r+=4)o.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return o})(i):new Uint32Array(i),i=Array.isArray(i)?(e=>{for(var t=e.length,o=[],r=0;r<t;r+=2)o.push(e[r+1]<<8|e[r]);return o})(i):new Uint16Array(i),Fn=X(i,12,B[4]/2),i=2===B[5]?X(i,(24+B[4])/2):(i=B,jo=Math.ceil((24+B[4])/4),i.slice?i.slice(jo,s):new Uint32Array(Array.prototype.slice.call(i,jo,s))),new Y(B[0],B[1],B[2],B[3],Fn,i)),Ze=[Ee,Te],Ge=[1,oe,re,5],je=[se,Ae],We=[Ce,ye],Xe=Ge.concat(je),Ye=[He,De,Oe,Ue,Ie],Je=[ge,ce],qe=function(e,r){void 0===r&&(r="strict");var n=[],a=[],A=[];return e.forEach(function(e,t){var o=Ke.get(e);if(te<o?(A.push(!0),o-=te):A.push(!1),-1!==["normal","auto","loose"].indexOf(r)&&-1!==[8208,8211,12316,12448].indexOf(e))return a.push(t),n.push(me);if(o!==ne&&o!==le)return a.push(t),o===Fe?n.push("strict"===r?ve:Me):o===Ne||o===ke?n.push(Ee):o===Re?n.push(131072<=e&&e<=196605||196608<=e&&e<=262141?Me:Ee):void n.push(o);if(0!==t&&-1===Xe.indexOf(e=n[t-1]))return a.push(a[t-1]),n.push(e);return a.push(t),n.push(Ee)}),[a,n,A]},$e=function(e,t,o,r){var n=r[o];if(Array.isArray(e)?-1!==e.indexOf(n):e===n)for(var a=o;a<=r.length;){if((i=r[++a])===t)return!0;if(i!==se)break}if(n===se)for(a=o;0<a;){var A=r[--a];if(Array.isArray(e)?-1!==e.indexOf(A):e===A)for(var i,s=o;s<=r.length;){if((i=r[++s])===t)return!0;if(i!==se)break}if(A!==se)break}return!1},et=function(e,t){for(var o=e;0<=o;){var r=t[o];if(r!==se)return r;o--}return 0},tt=function(e,t,o,r,n){if(0===o[r])return m;r-=1;if(Array.isArray(n)&&!0===n[r])return m;var n=r-1,a=1+r,A=t[r],i=0<=n?t[n]:0,s=t[a];if(A===oe&&s===re)return m;if(-1!==Ge.indexOf(A))return Ve;if(-1!==Ge.indexOf(s))return m;if(-1!==je.indexOf(s))return m;if(et(r,t)===Ae)return ze;if(Ke.get(e[r])===le)return m;if((A===Se||A===Qe)&&Ke.get(e[a])===le)return m;if(A===ae||s===ae)return m;if(A===ie)return m;if(-1===[se,ce,ge].indexOf(A)&&s===ie)return m;if(-1!==[pe,he,fe,Be,_e].indexOf(s))return m;if(et(r,t)===we)return m;if($e(xe,we,r,t))return m;if($e([pe,he],ve,r,t))return m;if($e(de,de,r,t))return m;if(A===se)return ze;if(A===xe||s===xe)return m;if(s===me||A===me)return ze;if(-1!==[ce,ge,ve].indexOf(s)||A===ue)return m;if(i===Te&&-1!==Je.indexOf(A))return m;if(A===_e&&s===Te)return m;if(s===be)return m;if(-1!==Ze.indexOf(s)&&A===g||-1!==Ze.indexOf(A)&&s===g)return m;if(A===Ce&&-1!==[Me,Se,Qe].indexOf(s)||-1!==[Me,Se,Qe].indexOf(A)&&s===ye)return m;if(-1!==Ze.indexOf(A)&&-1!==We.indexOf(s)||-1!==We.indexOf(A)&&-1!==Ze.indexOf(s))return m;if(-1!==[Ce,ye].indexOf(A)&&(s===g||-1!==[we,ge].indexOf(s)&&t[1+a]===g)||-1!==[we,ge].indexOf(A)&&s===g||A===g&&-1!==[g,_e,Be].indexOf(s))return m;if(-1!==[g,_e,Be,pe,he].indexOf(s))for(var l=r;0<=l;){if((d=t[l])===g)return m;if(-1===[_e,Be].indexOf(d))break;l--}if(-1!==[Ce,ye].indexOf(s))for(var d,l=-1!==[pe,he].indexOf(A)?n:r;0<=l;){if((d=t[l])===g)return m;if(-1===[_e,Be].indexOf(d))break;l--}if(He===A&&-1!==[He,De,Ue,Ie].indexOf(s)||-1!==[De,Ue].indexOf(A)&&-1!==[De,Oe].indexOf(s)||-1!==[Oe,Ie].indexOf(A)&&s===Oe)return m;if(-1!==Ye.indexOf(A)&&-1!==[be,ye].indexOf(s)||-1!==Ye.indexOf(s)&&A===Ce)return m;if(-1!==Ze.indexOf(A)&&-1!==Ze.indexOf(s))return m;if(A===Be&&-1!==Ze.indexOf(s))return m;if(-1!==Ze.concat(g).indexOf(A)&&s===we&&-1===Pe.indexOf(e[a])||-1!==Ze.concat(g).indexOf(s)&&A===he)return m;if(A===Le&&s===Le){for(var c=o[r],u=1;0<c&&t[--c]===Le;)u++;if(u%2!=0)return m}return A===Se&&s===Qe?m:ze},ot=function(o,e){var t=qe(o,(e=e||{lineBreak:"normal",wordBreak:"normal"}).lineBreak),r=t[0],n=t[1],t=t[2],e=("break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(n=n.map(function(e){return-1!==[g,Ee,Ne].indexOf(e)?Me:e})),"keep-all"===e.wordBreak?t.map(function(e,t){return e&&19968<=o[t]&&o[t]<=40959}):void 0);return[r,n,e]},rt=(nt.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},nt);function nt(e,t,o,r){this.codePoints=e,this.required=t===Ve,this.start=o,this.end=r}function p(e){return pt<=e&&e<=57}function at(e){return p(e)||bt<=e&&e<=70||ht<=e&&e<=102}function At(e){return 10===e||9===e||32===e}function it(e){return Bt(e)||yt(e)||e===gt}function st(e){return it(e)||p(e)||45===e}function lt(e,t){return 92===e&&10!==t}function dt(e,t,o){return 45===e?it(t)||lt(t,o):!!it(e)||92===e&&10!==t}function ct(e,t,o){return 43===e||45===e?!!p(t)||46===t&&p(o):p(46===e?t:e)}var ut=function(e,t){var o=V(e),e=ot(o,t),r=e[0],n=e[1],a=e[2],A=o.length,i=0,s=0;return{next:function(){if(A<=s)return{done:!0,value:null};for(var e,t=m;s<A&&(t=tt(o,n,r,++s,a))===m;);return t!==m||s===A?(e=new rt(o,t,i,s),i=s,{value:e,done:!1}):{done:!0,value:null}}}},gt=95,mt=128,pt=48,ht=97,ft=122,bt=65,vt=90,wt=function(e){return ht<=e&&e<=ft},xt=function(e){return bt<=e&&e<=vt},Bt=function(e){return wt(e)||xt(e)},yt=function(e){return mt<=e},Ct={type:2},_t={type:3},kt={type:4},Et={type:13},Ft={type:8},St={type:21},Qt={type:9},Ut={type:10},It={type:11},Tt={type:12},Mt={type:14},Ht={type:23},Dt={type:1},Ot={type:25},Lt={type:24},Nt={type:26},Rt={type:27},Pt={type:28},Vt={type:29},zt={type:31},Kt={type:32},Zt=(t.prototype.write=function(e){this._value=this._value.concat(V(e))},t.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Kt;)e.push(t),t=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),o=this.peekCodePoint(1),r=this.peekCodePoint(2);if(st(t)||lt(o,r))return t=dt(t,o,r)?2:1,{type:5,value:this.consumeName(),flags:t};break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Et;break;case 39:return this.consumeStringToken(39);case 40:return Ct;case 41:return _t;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Mt;break;case 43:if(ct(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return kt;case 45:o=e,r=this.peekCodePoint(0),t=this.peekCodePoint(1);if(ct(o,r,t))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(dt(o,r,t))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===r&&62===t)return this.consumeCodePoint(),this.consumeCodePoint(),Lt;break;case 46:if(ct(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var n=this.consumeCodePoint();if(42===n&&47===(n=this.consumeCodePoint()))return this.consumeToken();if(-1===n)return this.consumeToken()}break;case 58:return Nt;case 59:return Rt;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ot;break;case 64:o=this.peekCodePoint(0),r=this.peekCodePoint(1),t=this.peekCodePoint(2);if(dt(o,r,t))return{type:7,value:this.consumeName()};break;case 91:return Pt;case 92:if(lt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Vt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ft;break;case 123:return It;case 125:return Tt;case 117:case 85:o=this.peekCodePoint(0),r=this.peekCodePoint(1);return 43!==o||!at(r)&&63!==r||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qt;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),St;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ut;break;case-1:return Kt}return At(e)?(this.consumeWhiteSpace(),zt):p(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):it(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();at(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var o=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),o=!0;if(o)return{type:30,start:parseInt(u.apply(void 0,e.map(function(e){return 63===e?pt:e})),16),end:parseInt(u.apply(void 0,e.map(function(e){return 63===e?70:e})),16)};var r=parseInt(u.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&at(this.peekCodePoint(1))){this.consumeCodePoint();for(var t=this.consumeCodePoint(),n=[];at(t)&&n.length<6;)n.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(u.apply(void 0,n),16)}}return{type:30,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t,o=this.peekCodePoint(0);if(39===o||34===o)return 0===(o=this.consumeStringToken(this.consumeCodePoint())).type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:o.value}):(this.consumeBadUrlRemnants(),Ht);for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:22,value:u.apply(void 0,e)};if(At(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ht);if(34===r||39===r||40===r||0<=(t=r)&&t<=8||11===t||14<=t&&t<=31||127===t)return this.consumeBadUrlRemnants(),Ht;if(92===r){if(!lt(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Ht;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;At(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;lt(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var o=Math.min(5e4,e);t+=u.apply(void 0,this._value.splice(0,o)),e-=o}return this._value.shift(),t},t.prototype.consumeStringToken=function(e){for(var t="",o=0;;){var r,n=this._value[o];if(-1===n||void 0===n||n===e)return{type:0,value:t+=this.consumeStringSlice(o)};if(10===n)return this._value.splice(0,o),Dt;92===n&&-1!==(r=this._value[o+1])&&void 0!==r&&(10===r?(t+=this.consumeStringSlice(o),o=-1,this._value.shift()):lt(n,r)&&(t=(t+=this.consumeStringSlice(o))+u(this.consumeEscapedCodePoint()),o=-1)),o++}},t.prototype.consumeNumber=function(){var e=[],t=4;for(43!==(o=this.peekCodePoint(0))&&45!==o||e.push(this.consumeCodePoint());p(this.peekCodePoint(0));)e.push(this.consumeCodePoint());var o=this.peekCodePoint(0),r=this.peekCodePoint(1);if(46===o&&p(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;p(this.peekCodePoint(0));)e.push(this.consumeCodePoint());o=this.peekCodePoint(0);var r=this.peekCodePoint(1),n=this.peekCodePoint(2);if((69===o||101===o)&&((43===r||45===r)&&p(n)||p(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;p(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[(e=>{for(var t=0,o=1,r=(43!==e[t]&&45!==e[t]||(45===e[t]&&(o=-1),t++),[]);p(e[t]);)r.push(e[t++]);for(var n=r.length?parseInt(u.apply(void 0,r),10):0,a=(46===e[t]&&t++,[]);p(e[t]);)a.push(e[t++]);for(var A=a.length,i=A?parseInt(u.apply(void 0,a),10):0,s=(69!==e[t]&&101!==e[t]||t++,1),l=(43!==e[t]&&45!==e[t]||(45===e[t]&&(s=-1),t++),[]);p(e[t]);)l.push(e[t++]);var d=l.length?parseInt(u.apply(void 0,l),10):0;return o*(n+i*Math.pow(10,-A))*Math.pow(10,s*d)})(e),t]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],e=e[1],o=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);return dt(o,r,n)?{type:15,number:t,flags:e,unit:this.consumeName()}:37===o?(this.consumeCodePoint(),{type:16,number:t,flags:e}):{type:17,number:t,flags:e}},t.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(at(t)){for(var o=u(t);at(this.peekCodePoint(0))&&o.length<6;)o+=u(this.consumeCodePoint());At(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(o,16);return 0===r||55296<=(e=r)&&e<=57343||1114111<r?65533:r}return-1===t?65533:t},t.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(st(t))e+=u(t);else{if(!lt(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},t);function t(){this._value=[]}o.create=function(e){var t=new Zt;return t.write(e),new o(t.read())},o.parseValue=function(e){return o.create(e).parseComponentValue()},o.parseValues=function(e){return o.create(e).parseComponentValues()},o.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();31===(e=this.consumeToken()).type;);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},o.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},o.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},o.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},o=this.consumeToken();;){if(32===o.type||no(o,e))return t;this.reconsumeToken(o),t.values.push(this.consumeComponentValue()),o=this.consumeToken()}},o.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var o=this.consumeToken();if(32===o.type||3===o.type)return t;this.reconsumeToken(o),t.values.push(this.consumeComponentValue())}},o.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Kt:e},o.prototype.reconsumeToken=function(e){this._tokens.unshift(e)};var Gt=o;function o(e){this._tokens=e}function jt(e){return 17===e.type}function Wt(e){return 0===e.type}function Xt(e,t){return h(e)&&e.value===t}function Yt(e){return 31!==e.type}function Jt(e){return 31!==e.type&&4!==e.type}function l(e){var t=[],o=[];return e.forEach(function(e){if(4===e.type){if(0===o.length)throw new Error("Error parsing function args, zero tokens for arg");t.push(o),o=[]}else 31!==e.type&&o.push(e)}),o.length&&t.push(o),t}function qt(e){return 1<e.length?[e[0],e[1]]:[e[0]]}function $t(e){return 15===e.type&&(e.unit===lo||e.unit===co||e.unit===uo||e.unit===go)}function eo(e){switch(e.filter(h).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[f,f];case"to top":case"bottom":return A(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[f,io];case"to right":case"left":return A(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[io,io];case"to bottom":case"top":return A(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[io,f];case"to left":case"right":return A(270)}return 0}function T(e){var t=255&e,o=255&e>>8,r=255&e>>16,e=255&e>>24;return t<255?"rgba("+e+","+r+","+o+","+t/255+")":"rgb("+e+","+r+","+o+")"}function to(e,t){var o;return 17===e.type?e.number:16===e.type?(o=3===t?1:255,3===t?e.number/100*o:Math.round(e.number/100*o)):0}function oo(e,t){var o,r;return 3===(t=t.filter(Jt)).length?(r=(o=t.map(to))[0],fo(r,o[1],o[2],1)):4===t.length?(r=(o=t.map(to))[0],fo(r,o[1],o[2],o[3])):0}var ro=function(e){return 15===e.type},h=function(e){return 20===e.type},no=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},ao=function(e){return 17===e.type||15===e.type},d=function(e){return 16===e.type||ao(e)},f={type:17,number:0,flags:4},Ao={type:16,number:50,flags:4},io={type:16,number:100,flags:4},so=function(e,t,o){var r=e[0],e=e[1];return[M(r,t),M(void 0!==e?e:r,o)]},M=function(e,t){if(16===e.type)return e.number/100*t;if(ro(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},lo="deg",co="grad",uo="rad",go="turn",mo=function(e,t){if(15===t.type)switch(t.unit){case lo:return Math.PI*t.number/180;case co:return Math.PI/200*t.number;case uo:return t.number;case go:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},A=function(e){return Math.PI*e/180},po={name:"color",parse:function(e,t){if(18===t.type){var o=Co[t.name];if(void 0===o)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return o(e,t.values)}if(5===t.type){var r,n,a,A;if(3===t.value.length)return r=t.value.substring(0,1),n=t.value.substring(1,2),a=t.value.substring(2,3),fo(parseInt(r+r,16),parseInt(n+n,16),parseInt(a+a,16),1);if(4===t.value.length)return r=t.value.substring(0,1),n=t.value.substring(1,2),a=t.value.substring(2,3),A=t.value.substring(3,4),fo(parseInt(r+r,16),parseInt(n+n,16),parseInt(a+a,16),parseInt(A+A,16)/255);if(6===t.value.length)return r=t.value.substring(0,2),n=t.value.substring(2,4),a=t.value.substring(4,6),fo(parseInt(r,16),parseInt(n,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),n=t.value.substring(2,4),a=t.value.substring(4,6),A=t.value.substring(6,8),fo(parseInt(r,16),parseInt(n,16),parseInt(a,16),parseInt(A,16)/255)}if(20===t.type){o=ko[t.value.toUpperCase()];if(void 0!==o)return o}return ko.TRANSPARENT}},ho=function(e){return 0==(255&e)},fo=function(e,t,o,r){return(e<<24|t<<16|o<<8|Math.round(255*r)<<0)>>>0};function bo(e,t,o){return o<0&&(o+=1),1<=o&&--o,o<1/6?(t-e)*o*6+e:o<.5?t:o<2/3?6*(t-e)*(2/3-o)+e:e}function vo(e,t){var o,r=(t=t.filter(Jt))[0],n=t[1],a=t[2],t=t[3],e=(17===r.type?A(r.number):mo(e,r))/(2*Math.PI),r=d(n)?n.number/100:0,n=d(a)?a.number/100:0,a=void 0!==t&&d(t)?M(t,1):1;return 0==r?fo(255*n,255*n,255*n,1):(r=bo(n=2*n-(t=n<=.5?n*(1+r):n+r-n*r),t,e+1/3),o=bo(n,t,e),n=bo(n,t,e-1/3),fo(255*r,255*o,255*n,a))}function wo(e,t){return e=po.parse(e,t[0]),(t=t[1])&&d(t)?{color:e,stop:t}:{color:e,stop:null}}function xo(e,o){for(var t=e[0],r=e[e.length-1],n=(null===t.stop&&(t.stop=f),null===r.stop&&(r.stop=io),[]),a=0,A=0;A<e.length;A++){var i=e[A].stop;null!==i?(i=M(i,o),n.push(a<i?i:a),a=i):n.push(null)}for(var s=null,A=0;A<n.length;A++){var l=n[A];if(null===l)null===s&&(s=A);else if(null!==s){for(var d=A-s,c=(l-n[s-1])/(1+d),u=1;u<=d;u++)n[s+u-1]=c*u;s=null}}return e.map(function(e,t){return{color:e.color,stop:Math.max(Math.min(1,n[t]/o),0)}})}function Bo(o,e){var r=A(180),n=[];return l(e).forEach(function(e,t){if(0===t){t=e[0];if(20===t.type&&-1!==["top","left","right","bottom"].indexOf(t.value))return void(r=eo(e));if($t(t))return void(r=(mo(o,t)+A(270))%A(360))}t=wo(o,e);n.push(t)}),{angle:r,stops:n,type:1}}function yo(r,e){var n=0,a=3,A=[],i=[];return l(e).forEach(function(e,t){var o=!0;0===t?o=e.reduce(function(e,t){if(h(t))switch(t.value){case"center":return i.push(Ao),!1;case"top":case"left":return i.push(f),!1;case"right":case"bottom":return i.push(io),!1}else if(d(t)||ao(t))return i.push(t),!1;return e},o):1===t&&(o=e.reduce(function(e,t){if(h(t))switch(t.value){case"circle":return n=0,!1;case Ho:return!(n=1);case Do:case Uo:return a=0,!1;case Io:return!(a=1);case To:return!(a=2);case"cover":case Mo:return!(a=3)}else if(ao(t)||d(t))return(a=Array.isArray(a)?a:[]).push(t),!1;return e},o)),o&&(t=wo(r,e),A.push(t))}),{size:a,shape:n,stops:A,position:i,type:2}}var Co={hsl:vo,hsla:vo,rgb:oo,rgba:oo},_o=function(e,t){return po.parse(e,Gt.create(t).parseComponentValue())},ko={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Eo={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(h(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Fo={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},So=function(e,t,o){var r=t/2,n=o/2,t=M(e[0],t)-r,r=n-M(e[1],o);return(Math.atan2(r,t)+2*Math.PI)%(2*Math.PI)},H=function(e,t){return Math.sqrt(e*e+t*t)},Qo=function(e,t,r,n,a){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var o=t[0],o=H(r-o,n-t[1]);return(a?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},Uo="closest-side",Io="farthest-side",To="closest-corner",Mo="farthest-corner",Ho="ellipse",Do="contain",Oo=function(e,t){if(22===t.type)return o={url:t.value,type:0},e.cache.addImage(t.value),o;if(18!==t.type)throw new Error("Unsupported image type "+t.type);var o=Yo[t.name];if(void 0===o)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return o(e,t.values)};function Lo(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}}function No(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return qt(t.filter(d))}}}function Ro(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}}function Po(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ro(t)?t.number:0}}}function Vo(e,t){return h(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:d(e)?M(e,t):t}function zo(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}}function Ko(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}}function Zo(e,t,o){return e&&(t=e[Math.min(t,e.length-1)])?o?t.open:t.close:""}var Go,jo,Wo,Xo,Yo={"linear-gradient":function(o,e){var r=A(180),n=[];return l(e).forEach(function(e,t){if(0===t){t=e[0];if(20===t.type&&"to"===t.value)return void(r=eo(e));if($t(t))return void(r=mo(o,t))}t=wo(o,e);n.push(t)}),{angle:r,stops:n,type:1}},"-moz-linear-gradient":Bo,"-ms-linear-gradient":Bo,"-o-linear-gradient":Bo,"-webkit-linear-gradient":Bo,"radial-gradient":function(n,e){var a=0,A=3,i=[],s=[];return l(e).forEach(function(e,t){var o,r=!0;0===t&&(o=!1,r=e.reduce(function(e,t){if(o)if(h(t))switch(t.value){case"center":return s.push(Ao),e;case"top":case"left":return s.push(f),e;case"right":case"bottom":return s.push(io),e}else(d(t)||ao(t))&&s.push(t);else if(h(t))switch(t.value){case"circle":return a=0,!1;case Ho:return!(a=1);case"at":return!(o=!0);case Uo:return A=0,!1;case"cover":case Io:return!(A=1);case Do:case To:return!(A=2);case Mo:return!(A=3)}else if(ao(t)||d(t))return(A=Array.isArray(A)?A:[]).push(t),!1;return e},r)),r&&(t=wo(n,e),i.push(t))}),{size:A,shape:a,stops:i,position:s,type:2}},"-moz-radial-gradient":yo,"-ms-radial-gradient":yo,"-o-radial-gradient":yo,"-webkit-radial-gradient":yo,"-webkit-gradient":function(r,e){var t=A(180),n=[],a=1;return l(e).forEach(function(e,t){var o,e=e[0];if(0===t){if(h(e)&&"linear"===e.value)return void(a=1);if(h(e)&&"radial"===e.value)return void(a=2)}18===e.type&&("from"===e.name?(o=po.parse(r,e.values[0]),n.push({stop:f,color:o})):"to"===e.name?(o=po.parse(r,e.values[0]),n.push({stop:io,color:o})):"color-stop"===e.name&&2===(t=e.values.filter(Jt)).length&&(o=po.parse(r,t[1]),e=t[0],jt(e))&&n.push({stop:{type:16,number:100*e.number,flags:e.flags},color:o}))}),1===a?{angle:(t+A(180))%A(360),stops:n,type:a}:{size:3,shape:0,stops:n,position:[],type:a}}},Jo={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){var o;return 0===e.length||20===(o=e[0]).type&&"none"===o.value?[]:e.filter(function(e){return Jt(e)&&!(20===(e=e).type&&"none"===e.value||18===e.type&&!Yo[e.name])}).map(function(e){return Oo(t,e)})}},qo={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(h(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$o={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return l(t).map(function(e){return e.filter(d)}).map(qt)}},er={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return l(t).map(function(e){return e.filter(h).map(function(e){return e.value}).join(" ")}).map(tr)}},tr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},or=((jo=Go=Go||{}).AUTO="auto",jo.CONTAIN="contain",{name:"background-size",initialValue:"0",prefix:!(jo.COVER="cover"),type:1,parse:function(e,t){return l(t).map(function(e){return e.filter(rr)})}}),rr=function(e){return h(e)||d(e)},nr=Lo("top"),ar=Lo("right"),Ar=Lo("bottom"),ir=Lo("left"),sr=No("top-left"),lr=No("top-right"),dr=No("bottom-right"),cr=No("bottom-left"),ur=Ro("top"),gr=Ro("right"),mr=Ro("bottom"),pr=Ro("left"),hr=Po("top"),fr=Po("right"),br=Po("bottom"),vr=Po("left"),wr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},xr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"!==t?0:1}},Br={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(h).reduce(function(e,t){return e|yr(t.value)},0)}},yr=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Cr={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},_r={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return!(20===t.type&&"normal"===t.value||17!==t.type&&15!==t.type)?t.number:0}},kr={name:"line-break",initialValue:(s=Wo=Wo||{}).NORMAL="normal",prefix:!(s.STRICT="strict"),type:2,parse:function(e,t){return"strict"!==t?Wo.NORMAL:Wo.STRICT}},Er={name:"line-height",initialValue:"normal",prefix:!1,type:4},Fr={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Oo(e,t)}},Sr={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"!==t?1:0}},Qr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ur=zo("top"),Ir=zo("right"),Tr=zo("bottom"),Mr=zo("left"),Hr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(h).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Dr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"!==t?"normal":"break-word"}},Or=Ko("top"),Lr=Ko("right"),Nr=Ko("bottom"),Rr=Ko("left"),Pr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Vr={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},zr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(a,e){return 1===e.length&&Xt(e[0],"none")?[]:l(e).map(function(e){for(var t={color:ko.TRANSPARENT,offsetX:f,offsetY:f,blur:f},o=0,r=0;r<e.length;r++){var n=e[r];ao(n)?(0===o?t.offsetX=n:1===o?t.offsetY=n:t.blur=n,o++):t.color=po.parse(a,n)}return t})}},Kr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Zr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18!==t.type)return null;var o=Gr[t.name];if(void 0===o)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return o(t.values)}},Gr={matrix:function(e){e=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===e.length?e:null},matrix3d:function(e){var e=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),t=e[0];return 16===e.length?[t,e[1],e[4],e[5],e[12],e[13]]:null}},Y={type:16,number:50,flags:4},jr=[Y,Y],Wr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){t=t.filter(d);return 2!==t.length?jr:[t[0],t[1]]}},Xr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Yr=((B=Xo=Xo||{}).NORMAL="normal",B.BREAK_ALL="break-all",{name:"word-break",initialValue:"normal",prefix:!(B.KEEP_ALL="keep-all"),type:2,parse:function(e,t){switch(t){case"break-all":return Xo.BREAK_ALL;case"keep-all":return Xo.KEEP_ALL;default:return Xo.NORMAL}}}),Jr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(jt(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qr=function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},$r={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return jt(t)?t.number:1}},en={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(h).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},on={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var o=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:o.push(e.value);break;case 17:o.push(e.number.toString());break;case 4:r.push(o.join(" ")),o.length=0}}),o.length&&r.push(o.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},rn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return jt(t)?t.number:!h(t)||"bold"!==t.value?400:700}},an={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(h).map(function(e){return e.value})}},An={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},b=function(e,t){return 0!=(e&t)},sn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){var o;return 0===t.length||20===(o=t[0]).type&&"none"===o.value?[]:t}},ln={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var o=t[0];if(20===o.type&&"none"===o.value)return null;for(var r=[],n=t.filter(Yt),a=0;a<n.length;a++){var A=n[a],i=n[a+1];20===A.type&&(i=i&&jt(i)?i.number:1,r.push({counter:A.value,increment:i}))}return r}},dn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var o=[],r=t.filter(Yt),n=0;n<r.length;n++){var a=r[n],A=r[n+1];h(a)&&"none"!==a.value&&(A=A&&jt(A)?A.number:0,o.push({counter:a.value,reset:A}))}return o}},cn={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ro).map(function(e){return qr(t,e)})}},un={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var o=t[0];if(20===o.type&&"none"===o.value)return null;var r=[],n=t.filter(Wt);if(n.length%2!=0)return null;for(var a=0;a<n.length;a+=2){var A=n[a].value,i=n[a+1].value;r.push({open:A,close:i})}return r}},gn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(a,e){return 1===e.length&&Xt(e[0],"none")?[]:l(e).map(function(e){for(var t={color:255,offsetX:f,offsetY:f,blur:f,spread:f,inset:!1},o=0,r=0;r<e.length;r++){var n=e[r];Xt(n,"inset")?t.inset=!0:ao(n)?(0===o?t.offsetX=n:1===o?t.offsetY=n:2===o?t.blur=n:t.spread=n,o++):t.color=po.parse(a,n)}return t})}},mn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var o=[];return t.filter(h).forEach(function(e){switch(e.value){case"stroke":o.push(1);break;case"fill":o.push(0);break;case"markers":o.push(2)}}),[0,1,2].forEach(function(e){-1===o.indexOf(e)&&o.push(e)}),o}},pn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},hn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ro(t)?t.number:0}},fn=(bn.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&0===this.visibility},bn.prototype.isTransparent=function(){return ho(this.backgroundColor)},bn.prototype.isTransformed=function(){return null!==this.transform},bn.prototype.isPositioned=function(){return 0!==this.position},bn.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},bn.prototype.isFloating=function(){return 0!==this.float},bn.prototype.isInlineLevel=function(){return b(this.display,4)||b(this.display,33554432)||b(this.display,268435456)||b(this.display,536870912)||b(this.display,67108864)||b(this.display,134217728)},bn);function bn(e,t){this.animationDuration=r(e,cn,t.animationDuration),this.backgroundClip=r(e,Eo,t.backgroundClip),this.backgroundColor=r(e,Fo,t.backgroundColor),this.backgroundImage=r(e,Jo,t.backgroundImage),this.backgroundOrigin=r(e,qo,t.backgroundOrigin),this.backgroundPosition=r(e,$o,t.backgroundPosition),this.backgroundRepeat=r(e,er,t.backgroundRepeat),this.backgroundSize=r(e,or,t.backgroundSize),this.borderTopColor=r(e,nr,t.borderTopColor),this.borderRightColor=r(e,ar,t.borderRightColor),this.borderBottomColor=r(e,Ar,t.borderBottomColor),this.borderLeftColor=r(e,ir,t.borderLeftColor),this.borderTopLeftRadius=r(e,sr,t.borderTopLeftRadius),this.borderTopRightRadius=r(e,lr,t.borderTopRightRadius),this.borderBottomRightRadius=r(e,dr,t.borderBottomRightRadius),this.borderBottomLeftRadius=r(e,cr,t.borderBottomLeftRadius),this.borderTopStyle=r(e,ur,t.borderTopStyle),this.borderRightStyle=r(e,gr,t.borderRightStyle),this.borderBottomStyle=r(e,mr,t.borderBottomStyle),this.borderLeftStyle=r(e,pr,t.borderLeftStyle),this.borderTopWidth=r(e,hr,t.borderTopWidth),this.borderRightWidth=r(e,fr,t.borderRightWidth),this.borderBottomWidth=r(e,br,t.borderBottomWidth),this.borderLeftWidth=r(e,vr,t.borderLeftWidth),this.boxShadow=r(e,gn,t.boxShadow),this.color=r(e,wr,t.color),this.direction=r(e,xr,t.direction),this.display=r(e,Br,t.display),this.float=r(e,Cr,t.cssFloat),this.fontFamily=r(e,on,t.fontFamily),this.fontSize=r(e,rn,t.fontSize),this.fontStyle=r(e,An,t.fontStyle),this.fontVariant=r(e,an,t.fontVariant),this.fontWeight=r(e,nn,t.fontWeight),this.letterSpacing=r(e,_r,t.letterSpacing),this.lineBreak=r(e,kr,t.lineBreak),this.lineHeight=r(e,Er,t.lineHeight),this.listStyleImage=r(e,Fr,t.listStyleImage),this.listStylePosition=r(e,Sr,t.listStylePosition),this.listStyleType=r(e,Qr,t.listStyleType),this.marginTop=r(e,Ur,t.marginTop),this.marginRight=r(e,Ir,t.marginRight),this.marginBottom=r(e,Tr,t.marginBottom),this.marginLeft=r(e,Mr,t.marginLeft),this.opacity=r(e,$r,t.opacity);var o=r(e,Hr,t.overflow);this.overflowX=o[0],this.overflowY=o[1<o.length?1:0],this.overflowWrap=r(e,Dr,t.overflowWrap),this.paddingTop=r(e,Or,t.paddingTop),this.paddingRight=r(e,Lr,t.paddingRight),this.paddingBottom=r(e,Nr,t.paddingBottom),this.paddingLeft=r(e,Rr,t.paddingLeft),this.paintOrder=r(e,mn,t.paintOrder),this.position=r(e,Vr,t.position),this.textAlign=r(e,Pr,t.textAlign),this.textDecorationColor=r(e,en,null!=(o=t.textDecorationColor)?o:t.color),this.textDecorationLine=r(e,tn,null!=(o=t.textDecorationLine)?o:t.textDecoration),this.textShadow=r(e,zr,t.textShadow),this.textTransform=r(e,Kr,t.textTransform),this.transform=r(e,Zr,t.transform),this.transformOrigin=r(e,Wr,t.transformOrigin),this.visibility=r(e,Xr,t.visibility),this.webkitTextStrokeColor=r(e,pn,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=r(e,hn,t.webkitTextStrokeWidth),this.wordBreak=r(e,Yr,t.wordBreak),this.zIndex=r(e,Jr,t.zIndex)}for(var vn=function(e,t){this.content=r(e,sn,t.content),this.quotes=r(e,un,t.quotes)},wn=function(e,t){this.counterIncrement=r(e,ln,t.counterIncrement),this.counterReset=r(e,dn,t.counterReset)},r=function(e,t,o){var r=new Zt,o=null!=o?o.toString():t.initialValue,n=(r.write(o),new Gt(r.read()));switch(t.type){case 2:var a=n.parseComponentValue();return t.parse(e,h(a)?a.value:t.initialValue);case 0:return t.parse(e,n.parseComponentValue());case 1:return t.parse(e,n.parseComponentValues());case 4:return n.parseComponentValue();case 3:switch(t.format){case"angle":return mo(e,n.parseComponentValue());case"color":return po.parse(e,n.parseComponentValue());case"image":return Oo(e,n.parseComponentValue());case"length":var A=n.parseComponentValue();return ao(A)?A:f;case"length-percentage":A=n.parseComponentValue();return d(A)?A:f;case"time":return qr(e,n.parseComponentValue())}}},xn="data-html2canvas-debug",Bn=function(e){switch(e.getAttribute(xn)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yn=function(e,t){e=Bn(e);return 1===e||t===e},a=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,yn(t,3),this.styles=new fn(e,window.getComputedStyle(t,null)),AA(t)&&(this.styles.animationDuration.some(function(e){return 0<e})&&(t.style.animationDuration="0s"),null!==this.styles.transform)&&(t.style.transform="none"),this.bounds=R(this.context,t),yn(t,4)&&(this.flags|=16)},Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_n="undefined"==typeof Uint8Array?[]:new Uint8Array(256),kn=0;kn<Cn.length;kn++)_n[Cn.charCodeAt(kn)]=kn;function En(e,t,o){return e.slice?e.slice(t,o):new Uint16Array(Array.prototype.slice.call(e,t,o))}Sn.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=this.index[e>>5],this.data[t=(t<<2)+(31&e)];if(e<=65535)return t=this.index[2048+(e-55296>>5)],this.data[t=(t<<2)+(31&e)];if(e<this.highStart)return t=this.index[t=2080+(e>>11)],t=this.index[t+=e>>5&63],this.data[t=(t<<2)+(31&e)];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue};var Fn=Sn;function Sn(e,t,o,r,n,a){this.initialValue=e,this.errorValue=t,this.highStart=o,this.highValueIndex=r,this.index=n,this.data=a}for(var Qn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un="undefined"==typeof Uint8Array?[]:new Uint8Array(256),In=0;In<Qn.length;In++)Un[Qn.charCodeAt(In)]=In;function Tn(e){for(var t,o=na(e),r=[];!(t=o.next()).done;)t.value&&r.push(t.value.slice());return r}function Mn(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}function Hn(e,t,o,r,n){var a="http://www.w3.org/2000/svg",A=document.createElementNS(a,"svg"),a=document.createElementNS(a,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",o.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(n),A}function Dn(r){return new Promise(function(e,t){var o=new Image;o.onload=function(){return e(o)},o.onerror=t,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(r))})}var i,s,On,Ln=1,Nn=2,Rn=3,Pn=4,Vn=5,zn=7,Kn=8,Zn=9,Gn=10,jn=11,Wn=12,Xn=13,Yn=14,Jn=15,qn=function(e){for(var t=[],o=0,r=e.length;o<r;){var n,a=e.charCodeAt(o++);55296<=a&&a<=56319&&o<r?56320==(64512&(n=e.charCodeAt(o++)))?t.push(((1023&a)<<10)+(1023&n)+65536):(t.push(a),o--):t.push(a)}return t},$n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var o=e.length;if(!o)return"";for(var r=[],n=-1,a="";++n<o;){var A=e[n];A<=65535?r.push(A):r.push(55296+((A-=65536)>>10),A%1024+56320),(n+1===o||16384<r.length)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},ea=(i=(e=>{for(var t,o,r,n,a=.75*e.length,A=e.length,i=0,a=("="===e[e.length-1]&&(a--,"="===e[e.length-2])&&a--,new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(a)),s=Array.isArray(a)?a:new Uint8Array(a),l=0;l<A;l+=4)t=_n[e.charCodeAt(l)],o=_n[e.charCodeAt(l+1)],r=_n[e.charCodeAt(l+2)],n=_n[e.charCodeAt(l+3)],s[i++]=t<<2|o>>4,s[i++]=(15&o)<<4|r>>2,s[i++]=(3&r)<<6|63&n;return a})(i="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),s=Array.isArray(i)?(e=>{for(var t=e.length,o=[],r=0;r<t;r+=4)o.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return o})(i):new Uint32Array(i),i=Array.isArray(i)?(e=>{for(var t=e.length,o=[],r=0;r<t;r+=2)o.push(e[r+1]<<8|e[r]);return o})(i):new Uint16Array(i),Y=En(i,12,s[4]/2),i=2===s[5]?En(i,(24+s[4])/2):(i=s,B=Math.ceil((24+s[4])/4),i.slice?i.slice(B,E):new Uint32Array(Array.prototype.slice.call(i,B,E))),new Fn(s[0],s[1],s[2],s[3],Y,i)),v="ร",ta="รท",oa=function(e){return ea.get(e)},ra=function(e,t,o){var r=o-2,n=t[r],a=t[o-1],o=t[o];if(a===Nn&&o===Rn)return v;if(a!==Nn&&a!==Rn&&a!==Pn&&o!==Nn&&o!==Rn&&o!==Pn){if(a===Kn&&-1!==[Kn,Zn,jn,Wn].indexOf(o))return v;if(!(a!==jn&&a!==Zn||o!==Zn&&o!==Gn))return v;if((a===Wn||a===Gn)&&o===Gn)return v;if(o===Xn||o===Vn)return v;if(o===zn)return v;if(a===Ln)return v;if(a===Xn&&o===Yn){for(;n===Vn;)n=t[--r];if(n===Yn)return v}if(a===Jn&&o===Jn){for(var A=0;n===Jn;)A++,n=t[--r];if(A%2==0)return v}}return ta},na=function(e){var o=qn(e),r=o.length,n=0,a=0,A=o.map(oa);return{next:function(){if(r<=n)return{done:!0,value:null};for(var e,t=v;n<r&&(t=ra(o,A,++n))===v;);return t!==v||n===r?(e=$n.apply(null,o.slice(a,n)),a=n,{value:e,done:!1}):{done:!0,value:null}}}},w={get SUPPORT_RANGE_BOUNDS(){var e=(e=>{if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var o=e.createElement("boundtest"),t=(o.style.height="123px",o.style.display="block",e.body.appendChild(o),t.selectNode(o),t.getBoundingClientRect()),t=Math.round(t.height);if(e.body.removeChild(o),123===t)return!0}}return!1})(document);return Object.defineProperty(w,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e,r,n,t,a,A,o=w.SUPPORT_RANGE_BOUNDS&&(o=document,(e=o.createElement("boundtest")).style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",o.body.appendChild(e),r=o.createRange(),e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"",n=e.firstChild,t=V(n.data).map(function(e){return u(e)}),a=0,A={},t=t.every(function(e,t){r.setStart(n,a),r.setEnd(n,a+e.length);var o=r.getBoundingClientRect(),e=(a+=e.length,o.x>A.x||o.y>A.y);return A=o,0===t||e}),o.body.removeChild(e),t);return Object.defineProperty(w,"SUPPORT_WORD_BREAKING",{value:o}),o},get SUPPORT_SVG_DRAWING(){var e=(e=>{var t=new Image,o=(e=e.createElement("canvas")).getContext("2d");if(!o)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{o.drawImage(t,0,0),e.toDataURL()}catch(e){return!1}return!0})(document);return Object.defineProperty(w,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?(o=>{var e=o.createElement("canvas"),r=100,n=(e.width=r,e.height=r,e.getContext("2d"));if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var t=new Image,a=e.toDataURL(),e=(t.src=a,Hn(r,r,0,0,t));return n.fillStyle="red",n.fillRect(0,0,r,r),Dn(e).then(function(e){n.drawImage(e,0,0);var e=n.getImageData(0,0,r,r).data,t=(n.fillStyle="red",n.fillRect(0,0,r,r),o.createElement("div"));return t.style.backgroundImage="url("+a+")",t.style.height="100px",Mn(e)?Dn(Hn(r,r,0,0,t)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),Mn(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})})(document):Promise.resolve(!1);return Object.defineProperty(w,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(w,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(w,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(w,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(w,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},aa=function(e,t){this.text=e,this.bounds=t},Aa=function(e,t){var o=t.ownerDocument;if(o){var o=o.createElement("html2canvaswrapper"),r=(o.appendChild(t.cloneNode(!0)),t.parentNode);if(r)return r.replaceChild(o,t),t=R(e,o),o.firstChild&&r.replaceChild(o.firstChild,o),t}return N.EMPTY},ia=function(e,t,o){var r=e.ownerDocument;if(r)return(r=r.createRange()).setStart(e,t),r.setEnd(e,t+o),r;throw new Error("Node has no owner document")},sa=function(e){var t;return w.SUPPORT_NATIVE_TEXT_SEGMENTATION?(t=new Intl.Segmenter(void 0,{granularity:"grapheme"}),Array.from(t.segment(e)).map(function(e){return e.segment})):Tn(e)},la=function(e,t){var o;return w.SUPPORT_NATIVE_TEXT_SEGMENTATION?(o=new Intl.Segmenter(void 0,{granularity:"word"}),Array.from(o.segment(e)).map(function(e){return e.segment})):ua(e,t)},da=function(e,t){return 0!==t.letterSpacing?sa(e):la(e,t)},ca=[32,160,4961,65792,65793,4153,4241],ua=function(e,t){for(var o,r=ut(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),n=[];!(o=r.next()).done;)(()=>{var e,t;o.value&&(e=o.value.slice(),e=V(e),t="",e.forEach(function(e){-1===ca.indexOf(e)?t+=u(e):(t.length&&n.push(t),n.push(u(e)),t="")}),t.length)&&n.push(t)})();return n},ga=function(e,t,o){var n,a,A,i,s;this.text=ma(t.data,o.textTransform),this.textBounds=(n=e,e=this.text,A=t,e=da(e,a=o),i=[],s=0,e.forEach(function(e){var t,o,r;a.textDecorationLine.length||0<e.trim().length?w.SUPPORT_RANGE_BOUNDS?1<(t=ia(A,s,e.length).getClientRects()).length?(r=sa(e),o=0,r.forEach(function(e){i.push(new aa(e,N.fromDOMRectList(n,ia(A,o+s,e.length).getClientRects()))),o+=e.length})):i.push(new aa(e,N.fromDOMRectList(n,t))):(r=A.splitText(e.length),i.push(new aa(e,Aa(n,A))),A=r):w.SUPPORT_RANGE_BOUNDS||(A=A.splitText(e.length)),s+=e.length}),i)},ma=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(pa,ha);case 2:return e.toUpperCase();default:return e}},pa=/(^|\s|:|-|\(|\))([a-z])/g,ha=function(e,t,o){return 0<e.length?t+o.toUpperCase():e},fa=(e(ba,On=a),ba);function ba(e,t){e=On.call(this,e,t)||this;return e.src=t.currentSrc||t.src,e.intrinsicWidth=t.naturalWidth,e.intrinsicHeight=t.naturalHeight,e.context.cache.addImage(e.src),e}e(xa,va=a);var va,wa=xa;function xa(e,t){e=va.call(this,e,t)||this;return e.canvas=t,e.intrinsicWidth=t.width,e.intrinsicHeight=t.height,e}e(Ca,Ba=a);var Ba,ya=Ca;function Ca(e,t){var o=Ba.call(this,e,t)||this,r=new XMLSerializer,e=R(e,t);return t.setAttribute("width",e.width+"px"),t.setAttribute("height",e.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(t)),o.intrinsicWidth=t.width.baseVal.value,o.intrinsicHeight=t.height.baseVal.value,o.context.cache.addImage(o.svg),o}e(Ea,_a=a);var _a,ka=Ea;function Ea(e,t){e=_a.call(this,e,t)||this;return e.value=t.value,e}e(Qa,Fa=a);var Fa,Sa=Qa;function Qa(e,t){e=Fa.call(this,e,t)||this;return e.start=t.start,e.reversed="boolean"==typeof t.reversed&&!0===t.reversed,e}var Ua,Ia=[{type:15,flags:0,unit:"px",number:3}],Ta=[{type:16,flags:0,number:50}],Ma="checkbox",Ha="radio",Da="password",Oa=707406591,La=(e(Na,Ua=a),Na);function Na(e,t){var o=Ua.call(this,e,t)||this;switch(o.type=t.type.toLowerCase(),o.checked=t.checked,o.value=0===(t=(e=t).type===Da?new Array(e.value.length+1).join("โข"):e.value).length?e.placeholder||"":t,o.type!==Ma&&o.type!==Ha||(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=(e=o.bounds).width>e.height?new N(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new N(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e),o.type){case Ma:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=Ia;break;case Ha:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=Ta}return o}e(Va,Ra=a);var Ra,Pa=Va;function Va(e,t){e=Ra.call(this,e,t)||this,t=t.options[t.selectedIndex||0];return e.value=t&&t.text||"",e}e(Za,za=a);var za,Ka=Za;function Za(e,t){e=za.call(this,e,t)||this;return e.value=t.value,e}e(Wa,Ga=a);var Ga,ja=Wa;function Wa(e,t){var o,r,n=Ga.call(this,e,t)||this;n.src=t.src,n.width=parseInt(t.width,10)||0,n.height=parseInt(t.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement&&(n.tree=tA(e,t.contentWindow.document.documentElement),o=t.contentWindow.document.documentElement?_o(e,getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):ko.TRANSPARENT,r=t.contentWindow.document.body?_o(e,getComputedStyle(t.contentWindow.document.body).backgroundColor):ko.TRANSPARENT,n.backgroundColor=ho(o)?ho(r)?n.styles.backgroundColor:r:o)}catch(e){}return n}function Xa(e){return"VIDEO"===e.tagName}function Ya(e){return"STYLE"===e.tagName}function Ja(e){return 0<e.tagName.indexOf("-")}var qa=["OL","UL","MENU"],$a=function(t,e,o,r){for(var n=e.firstChild;n;n=A){var a,A=n.nextSibling;nA(n)&&0<n.data.trim().length?o.textNodes.push(new ga(t,n,o.styles)):aA(n)&&(vA(n)&&n.assignedNodes?n.assignedNodes().forEach(function(e){return $a(t,e,o,r)}):(a=eA(t,n)).styles.isVisible()&&(oA(n,a,r)?a.flags|=4:rA(a.styles)&&(a.flags|=2),-1!==qa.indexOf(n.tagName)&&(a.flags|=8),o.elements.push(a),n.slot,n.shadowRoot?$a(t,n.shadowRoot,a,r):fA(n)||uA(n)||bA(n)||$a(t,n,a,r)))}},eA=function(e,t){return new(pA(t)?fa:mA(t)?wa:uA(t)?ya:sA(t)?ka:lA(t)?Sa:dA(t)?La:bA(t)?Pa:fA(t)?Ka:hA(t)?ja:a)(e,t)},tA=function(e,t){var o=eA(e,t);return o.flags|=4,$a(e,t,o,o),o},oA=function(e,t,o){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||gA(e)&&o.styles.isTransparent()},rA=function(e){return e.isPositioned()||e.isFloating()},nA=function(e){return e.nodeType===Node.TEXT_NODE},aA=function(e){return e.nodeType===Node.ELEMENT_NODE},AA=function(e){return aA(e)&&void 0!==e.style&&!iA(e)},iA=function(e){return"object"==typeof e.className},sA=function(e){return"LI"===e.tagName},lA=function(e){return"OL"===e.tagName},dA=function(e){return"INPUT"===e.tagName},cA=function(e){return"HTML"===e.tagName},uA=function(e){return"svg"===e.tagName},gA=function(e){return"BODY"===e.tagName},mA=function(e){return"CANVAS"===e.tagName},pA=function(e){return"IMG"===e.tagName},hA=function(e){return"IFRAME"===e.tagName},fA=function(e){return"TEXTAREA"===e.tagName},bA=function(e){return"SELECT"===e.tagName},vA=function(e){return"SLOT"===e.tagName},wA=(xA.prototype.getCounterValue=function(e){e=this.counters[e];return e&&e.length?e[e.length-1]:1},xA.prototype.getCounterValues=function(e){e=this.counters[e];return e||[]},xA.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},xA.prototype.parse=function(e){var o=this,t=e.counterIncrement,e=e.counterReset,r=!0,n=(null!==t&&t.forEach(function(e){var t=o.counters[e.counter];t&&0!==e.increment&&(r=!1,t.length||t.push(1),t[Math.max(0,t.length-1)]+=e.increment)}),[]);return r&&e.forEach(function(e){var t=o.counters[e.counter];n.push(e.counter),(t=t||(o.counters[e.counter]=[])).push(e.reset)}),n},xA);function xA(){this.counters={}}function BA(r,e,t,n,o,a){return r<e||t<r?NA(r,o,0<a.length):n.integers.reduce(function(e,t,o){for(;t<=r;)r-=t,e+=n.values[o];return e},"")+a}function x(e,t,o,r,n){var a=o-t+1;return(e<0?"-":"")+(QA(Math.abs(e),a,r,function(e){return u(Math.floor(e%a)+t)})+n)}function yA(e,t,o){void 0===o&&(o=". ");var r=t.length;return QA(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+o}function CA(e,t,o,r,n,a){if(e<-9999||9999<e)return NA(e,4,0<n.length);var A=Math.abs(e),i=n;if(0===A)return t[0]+i;for(var s=0;0<A&&s<=4;s++){var l=A%10;0==l&&b(a,UA)&&""!==i?i=t[l]+i:1<l||1==l&&0===s||1==l&&1===s&&b(a,IA)||1==l&&1===s&&b(a,TA)&&100<e||1==l&&1<s&&b(a,MA)?i=t[l]+(0<s?o[s-1]:"")+i:1==l&&0<s&&(i=o[s-1]+i),A=Math.floor(A/10)}return(e<0?r:"")+i}var _A,B,kA={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},EA={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ิฟ","ิพ","ิฝ","ิผ","ิป","ิบ","ิน","ิธ","ิท","ิถ","ิต","ิด","ิณ","ิฒ","ิฑ"]},FA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืช","ืฉ","ืจ","ืง","ืฆ","ืค","ืข","ืก","ื","ื","ื","ื","ืื","ืื","ืื","ืื","ืื","ื","ื","ื","ื","ื","ื","ื","ื","ื","ื"]},SA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["แต","แฐ","แฏ","แด","แฎ","แญ","แฌ","แซ","แช","แฉ","แจ","แง","แฆ","แฅ","แค","แณ","แข","แก","แ","แ","แ","แ","แฒ","แ","แ","แ","แ","แ","แ","แฑ","แ","แ","แ","แ","แ","แ","แ"]},QA=function(e,t,o,r){for(var n="";o||e--,n=r(e)+n,t<=(e/=t)*t;);return n},UA=1,IA=2,TA=4,MA=8,HA="ๅ็พๅ่ฌ",DA="ๆพไฝฐไป่ฌ",OA="ใใคใใน",LA="๋ง์ด๋์ค",NA=function(e,t,o){var r=o?". ":"",n=o?"ใ":"",a=o?", ":"",A=o?" ":"";switch(t){case 0:return"โข"+A;case 1:return"โฆ"+A;case 2:return"โพ"+A;case 5:var i=x(e,48,57,!0,r);return i.length<4?"0"+i:i;case 4:return yA(e,"ใไธไบไธๅไบๅญไธๅซไน",n);case 6:return BA(e,1,3999,kA,3,r).toLowerCase();case 7:return BA(e,1,3999,kA,3,r);case 8:return x(e,945,969,!1,r);case 9:return x(e,97,122,!1,r);case 10:return x(e,65,90,!1,r);case 11:return x(e,1632,1641,!0,r);case 12:case 49:return BA(e,1,9999,EA,3,r);case 35:return BA(e,1,9999,EA,3,r).toLowerCase();case 13:return x(e,2534,2543,!0,r);case 14:case 30:return x(e,6112,6121,!0,r);case 15:return yA(e,"ๅญไธๅฏๅฏ่พฐๅทณๅๆช็ณ้ๆไบฅ",n);case 16:return yA(e,"็ฒไนไธไธๆๅทฑๅบ่พๅฃฌ็ธ",n);case 17:case 48:return CA(e,"้ถไธไบไธๅไบๅญไธๅซไน",HA,"่ฒ",n,IA|TA|MA);case 47:return CA(e,"้ถๅฃน่ฒณๅ่ไผ้ธๆๆ็",DA,"่ฒ",n,UA|IA|TA|MA);case 42:return CA(e,"้ถไธไบไธๅไบๅญไธๅซไน",HA,"่ด",n,IA|TA|MA);case 41:return CA(e,"้ถๅฃน่ดฐๅ่ไผ้ๆๆ็",DA,"่ด",n,UA|IA|TA|MA);case 26:return CA(e,"ใไธไบไธๅไบๅญไธๅซไน","ๅ็พๅไธ",OA,n,0);case 25:return CA(e,"้ถๅฃฑๅผๅๅไผๅญไธๅซไน","ๆพ็พๅไธ",OA,n,UA|IA|TA);case 31:return CA(e,"์์ผ์ด์ผ์ฌ์ค์ก์นํ๊ตฌ","์ญ๋ฐฑ์ฒ๋ง",LA,a,UA|IA|TA);case 33:return CA(e,"้ถไธไบไธๅไบๅญไธๅซไน","ๅ็พๅ่ฌ",LA,a,0);case 32:return CA(e,"้ถๅฃน่ฒณๅๅไบๅญไธๅซไน","ๆพ็พๅ",LA,a,UA|IA|TA);case 18:return x(e,2406,2415,!0,r);case 20:return BA(e,1,19999,SA,3,r);case 21:return x(e,2790,2799,!0,r);case 22:return x(e,2662,2671,!0,r);case 22:return BA(e,1,10999,FA,3,r);case 23:return yA(e,"ใใใใใใใใใใใใใใใใใกใคใฆใจใชใซใฌใญใฎใฏใฒใตใธใปใพใฟใใใใใใใใใใใใใใใใ");case 24:return yA(e,"ใใใฏใซใปใธใจใกใใฌใใใใใใใใใคใญใชใใใใใฎใใใใพใใตใใใฆใใใใใใฟใใใฒใใใ");case 27:return x(e,3302,3311,!0,r);case 28:return yA(e,"ใขใคใฆใจใชใซใญใฏใฑใณใตใทในใปใฝใฟใใใใใใใใใใใใใใใใใใกใขใคใฆใจใฉใชใซใฌใญใฏใฐใฑใฒใณ",n);case 29:return yA(e,"ใคใญใใใใใใใชใใซใฒใฏใซใจใฟใฌใฝใใใใฉใใฆใฐใใชใฏใคใใฑใใณใจใใขใตใญใฆใกใใทใฑใใขใปใน",n);case 34:return x(e,3792,3801,!0,r);case 37:return x(e,6160,6169,!0,r);case 38:return x(e,4160,4169,!0,r);case 39:return x(e,2918,2927,!0,r);case 40:return x(e,1776,1785,!0,r);case 43:return x(e,3046,3055,!0,r);case 44:return x(e,3174,3183,!0,r);case 45:return x(e,3664,3673,!0,r);case 46:return x(e,3872,3881,!0,r);default:return x(e,48,57,!0,r)}},RA="data-html2canvas-ignore",PA=(y.prototype.toIFrame=function(e,r){var t,n,a,o,A=this,i=zA(e,r);return i.contentWindow?(t=e.defaultView.pageXOffset,e=e.defaultView.pageYOffset,a=(n=i.contentWindow).document,o=ZA(i).then(function(){return c(A,void 0,void 0,function(){var t,o;return I(this,function(e){switch(e.label){case 0:return(this.scrolledElements.forEach(YA),n&&(n.scrollTo(r.left,r.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||n.scrollY===r.top&&n.scrollX===r.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(n.scrollX-r.left,n.scrollY-r.top,0,0))),t=this.options.onclone,void 0===(o=this.clonedReferenceElement))?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:e.sent(),e.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,KA(a)]:[3,4];case 3:e.sent(),e.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then(function(){return t(a,o)}).then(function(){return i})]:[2,i]}})})}),a.open(),a.write(WA(document.doctype)+"<html></html>"),XA(this.referenceElement.ownerDocument,t,e),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),o):Promise.reject("Unable to find iframe window")},y.prototype.createElementClone=function(e){var t;return yn(e,2),mA(e)?this.createCanvasClone(e):Xa(e)?this.createVideoClone(e):Ya(e)?this.createStyleClone(e):(t=e.cloneNode(!1),pA(t)&&(pA(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading)&&(t.loading="eager"),Ja(t)?this.createCustomElementClone(t):t)},y.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return jA(e.style,t),t},y.prototype.createStyleClone=function(e){try{var t,o,r=e.sheet;if(r&&r.cssRules)return t=[].slice.call(r.cssRules,0).reduce(function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e},""),(o=e.cloneNode(!1)).textContent=t,o}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},y.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var o=t.ownerDocument.createElement("img");try{return o.src=t.toDataURL(),o}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}o=t.cloneNode(!1);try{o.width=t.width,o.height=t.height;var r,n,a=t.getContext("2d"),A=o.getContext("2d");A&&(!this.options.allowTaint&&a?A.putImageData(a.getImageData(0,0,t.width,t.height),0,0):((r=null!=(e=t.getContext("webgl2"))?e:t.getContext("webgl"))&&!1===(null==(n=r.getContextAttributes())?void 0:n.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t),A.drawImage(t,0,0)))}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return o},y.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas"),o=(e.width=t.offsetWidth,e.height=t.offsetHeight,e.getContext("2d"));try{return o&&(o.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||o.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}o=t.ownerDocument.createElement("canvas");return o.width=t.offsetWidth,o.height=t.offsetHeight,o},y.prototype.appendChildNode=function(e,t,o){aA(t)&&("SCRIPT"===t.tagName||t.hasAttribute(RA)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&aA(t)&&Ya(t)||e.appendChild(this.cloneNode(t,o))},y.prototype.cloneChildNodes=function(e,t,o){for(var r,n=this,a=(e.shadowRoot||e).firstChild;a;a=a.nextSibling)aA(a)&&vA(a)&&"function"==typeof a.assignedNodes?(r=a.assignedNodes()).length&&r.forEach(function(e){return n.appendChildNode(t,e,o)}):this.appendChildNode(t,a,o)},y.prototype.cloneNode=function(e,t){var o,r,n,a,A;return nA(e)?document.createTextNode(e.data):e.ownerDocument&&(n=e.ownerDocument.defaultView)&&aA(e)&&(AA(e)||iA(e))?((o=this.createElementClone(e)).style.transitionProperty="none",r=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),n=n.getComputedStyle(e,":after"),this.referenceElement===e&&AA(o)&&(this.clonedReferenceElement=o),gA(o)&&ei(o),a=this.counters.parse(new wn(this.context,r)),A=this.resolvePseudoContent(e,o,A,_A.BEFORE),Ja(e)&&(t=!0),Xa(e)||this.cloneChildNodes(e,o,t),A&&o.insertBefore(A,o.firstChild),(A=this.resolvePseudoContent(e,o,n,_A.AFTER))&&o.appendChild(A),this.counters.pop(a),(r&&(this.options.copyStyles||iA(e))&&!hA(e)||t)&&jA(r,o),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([o,e.scrollLeft,e.scrollTop]),(fA(e)||bA(e))&&(fA(o)||bA(o))&&(o.value=e.value),o):e.cloneNode(!1)},y.prototype.resolvePseudoContent=function(A,e,t,o){var i=this;if(t){var s,l,r=t.content,d=e.ownerDocument;if(d&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==t.display)return this.counters.parse(new wn(this.context,t)),s=new vn(this.context,t),l=d.createElement("html2canvaspseudoelement"),jA(t,l),s.content.forEach(function(e){if(0===e.type)l.appendChild(d.createTextNode(e.value));else if(22===e.type){var t=d.createElement("img");t.src=e.value,t.style.opacity="1",l.appendChild(t)}else if(18===e.type){var o,r,n,a;"attr"===e.name?(t=e.values.filter(h)).length&&l.appendChild(d.createTextNode(A.getAttribute(t[0].value)||"")):"counter"===e.name?(n=(t=e.values.filter(Jt))[0],a=t[1],n&&h(n)&&(t=i.counters.getCounterValue(n.value),o=a&&h(a)?Qr.parse(i.context,a.value):3,l.appendChild(d.createTextNode(NA(t,o,!1))))):"counters"===e.name&&(n=(t=e.values.filter(Jt))[0],o=t[1],a=t[2],n)&&h(n)&&(t=i.counters.getCounterValues(n.value),r=a&&h(a)?Qr.parse(i.context,a.value):3,n=o&&0===o.type?o.value:"",a=t.map(function(e){return NA(e,r,!1)}).join(n),l.appendChild(d.createTextNode(a)))}else if(20===e.type)switch(e.value){case"open-quote":l.appendChild(d.createTextNode(Zo(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(d.createTextNode(Zo(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(d.createTextNode(e.value))}}),l.className=JA+" "+qA,r=o===_A.BEFORE?" "+JA:" "+qA,iA(e)?e.className.baseValue+=r:e.className+=r,l}},y.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},y);function y(e,t,o){if(this.context=e,this.options=o,this.scrolledElements=[],this.referenceElement=t,this.counters=new wA,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}(B=_A=_A||{})[B.BEFORE=0]="BEFORE",B[B.AFTER=1]="AFTER";function VA(t){return new Promise(function(e){!t.complete&&t.src?(t.onload=e,t.onerror=e):e()})}var zA=function(e,t){var o=e.createElement("iframe");return o.className="html2canvas-container",o.style.visibility="hidden",o.style.position="fixed",o.style.left="-10000px",o.style.top="0px",o.style.border="0",o.width=t.width.toString(),o.height=t.height.toString(),o.scrolling="no",o.setAttribute(RA,"true"),e.body.appendChild(o),o},KA=function(e){return Promise.all([].slice.call(e.images,0).map(VA))},ZA=function(n){return new Promise(function(t,e){var o=n.contentWindow;if(!o)return e("No window assigned for iframe");var r=o.document;o.onload=n.onload=function(){o.onload=n.onload=null;var e=setInterval(function(){0<r.body.childNodes.length&&"complete"===r.readyState&&(clearInterval(e),t(n))},50)}})},GA=["all","d","content"],jA=function(e,t){for(var o=e.length-1;0<=o;o--){var r=e.item(o);-1===GA.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},WA=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},XA=function(e,t,o){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||o!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,o)},YA=function(e){var t=e[0],o=e[2];t.scrollLeft=e[1],t.scrollTop=o},JA="___html2canvas___pseudoelement_before",qA="___html2canvas___pseudoelement_after",$A='{\n    content: "" !important;\n    display: none !important;\n}',ei=function(e){ti(e,"."+JA+":before"+$A+"\n         ."+qA+":after"+$A)},ti=function(e,t){var o=e.ownerDocument;o&&((o=o.createElement("style")).textContent=t,e.appendChild(o))},oi=(C.getOrigin=function(e){var t=C._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},C.isSameOrigin=function(e){return C.getOrigin(e)===C._origin},C.setContext=function(e){C._link=e.document.createElement("a"),C._origin=C.getOrigin(e.location.href)},C._origin="about:blank",C);function C(){}ni.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(ci(e)||si(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},ni.prototype.match=function(e){return this._cache[e]},ni.prototype.loadImage=function(A){return c(this,void 0,void 0,function(){var t,r,o,n,a=this;return I(this,function(e){switch(e.label){case 0:return(t=oi.isSameOrigin(A),r=!li(A)&&!0===this._options.useCORS&&w.SUPPORT_CORS_IMAGES&&!t,o=!li(A)&&!t&&!ci(A)&&"string"==typeof this._options.proxy&&w.SUPPORT_CORS_XHR&&!r,t||!1!==this._options.allowTaint||li(A)||ci(A)||o||r)?(n=A,o?[4,this.proxy(n)]:[3,2]):[2];case 1:n=e.sent(),e.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(e,t){var o=new Image;o.onload=function(){return e(o)},o.onerror=t,(di(n)||r)&&(o.crossOrigin="anonymous"),o.src=n,!0===o.complete&&setTimeout(function(){return e(o)},500),0<a._options.imageTimeout&&setTimeout(function(){return t("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,e.sent()]}})})},ni.prototype.has=function(e){return void 0!==this._cache[e]},ni.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},ni.prototype.proxy=function(A){var i,s=this,l=this._options.proxy;if(l)return i=A.substring(0,256),new Promise(function(t,o){var e,r=w.SUPPORT_RESPONSE_TYPE?"blob":"text",n=new XMLHttpRequest,a=(n.onload=function(){var e;200===n.status?"text"==r?t(n.response):((e=new FileReader).addEventListener("load",function(){return t(e.result)},!1),e.addEventListener("error",function(e){return o(e)},!1),e.readAsDataURL(n.response)):o("Failed to proxy resource "+i+" with status code "+n.status)},n.onerror=o,-1<l.indexOf("?")?"&":"?");n.open("GET",l+a+"url="+encodeURIComponent(A)+"&responseType="+r),"text"!=r&&n instanceof XMLHttpRequest&&(n.responseType=r),s._options.imageTimeout&&(e=s._options.imageTimeout,n.timeout=e,n.ontimeout=function(){return o("Timed out ("+e+"ms) proxying "+i)}),n.send()});throw new Error("No proxy defined")};var ri=ni;function ni(e,t){this.context=e,this._options=t,this._cache={}}var ai=/^data:image\/svg\+xml/i,Ai=/^data:image\/.*;base64,/i,ii=/^data:image\/.*/i,si=function(e){return w.SUPPORT_SVG_DRAWING||!ui(e)},li=function(e){return ii.test(e)},di=function(e){return Ai.test(e)},ci=function(e){return"blob"===e.substr(0,4)},ui=function(e){return"svg"===e.substr(-3).toLowerCase()||ai.test(e)},_=(gi.prototype.add=function(e,t){return new gi(this.x+e,this.y+t)},gi);function gi(e,t){this.type=0,this.x=e,this.y=t}function mi(e,t,o){return new _(e.x+(t.x-e.x)*o,e.y+(t.y-e.y)*o)}hi.prototype.subdivide=function(e,t){var o=mi(this.start,this.startControl,e),r=mi(this.startControl,this.endControl,e),n=mi(this.endControl,this.end,e),a=mi(o,r,e),r=mi(r,n,e),e=mi(a,r,e);return t?new hi(this.start,o,a,e):new hi(e,r,n,this.end)},hi.prototype.add=function(e,t){return new hi(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},hi.prototype.reverse=function(){return new hi(this.end,this.endControl,this.startControl,this.start)};var pi=hi;function hi(e,t,o,r){this.type=1,this.start=e,this.startControl=t,this.endControl=o,this.end=r}function fi(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]}function bi(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]}function vi(e){return 1===e.type}function wi(e,o){return e.length===o.length&&e.some(function(e,t){return e===o[t]})}var k,E,F=function(e){return 1===e.type},xi=function(e){var t=e.styles,o=e.bounds,r=(n=so(t.borderTopLeftRadius,o.width,o.height))[0],n=n[1],a=(A=so(t.borderTopRightRadius,o.width,o.height))[0],A=A[1],i=(s=so(t.borderBottomRightRadius,o.width,o.height))[0],s=s[1],l=(d=so(t.borderBottomLeftRadius,o.width,o.height))[0],d=d[1];(c=[]).push((r+a)/o.width),c.push((l+i)/o.width),c.push((n+d)/o.height),c.push((A+s)/o.height);1<(c=Math.max.apply(Math,c))&&(r/=c,n/=c,a/=c,A/=c,i/=c,s/=c,l/=c,d/=c);var c=o.width-a,u=o.height-s,g=o.width-i,m=o.height-d,p=t.borderTopWidth,h=t.borderRightWidth,f=t.borderBottomWidth,b=t.borderLeftWidth,v=M(t.paddingTop,e.bounds.width),w=M(t.paddingRight,e.bounds.width),x=M(t.paddingBottom,e.bounds.width),t=M(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=0<r||0<n?S(o.left+b/3,o.top+p/3,r-b/3,n-p/3,k.TOP_LEFT):new _(o.left+b/3,o.top+p/3),this.topRightBorderDoubleOuterBox=0<r||0<n?S(o.left+c,o.top+p/3,a-h/3,A-p/3,k.TOP_RIGHT):new _(o.left+o.width-h/3,o.top+p/3),this.bottomRightBorderDoubleOuterBox=0<i||0<s?S(o.left+g,o.top+u,i-h/3,s-f/3,k.BOTTOM_RIGHT):new _(o.left+o.width-h/3,o.top+o.height-f/3),this.bottomLeftBorderDoubleOuterBox=0<l||0<d?S(o.left+b/3,o.top+m,l-b/3,d-f/3,k.BOTTOM_LEFT):new _(o.left+b/3,o.top+o.height-f/3),this.topLeftBorderDoubleInnerBox=0<r||0<n?S(o.left+2*b/3,o.top+2*p/3,r-2*b/3,n-2*p/3,k.TOP_LEFT):new _(o.left+2*b/3,o.top+2*p/3),this.topRightBorderDoubleInnerBox=0<r||0<n?S(o.left+c,o.top+2*p/3,a-2*h/3,A-2*p/3,k.TOP_RIGHT):new _(o.left+o.width-2*h/3,o.top+2*p/3),this.bottomRightBorderDoubleInnerBox=0<i||0<s?S(o.left+g,o.top+u,i-2*h/3,s-2*f/3,k.BOTTOM_RIGHT):new _(o.left+o.width-2*h/3,o.top+o.height-2*f/3),this.bottomLeftBorderDoubleInnerBox=0<l||0<d?S(o.left+2*b/3,o.top+m,l-2*b/3,d-2*f/3,k.BOTTOM_LEFT):new _(o.left+2*b/3,o.top+o.height-2*f/3),this.topLeftBorderStroke=0<r||0<n?S(o.left+b/2,o.top+p/2,r-b/2,n-p/2,k.TOP_LEFT):new _(o.left+b/2,o.top+p/2),this.topRightBorderStroke=0<r||0<n?S(o.left+c,o.top+p/2,a-h/2,A-p/2,k.TOP_RIGHT):new _(o.left+o.width-h/2,o.top+p/2),this.bottomRightBorderStroke=0<i||0<s?S(o.left+g,o.top+u,i-h/2,s-f/2,k.BOTTOM_RIGHT):new _(o.left+o.width-h/2,o.top+o.height-f/2),this.bottomLeftBorderStroke=0<l||0<d?S(o.left+b/2,o.top+m,l-b/2,d-f/2,k.BOTTOM_LEFT):new _(o.left+b/2,o.top+o.height-f/2),this.topLeftBorderBox=0<r||0<n?S(o.left,o.top,r,n,k.TOP_LEFT):new _(o.left,o.top),this.topRightBorderBox=0<a||0<A?S(o.left+c,o.top,a,A,k.TOP_RIGHT):new _(o.left+o.width,o.top),this.bottomRightBorderBox=0<i||0<s?S(o.left+g,o.top+u,i,s,k.BOTTOM_RIGHT):new _(o.left+o.width,o.top+o.height),this.bottomLeftBorderBox=0<l||0<d?S(o.left,o.top+m,l,d,k.BOTTOM_LEFT):new _(o.left,o.top+o.height),this.topLeftPaddingBox=0<r||0<n?S(o.left+b,o.top+p,Math.max(0,r-b),Math.max(0,n-p),k.TOP_LEFT):new _(o.left+b,o.top+p),this.topRightPaddingBox=0<a||0<A?S(o.left+Math.min(c,o.width-h),o.top+p,c>o.width+h?0:Math.max(0,a-h),Math.max(0,A-p),k.TOP_RIGHT):new _(o.left+o.width-h,o.top+p),this.bottomRightPaddingBox=0<i||0<s?S(o.left+Math.min(g,o.width-b),o.top+Math.min(u,o.height-f),Math.max(0,i-h),Math.max(0,s-f),k.BOTTOM_RIGHT):new _(o.left+o.width-h,o.top+o.height-f),this.bottomLeftPaddingBox=0<l||0<d?S(o.left+b,o.top+Math.min(m,o.height-f),Math.max(0,l-b),Math.max(0,d-f),k.BOTTOM_LEFT):new _(o.left+b,o.top+o.height-f),this.topLeftContentBox=0<r||0<n?S(o.left+b+t,o.top+p+v,Math.max(0,r-(b+t)),Math.max(0,n-(p+v)),k.TOP_LEFT):new _(o.left+b+t,o.top+p+v),this.topRightContentBox=0<a||0<A?S(o.left+Math.min(c,o.width+b+t),o.top+p+v,c>o.width+b+t?0:a-b+t,A-(p+v),k.TOP_RIGHT):new _(o.left+o.width-(h+w),o.top+p+v),this.bottomRightContentBox=0<i||0<s?S(o.left+Math.min(g,o.width-(b+t)),o.top+Math.min(u,o.height+p+v),Math.max(0,i-(h+w)),s-(f+x),k.BOTTOM_RIGHT):new _(o.left+o.width-(h+w),o.top+o.height-(f+x)),this.bottomLeftContentBox=0<l||0<d?S(o.left+b+t,o.top+m,Math.max(0,l-(b+t)),d-(f+x),k.BOTTOM_LEFT):new _(o.left+b+t,o.top+o.height-(f+x))},S=((E=k=k||{})[E.TOP_LEFT=0]="TOP_LEFT",E[E.TOP_RIGHT=1]="TOP_RIGHT",E[E.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",E[E.BOTTOM_LEFT=3]="BOTTOM_LEFT",function(e,t,o,r,n){var a=(Math.sqrt(2)-1)/3*4,A=o*a,i=r*a,s=e+o,l=t+r;switch(n){case k.TOP_LEFT:return new pi(new _(e,l),new _(e,l-i),new _(s-A,t),new _(s,t));case k.TOP_RIGHT:return new pi(new _(e,t),new _(e+A,t),new _(s,l-i),new _(s,l));case k.BOTTOM_RIGHT:return new pi(new _(s,t),new _(s,t+i),new _(e+A,l),new _(e,l));default:k.BOTTOM_LEFT;return new pi(new _(s,l),new _(s-A,l),new _(e,t+i),new _(e,t))}}),Bi=function(e,t,o){this.offsetX=e,this.offsetY=t,this.matrix=o,this.type=0,this.target=6},yi=function(e,t){this.path=e,this.target=t,this.type=1},Ci=function(e){this.opacity=e,this.type=2,this.target=6},_i=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},ki=(Ei.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),o=this.parent,r=this.effects.slice(0);o;){var n,a,A=o.effects.filter(function(e){return!vi(e)});e||0!==o.container.styles.position||!o.parent?(r.unshift.apply(r,A),e=-1===[2,3].indexOf(o.container.styles.position),0!==o.container.styles.overflowX&&(n=fi(o.curves),a=bi(o.curves),wi(n,a)||r.unshift(new yi(a,6)))):r.unshift.apply(r,A),o=o.parent}return r.filter(function(e){return b(e.target,t)})},Ei);function Ei(e,t){var o;this.container=e,this.parent=t,this.effects=[],this.curves=new xi(this.container),this.container.styles.opacity<1&&this.effects.push(new Ci(this.container.styles.opacity)),null!==this.container.styles.transform&&(e=this.container.bounds.left+this.container.styles.transformOrigin[0].number,t=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform,this.effects.push(new Bi(e,t,o))),0!==this.container.styles.overflowX&&(e=fi(this.curves),t=bi(this.curves),wi(e,t)?this.effects.push(new yi(e,6)):(this.effects.push(new yi(e,2)),this.effects.push(new yi(t,4))))}function Fi(e,t){switch(t){case 0:return Q(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Q(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Q(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Q(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}function Si(e,t){var o=[];return F(e)?o.push(e.subdivide(.5,!1)):o.push(e),F(t)?o.push(t.subdivide(.5,!0)):o.push(t),o}function Q(e,t,o,r){var n=[];return F(e)?n.push(e.subdivide(.5,!1)):n.push(e),F(o)?n.push(o.subdivide(.5,!0)):n.push(o),F(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),F(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n}function Qi(e,t,o){var r=Hi(Ri(e.styles.backgroundOrigin,t),e),n=Di(Ri(e.styles.backgroundClip,t),e),a=(o=Ni(Ri(e.styles.backgroundSize,t),o,r))[0],A=o[1],i=so(Ri(e.styles.backgroundPosition,t),r.width-a,r.height-A);return[Pi(Ri(e.styles.backgroundRepeat,t),i,o,r,n),Math.round(r.left+i[0]),Math.round(r.top+i[1]),a,A]}var Ui=function(l,d,c,u){l.container.elements.forEach(function(e){var t,o,r,n,a=b(e.flags,4),A=b(e.flags,2),i=new ki(e,l),s=(b(e.styles.display,2048)&&u.push(i),b(e.flags,8)?[]:u);a||A?(A=a||e.styles.isPositioned()?c:d,t=new _i(i),e.styles.isPositioned()||e.styles.opacity<1||e.styles.isTransformed()?(o=e.styles.zIndex.order)<0?(r=0,A.negativeZIndex.some(function(e,t){return o>e.element.container.styles.zIndex.order?(r=t,!1):0<r}),A.negativeZIndex.splice(r,0,t)):0<o?(n=0,A.positiveZIndex.some(function(e,t){return o>=e.element.container.styles.zIndex.order?(n=t+1,!1):0<n}),A.positiveZIndex.splice(n,0,t)):A.zeroOrAutoZIndexOrTransformedOrOpacity.push(t):(e.styles.isFloating()?A.nonPositionedFloats:A.nonPositionedInlineLevel).push(t),Ui(i,t,a?t:c,s)):((e.styles.isInlineLevel()?d.inlineLevel:d.nonInlineLevel).push(i),Ui(i,d,c,s)),b(e.flags,8)&&Ii(e,s)})},Ii=function(e,t){for(var o=e instanceof Sa?e.start:1,r=e instanceof Sa&&e.reversed,n=0;n<t.length;n++){var a=t[n];a.container instanceof ka&&"number"==typeof a.container.value&&0!==a.container.value&&(o=a.container.value),a.listValue=NA(o,a.container.styles.listStyleType,!0),o+=r?-1:1}},Ti=function(e){var t=e.bounds,e=e.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},Mi=function(e){var t=e.styles,e=e.bounds,o=M(t.paddingLeft,e.width),r=M(t.paddingRight,e.width),n=M(t.paddingTop,e.width),a=M(t.paddingBottom,e.width);return e.add(o+t.borderLeftWidth,n+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+o+r),-(t.borderTopWidth+t.borderBottomWidth+n+a))},Hi=function(e,t){return 0===e?t.bounds:(2===e?Mi:Ti)(t)},Di=function(e,t){return 0===e?t.bounds:(2===e?Mi:Ti)(t)},Oi=function(e){return h(e)&&e.value===Go.AUTO},Li=function(e){return"number"==typeof e},Ni=function(e,t,o){var r=t[0],n=t[1],t=t[2],a=e[0],e=e[1];if(!a)return[0,0];if(d(a)&&e&&d(e))return[M(a,o.width),M(e,o.height)];var A=Li(t);if(h(a)&&(a.value===Go.CONTAIN||a.value===Go.COVER))return Li(t)?o.width/o.height<t!=(a.value===Go.COVER)?[o.width,o.width/t]:[o.height*t,o.height]:[o.width,o.height];var i=Li(r),s=Li(n),l=i||s;if(Oi(a)&&(!e||Oi(e)))return i&&s?[r,n]:A||l?l&&A?[i?r:n*t,s?n:r/t]:[i?r:o.width,s?n:o.height]:[o.width,o.height];if(A)return A=l=0,d(a)?l=M(a,o.width):d(e)&&(A=M(e,o.height)),Oi(a)?l=A*t:e&&!Oi(e)||(A=l/t),[l,A];t=null,l=null;if(d(a)?t=M(a,o.width):e&&d(e)&&(l=M(e,o.height)),null!==(t=null!==(l=null===t||e&&!Oi(e)?l:i&&s?t/r*n:o.height)&&Oi(a)?i&&s?l/n*r:o.width:t)&&null!==l)return[t,l];throw new Error("Unable to calculate background-size for element")},Ri=function(e,t){t=e[t];return void 0===t?e[0]:t},Pi=function(e,t,o,r,n){var a=t[0],A=t[1],i=o[0],s=o[1];switch(e){case 2:return[new _(Math.round(r.left),Math.round(r.top+A)),new _(Math.round(r.left+r.width),Math.round(r.top+A)),new _(Math.round(r.left+r.width),Math.round(s+r.top+A)),new _(Math.round(r.left),Math.round(s+r.top+A))];case 3:return[new _(Math.round(r.left+a),Math.round(r.top)),new _(Math.round(r.left+a+i),Math.round(r.top)),new _(Math.round(r.left+a+i),Math.round(r.height+r.top)),new _(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new _(Math.round(r.left+a),Math.round(r.top+A)),new _(Math.round(r.left+a+i),Math.round(r.top+A)),new _(Math.round(r.left+a+i),Math.round(r.top+A+s)),new _(Math.round(r.left+a),Math.round(r.top+A+s))];default:return[new _(Math.round(n.left),Math.round(n.top)),new _(Math.round(n.left+n.width),Math.round(n.top)),new _(Math.round(n.left+n.width),Math.round(n.height+n.top)),new _(Math.round(n.left),Math.round(n.height+n.top))]}},Vi="Hidden Text",zi=(Ki.prototype.parseMetrics=function(e,t){var o=this._document.createElement("div"),r=this._document.createElement("img"),n=this._document.createElement("span"),a=this._document.body,e=(o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.style.whiteSpace="nowrap",a.appendChild(o),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode(Vi)),o.appendChild(n),o.appendChild(r),r.offsetTop-n.offsetTop+2),t=(o.removeChild(n),o.appendChild(this._document.createTextNode(Vi)),o.style.lineHeight="normal",r.style.verticalAlign="super",r.offsetTop-o.offsetTop+2);return a.removeChild(o),{baseline:e,middle:t}},Ki.prototype.getMetrics=function(e,t){var o=e+" "+t;return void 0===this._data[o]&&(this._data[o]=this.parseMetrics(e,t)),this._data[o]},Ki);function Ki(e){this._data={},this._document=e}function Zi(e,t){this.context=e,this.options=t}e(U,Gi=Zi),U.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},U.prototype.applyEffect=function(e){this.ctx.save(),2===e.type&&(this.ctx.globalAlpha=e.opacity),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),vi(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},U.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},U.prototype.renderStack=function(t){return c(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},U.prototype.renderNode=function(t){return c(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return(b(t.container.flags,16),t.container.styles.isVisible())?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},U.prototype.renderTextWithLetterSpacing=function(o,e,r){var n=this;0===e?this.ctx.fillText(o.text,o.bounds.left,o.bounds.top+r):sa(o.text).reduce(function(e,t){return n.ctx.fillText(t,e,o.bounds.top+r),e+n.ctx.measureText(t).width},o.bounds.left)},U.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),o=$i(e.fontFamily).join(", "),r=ro(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,o].join(" "),o,r]},U.prototype.renderTextNode=function(s,l){return c(this,void 0,void 0,function(){var t,o,r,n,a,A,i=this;return I(this,function(e){return o=this.createFontStyle(l),r=o[0],t=o[1],o=o[2],this.ctx.font=r,this.ctx.direction=1===l.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",r=this.fontMetrics.getMetrics(t,o),n=r.baseline,a=r.middle,A=l.paintOrder,s.textBounds.forEach(function(o){A.forEach(function(e){switch(e){case 0:i.ctx.fillStyle=T(l.color),i.renderTextWithLetterSpacing(o,l.letterSpacing,n);var t=l.textShadow;t.length&&o.text.trim().length&&(t.slice(0).reverse().forEach(function(e){i.ctx.shadowColor=T(e.color),i.ctx.shadowOffsetX=e.offsetX.number*i.options.scale,i.ctx.shadowOffsetY=e.offsetY.number*i.options.scale,i.ctx.shadowBlur=e.blur.number,i.renderTextWithLetterSpacing(o,l.letterSpacing,n)}),i.ctx.shadowColor="",i.ctx.shadowOffsetX=0,i.ctx.shadowOffsetY=0,i.ctx.shadowBlur=0),l.textDecorationLine.length&&(i.ctx.fillStyle=T(l.textDecorationColor||l.color),l.textDecorationLine.forEach(function(e){switch(e){case 1:i.ctx.fillRect(o.bounds.left,Math.round(o.bounds.top+n),o.bounds.width,1);break;case 2:i.ctx.fillRect(o.bounds.left,Math.round(o.bounds.top),o.bounds.width,1);break;case 3:i.ctx.fillRect(o.bounds.left,Math.ceil(o.bounds.top+a),o.bounds.width,1)}}));break;case 1:l.webkitTextStrokeWidth&&o.text.trim().length&&(i.ctx.strokeStyle=T(l.webkitTextStrokeColor),i.ctx.lineWidth=l.webkitTextStrokeWidth,i.ctx.lineJoin=window.chrome?"miter":"round",i.ctx.strokeText(o.text,o.bounds.left,o.bounds.top+n)),i.ctx.strokeStyle="",i.ctx.lineWidth=0,i.ctx.lineJoin="miter"}})}),[2]})})},U.prototype.renderReplacedElement=function(e,t,o){var r;o&&0<e.intrinsicWidth&&0<e.intrinsicHeight&&(r=Mi(e),t=bi(t),this.path(t),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore())},U.prototype.renderNodeContent=function(m){return c(this,void 0,void 0,function(){var t,o,r,n,a,A,i,s,l,d,c,u,g;return I(this,function(e){switch(e.label){case 0:this.applyEffects(m.getEffects(4)),t=m.container,o=m.curves,r=t.styles,n=0,a=t.textNodes,e.label=1;case 1:return n<a.length?(A=a[n],[4,this.renderTextNode(A,r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:if(!(t instanceof fa))return[3,8];e.label=5;case 5:return e.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return d=e.sent(),this.renderReplacedElement(t,o,d),[3,8];case 7:return e.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof wa&&this.renderReplacedElement(t,o,t.canvas),!(t instanceof ya))return[3,12];e.label=9;case 9:return e.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return d=e.sent(),this.renderReplacedElement(t,o,d),[3,12];case 11:return e.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ja&&t.tree?[4,new U(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:A=e.sent(),t.width&&t.height&&this.ctx.drawImage(A,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),e.label=14;case 14:if(t instanceof La&&(i=Math.min(t.bounds.width,t.bounds.height),t.type===Ma?t.checked&&(this.ctx.save(),this.path([new _(t.bounds.left+.39363*i,t.bounds.top+.79*i),new _(t.bounds.left+.16*i,t.bounds.top+.5549*i),new _(t.bounds.left+.27347*i,t.bounds.top+.44071*i),new _(t.bounds.left+.39694*i,t.bounds.top+.5649*i),new _(t.bounds.left+.72983*i,t.bounds.top+.23*i),new _(t.bounds.left+.84*i,t.bounds.top+.34085*i),new _(t.bounds.left+.39363*i,t.bounds.top+.79*i)]),this.ctx.fillStyle=T(Oa),this.ctx.fill(),this.ctx.restore()):t.type===Ha&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+i/2,t.bounds.top+i/2,i/4,0,2*Math.PI,!0),this.ctx.fillStyle=T(Oa),this.ctx.fill(),this.ctx.restore())),Xi(t)&&t.value.length){switch(i=this.createFontStyle(r),u=i[0],c=i[1],c=this.fontMetrics.getMetrics(u,c).baseline,this.ctx.font=u,this.ctx.fillStyle=T(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ji(t.styles.textAlign),g=Mi(t),s=0,t.styles.textAlign){case 1:s+=g.width/2;break;case 2:s+=g.width}l=g.add(s,0,0,-g.height/2+1),this.ctx.save(),this.path([new _(g.left,g.top),new _(g.left+g.width,g.top),new _(g.left+g.width,g.top+g.height),new _(g.left,g.top+g.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new aa(t.value,l),r.letterSpacing,c),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!b(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(l=t.styles.listStyleImage).type)return[3,18];d=void 0,c=l.url,e.label=15;case 15:return e.trys.push([15,17,,18]),[4,this.context.cache.match(c)];case 16:return d=e.sent(),this.ctx.drawImage(d,t.bounds.left-(d.width+10),t.bounds.top),[3,18];case 17:return e.sent(),this.context.logger.error("Error loading list-style-image "+c),[3,18];case 18:return[3,20];case 19:m.listValue&&-1!==t.styles.listStyleType&&(u=this.createFontStyle(r)[0],this.ctx.font=u,this.ctx.fillStyle=T(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",g=new N(t.bounds.left,t.bounds.top+M(t.styles.paddingTop,t.bounds.width),t.bounds.width,Vo(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new aa(m.listValue,g),r.letterSpacing,Vo(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),e.label=20;case 20:return[2]}})})},U.prototype.renderStackContent=function(h){return c(this,void 0,void 0,function(){var t,o,r,n,a,A,i,s,l,d,c,u,g,m,p;return I(this,function(e){switch(e.label){case 0:return b(h.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(h.element)];case 1:e.sent(),t=0,o=h.negativeZIndex,e.label=2;case 2:return t<o.length?(p=o[t],[4,this.renderStack(p)]):[3,5];case 3:e.sent(),e.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(h.element)];case 6:e.sent(),r=0,n=h.nonInlineLevel,e.label=7;case 7:return r<n.length?(p=n[r],[4,this.renderNode(p)]):[3,10];case 8:e.sent(),e.label=9;case 9:return r++,[3,7];case 10:a=0,A=h.nonPositionedFloats,e.label=11;case 11:return a<A.length?(p=A[a],[4,this.renderStack(p)]):[3,14];case 12:e.sent(),e.label=13;case 13:return a++,[3,11];case 14:i=0,s=h.nonPositionedInlineLevel,e.label=15;case 15:return i<s.length?(p=s[i],[4,this.renderStack(p)]):[3,18];case 16:e.sent(),e.label=17;case 17:return i++,[3,15];case 18:l=0,d=h.inlineLevel,e.label=19;case 19:return l<d.length?(p=d[l],[4,this.renderNode(p)]):[3,22];case 20:e.sent(),e.label=21;case 21:return l++,[3,19];case 22:c=0,u=h.zeroOrAutoZIndexOrTransformedOrOpacity,e.label=23;case 23:return c<u.length?(p=u[c],[4,this.renderStack(p)]):[3,26];case 24:e.sent(),e.label=25;case 25:return c++,[3,23];case 26:g=0,m=h.positiveZIndex,e.label=27;case 27:return g<m.length?(p=m[g],[4,this.renderStack(p)]):[3,30];case 28:e.sent(),e.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},U.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},U.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},U.prototype.formatPath=function(e){var r=this;e.forEach(function(e,t){var o=F(e)?e.start:e;0===t?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),F(e)&&r.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},U.prototype.renderRepeat=function(e,t,o,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(o,r),this.ctx.fill(),this.ctx.translate(-o,-r)},U.prototype.resizeImage=function(e,t,o){var r;return e.width===t&&e.height===o?e:((r=(null!=(r=this.canvas.ownerDocument)?r:document).createElement("canvas")).width=Math.max(1,t),r.height=Math.max(1,o),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,o),r)},U.prototype.renderBackgroundImage=function(U){return c(this,void 0,void 0,function(){var S,t,Q,o,r,n;return I(this,function(e){switch(e.label){case 0:S=U.styles.backgroundImage.length-1,t=function(i){var s,l,d,c,u,g,m,p,h,f,b,v,w,x,B,y,C,_,k,E,F;return I(this,function(e){switch(e.label){case 0:if(0!==i.type)return[3,5];s=void 0,l=i.url,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Q.context.cache.match(l)];case 2:return s=e.sent(),[3,4];case 3:return e.sent(),Q.context.logger.error("Error loading background-image "+l),[3,4];case 4:return s&&(f=Qi(U,S,[s.width,s.height,s.width/s.height]),g=f[0],v=f[1],w=f[2],h=f[3],f=f[4],c=Q.ctx.createPattern(Q.resizeImage(s,h,f),"repeat"),Q.renderRepeat(g,c,v,w)),[3,6];case 5:1===i.type?(b=Qi(U,S,[null,null,null]),g=b[0],v=b[1],w=b[2],h=b[3],f=b[4],t=i.angle,o=h,r=f,t="number"==typeof t?t:So(t,o,r),n=Math.abs(o*Math.sin(t))+Math.abs(r*Math.cos(t)),o/=2,r/=2,a=n/2,A=Math.sin(t-Math.PI/2)*a,t=Math.cos(t-Math.PI/2)*a,x=(b=[n,o-t,o+t,r-A,r+A])[0],u=b[1],p=b[2],m=b[3],b=b[4],(y=document.createElement("canvas")).width=h,y.height=f,B=y.getContext("2d"),d=B.createLinearGradient(u,m,p,b),xo(i.stops,x).forEach(function(e){return d.addColorStop(e.stop,T(e.color))}),B.fillStyle=d,B.fillRect(0,0,h,f),0<h&&0<f&&(c=Q.ctx.createPattern(y,"repeat"),Q.renderRepeat(g,c,v,w))):2===i.type&&(u=Qi(U,S,[null,null,null]),g=u[0],m=u[1],p=u[2],h=u[3],f=u[4],b=0===i.position.length?[Ao]:i.position,v=M(b[0],h),w=M(b[b.length-1],f),x=((e,t,o,r,n)=>{var a,A,i,s=0,l=0;switch(e.size){case 0:0===e.shape?s=l=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(o),Math.abs(o-n)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-r)),l=Math.min(Math.abs(o),Math.abs(o-n)));break;case 2:0===e.shape?s=l=Math.min(H(t,o),H(t,o-n),H(t-r,o),H(t-r,o-n)):1===e.shape&&(a=Math.min(Math.abs(o),Math.abs(o-n))/Math.min(Math.abs(t),Math.abs(t-r)),i=(A=Qo(r,n,t,o,!0))[0],l=a*(s=H(i-t,(A[1]-o)/a)));break;case 1:0===e.shape?s=l=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(o),Math.abs(o-n)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-r)),l=Math.max(Math.abs(o),Math.abs(o-n)));break;case 3:0===e.shape?s=l=Math.max(H(t,o),H(t,o-n),H(t-r,o),H(t-r,o-n)):1===e.shape&&(a=Math.max(Math.abs(o),Math.abs(o-n))/Math.max(Math.abs(t),Math.abs(t-r)),i=(A=Qo(r,n,t,o,!1))[0],l=a*(s=H(i-t,(A[1]-o)/a)))}return Array.isArray(e.size)&&(s=M(e.size[0],r),l=2===e.size.length?M(e.size[1],n):s),[s,l]})(i,v,w,h,f),B=x[0],y=x[1],0<B)&&0<y&&(C=Q.ctx.createRadialGradient(m+v,p+w,0,m+v,p+w,B),xo(i.stops,2*B).forEach(function(e){return C.addColorStop(e.stop,T(e.color))}),Q.path(g),Q.ctx.fillStyle=C,B!==y?(_=U.bounds.left+.5*U.bounds.width,k=U.bounds.top+.5*U.bounds.height,F=1/(E=y/B),Q.ctx.save(),Q.ctx.translate(_,k),Q.ctx.transform(1,0,0,E,0,0),Q.ctx.translate(-_,-k),Q.ctx.fillRect(m,F*(p-k)+k,h,f*F),Q.ctx.restore()):Q.ctx.fill()),e.label=6;case 6:return S--,[2]}var t,o,r,n,a,A})},Q=this,o=0,r=U.styles.backgroundImage.slice(0).reverse(),e.label=1;case 1:return o<r.length?(n=r[o],[5,t(n)]):[3,4];case 2:e.sent(),e.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},U.prototype.renderSolidBorder=function(t,o,r){return c(this,void 0,void 0,function(){return I(this,function(e){return this.path(Fi(r,o)),this.ctx.fillStyle=T(t),this.ctx.fill(),[2]})})},U.prototype.renderDoubleBorder=function(o,r,n,a){return c(this,void 0,void 0,function(){var t;return I(this,function(e){switch(e.label){case 0:return r<3?[4,this.renderSolidBorder(o,n,a)]:[3,2];case 1:return e.sent(),[2];case 2:return t=((e,t)=>{switch(t){case 0:return Q(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Q(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Q(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Q(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}})(a,n),this.path(t),this.ctx.fillStyle=T(o),this.ctx.fill(),t=((e,t)=>{switch(t){case 0:return Q(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Q(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Q(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Q(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}})(a,n),this.path(t),this.ctx.fill(),[2]}})})},U.prototype.renderNodeBackgroundAndBorders=function(d){return c(this,void 0,void 0,function(){var t,o,r,n,a,A,i,s,l=this;return I(this,function(e){switch(e.label){case 0:return(this.applyEffects(d.getEffects(2)),t=d.container.styles,o=!ho(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],n=Yi(Ri(t.backgroundClip,0),d.curves),o||t.boxShadow.length)?(this.ctx.save(),this.path(n),this.ctx.clip(),ho(t.backgroundColor)||(this.ctx.fillStyle=T(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(d.container)]):[3,2];case 1:e.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(e){l.ctx.save();var o,r,n,a,t=fi(d.curves),A=e.inset?0:1e4,i=(o=-A+(e.inset?1:-1)*e.spread.number,r=(e.inset?1:-1)*e.spread.number,n=e.spread.number*(e.inset?-2:2),a=e.spread.number*(e.inset?-2:2),t.map(function(e,t){switch(t){case 0:return e.add(o,r);case 1:return e.add(o+n,r);case 2:return e.add(o+n,r+a);case 3:return e.add(o,r+a)}return e}));e.inset?(l.path(t),l.ctx.clip(),l.mask(i)):(l.mask(t),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=e.offsetX.number+A,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=T(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?T(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),e.label=2;case 2:A=a=0,i=r,e.label=3;case 3:return A<i.length?0!==(s=i[A]).style&&!ho(s.color)&&0<s.width?2!==s.style?[3,5]:[4,this.renderDashedDottedBorder(s.color,s.width,a,d.curves,2)]:[3,11]:[3,13];case 4:return e.sent(),[3,11];case 5:return 3!==s.style?[3,7]:[4,this.renderDashedDottedBorder(s.color,s.width,a,d.curves,3)];case 6:return e.sent(),[3,11];case 7:return 4!==s.style?[3,9]:[4,this.renderDoubleBorder(s.color,s.width,a,d.curves)];case 8:return e.sent(),[3,11];case 9:return[4,this.renderSolidBorder(s.color,a,d.curves)];case 10:e.sent(),e.label=11;case 11:a++,e.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},U.prototype.renderDashedDottedBorder=function(u,g,m,p,h){return c(this,void 0,void 0,function(){var t,o,r,n,a,A,i,s,l,d,c;return I(this,function(e){return this.ctx.save(),a=((e,t)=>{switch(t){case 0:return Si(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Si(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Si(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Si(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}})(p,m),t=Fi(p,m),2===h&&(this.path(t),this.ctx.clip()),l=(F(t[0])?(o=t[0].start.x,t[0].start):(o=t[0].x,t[0])).y,n=(F(t[1])?(r=t[1].end.x,t[1].end):(r=t[1].x,t[1])).y,l=0===m||2===m?Math.abs(o-r):Math.abs(l-n),this.ctx.beginPath(),3===h?this.formatPath(a):this.formatPath(t.slice(0,2)),n=g<3?3*g:2*g,a=g<3?2*g:g,3===h&&(a=n=g),A=!0,l<=2*n?A=!1:l<=2*n+a?(n*=i=l/(2*n+a),a*=i):(i=Math.floor((l+a)/(n+a)),s=(l-i*n)/(i-1),a=(l=(l-(i+1)*n)/i)<=0||Math.abs(a-s)<Math.abs(a-l)?s:l),A&&(3===h?this.ctx.setLineDash([0,n+a]):this.ctx.setLineDash([n,a])),3===h?(this.ctx.lineCap="round",this.ctx.lineWidth=g):this.ctx.lineWidth=2*g+1.1,this.ctx.strokeStyle=T(u),this.ctx.stroke(),this.ctx.setLineDash([]),2===h&&(F(t[0])&&(d=t[3],c=t[0],this.ctx.beginPath(),this.formatPath([new _(d.end.x,d.end.y),new _(c.start.x,c.start.y)]),this.ctx.stroke()),F(t[1]))&&(d=t[1],c=t[2],this.ctx.beginPath(),this.formatPath([new _(d.end.x,d.end.y),new _(c.start.x,c.start.y)]),this.ctx.stroke()),this.ctx.restore(),[2]})})},U.prototype.render=function(n){return c(this,void 0,void 0,function(){return I(this,function(e){switch(e.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=T(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=new ki(t=n,null),o=new _i(t),Ui(t,o,o,r=[]),Ii(t.container,r),[4,this.renderStack(o)];case 1:return e.sent(),this.applyEffects([]),[2,this.canvas]}var t,o,r})})};var Gi,ji=U;function U(e,t){e=Gi.call(this,e,t)||this;return e._activeEffects=[],e.canvas=t.canvas||document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),t.canvas||(e.canvas.width=Math.floor(t.width*t.scale),e.canvas.height=Math.floor(t.height*t.scale),e.canvas.style.width=t.width+"px",e.canvas.style.height=t.height+"px"),e.fontMetrics=new zi(document),e.ctx.scale(e.options.scale,e.options.scale),e.ctx.translate(-t.x,-t.y),e.ctx.textBaseline="bottom",e._activeEffects=[],e.context.logger.debug("Canvas renderer initialized ("+t.width+"x"+t.height+") with scale "+t.scale),e}var Wi,Xi=function(e){return e instanceof Ka||e instanceof Pa||e instanceof La&&e.type!==Ha&&e.type!==Ma},Yi=function(e,t){switch(e){case 0:return fi(t);case 2:return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox];default:return bi(t)}},Ji=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},qi=["-apple-system","system-ui"],$i=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===qi.indexOf(e)}):e},es=(e(ts,Wi=Zi),ts.prototype.render=function(o){return c(this,void 0,void 0,function(){var t;return I(this,function(e){switch(e.label){case 0:return t=Hn(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,o),[4,os(t)];case 1:return t=e.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=T(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(t,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},ts);function ts(e,t){e=Wi.call(this,e,t)||this;return e.canvas=t.canvas||document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),e.options=t,e.canvas.width=Math.floor(t.width*t.scale),e.canvas.height=Math.floor(t.height*t.scale),e.canvas.style.width=t.width+"px",e.canvas.style.height=t.height+"px",e.ctx.scale(e.options.scale,e.options.scale),e.ctx.translate(-t.x,-t.y),e.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale),e}var os=function(r){return new Promise(function(e,t){var o=new Image;o.onload=function(){e(o)},o.onerror=t,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(r))})},rs=(ns.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,L([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},ns.prototype.getTime=function(){return Date.now()-this.start},ns.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,L([this.id,this.getTime()+"ms"],e))},ns.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,L([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},ns.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,L([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},ns.instances={},ns);function ns(e){var t=e.id,e=e.enabled;this.id=t,this.enabled=e,this.start=Date.now()}As.instanceCount=1;var as=As;function As(e,t){this.windowBounds=t,this.instanceName="#"+As.instanceCount++,this.logger=new rs({id:this.instanceName,enabled:e.logging}),this.cache=null!=(t=e.cache)?t:new ri(this,e)}"undefined"!=typeof window&&oi.setContext(window);var is=function(e,t,o){var r=t.ownerDocument,n=r.documentElement?_o(e,getComputedStyle(r.documentElement).backgroundColor):ko.TRANSPARENT,a=r.body?_o(e,getComputedStyle(r.body).backgroundColor):ko.TRANSPARENT,e="string"==typeof o?_o(e,o):null===o?ko.TRANSPARENT:4294967295;return t===r.documentElement?ho(n)?ho(a)?e:a:n:e};return function(e,t){return f=e,b=t=void 0===t?{}:t,c(void 0,void 0,void 0,function(){var t,o,r,n,a,A,i,s,l,d,c,u,g,m,p,h;return I(this,function(e){switch(e.label){case 0:if(!f||"object"!=typeof f)return[2,Promise.reject("Invalid element provided as first argument")];if(!(g=f.ownerDocument))throw new Error("Element is not attached to a Document");if(t=g.defaultView)return m={allowTaint:null!=(m=b.allowTaint)&&m,imageTimeout:null!=(m=b.imageTimeout)?m:15e3,proxy:b.proxy,useCORS:null!=(m=b.useCORS)&&m},d=O({logging:null==(d=b.logging)||d,cache:b.cache},m),m={windowWidth:null!=(m=b.windowWidth)?m:t.innerWidth,windowHeight:null!=(m=b.windowHeight)?m:t.innerHeight,scrollX:null!=(m=b.scrollX)?m:t.pageXOffset,scrollY:null!=(m=b.scrollY)?m:t.pageYOffset},m=new N(m.scrollX,m.scrollY,m.windowWidth,m.windowHeight),d=new as(d,m),c=null!=(c=b.foreignObjectRendering)&&c,u={allowTaint:null!=(u=b.allowTaint)&&u,onclone:b.onclone,ignoreElements:b.ignoreElements,inlineImages:c,copyStyles:c},d.logger.debug("Starting document clone with size "+m.width+"x"+m.height+" scrolled to "+-m.left+","+-m.top),u=new PA(d,f,u),(o=u.clonedReferenceElement)?[4,u.toIFrame(g,m)]:[2,Promise.reject("Unable to find element in cloned iframe")];throw new Error("Document is not attached to a Window");case 1:return(r=e.sent(),u=gA(o)||cA(o)?P(o.ownerDocument):R(d,o),n=u.width,a=u.height,A=u.left,i=u.top,s=is(d,o,b.backgroundColor),p={canvas:b.canvas,backgroundColor:s,scale:null!=(m=null!=(g=b.scale)?g:t.devicePixelRatio)?m:1,x:(null!=(p=b.x)?p:0)+A,y:(null!=(p=b.y)?p:0)+i,width:null!=(p=b.width)?p:Math.ceil(n),height:null!=(p=b.height)?p:Math.ceil(a)},c)?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new es(d,p).render(o)]):[3,3];case 2:return l=e.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+A+","+i+" with size "+n+"x"+a+" using computed rendering"),d.logger.debug("Starting DOM parsing"),h=tA(d,o),s===h.styles.backgroundColor&&(h.styles.backgroundColor=ko.TRANSPARENT),d.logger.debug("Starting renderer for element at "+p.x+","+p.y+" with size "+p.width+"x"+p.height),[4,new ji(d,p).render(h)];case 4:l=e.sent(),e.label=5;case 5:return null!=(h=b.removeContainer)&&!h||PA.destroy(r)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore"),d.logger.debug("Finished rendering"),[2,l]}})});var f,b}}),(()=>{function d(e){return{eq:e}}function c(n){return d(function(e,t){if(e.length!==t.length)return!1;for(var o=e.length,r=0;r<o;r++)if(!n.eq(e[r],t[r]))return!1;return!0})}var r=function(e){var t;return null===e?"null":void 0===e?"undefined":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},u=d(function(e,t){return e===t}),y=function(l){return d(function(e,t){var o,r,n=Object.keys(e),a=Object.keys(t);if(o=c(u),r=function(e){return Array.prototype.slice.call(e).sort(void 0)},!d(function(e,t){return o.eq(r(e),r(t))}).eq(n,a))return!1;for(var A=n.length,i=0;i<A;i++){var s=n[i];if(!l.eq(e[s],t[s]))return!1}return!0})},C=d(function(e,t){var o;return e===t||(o=r(e))===r(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(o)?e===t:"array"===o?c(C).eq(e,t):"object"===o&&y(C).eq(e,t))});let o=Object.getPrototypeOf,n=(e,t,o)=>!!o(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name,a=o=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&n(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===o;var t},A=t=>e=>typeof e===t,i=t=>e=>t===e,b=(e,t)=>v(e)&&n(e,t,(e,t)=>o(e)===t),R=a("string"),v=a("object"),s=e=>b(e,Object),re=a("array"),H=i(null),_=A("boolean"),F=i(void 0),ne=e=>null==e,P=e=>!ne(e),V=A("function"),S=A("number"),D=(o,r)=>{if(re(o)){for(let e=0,t=o.length;e<t;++e)if(!r(o[e]))return!1;return!0}return!1},z=()=>{},l=(t,o)=>(...e)=>t(o.apply(null,e)),m=(t,o)=>e=>t(o(e)),Z=e=>()=>e,O=e=>e,ae=(e,t)=>e===t;function w(t,...o){return(...e)=>{e=o.concat(e);return t.apply(null,e)}}let Ae=t=>e=>!t(e),ie=e=>()=>{throw new Error(e)},se=e=>e(),le=e=>{e()},g=Z(!1),de=Z(!0);class Q{constructor(e,t){this.tag=e,this.value=t}static some(e){return new Q(!0,e)}static none(){return Q.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?Q.some(e(this.value)):Q.none()}bind(e){return this.tag?e(this.value):Q.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:Q.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return P(e)?Q.some(e):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}function ce(e,o,r,n){n=n||this,e&&(r&&(e=e[r]),Xe(e,(e,t)=>!1!==o.call(n,e,t,r)&&(ce(e,o,r,n),!0)))}Q.singletonNone=new Q(!1);let ue=Array.prototype.slice,ge=Array.prototype.indexOf,me=Array.prototype.push,pe=(e,t)=>ge.call(e,t),K=(e,t)=>-1<pe(e,t),G=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return!0;return!1},f=(o,r)=>{let e=o.length,n=new Array(e);for(let t=0;t<e;t++){let e=o[t];n[t]=r(e,t)}return n},j=(o,r)=>{for(let e=0,t=o.length;e<t;e++)r(o[e],e)},he=(t,o)=>{for(let e=t.length-1;0<=e;e--)o(t[e],e)},fe=(o,r)=>{var n=[],a=[];for(let e=0,t=o.length;e<t;e++){var A=o[e];(r(A,e)?n:a).push(A)}return{pass:n,fail:a}},U=(o,r)=>{var n=[];for(let e=0,t=o.length;e<t;e++){var a=o[e];r(a,e)&&n.push(a)}return n},be=(e,o,r)=>(he(e,(e,t)=>{r=o(r,e,t)}),r),ve=(e,o,r)=>(j(e,(e,t)=>{r=o(r,e,t)}),r),we=(o,r,n)=>{for(let e=0,t=o.length;e<t;e++){var a=o[e];if(r(a,e))return Q.some(a);if(n(a,e))break}return Q.none()},xe=(e,t)=>we(e,t,g),Be=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return Q.some(e);return Q.none()},ye=o=>{var r=[];for(let e=0,t=o.length;e<t;++e){if(!re(o[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+o);me.apply(r,o[e])}return r},Ce=(e,t)=>ye(f(e,t)),_e=(o,r)=>{for(let e=0,t=o.length;e<t;++e)if(!0!==r(o[e],e))return!1;return!0},ke=e=>{e=ue.call(e,0);return e.reverse(),e},Ee=(e,t)=>U(e,e=>!K(t,e)),Fe=(o,r)=>{var n={};for(let e=0,t=o.length;e<t;e++){var a=o[e];n[String(a)]=r(a,e)}return n},Se=(e,t)=>{e=ue.call(e,0);return e.sort(t),e},Qe=(e,t)=>0<=t&&t<e.length?Q.some(e[t]):Q.none(),Ue=e=>Qe(e,0),Ie=e=>Qe(e,e.length-1),Te=V(Array.from)?Array.from:e=>ue.call(e),Me=(t,o)=>{for(let e=0;e<t.length;e++){var r=o(t[e],e);if(r.isSome())return r}return Q.none()},De=Object.keys,Oe=Object.hasOwnProperty,W=(o,r)=>{var n=De(o);for(let e=0,t=n.length;e<t;e++){var a=n[e];r(o[a],a)}},Le=(e,o)=>Ne(e,(e,t)=>({k:t,v:o(e,t)})),Ne=(e,o)=>{let r={};return W(e,(e,t)=>{e=o(e,t);r[e.k]=e.v}),r},Re=o=>(e,t)=>{o[t]=e},Pe=(e,o,r,n)=>{W(e,(e,t)=>{(o(e,t)?r:n)(e,t)})},Ve=(e,t)=>{var o={};return Pe(e,t,Re(o),z),o},ze=(e,o)=>{let r=[];return W(e,(e,t)=>{r.push(o(e,t))}),r},Ke=e=>ze(e,O),x=(e,t)=>X(e,t)?Q.from(e[t]):Q.none(),X=(e,t)=>Oe.call(e,t),Ze=(e,t)=>X(e,t)&&null!=e[t],Ge=e=>{let t={};return j(e,e=>{t[e]={}}),De(t)},je=e=>void 0!==e.length,We=Array.isArray,Xe=(o,r,n)=>{if(!o)return!1;if(n=n||o,je(o)){for(let e=0,t=o.length;e<t;e++)if(!1===r.call(n,o[e],e,o))return!1}else for(var e in o)if(X(o,e)&&!1===r.call(n,o[e],e,o))return!1;return!0},Ye=(o,r)=>{let n=[];return Xe(o,(e,t)=>{n.push(r(e,t,o))}),n},Je=(o,r)=>{let n=[];return Xe(o,(e,t)=>{r&&!r(e,t,o)||n.push(e)}),n},qe=(t,o,e,r)=>{let n=F(e)?t[0]:e;for(let e=0;e<t.length;e++)n=o.call(r,n,t[e],e);return n},$e=(o,r,n)=>{for(let e=0,t=o.length;e<t;e++)if(r.call(n,o[e],e,o))return e;return-1},et=e=>e[e.length-1],tt=t=>{let o,r=!1;return(...e)=>(r||(r=!0,o=t.apply(null,e)),o)},ot=()=>rt(0,0),rt=(e,t)=>({major:e,minor:t}),nt={nu:rt,detect:(e,o)=>{var o=String(o).toLowerCase();if(0===e.length)return ot();{var r=o;let t=((t,o)=>{for(let e=0;e<t.length;e++){var r=t[e];if(r.test(o))return r}})(e,r);return t?(o=e=>Number(r.replace(t,"$"+e)),rt(o(1),o(2))):{major:0,minor:0}}},unknown:ot},at=(e,t)=>{let o=String(t).toLowerCase();return xe(e,e=>e.search(o))},At=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,it=(e,t)=>lt(e,t)?(t=t.length,e.substring(t)):e,st=(e,t,o=0,r)=>{e=e.indexOf(t,o);return-1!==e&&(!!F(r)||e+t.length<=r)},lt=(e,t)=>At(e,t,0),dt=(e,t)=>At(e,t,e.length-t.length),ct=t=>e=>e.replace(t,""),ut=ct(/^\s+|\s+$/g),gt=ct(/^\s+/g),mt=ct(/\s+$/g),pt=e=>0<e.length,ht=e=>!pt(e),ft=(e,t=10)=>{e=parseInt(e,t);return isNaN(e)?Q.none():Q.some(e)},bt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vt=t=>e=>st(e,t),wt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>st(e,"edge/")&&st(e,"chrome")&&st(e,"safari")&&st(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,bt],search:e=>st(e,"chrome")&&!st(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>st(e,"msie")||st(e,"trident")},{name:"Opera",versionRegexes:[bt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vt("firefox")},{name:"Safari",versionRegexes:[bt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(st(e,"safari")||st(e,"mobile/"))&&st(e,"applewebkit")}],xt=[{name:"Windows",search:vt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>st(e,"iphone")||st(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:vt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vt("linux"),versionRegexes:[]},{name:"Solaris",search:vt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Bt={browsers:Z(wt),oses:Z(xt)},yt="Chromium",Ct="Firefox",_t=e=>{let t=e.current,o=e.version,r=e=>()=>t===e;return{current:t,version:o,isEdge:r("Edge"),isChromium:r(yt),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r(Ct),isSafari:r("Safari")}},kt=()=>_t({current:void 0,version:nt.unknown()}),Et=_t,Ft=(Z("Edge"),Z(yt),Z("IE"),Z("Opera"),Z(Ct),Z("Safari"),"Windows"),St="Android",Qt="Solaris",Ut="FreeBSD",It="ChromeOS",Tt=e=>{let t=e.current,o=e.version,r=e=>()=>t===e;return{current:t,version:o,isWindows:r(Ft),isiOS:r("iOS"),isAndroid:r(St),isMacOS:r("macOS"),isLinux:r("Linux"),isSolaris:r(Qt),isFreeBSD:r(Ut),isChromeOS:r(It)}},Mt=()=>Tt({current:void 0,version:nt.unknown()}),Ht=Tt,Dt=(Z(Ft),Z("iOS"),Z(St),Z("Linux"),Z("macOS"),Z(Qt),Z(Ut),Z(It),e=>window.matchMedia(e).matches),Ot=tt(()=>{{var a=navigator.userAgent,A=Q.from(navigator.userAgentData),i=Dt,s,l,d,c,u,g,m;let t=Bt.browsers(),e=Bt.oses(),o=A.bind(e=>{return r=t,e=e,Me(e.brands,t=>{let o=t.brand.toLowerCase();return xe(r,e=>o===(null==(e=e.brand)?void 0:e.toLowerCase())).map(e=>({current:e.name,version:nt.nu(parseInt(t.version,10),0)}))});var r}).orThunk(()=>{return e=t,o=a,at(e,o).map(e=>{var t=nt.detect(e.versionRegexes,o);return{current:e.name,version:t}});var e,o}).fold(kt,Et),r=(A=e,m=a,at(A,m).map(e=>{var t=nt.detect(e.versionRegexes,m);return{current:e.name,version:t}}).fold(Mt,Ht)),n=(A=o,l=a,i=i,d=(s=r).isiOS()&&!0===/ipad/i.test(l),c=s.isiOS()&&!d,u=s.isiOS()||s.isAndroid(),g=u||i("(pointer:coarse)"),i=d||!c&&u&&i("(min-device-width:768px)"),u=c||u&&!i,A=A.isSafari()&&s.isiOS()&&!1===/safari/i.test(l),l=!u&&!i&&!A,{isiPad:Z(d),isiPhone:Z(c),isTablet:Z(i),isPhone:Z(u),isTouch:Z(g),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:Z(A),isDesktop:Z(l)});return{browser:o,os:r,deviceType:n}}}),Lt=()=>Ot(),Nt=navigator.userAgent,Rt=Lt(),Pt=Rt.browser,Vt=Rt.os,zt=Rt.deviceType,Kt=-1!==Nt.indexOf("Windows Phone"),L={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Pt.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Pt.isIE(),windowsPhone:Kt,browser:{current:Pt.current,version:Pt.version,isChromium:Pt.isChromium,isEdge:Pt.isEdge,isFirefox:Pt.isFirefox,isIE:Pt.isIE,isOpera:Pt.isOpera,isSafari:Pt.isSafari},os:{current:Vt.current,version:Vt.version,isAndroid:Vt.isAndroid,isChromeOS:Vt.isChromeOS,isFreeBSD:Vt.isFreeBSD,isiOS:Vt.isiOS,isLinux:Vt.isLinux,isMacOS:Vt.isMacOS,isSolaris:Vt.isSolaris,isWindows:Vt.isWindows},deviceType:{isDesktop:zt.isDesktop,isiPad:zt.isiPad,isiPhone:zt.isiPhone,isPhone:zt.isPhone,isTablet:zt.isTablet,isTouch:zt.isTouch,isWebView:zt.isWebView}},Zt=/^\s*|\s*$/g,Gt=e=>ne(e)?"":(""+e).replace(Zt,""),T={trim:Gt,isArray:We,is:(e,t)=>t?!("array"!==t||!We(e))||typeof e===t:void 0!==e,toArray:o=>{if(We(o))return o;var r=[];for(let e=0,t=o.length;e<t;e++)r[e]=o[e];return r},makeMap:(e,t,o={})=>{var r=R(e)?e.split(t||","):e||[];let n=r.length;for(;n--;)o[r[n]]={};return o},each:Xe,map:Ye,grep:Je,inArray:(o,r)=>{if(o)for(let e=0,t=o.length;e<t;e++)if(o[e]===r)return e;return-1},hasOwn:X,extend:(t,...o)=>{for(let e=0;e<o.length;e++){var r,n=o[e];for(let e in n)X(n,e)&&void 0!==(r=n[e])&&(t[e]=r)}return t},walk:ce,resolve:(e,o=window)=>{var r=e.split(".");for(let e=0,t=r.length;e<t&&(o=o[r[e]]);e++);return o},explode:(e,t)=>re(e)?e:""===e?[]:Ye(e.split(t||","),Gt),_addCacheSuffix:e=>{var t=L.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},jt=(e,t,o=ae)=>e.exists(e=>o(e,t)),Wt=(e,t,o)=>e.isSome()&&t.isSome()?Q.some(o(e.getOrDie(),t.getOrDie())):Q.none(),Xt=(e,t)=>e?Q.some(t):Q.none(),Yt="undefined"!=typeof window?window:Function("return this;")(),Jt=(e,o)=>{{var r=e.split(".");let t=null!=o?o:Yt;for(let e=0;e<r.length&&null!=t;++e)t=t[r[e]];return t}},qt=Object.getPrototypeOf,$t=e=>{var t=Jt("ownerDocument.defaultView",e);return v(e)&&((e=>{var t="HTMLElement";if(e=e,null==(e=Jt("HTMLElement",e)))throw new Error(t+" not available on this browser");return e})(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(qt(e).constructor.name))},Y=e=>e.dom.nodeName.toLowerCase(),eo=e=>e.dom.nodeType,to=t=>e=>eo(e)===t,oo=e=>ro(e)&&$t(e.dom),ro=to(1),no=to(3),ao=to(9),Ao=to(11),io=t=>e=>ro(e)&&Y(e)===t,so=(e,t,o)=>{if(!(R(o)||_(o)||S(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},lo=(e,t,o)=>{so(e.dom,t,o)},co=(e,t)=>{let o=e.dom;W(t,(e,t)=>{so(o,t,e)})},uo=(e,t)=>{e=e.dom.getAttribute(t);return null===e?void 0:e},go=(e,t)=>Q.from(uo(e,t)),mo=(e,t)=>{e=e.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(t)},po=(e,t)=>{e.dom.removeAttribute(t)},ho=e=>ve(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),fo=(e,t)=>{e=uo(e,t);return void 0===e||""===e?[]:e.split(" ")},bo=e=>void 0!==e.dom.classList,vo=e=>fo(e,"class"),wo=(e,t)=>(t=fo(e,"class").concat([t]),lo(e,"class",t.join(" ")),!0),xo=(e,t)=>{return e=e,o=t,0<(t=U(fo(e,"class"),e=>e!==o)).length?lo(e,"class",t.join(" ")):po(e,"class"),!1;var o},Bo=(e,t)=>{bo(e)?e.dom.classList.add(t):wo(e,t)},yo=e=>{0===(bo(e)?e.dom.classList:vo(e)).length&&po(e,"class")},Co=(e,t)=>{bo(e)?e.dom.classList.remove(t):xo(e,t),yo(e)},_o=(e,t)=>bo(e)&&e.dom.classList.contains(t),ko=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Eo=(t,e)=>{e=(e||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||1<e.childNodes.length){let e="HTML does not have a single root node";throw console.error(e,t),new Error(e)}return ko(e.childNodes[0])},Fo=(e,t)=>{t=(t||document).createElement(e);return ko(t)},So=(e,t)=>{t=(t||document).createTextNode(e);return ko(t)},J=ko,Qo=(e,t,o)=>Q.from(e.dom.elementFromPoint(t,o)).map(ko),Uo=(e,t)=>{let o=[],r=e=>(o.push(e),t(e)),n=t(e);for(;(n=n.bind(r)).isSome(););return o},Io=(e,t)=>{var o=e.dom;if(1!==o.nodeType)return!1;{let e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},To=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,I=(e,t)=>e.dom===t.dom,Mo=(e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)},Ho=e=>J(e.dom.ownerDocument),Do=e=>ao(e)?e:Ho(e),Oo=e=>J(Do(e).dom.defaultView),Lo=e=>Q.from(e.dom.parentNode).map(J),No=e=>Q.from(e.dom.parentElement).map(J),Ro=(e,t)=>{var o=V(t)?t:g;let r=e.dom;for(var n=[];null!=r.parentNode;){let e=r.parentNode,t=J(e);if(n.push(t),!0===o(t))break;r=e}return n},Po=e=>Q.from(e.dom.previousSibling).map(J),Vo=e=>Q.from(e.dom.nextSibling).map(J),zo=e=>ke(Uo(e,Po)),Ko=e=>Uo(e,Vo),Zo=e=>f(e.dom.childNodes,J),Go=(e,t)=>{e=e.dom.childNodes;return Q.from(e[t]).map(J)},jo=e=>Go(e,0),Wo=e=>Go(e,e.dom.childNodes.length-1),Xo=e=>e.dom.childNodes.length,Yo=e=>Ao(e)&&P(e.dom.host),Jo=V(Element.prototype.attachShadow)&&V(Node.prototype.getRootNode),qo=Z(Jo),$o=Jo?e=>J(e.dom.getRootNode()):Do,er=e=>{if(Yo(e))return e;e=Do(e).dom.head;if(null==e)throw new Error("Head is not available yet");return J(e)},tr=e=>J(e.dom.host),or=e=>{if(qo()&&P(e.target)){var t=J(e.target);if(ro(t)&&rr(t)&&e.composed&&e.composedPath){t=e.composedPath();if(t)return Ue(t)}}return Q.from(e.target)},rr=e=>P(e.dom.shadowRoot),nr=e=>{let t=no(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let o=t.ownerDocument;return(e=>{e=$o(e);return Yo(e)?Q.some(e):Q.none()})(J(t)).fold(()=>o.body.contains(t),m(nr,tr))};var ar,Ar,ir,sr=(e,t,o,r,n)=>e(o,r)?Q.some(o):V(n)&&n(o)?Q.none():t(o,r,n);let lr=(e,t,o)=>{let r=e.dom;for(var n=V(o)?o:g;r.parentNode;){r=r.parentNode;let e=J(r);if(t(e))return Q.some(e);if(n(e))break}return Q.none()},dr=(e,t,o)=>sr((e,t)=>t(e),lr,e,t,o),cr=(e,t,o)=>lr(e,e=>Io(e,t),o),ur=(e,t)=>(t=t,e=void 0===e?document:e.dom,To(e)?Q.none():Q.from(e.querySelector(t)).map(J)),gr=(e,t,o)=>sr((e,t)=>Io(e,t),cr,e,t,o),mr=(e,t=!1)=>nr(e)?e.dom.isContentEditable:(e=e,gr(e,"[contenteditable]").fold(Z(t),e=>"true"===pr(e))),pr=e=>e.dom.contentEditable,hr=e=>void 0!==e.style&&V(e.style.getPropertyValue),fr=(e,t,o)=>{if(!R(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);hr(e)&&e.style.setProperty(t,o)},br=(e,t,o)=>{e=e.dom;fr(e,t,o)},vr=(e,t)=>{let o=e.dom;W(t,(e,t)=>{fr(o,t,e)})},wr=(e,t)=>{var o=e.dom,r=window.getComputedStyle(o).getPropertyValue(t);return""!==r||nr(e)?r:xr(o,t)},xr=(e,t)=>hr(e)?e.style.getPropertyValue(t):"",Br=(e,t)=>{e=e.dom,e=xr(e,t);return Q.from(e).filter(e=>0<e.length)},yr=e=>{var t={},o=e.dom;if(hr(o))for(let e=0;e<o.style.length;e++){var r=o.style.item(e);t[r]=o.style[r]}return t},Cr=(e,t)=>{var o;o=e.dom,t=t,hr(o)&&o.style.removeProperty(t),jt(go(e,"style").map(ut),"")&&po(e,"style")},_r=(t,o)=>{Lo(t).each(e=>{e.dom.insertBefore(o.dom,t.dom)})},kr=(e,t)=>{Vo(e).fold(()=>{Lo(e).each(e=>{q(e,t)})},e=>{_r(e,t)})},Er=(t,o)=>{jo(t).fold(()=>{q(t,o)},e=>{t.dom.insertBefore(o.dom,e.dom)})},q=(e,t)=>{e.dom.appendChild(t.dom)},Fr=(e,t)=>{_r(e,t),q(t,e)},Sr=(t,e)=>{j(e,e=>{q(t,e)})},Qr=e=>{e.dom.textContent="",j(Zo(e),e=>{$(e)})},$=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Ur=e=>{var o,r,t=Zo(e);0<t.length&&(o=e,j(r=t,(e,t)=>{t=0===t?o:r[t-1];kr(t,e)})),$(e)},Ir=e=>f(e,J),Tr=e=>e.dom.innerHTML,Mr=(e,t)=>{let o=Ho(e).dom,r=J(o.createDocumentFragment()),n=(t=t,(a=(o||document).createElement("div")).innerHTML=t,Zo(J(a)));var a;Sr(r,n),Qr(e),q(e,r)},Hr=(e,t,o,r)=>{return t=t,A=o,i=r,o=e=>{var t,o,r,n,a;A(e)&&i((t=e,e=J(or(t).getOr(t.target)),r=()=>t.stopPropagation(),n=()=>t.preventDefault(),a=l(n,r),o=t.clientX,{target:e,x:o,y:t.clientY,stop:r,prevent:n,kill:a,raw:t}))},(r=e).dom.addEventListener(t,o,!1),{unbind:w(Dr,r,t,o,!1)};var A,i},Dr=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},Or=(o,r)=>({left:o,top:r,translate:(e,t)=>Or(o+e,r+t)}),Lr=Or,Nr=(e,t)=>void 0!==e?e:void 0!==t?t:0,Rr=e=>{var t=e.dom,o=t.ownerDocument.body;return o===t?Lr(o.offsetLeft,o.offsetTop):nr(e)?(o=t.getBoundingClientRect(),Lr(o.left,o.top)):Lr(0,0)},Pr=e=>{var e=void 0!==e?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop;return Lr(t,e)},Vr=(e,t)=>{Lt().browser.isSafari()&&V(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},zr=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),Kr=e=>{let o=void 0===e?window:e,t=o.document,r=Pr(J(t));return(e=>{e=void 0===e?window:e;return Lt().browser.isFirefox()?Q.none():Q.from(e.visualViewport)})(o).fold(()=>{var e=o.document.documentElement,t=e.clientWidth,e=e.clientHeight;return zr(r.left,r.top,t,e)},e=>zr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))},Zr=(e,t)=>{let o=[];return j(Zo(e),e=>{o=(o=t(e)?o.concat([e]):o).concat(Zr(e,t))}),o},Gr=(e,t)=>(t=t,e=void 0===e?document:e.dom,To(e)?[]:f(e.querySelectorAll(t),J)),jr=(e,t,o)=>cr(e,t,o).isSome();class Wr{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(o,e,r,t){if(o){if(!t&&o[e])return o[e];if(o!==this.rootNode){let t=o[r];if(t)return t;for(let e=o.parentNode;e&&e!==this.rootNode;e=e.parentNode)if(t=e[r])return t}}}findPreviousNode(e,t){if(e){var o=e.previousSibling;if(!this.rootNode||o!==this.rootNode){if(o){if(!t)for(let e=o.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return o}t=e.parentNode;return t&&t!==this.rootNode?t:void 0}}}}let Xr=t=>e=>!!e&&e.nodeType===t,Yr=e=>!!e&&!Object.getPrototypeOf(e),ee=Xr(1),Jr=e=>{let t=e.toLowerCase();return e=>P(e)&&e.nodeName.toLowerCase()===t},qr=e=>{let t=e.map(e=>e.toLowerCase());return e=>!(!e||!e.nodeName)&&(e=e.nodeName.toLowerCase(),K(t,e))},$r=(n,e)=>{let a=e.toLowerCase().split(" ");return t=>{if(ee(t)){var o=t.ownerDocument.defaultView;if(o)for(let e=0;e<a.length;e++){var r=o.getComputedStyle(t,null);if((r?r.getPropertyValue(n):null)===a[e])return!0}}return!1}},en=t=>e=>ee(e)&&e.hasAttribute(t),tn=e=>ee(e)&&e.hasAttribute("data-mce-bogus"),on=e=>ee(e)&&"TABLE"===e.tagName,rn=t=>e=>{if(ee(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1},nn=qr(["textarea","input"]),te=Xr(3),an=Xr(4),An=Xr(7),sn=Xr(8),ln=Xr(9),dn=Xr(11),k=Jr("br"),cn=Jr("img"),un=rn("true"),B=rn("false"),gn=qr(["td","th"]),mn=qr(["td","th","caption"]),pn=qr(["video","audio","object","embed"]),hn=Jr("li"),fn=Jr("details"),bn=Jr("summary"),vn="\ufeff",wn="ย",xn=e=>e===vn,Bn=(o=>{let t=e=>o(e)?Q.from(e.dom.nodeValue):Q.none();return{get:e=>{if(o(e))return t(e).getOr("");throw new Error("Can only get text value of a text node")},getOption:t,set:(e,t)=>{if(!o(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}}})(no),yn=e=>Bn.get(e),Cn=e=>Bn.getOption(e),_n=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),kn=t=>{let o;return e=>(o=o||Fe(t,de),X(o,Y(e)))},En=kn(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Fn=e=>ro(e)&&!En(e),Sn=e=>ro(e)&&"br"===Y(e),Qn=kn(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Un=kn(["ul","ol","dl"]),In=kn(["li","dd","dt"]),Tn=kn(["thead","tbody","tfoot"]),Mn=kn(["td","th"]),Hn=kn(["pre","script","textarea","style"]),Dn=kn(_n),On=e=>Dn(e)||Fn(e),Ln=()=>{var e=Fo("br");return lo(e,"data-mce-bogus","1"),e},Nn=e=>{Qr(e),q(e,Ln())},Rn=o=>{Wo(o).each(t=>{Po(t).each(e=>{En(o)&&Sn(t)&&En(e)&&$(t)})})},Pn=vn,Vn=xn,zn=e=>e.replace(/\uFEFF/g,""),Kn=ee,Zn=te,Gn=e=>(Zn(e)&&(e=e.parentNode),Kn(e)&&e.hasAttribute("data-mce-caret")),jn=e=>Zn(e)&&Vn(e.data),Wn=e=>Gn(e)||jn(e),Xn=e=>e.firstChild!==e.lastChild||!k(e.firstChild),Yn=e=>{var t=e.container();return!!te(t)&&(t.data.charAt(e.offset())===Pn||e.isAtStart()&&jn(t.previousSibling))},Jn=e=>{var t=e.container();return!!te(t)&&(t.data.charAt(e.offset()-1)===Pn||e.isAtEnd()&&jn(t.nextSibling))},qn=e=>Zn(e)&&e.data[0]===Pn,$n=e=>Zn(e)&&e.data[e.data.length-1]===Pn,ea=e=>{return e&&e.hasAttribute("data-mce-caret")?(o=(o=e.getElementsByTagName("br"))[o.length-1],tn(o)&&null!=(t=o.parentNode)&&t.removeChild(o),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null;var t,o},ta=e=>Gn(e.startContainer),oa=un,ra=B,na=k,aa=te,Aa=qr(["script","style","textarea"]),ia=qr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),sa=qr(["table"]),la=Wn,da=e=>!la(e)&&(aa(e)?!Aa(e.parentNode):ia(e)||na(e)||sa(e)||ca(e)),ca=e=>{return t=e,!(ee(t)&&"true"===t.getAttribute("unselectable"))&&ra(e);var t},ua=(o,e)=>da(o)&&(t=>{for(let e=o.parentNode;e&&e!==t;e=e.parentNode){if(ca(e))return!1;if(oa(e))return!0}return!0})(e),ga=/^[ \t\r\n]*$/,ma=e=>ga.test(e),pa=e=>{for(var t of e)if(!xn(t))return!1;return!0},ha=e=>"\n"===e||"\r"===e,fa=(e,t=4,n=!0,a=!0)=>{let o=t<=0?"":new Array(t+1).join(" "),A=e.replace(/\t/g,o),r=ve(A,(e,t)=>{return-1!==" \f\t\v".indexOf(t)||t===wn?e.pcIsSpace||""===e.str&&n||e.str.length===A.length-1&&a||(o=A,(r=e.str.length+1)<o.length&&0<=r&&ha(o[r]))?{pcIsSpace:!1,str:e.str+wn}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ha(t),str:e.str+t};var o,r},{pcIsSpace:!1,str:""});return r.str},ba=(e,t)=>{return da(e)&&(o=e,t=t,!(te(o)&&ma(o.data)&&!((e,t)=>{t=J(t),e=J(e);return jr(e,"pre,code",w(I,t))})(o,t)))||(o=e,ee(o)&&"A"===o.nodeName&&!o.hasAttribute("href")&&(o.hasAttribute("name")||o.hasAttribute("id")))||va(e);var o},va=en("data-mce-bookmark"),wa=en("data-mce-bogus"),xa=e=>ee(e)&&"all"===e.getAttribute("data-mce-bogus"),E=(e,o=!0)=>{{var r=e.dom,n=o;let t=0;if(ba(r,r))return!1;{let e=r.firstChild;if(!e)return!0;var a=new Wr(e,r);do{if(n){if(xa(e)){e=a.next(!0);continue}if(wa(e)){e=a.next();continue}}if(k(e))t++;else if(ba(e,r))return!1;e=a.next()}while(e);return t<=1}}},Ba="data-mce-block",ya=e=>(e=e,U(De(e),e=>!/[A-Z]/.test(e)).join(",")),Ca=(e,t)=>P(t.querySelector(e))?(t.setAttribute(Ba,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Ba),!1),_a=(e,t)=>{let o=ya(e.getTransparentElements()),r=ya(e.getBlockElements());return U(t.querySelectorAll(o),e=>Ca(r,e))},ka=(t,e)=>{var o,r=e?"lastChild":"firstChild";for(let e=t[r];e;e=e[r])if(E(J(e)))return void(null!=(o=e.parentNode)&&o.removeChild(e))},Ea=(r,e,t)=>{let o=r.getBlockElements(),n=J(e),A=e=>Y(e)in o,i=e=>I(e,n);j(Ir(t),e=>{lr(e,A,i).each(t=>{o=e;var o=U(Zo(o),e=>A(e)&&!r.isValidChild(Y(t),Y(e)));if(0<o.length){let e=No(t);j(o,a=>{lr(a,A,i).each(e=>{var t,o,r,n;e=e.dom,t=a.dom,r=document.createRange(),(n=e.parentNode)&&(r.setStartBefore(e),r.setEndBefore(t),o=r.extractContents(),ka(o,!0),r.setStartAfter(t),r.setEndAfter(e),r=r.extractContents(),ka(r,!1),E(J(o))||n.insertBefore(o,e),E(J(t))||n.insertBefore(t,e),E(J(r))||n.insertBefore(r,e),n.removeChild(e))})}),e.each(e=>_a(r,e.dom))}})})},Fa=(e,t)=>{var o,r=_a(e,t);Ea(e,t,r),o=e,e=t,t=r,j([...t,...Ta(o,e)?[e]:[]],e=>j(Gr(J(e),e.nodeName.toLowerCase()),e=>{Ma(o,e.dom)&&Ur(e)}))},Sa=(e,t)=>{Ia(e,t)&&(e=ya(e.getBlockElements()),Ca(e,t))},Qa=e=>e.hasAttribute(Ba),Ua=(e,t)=>X(e.getTransparentElements(),t),Ia=(e,t)=>ee(t)&&Ua(e,t.nodeName),Ta=(e,t)=>Ia(e,t)&&Qa(t),Ma=(e,t)=>Ia(e,t)&&!Qa(t),Ha=(e,t)=>1===t.type&&Ua(e,t.name)&&R(t.attr(Ba)),Da=Lt().browser,Oa=e=>xe(e,ro),La=(e,t)=>e.children&&K(e.children,t),Na=(e,d={})=>{let c=0,u={},g=J(e),m=Do(g),t=l=>new Promise((e,t)=>{let o,r=T._addCacheSuffix(l),n=(a=r,x(u,a).getOrThunk(()=>({id:"mce-u"+c++,passed:[],failed:[],count:0})));var a;(u[r]=n).count++;let A=(e,t)=>{j(e,le),n.status=t,n.passed=[],n.failed=[],o&&(o.onload=null,o.onerror=null,o=null)},i=()=>A(n.passed,2),s=()=>A(n.failed,3);e&&n.passed.push(e),t&&n.failed.push(t),1!==n.status&&(2===n.status?i():3===n.status?s():(n.status=1,a=Fo("link",m.dom),co(a,{rel:"stylesheet",type:"text/css",id:n.id}),d.contentCssCors&&lo(a,"crossOrigin","anonymous"),d.referrerPolicy&&lo(a,"referrerpolicy",d.referrerPolicy),(o=a.dom).onload=i,o.onerror=s,e=a,q(er(g),e),lo(a,"href",r)))}),o=e=>{let o=T._addCacheSuffix(e);x(u,o).each(e=>{var t;0==--e.count&&(delete u[o],e=e.id,t=er(g),ur(t,"#"+e).each($))})};return{load:t,loadAll:e=>Promise.allSettled(f(e,e=>t(e).then(Z(e)))).then(e=>{e=fe(e,e=>"fulfilled"===e.status);return 0<e.fail.length?Promise.reject(f(e.fail,e=>e.reason)):f(e.pass,e=>e.value)}),unload:o,unloadAll:e=>{j(e,e=>{o(e)})},_setReferrerPolicy:e=>{d.referrerPolicy=e},_setContentCssCors:e=>{d.contentCssCors=e}}},Ra=(()=>{let r=new WeakMap;return{forElement:(e,t)=>{let o=$o(e).dom;return Q.from(r.get(o)).getOrThunk(()=>{var e=Na(o,t);return r.set(o,e),e})}}})(),Pa=(e,t)=>P(e)&&(ba(e,t)||Fn(J(e))),Va=e=>"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type"),za=(t,o,r)=>{var e,n,a=r||o;if(!ee(o)||!Va(o)){var A=o.childNodes;for(let e=A.length-1;0<=e;e--)za(t,A[e],a);if(ee(o)){let e=o.childNodes;1!==e.length||!Va(e[0])||null!=(r=o.parentNode)&&r.insertBefore(e[0],o)}r=o,dn(r)||ln(r)||ba(o,a)||(r=o,!!ee(r)&&0<r.childNodes.length)||(r=o,e=a,te(r)&&0<r.data.length&&(r=r,e=e,n=new Wr(r,e).prev(!1),r=new Wr(r,e).next(!1),n=F(n)||Pa(n,e),r=F(r)||Pa(r,e),n)&&r)||t.remove(o)}return o},Ka=T.makeMap,Za=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ga=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ja=/[<>&\"\']/g,Wa=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Xa={128:"โฌ",130:"โ",131:"ฦ",132:"โ",133:"โฆ",134:"โ",135:"โก",136:"ห",137:"โฐ",138:"ล",139:"โน",140:"ล",142:"ลฝ",145:"โ",146:"โ",147:"โ",148:"โ",149:"โข",150:"โ",151:"โ",152:"ห",153:"โข",154:"ลก",155:"โบ",156:"ล",158:"ลพ",159:"ลธ"},Ya={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Ja={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},qa=(e,o)=>{var r={};if(e){var n=e.split(",");o=o||10;for(let t=0;t<n.length;t+=2){var a=String.fromCharCode(parseInt(n[t],o));if(!Ya[a]){let e="&"+n[t+1]+";";r[a]=e,r[e]=a}}return r}},$a=qa("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),eA=(e,t)=>e.replace(t?Za:Ga,e=>Ya[e]||e),tA=(e,t)=>e.replace(t?Za:Ga,e=>1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ya[e]||"&#"+e.charCodeAt(0)+";"),oA=(e,t,o)=>{let r=o||$a;return e.replace(t?Za:Ga,e=>Ya[e]||r[e]||e)},rA={encodeRaw:eA,encodeAllRaw:e=>(""+e).replace(ja,e=>Ya[e]||e),encodeNumeric:tA,encodeNamed:oA,getEncodeFunc:(e,t)=>{let o=qa(t)||$a,r=Ka(e.replace(/\+/g,","));return r.named&&r.numeric?(e,t)=>e.replace(t?Za:Ga,e=>void 0!==Ya[e]?Ya[e]:void 0!==o[e]?o[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"):r.named?t?(e,t)=>oA(e,t,o):oA:r.numeric?tA:eA},decode:e=>e.replace(Wa,(e,t)=>t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Xa[t]||String.fromCharCode(t):Ja[e]||$a[e]||(t=e,(e=Fo("div").dom).innerHTML=t,e.textContent)||e.innerText||t)},nA={},aA={},AA={},iA=T.makeMap,sA=T.each,lA=T.extend,dA=T.explode,cA=T.inArray,uA=(e,t)=>(e=T.trim(e))?e.split(t||" "):[],gA=(e,t={})=>{e=iA(e," ",iA(e.toUpperCase()," "));return lA(e,t)},mA=e=>gA("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),pA=(e,r)=>{if(e){let o={};return R(e)&&(e={"*":e}),sA(e,(e,t)=>{o[t]=o[t.toUpperCase()]=("map"===r?iA:dA)(e,/[, ]/)}),o}},hA=(n={})=>{let e,u={},a={},g=[],A={},t={},o=(t,o,r)=>{var e=n[t];if(e)return iA(e,/[, ]/,iA(e.toUpperCase(),/[, ]/));{let e=aA[t];return e||(e=gA(o,r),aA[t]=e),e}},r=null!=(e=n.schema)?e:"html5",i=(e=>{let A={},i,o,r,n,a=(e,t="",o="")=>{var r=uA(o),n=uA(e);let a=n.length;for(;a--;){let e=uA([i,t].join(" "));A[n[a]]={attributes:Fe(e,()=>({})),attributesOrder:e,children:Fe(r,Z(AA))}}},t=(e,t)=>{var r=uA(e),n=uA(t);let a=r.length;for(;a--;){let o=A[r[a]];for(let e=0,t=n.length;e<t;e++)o.attributes[n[e]]={},o.attributesOrder.push(n[e])}};if(nA[e])return nA[e];if(i="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(i+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e){i+=" xml:lang";let e="acronym applet basefont big font strike tt",t=(r=[r,e].join(" "),sA(uA(e),e=>{a(e,"",r)}),"center dir isindex noframes");o=[o,t].join(" "),n=[o,r].join(" "),sA(uA(t),e=>{a(e,"",n)})}return n=n||[o,r].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",n),a("dd div","",n),a("address dt caption","","html4"===e?r:n),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),a("blockquote","cite",n),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",n),a("dl","","dt dd"),a("a","href target rel media hreflang type","html4"===e?r:n),a("q","cite",r),a("ins del","cite datetime",n),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",n),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[n,"param"].join(" ")),a("param","name value"),a("map","name",[n,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",n),a("th","colspan rowspan headers scope abbr",n),a("form","accept-charset action autocomplete enctype method name novalidate target",n),a("fieldset","disabled form name",[n,"legend"].join(" ")),a("label","form for",r),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?n:r),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[n,"li"].join(" ")),a("noscript","",n),"html4"!==e&&(a("wbr"),a("ruby","",[r,"rt rp"].join(" ")),a("figcaption","",n),a("mark rt rp summary bdi","",r),a("canvas","width height",n),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[n,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[n,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[r,"option"].join(" ")),a("article section nav aside main header footer","",n),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[n,"figcaption"].join(" ")),a("time","datetime",r),a("dialog","open",n),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",r),a("progress","value max",r),a("meter","value min max low high optimum",r),a("details","open",[n,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(t("script","language xml:space"),t("style","xml:space"),t("object","declare classid code codebase codetype archive standby align border hspace vspace"),t("embed","align name hspace vspace"),t("param","valuetype type"),t("a","charset name rev shape coords"),t("br","clear"),t("applet","codebase archive code object alt name width height align hspace vspace"),t("img","name longdesc align border hspace vspace"),t("iframe","longdesc frameborder marginwidth marginheight scrolling align"),t("font basefont","size color face"),t("input","usemap align"),t("select"),t("textarea"),t("h1 h2 h3 h4 h5 h6 div p legend caption","align"),t("ul","type compact"),t("li","type"),t("ol dl menu dir","compact"),t("pre","width xml:space"),t("hr","align noshade size width"),t("isindex","prompt"),t("table","summary width frame rules cellspacing cellpadding align bgcolor"),t("col","width align char charoff valign"),t("colgroup","width align char charoff valign"),t("thead","align char charoff valign"),t("tr","align char charoff valign bgcolor"),t("th","axis align char charoff valign nowrap bgcolor width height"),t("form","accept"),t("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),t("tfoot","align char charoff valign"),t("tbody","align char charoff valign"),t("area","nohref"),t("body","background bgcolor text link vlink alink")),"html4"!==e&&(t("input button select textarea","autofocus"),t("input textarea","placeholder"),t("a","download"),t("link script img","crossorigin"),t("img","loading"),t("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&j([A.video,A.audio],e=>{delete e.children.audio,delete e.children.video}),sA(uA("a form meter progress dfn"),e=>{A[e]&&delete A[e].children[e]}),delete A.caption.children.table,delete A.script,nA[e]=A})(r),s=(!1===n.verify_html&&(n.valid_elements="*[*]"),pA(n.valid_styles)),l=pA(n.invalid_styles,"map"),d=pA(n.valid_classes,"map"),c=o("whitespace_elements","pre script noscript style textarea video audio iframe object code"),m=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=o("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),f="td th iframe video audio object script code",b=o("non_empty_elements",f+" pre",p),v=o("move_caret_before_on_enter_elements",f+" table",p),w=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),x=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),B=o("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),y=o("transparent_elements","a ins del canvas map"),C=(sA("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{t[e]=new RegExp("</"+e+"[^>]*>","gi")}),e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")),_=e=>{let o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,d=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,c=/[*?+]/;if(e){var r=uA(e,",");let n,l;u["@"]&&(n=u["@"].attributes,l=u["@"].attributesOrder);for(let e=0,t=r.length;e<t;e++){let s=o.exec(r[e]);if(s){let e=s[1],t=s[2],o=s[3],r=s[5],a={},A=[],i={attributes:a,attributesOrder:A};if("#"===e&&(i.paddEmpty=!0),"-"===e&&(i.removeEmpty=!0),"!"===s[4]&&(i.removeEmptyAttrs=!0),n&&(W(n,(e,t)=>{a[t]=e}),l)&&A.push(...l),r){let o=uA(r,"|");for(let e=0,t=o.length;e<t;e++)if(s=d.exec(o[e])){let t={},e=s[1],o=s[2].replace(/[\\:]:/g,":"),r=s[3],n=s[4];if("!"===e&&(i.attributesRequired=i.attributesRequired||[],i.attributesRequired.push(o),t.required=!0),"-"===e){delete a[o],A.splice(cA(A,o),1);continue}if(r&&("="===r&&(i.attributesDefault=i.attributesDefault||[],i.attributesDefault.push({name:o,value:n}),t.defaultValue=n),"~"===r&&(i.attributesForced=i.attributesForced||[],i.attributesForced.push({name:o,value:n}),t.forcedValue=n),"<"===r)&&(t.validValues=iA(n,"?")),c.test(o)){let e=t;i.attributePatterns=i.attributePatterns||[],e.pattern=C(o),i.attributePatterns.push(e)}else a[o]||A.push(o),a[o]=t}}if(n||"@"!==t||(n=a,l=A),o&&(i.outputName=t,u[o]=i),c.test(t)){let e=i;e.pattern=C(t),g.push(e)}else u[t]=i}}}},k=e=>{g=[],j(De(u),e=>{delete u[e]}),_(e),sA(i,(e,t)=>{a[t]=e.children})},E=e=>{let o=/^(~)?(.+)$/;e&&(delete aA.text_block_elements,delete aA.block_elements,sA(uA(e,","),e=>{var t=o.exec(e);if(t){let e="~"===t[1],o=e?"span":"div",r=t[2];a[r]=a[o],A[r]=o,b[r.toUpperCase()]={},b[r]={},e||(x[r.toUpperCase()]={},x[r]={}),u[r]||(t=u[o],delete(t=lA({},t)).removeEmptyAttrs,delete t.removeEmpty,u[r]=t),sA(a,(e,t)=>{e[o]&&(a[t]=e=lA({},a[t]),e[r]=e[o])})}}))},F=e=>{let t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete nA[r],e&&sA(uA(e,","),e=>{var r=t.exec(e);if(r){let t=r[1],o;o=t?a[r[2]]:a[r[2]]={"#comment":{}},o=a[r[2]],sA(uA(r[3],"|"),e=>{"-"===t?delete o[e]:o[e]={}})}})},S=t=>{let e=u[t];if(e)return e;let o=g.length;for(;o--;){let e=g[o];if(e.pattern.test(t))return e}};n.valid_elements?k(n.valid_elements):(sA(i,(e,t)=>{u[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},a[t]=e.children}),sA(uA("strong/b em/i"),e=>{e=uA(e,"/");u[e[1]].outputName=e[0]}),sA(B,(e,t)=>{u[t]&&(n.padd_empty_block_inline_children&&(u[t].paddInEmptyBlock=!0),u[t].removeEmpty=!0)}),sA(uA("ol ul blockquote a table tbody"),e=>{u[e]&&(u[e].removeEmpty=!0)}),sA(uA("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),e=>{u[e]&&(u[e].paddEmpty=!0)}),sA(uA("span"),e=>{u[e].removeEmptyAttrs=!0})),E(n.custom_elements),F(n.valid_children),_(n.extended_valid_elements),F("+ol[ul|ol],+ul[ul|ol]"),sA({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{u[t]&&(u[t].parentsRequired=uA(e))}),n.invalid_elements&&sA(dA(n.invalid_elements),e=>{u[e]&&delete u[e]}),S("span")||_("span[!data-mce-type|*]");var Q=Z(s),U=Z(l),I=Z(d),T=Z(h),M=Z(x),H=Z(w),D=Z(B),O=Z(Object.seal(p)),L=Z(m),N=Z(b),R=Z(v),P=Z(c),V=Z(y),z=Z(Object.seal(t)),K=Z(A);return{type:r,children:a,elements:u,getValidStyles:Q,getValidClasses:I,getBlockElements:M,getInvalidStyles:U,getVoidElements:O,getTextBlockElements:H,getTextInlineElements:D,getBoolAttrs:T,getElementRule:S,getSelfClosingElements:L,getNonEmptyElements:N,getMoveCaretBeforeOnEnterElements:R,getWhitespaceElements:P,getTransparentElements:V,getSpecialElements:z,isValidChild:(e,t)=>{e=a[e.toLowerCase()];return!(!e||!e[t.toLowerCase()])},isValid:(e,o)=>{var r=S(e);if(r){if(!o)return!0;{if(r.attributes[o])return!0;let t=r.attributePatterns;if(t){let e=t.length;for(;e--;)if(t[e].pattern.test(o))return!0}}}return!1},getCustomElements:K,addValidElements:_,setValidElements:k,addCustomElements:E,addValidChildren:F}},fA=(h={},e)=>{let f=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,b=/\s*([^:]+):\s*([^;]+);?/g,v=/\s+$/,w={},t,i,x=vn;e&&(t=e.getValidStyles(),i=e.getInvalidStyles());var o="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let e=0;e<o.length;e++)w[o[e]]=x+e,w[x+e]=o[e];let B={parse:e=>{let l={},o=!1,A=h.url_converter,i=h.url_converter_scope||B,t=(t,o,r)=>{var n=l[t+"-top"+o];if(n){var a=l[t+"-right"+o];if(a){var A=l[t+"-bottom"+o];if(A){var i=l[t+"-left"+o];if(i){var s=[n,a,A,i];let e=s.length-1;for(;e--&&s[e]===s[e+1];);-1<e&&r||(l[t+o]=-1===e?s[0]:s.join(" "),delete l[t+"-top"+o],delete l[t+"-right"+o],delete l[t+"-bottom"+o],delete l[t+"-left"+o])}}}}},r=t=>{var o=l[t];if(o){var r=o.split(" ");let e=r.length;for(;e--;)if(r[e]!==r[0])return!1;return l[t]=r[0],!0}},n=e=>(o=!0,w[e]),s=(e,t)=>(o&&(e=e.replace(/\uFEFF[0-9]/g,e=>w[e])),e=t?e:e.replace(/\\([\'\";:])/g,"$1")),a=e=>String.fromCharCode(parseInt(e.slice(1),16)),d=e=>e.replace(/\\[0-9a-f]+/gi,a),c=(e,t,o,r,n,a)=>{if(n=n||a)return"'"+(n=s(n)).replace(/\'/g,"\\'")+"'";if(t=s(t||o||r||""),!h.allow_script_urls){let e=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(e))return"";if(!h.allow_svg_data_urls&&/^data:image\/svg/i.test(e))return""}return"url('"+(t=A?A.call(i,t,"style"):t).replace(/\'/g,"\\'")+"')"};if(e){var u;for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,n));u=b.exec(e);){b.lastIndex=u.index+u[0].length;let e=u[1].replace(v,"").toLowerCase(),t=u[2].replace(v,"");e&&t&&(e=d(e),t=d(t),-1===e.indexOf(x))&&-1===e.indexOf('"')&&(h.allow_script_urls||"behavior"!==e&&!/expression\s*\(|\/\*|\*\//.test(t))&&("font-weight"===e&&"700"===t?t="bold":"color"!==e&&"background-color"!==e||(t=t.toLowerCase()),t=t.replace(f,c),l[e]=o?s(t,!0):t)}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),m="border-style",p="border-color",r(g="border-width")&&r(m)&&r(p)&&(l.border=l[g]+" "+l[m]+" "+l[p],delete l[g],delete l[m],delete l[p]),"medium none"===l.border&&delete l.border,"none"===l["border-image"]&&delete l["border-image"]}var g,m,p;return l},serialize:(n,a)=>{let A="";var e=(e,t)=>{var r=t[e];if(r)for(let o=0,e=r.length;o<e;o++){let e=r[o],t=n[e];t&&(A+=(0<A.length?" ":"")+e+": "+t+";")}};return a&&t?(e("*",t),e(a,t)):W(n,(e,t)=>{var o,r,n;!e||(o=t,r=a,i&&r&&((n=i["*"])&&n[o]||(n=i[r])&&n[o]))||(A+=(0<A.length?" ":"")+t+": "+e+";")}),A}};return B},bA={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},vA=(t,e)=>{var o=null!=e?e:{};for(let e in t)X(bA,e)||(o[e]=t[e]);return P(t.composedPath)&&(o.composedPath=()=>t.composedPath()),o},wA=(e,t,o,r)=>{let n,a=vA(t,r);return a.type=e,ne(a.target)&&(a.target=null!=(n=a.srcElement)?n:o),r=t,(ne(r.preventDefault)||(r=r)instanceof Event||V(r.initEvent))&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=de,V(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=de,V(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=de,a.stopPropagation()},(e=a).isDefaultPrevented!==de&&e.isDefaultPrevented!==g&&(a.isDefaultPrevented=!0===a.defaultPrevented?de:g,a.isPropagationStopped=!0===a.cancelBubble?de:g,a.isImmediatePropagationStopped=g)),a},xA=/^(?:mouse|contextmenu)|click/,BA=(e,t,o,r)=>{e.addEventListener(t,o,r||!1)},yA=(e,t,o,r)=>{e.removeEventListener(t,o,r||!1)},CA=(n,e)=>{var a=wA(n.type,n,document,e);if(e=n,P(e)&&xA.test(e.type)&&F(n.pageX)&&!F(n.clientX)){let e=a.target.ownerDocument||document,t=e.documentElement,o=e.body,r=a;r.pageX=n.clientX+(t&&t.scrollLeft||o&&o.scrollLeft||0)-(t&&t.clientLeft||o&&o.clientLeft||0),r.pageY=n.clientY+(t&&t.scrollTop||o&&o.scrollTop||0)-(t&&t.clientTop||o&&o.clientTop||0)}return a};class _A{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,e,a,A){let i=this,s,l=window,d=e=>{i.executeHandlers(CA(e||l.event),c)};if(!n||te(n)||sn(n))return a;let c;n[i.expando]?c=n[i.expando]:(c=i.count++,n[i.expando]=c,i.events[c]={}),A=A||n;var u=e.split(" ");let g=u.length;for(;g--;){let e=u[g],t=d,o=!1,r=!1;"DOMContentLoaded"===e&&(e="ready"),i.domLoaded&&"ready"===e&&"complete"===n.readyState?a.call(A,CA({type:e})):(i.hasFocusIn||"focusin"!==e&&"focusout"!==e||(o=!0,r="focusin"===e?"focus":"blur",t=e=>{e=CA(e||l.event);e.type="focus"===e.type?"focusin":"focusout",i.executeHandlers(e,c)}),(s=i.events[c][e])?"ready"===e&&i.domLoaded?a(CA({type:e})):s.push({func:a,scope:A}):(i.events[c][e]=s=[{func:a,scope:A}],s.fakeName=r,s.capture=o,s.nativeHandler=t,"ready"===e?((t,o,r)=>{let n=t.document,a={type:"ready"};if(r.domLoaded)o(a);else{let e=()=>{yA(t,"DOMContentLoaded",e),yA(t,"load",e),r.domLoaded||(r.domLoaded=!0,o(a)),t=null};"complete"===n.readyState||"interactive"===n.readyState&&n.body?e():BA(t,"DOMContentLoaded",e),r.domLoaded||BA(t,"load",e)}})(n,t,i):BA(n,r||e,t,o)))}return n=s=null,a}unbind(o,r,s){if(o&&!te(o)&&!sn(o)){let e=o[this.expando];if(e){let i=this.events[e];if(r){let e=r.split(" "),t=e.length;for(;t--;){let a=e[t],A=i[a];if(A){if(s){let n=A.length;for(;n--;)if(A[n].func===s){let e=A.nativeHandler,t=A.fakeName,o=A.capture,r=A.slice(0,n).concat(A.slice(n+1));r.nativeHandler=e,r.fakeName=t,r.capture=o,i[a]=r}}s&&0!==A.length||(delete i[a],yA(o,A.fakeName||a,A.nativeHandler,A.capture))}}}else W(i,(e,t)=>{yA(o,e.fakeName||t,e.nativeHandler,e.capture)}),i={};for(let e in i)if(X(i,e))return this;delete this.events[e];try{delete o[this.expando]}catch(r){o[this.expando]=null}}}return this}fire(e,t,o){return this.dispatch(e,t,o)}dispatch(t,e,o){if(t&&!te(t)&&!sn(t)){var r=CA({type:e,target:t},o);do{let e=t[this.expando];e&&this.executeHandlers(r,e),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!r.isPropagationStopped())}return this}clean(t){if(t&&!te(t)&&!sn(t)&&(t[this.expando]&&this.unbind(t),t=t.getElementsByTagName?t:t.document)&&t.getElementsByTagName){this.unbind(t);var o=t.getElementsByTagName("*");let e=o.length;for(;e--;)(t=o[e])[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(o,e){let t=this.events[e],r=t&&t[o.type];if(r)for(let t=0,e=r.length;t<e;t++){let e=r[t];if(e&&!1===e.func.call(e.scope,o)&&o.preventDefault(),o.isImmediatePropagationStopped())return}}}_A.Event=new _A;let kA=T.each,EA=T.grep,FA="data-mce-style",SA=T.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),QA=(e,t,o)=>{ne(o)||""===o?po(e,t):lo(e,t,o)},UA=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),IA=(e,r)=>{let n=0;if(e)for(let t=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){let e=o.nodeType;r&&te(o)&&(e===t||!o.data.length)||(n++,t=e)}return n},TA=(e,t)=>{var o=uo(t,"style"),e=e.serialize(e.parse(o),Y(t));QA(t,FA,e)},MA=(e,t,o)=>{t=UA(t);ne(o)||""===o?Cr(e,t):br(e,t,(e=o,o=t,S(e)?X(SA,o)?e+"":e+"px":e))},oe=(i,A={})=>{let o={},e=window,n={},D=0,a=Ra.forElement(J(i),{contentCssCors:A.contentCssCors,referrerPolicy:A.referrerPolicy}),s=[],l=A.schema||hA({}),r=fA({url_converter:A.url_converter,url_converter_scope:A.url_converter_scope},A.schema),d=A.ownEvents?new _A:_A.Event,t=l.getBlockElements(),c=e=>e&&i&&R(e)?i.getElementById(e):e,u=e=>{e=c(e);return P(e)?J(e):null},g=(e,t,o="")=>{let r;var n=u(e);if(P(n)&&ro(n)){let e=N[t];r=e&&e.get?e.get(n.dom,t):uo(n,t)}return P(r)?r:o},m=e=>{e=c(e);return ne(e)?[]:e.attributes},p=(e,n,a)=>{y(e,e=>{var t,o,r;ee(e)&&(e=J(e),t=""===a?null:a,o=uo(e,n),(r=N[n])&&r.set?r.set(e.dom,t,n):QA(e,n,t),o!==t)&&A.onSetAttrib&&A.onSetAttrib({attrElm:e.dom,attrName:n,attrValue:t})})},h=()=>A.root_element||i.body,f=(n,a)=>{{var A=i.body,e=(n=c(n),a);let o=0,r=0;if(a=A.ownerDocument,e=e||A,n){if(e===A&&n.getBoundingClientRect&&"static"===wr(J(A),"position")){let e=n.getBoundingClientRect();return o=e.left+(a.documentElement.scrollLeft||A.scrollLeft)-a.documentElement.clientLeft,r=e.top+(a.documentElement.scrollTop||A.scrollTop)-a.documentElement.clientTop,{x:o,y:r}}let t=n;for(;t&&t!==e&&t.nodeType&&!La(t,e);){let e=t;o+=e.offsetLeft||0,r+=e.offsetTop||0,t=e.offsetParent}for(t=n.parentNode;t&&t!==e&&t.nodeType&&!La(t,e);)o-=t.scrollLeft||0,r-=t.scrollTop||0,t=t.parentNode;r+=(A=J(n),Da.isFirefox()&&"table"===Y(A)?Oa(Zo(A)).filter(e=>"caption"===Y(e)).bind(r=>Oa(Ko(r)).map(e=>{var e=e.dom.offsetTop,t=r.dom.offsetTop,o=r.dom.offsetHeight;return e<=t?-o:0})).getOr(0):0)}return{x:o,y:r}}},b=(e,t,o)=>{e=c(e);if(!ne(e)&&ee(e))return o?wr(J(e),UA(t)):("float"===(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()))&&(t="cssFloat"),e.style?e.style[t]:void 0)},v=e=>{e=c(e);if(!e)return{w:0,h:0};let t=b(e,"width"),o=b(e,"height");return t&&-1!==t.indexOf("px")||(t="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(o,10)||e.offsetHeight||e.clientHeight}},w=(e,t)=>!!e&&(e=re(e)?e:[e],G(e,e=>Io(J(e),t))),x=(e,o,t,r)=>{var n=[];let a=c(e);r=void 0===r;var A=t||("BODY"!==h().nodeName?h().parentNode:null);if(R(o))if("*"===o)o=ee;else{let t=o;o=e=>w(e,t)}for(;a&&!(a===A||ne(a.nodeType)||ln(a)||dn(a));){if(!o||o(a)){if(!r)return[a];n.push(a)}a=a.parentNode}return r?n:null},B=(t,o,r)=>{let n=o;if(t){R(o)&&(n=e=>w(e,o));for(let e=t[r];e;e=e[r])if(V(n)&&n(e))return e}return null},y=function(t,r,e){let n=null!=e?e:this;if(re(t)){let o=[];return kA(t,(e,t)=>{e=c(e);e&&o.push(r.call(n,e,t))}),o}{let e=c(t);return!!e&&r.call(n,e)}},C=(e,t)=>{y(e,o=>{W(t,(e,t)=>{p(o,t,e)})})},_=(e,t)=>{y(e,e=>{e=J(e);Mr(e,t)})},k=(e,o,r,n,a)=>y(e,e=>{var t=R(o)?i.createElement(o):o;return P(r)&&C(t,r),n&&(!R(n)&&n.nodeType?t.appendChild(n):R(n)&&_(t,n)),a?t:e.appendChild(t)}),E=(e,t,o)=>k(i.createElement(e),e,t,o,!0),F=rA.encodeAllRaw,S=(e,o)=>y(e,e=>{let t=J(e);return o&&j(Zo(t),e=>{no(e)&&0===e.dom.length?$(e):_r(t,e)}),$(t),t.dom}),Q=(e,r,n)=>{y(e,o=>{if(ee(o)){let t=J(o),e=r.split(" ");j(e,e=>{(P(n)?n?Bo:Co:(e,t)=>{var o;bo(e)?e.dom.classList.toggle(t):(o=e,t=t,(K(vo(o),t)?xo:wo)(o,t));yo(e)})(t,e)})}})},U=(r,n,a)=>y(n,e=>{let t,o=re(n)?r.cloneNode(!0):r;return a&&kA(EA(e.childNodes),e=>{o.appendChild(e)}),null!=(t=e.parentNode)&&t.replaceChild(o,e),e}),I=e=>{if(ee(e)){var t="a"===e.nodeName.toLowerCase()&&!g(e,"href")&&g(e,"id");if(g(e,"name")||g(e,"data-mce-bookmark")||t)return!0}return!1},T=()=>i.createRange(),M=(o,r,n,a)=>{if(re(o)){let e=o.length,t=[];for(;e--;)t[e]=M(o[e],r,n,a);return t}return!A.collect||o!==i&&o!==e||s.push([o,r,n,a]),d.bind(o,r,n,a||H)},O=(n,a,A)=>{if(re(n)){let e=n.length,t=[];for(;e--;)t[e]=O(n[e],a,A);return t}if(0<s.length&&(n===i||n===e)){let r=s.length;for(;r--;){let[e,t,o]=s[r];n!==e||a&&a!==t||A&&A!==o||d.unbind(e,t,o)}}return d.unbind(n,a,A)},L=e=>{var t;return e&&ee(e)?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},H={doc:i,settings:A,win:e,files:n,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:s,styles:r,schema:l,events:d,isBlock:e=>R(e)?X(t,e):ee(e)&&(X(t,e.nodeName)||Ta(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:h,getViewPort:e=>{e=Kr(e);return{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:e=>{var e=c(e),t=f(e),e=v(e);return{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:v,getParent:(e,t,o)=>{e=x(e,t,o,!1);return e&&0<e.length?e[0]:null},getParents:x,get:c,getNext:(e,t)=>B(e,t,"nextSibling"),getPrev:(e,t)=>B(e,t,"previousSibling"),select:(e,t)=>{t=null!=(t=null!=(t=c(t))?t:A.root_element)?t:i;return V(t.querySelectorAll)?Te(t.querySelectorAll(e)):[]},is:w,add:k,create:E,createHTML:(e,t,o="")=>{let r="<"+e;for(let e in t)Ze(t,e)&&(r+=" "+e+'="'+F(t[e])+'"');return ht(o)&&X(l.getVoidElements(),e)?r+" />":r+">"+o+"</"+e+">"},createFragment:e=>{var t,o=i.createElement("div"),r=i.createDocumentFragment();for(r.appendChild(o),e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r.removeChild(o),r},remove:S,setStyle:(e,t,o)=>{y(e,e=>{e=J(e);MA(e,t,o),A.update_styles&&TA(r,e)})},getStyle:b,setStyles:(e,t)=>{y(e,e=>{let o=J(e);W(t,(e,t)=>{MA(o,t,e)}),A.update_styles&&TA(r,o)})},removeAllAttribs:e=>y(e,t=>{var o=t.attributes;for(let e=o.length-1;0<=e;e--)t.removeAttributeNode(o.item(e))}),setAttrib:p,setAttribs:C,getAttrib:g,getPos:f,parseStyle:e=>r.parse(e),serializeStyle:(e,t)=>r.serialize(e,t),addStyle:e=>{if(H!==oe.DOM&&i===document){if(o[e])return;o[e]=!0}let t=i.getElementById("mceDefaultStyles");if(!t){(t=i.createElement("style")).id="mceDefaultStyles",t.type="text/css";let e=i.head;e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(i.createTextNode(e))},loadCSS:e=>{e=e||"",j(e.split(","),e=>{n[e]=!0,a.load(e).catch(z)})},addClass:(e,t)=>{Q(e,t,!0)},removeClass:(e,t)=>{Q(e,t,!1)},hasClass:(e,t)=>{let o=u(e),r=t.split(" ");return P(o)&&_e(r,e=>_o(o,e))},toggleClass:Q,show:e=>{y(e,e=>Cr(J(e),"display"))},hide:e=>{y(e,e=>br(J(e),"display","none"))},isHidden:e=>{e=u(e);return P(e)&&jt(Br(e,"display"),"none")},uniqueId:e=>(e||"mce_")+D++,setHTML:_,getOuterHTML:e=>{var t,e=u(e);return P(e)?ee(e.dom)?e.dom.outerHTML:(e=e,t=Fo("div"),e=J(e.dom.cloneNode(!0)),q(t,e),Tr(t)):""},setOuterHTML:(e,t)=>{y(e,e=>{ee(e)&&(e.outerHTML=t)})},decode:rA.decode,encode:F,insertAfter:(e,t)=>{let r=c(t);return y(e,e=>{var t=null==r?void 0:r.parentNode,o=null==r?void 0:r.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e})},replace:U,rename:(o,e)=>{if(o.nodeName===e.toUpperCase())return o;{let t=E(e);return kA(m(o),e=>{p(t,e.nodeName,g(o,e.nodeName))}),U(t,o,!0),t}},findCommonAncestor:(e,t)=>{let o=e;for(;o;){let e=t;for(;e&&o!==e;)e=e.parentNode;if(o===e)break;o=o.parentNode}return!o&&e.ownerDocument?e.ownerDocument.documentElement:o},run:y,getAttribs:m,isEmpty:(e,t,r)=>{let n=0;if(I(e))return!1;var a=e.firstChild;if(a){var A=new Wr(a,e),i=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let o=a;do{if(ee(o)){let e=o.getAttribute("data-mce-bogus");if(e){o=A.next("all"===e);continue}let t=o.nodeName.toLowerCase();if(s&&s[t]){if("br"!==t)return!1;n++,o=A.next();continue}if(I(o))return!1}if(sn(o))return!1;if(te(o)&&!ma(o.data)&&(null==r||!r.includeZwsp||!pa(o.data)))return!1;if(te(o)&&o.parentNode&&i[o.parentNode.nodeName]&&ma(o.data))return!1;o=A.next()}while(o)}return n<=1},createRng:T,nodeIndex:IA,split:(e,t,o)=>{let r,n,a=T();var A;if(e&&t&&e.parentNode&&t.parentNode)return A=e.parentNode,a.setStart(A,IA(e)),a.setEnd(t.parentNode,IA(t)),r=a.extractContents(),(a=T()).setStart(t.parentNode,IA(t)+1),a.setEnd(A,IA(e)+1),n=a.extractContents(),A.insertBefore(za(H,r),e),o?A.insertBefore(o,e):A.insertBefore(t,e),A.insertBefore(za(H,n),e),S(e),o||t},bind:M,unbind:O,fire:(e,t,o)=>d.dispatch(e,t,o),dispatch:(e,t,o)=>d.dispatch(e,t,o),getContentEditable:L,getContentEditableParent:t=>{var o=h();let r=null;for(let e=t;e&&e!==o&&null===(r=L(e));e=e.parentNode);return r},isEditable:e=>!!P(e)&&(e=ee(e)?e:e.parentElement,P(e))&&mr(J(e)),destroy:()=>{if(0<s.length){let e=s.length;for(;e--;){var[t,o,r]=s[e];d.unbind(t,o,r)}}W(n,(e,t)=>{a.unload(t),delete n[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},N=((o,n,a)=>{let r=n.keep_values,e={set:(e,t,o)=>{var r=J(e);V(n.url_converter)&&P(t)&&(t=n.url_converter.call(n.url_converter_scope||a(),String(t),o,e)),QA(r,"data-mce-"+o,t),QA(r,o,t)},get:(e,t)=>{e=J(e);return uo(e,"data-mce-"+t)||uo(e,t)}},t={style:{set:(e,t)=>{e=J(e);r&&QA(e,FA,t),po(e,"style"),R(t)&&vr(e,o.parse(t))},get:e=>{var e=J(e),t=uo(e,FA)||uo(e,"style");return o.serialize(o.parse(t),Y(e))}}};return r&&(t.href=t.src=e),t})(r,A,Z(H));return H},HA=(oe.DOM=oe(document),oe.nodeIndex=IA,oe.DOM);class DA{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(A){return new Promise((e,t)=>{let o=HA,r,n=()=>{o.remove(a),r&&(r.onerror=r.onload=r=null)},a=o.uniqueId();(r=document.createElement("script")).id=a,r.type="text/javascript",r.src=T._addCacheSuffix(A),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=()=>{n(),e()},r.onerror=()=>{n(),t("Failed to load script: "+A)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)})}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(o){let r=this;return r.queue.push(o),void 0===r.states[o]&&(r.states[o]=0),new Promise((e,t)=>{r.scriptLoadedCallbacks[o]||(r.scriptLoadedCallbacks[o]=[]),r.scriptLoadedCallbacks[o].push({resolve:e,reject:t})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){var e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){let r=this,o=(t,o)=>{x(r.scriptLoadedCallbacks,o).each(e=>{j(e,e=>e[t](o))}),delete r.scriptLoadedCallbacks[o]},n=e=>{e=U(e,e=>"rejected"===e.status);return 0<e.length?Promise.reject(Ce(e,({reason:e})=>re(e)?e:[e])):Promise.resolve()},a=e=>Promise.allSettled(f(e,t=>2===r.states[t]?(o("resolve",t),Promise.resolve()):3===r.states[t]?(o("reject",t),Promise.reject(t)):(r.states[t]=1,r.loadScript(t).then(()=>{r.states[t]=2,o("resolve",t);var e=r.queue;return 0<e.length?(r.queue=[],a(e).then(n)):Promise.resolve()},()=>(r.states[t]=3,o("reject",t),Promise.reject(t)))))),A=e=>(r.loading=!0,a(e).then(e=>{r.loading=!1;var t=r.queueLoadedCallbacks.shift();return Q.from(t).each(le),n(e)})),i=Ge(e);return r.loading?new Promise((e,t)=>{r.queueLoadedCallbacks.push(()=>{A(i).then(e,t)})}):A(i)}}DA.ScriptLoader=new DA;let OA=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},LA={},NA=OA("en"),RA=()=>x(LA,NA.get()),PA={getData:()=>Le(LA,e=>({...e})),setCode:e=>{e&&NA.set(e)},getCode:()=>NA.get(),add:(e,t)=>{let o=LA[e];o||(LA[e]=o={}),W(t,(e,t)=>{o[t.toLowerCase()]=e})},translate:e=>{let t=RA().getOr({}),r=e=>V(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,n=e=>{e=r(e);return x(t,e.toLowerCase()).map(r).getOr(e)},a=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(v(A=e)&&X(A,"raw"))return r(e.raw);var A;if(A=e,re(A)&&1<A.length){let o=e.slice(1);return a(n(e[0]).replace(/\{([0-9]+)\}/g,(e,t)=>X(o,t)?r(o[t]):e))}return a(n(e))},isRtl:()=>RA().bind(e=>x(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>X(LA,e)},VA=()=>{let o=[],r={},n={},a=[],A=(t,o)=>{var e=U(a,e=>e.name===t&&e.state===o);j(e,e=>e.resolve())},i=e=>X(r,e),s=(e,t)=>{var o=PA.getCode();!o||t&&-1===(","+(t||"")+",").indexOf(","+o+",")||DA.ScriptLoader.add(r[e]+"/langs/"+o+".js")},l=(t,o="added")=>{return"added"===o&&(e=t,X(n,e))||"loaded"===o&&i(t)?Promise.resolve():new Promise(e=>{a.push({name:t,state:o,resolve:e})});var e};return{items:o,urls:r,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==VA.languageLoad&&(i(e)?s(e,t):l(e,"loaded").then(()=>s(e,t)))},add:(e,t)=>(o.push(t),n[e]={instance:t},A(e,"added"),t),remove:e=>{delete r[e],delete n[e]},createUrl:(e,t)=>R(t)?R(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,t)=>{if(r[e])return Promise.resolve();let o=R(t)?t:t.prefix+t.resource+t.suffix;0!==o.indexOf("/")&&-1===o.indexOf("://")&&(o=VA.baseURL+"/"+o),r[e]=o.substring(0,o.lastIndexOf("/"));t=()=>(A(e,"loaded"),Promise.resolve());return n[e]?t():DA.ScriptLoader.add(o).then(t)},waitFor:l}},zA=(VA.languageLoad=!0,VA.baseURL="",VA.PluginManager=VA(),VA.ThemeManager=VA(),VA.ModelManager=VA(),t=>{let o=OA(Q.none()),r=()=>o.get().each(e=>clearInterval(e));return{clear:()=>{r(),o.set(Q.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:e=>{r(),o.set(Q.some(setInterval(e,t)))}}}),KA=()=>{let t=(e=>{let t=OA(Q.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(Q.some(e))}}})(z);return{...t,on:e=>t.get().each(e)}},ZA=(t,o)=>{let r=null;return{cancel:()=>{H(r)||(clearTimeout(r),r=null)},throttle:(...e)=>{H(r)&&(r=setTimeout(()=>{r=null,t.apply(null,e)},o))}}},GA=(t,o)=>{let r=null,n=()=>{H(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...e)=>{n(),r=setTimeout(()=>{r=null,t.apply(null,e)},o)}}},jA=Z("mce-annotation"),WA=Z("data-mce-annotation"),XA=Z("data-mce-annotation-uid"),YA=Z("data-mce-annotation-active"),JA=Z("data-mce-annotation-classes"),qA=Z("data-mce-annotation-attrs"),$A=t=>e=>I(e,t),ei=(r,e)=>{var t=r.selection.getRng(),o=J(t.startContainer),n=J(r.getBody()),e=e.fold(()=>"."+jA(),e=>`[${WA()}="${e}"]`),t=Go(o,t.startOffset).getOr(o);return gr(t,e,$A(n)).bind(e=>go(e,""+XA()).bind(o=>go(e,""+WA()).map(e=>{var t=oi(r,o);return{uid:o,name:e,elements:t}})))},ti=(e,t)=>mo(e,"data-mce-bogus")||jr(e,'[data-mce-bogus="all"]',$A(t)),oi=(e,t)=>{let o=J(e.getBody()),r=Gr(o,`[${XA()}="${t}"]`);return U(r,e=>!ti(e,o))},ri=(e,t)=>{let r=J(e.getBody()),o=Gr(r,`[${WA()}="${t}"]`),n={};return j(o,o=>{if(!ti(o,r)){let e=uo(o,XA()),t=x(n,e).getOr([]);n[e]=t.concat([o])}}),n},ni=0,ai=e=>{var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++ni+String(t)},Ai=(e,t)=>J(e.dom.cloneNode(t)),ii=e=>Ai(e,!1),si=e=>Ai(e,!0),li=(e,t)=>{var t=((e,t)=>{t=Fo(t),e=ho(e);return co(t,e),t})(e,t),o=(kr(e,t),Zo(e));return Sr(t,o),$(e),t},di=(e,t,o=g)=>{let r=new Wr(e,t),n=e=>{let t;for(;(t=r[e]())&&!te(t)&&!o(t););return Q.from(t).filter(te)};return{current:()=>Q.from(r.current()).filter(te),next:()=>n("next"),prev:()=>n("prev"),prev2:()=>n("prev2")}},ci=(a,e)=>{let A=e||(e=>a.isBlock(e)||k(e)||B(e)),i=(t,o,r,n)=>{if(te(t)){let e=n(t,o,t.data);if(-1!==e)return Q.some({container:t,offset:e})}return r().bind(e=>i(e.container,e.offset,r,n))};return{backwards:(e,t,o,r)=>{let n=di(e,null!=r?r:a.getRoot(),A);return i(e,t,()=>n.prev().map(e=>({container:e,offset:e.length})),o).getOrNull()},forwards:(e,t,o,r)=>{let n=di(e,null!=r?r:a.getRoot(),A);return i(e,t,()=>n.next().map(e=>({container:e,offset:0})),o).getOrNull()}}},ui=Math.round,gi=e=>e?{left:ui(e.left),top:ui(e.top),bottom:ui(e.bottom),right:ui(e.right),width:ui(e.width),height:ui(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},mi=(e,t)=>(e=gi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),pi=(e,t,o)=>0<=e&&e<=Math.min(t.height,o.height)/2,hi=(e,t)=>{var o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top||!(e.top>t.bottom)&&pi(t.top-e.bottom,e,t)},fi=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&pi(t.bottom-e.top,e,t),bi=(e,t,o)=>{var r=Math.max(Math.min(t,e.left+e.width),e.left),e=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(o-e)*(o-e))},vi=e=>{var t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},wi=(e,t)=>{var o,r;return ee(e)&&e.hasChildNodes()?(o=e.childNodes,r=o.length-1,o[Math.min(Math.max(t,0),r)]):e},xi=new RegExp("[ฬ-อฏา-าา-าึ-ึฝึฟื-ืื-ืืุ-ุู-ููฐ--คง-จช-ญฐ-ฆ-ฐ฿ซ-฿ณเ-เเ-เฃเฅ-เงเฉ-เญเก-เกเฃฃ-เคเคบเคผเฅ-เฅเฅเฅ-เฅเฅข-เฅฃเฆเฆผเฆพเง-เงเงเงเงข-เงฃเจ-เจเจผเฉ-เฉเฉ-เฉเฉ-เฉเฉเฉฐ-เฉฑเฉตเช-เชเชผเซ-เซเซ-เซเซเซข-เซฃเฌเฌผเฌพเฌฟเญ-เญเญเญเญเญข-เญฃเฎเฎพเฏเฏเฏเฐเฐพ-เฑเฑ-เฑเฑ-เฑเฑ-เฑเฑข-เฑฃเฒเฒผเฒฟเณเณเณ-เณเณ-เณเณข-เณฃเดเดพเต-เตเตเตเตข-เตฃเทเทเท-เทเทเทเธฑเธด-เธบเน-เนเบฑเบด-เบนเบป-เบผเป-เปเผ-เผเผตเผทเผนเฝฑ-เฝพเพ-เพเพ-เพเพ-เพเพ-เพผเฟแญ-แฐแฒ-แทแน-แบแฝ-แพแ-แแ-แแฑ-แดแแ-แแแแ-แแ-แแฒ-แดแ-แแฒ-แณแด-แตแท-แฝแแ-แแแ-แแขฉแค-แคขแคง-แคจแคฒแคน-แคปแจ-แจแจแฉแฉ-แฉแฉแฉขแฉฅ-แฉฌแฉณ-แฉผแฉฟแชฐ-แชฝแชพแฌ-แฌแฌดแฌถ-แฌบแฌผแญแญซ-แญณแฎ-แฎแฎข-แฎฅแฎจ-แฎฉแฎซ-แฎญแฏฆแฏจ-แฏฉแฏญแฏฏ-แฏฑแฐฌ-แฐณแฐถ-แฐทแณ-แณแณ-แณแณข-แณจแณญแณดแณธ-แณนแท-แทตแทผ-แทฟโ-โโ-โโ-โโกโข-โคโฅ-โฐโณฏ-โณฑโตฟโท-โทฟใช-ใญใฎ-ใฏใ-ใ๊ฏ๊ฐ-๊ฒ๊ด-๊ฝ๊-๊๊ฐ-๊ฑ๊๊๊๊ฅ-๊ฆ๊ฃ๊ฃ-๊ฃฑ๊คฆ-๊คญ๊ฅ-๊ฅ๊ฆ-๊ฆ๊ฆณ๊ฆถ-๊ฆน๊ฆผ๊งฅ๊จฉ-๊จฎ๊จฑ-๊จฒ๊จต-๊จถ๊ฉ๊ฉ๊ฉผ๊ชฐ๊ชฒ-๊ชด๊ชท-๊ชธ๊ชพ-๊ชฟ๊ซ๊ซฌ-๊ซญ๊ซถ๊ฏฅ๊ฏจ๊ฏญ๏ฌ๏ธ-๏ธ๏ธ-๏ธฏ๏พ-๏พ]"),Bi=e=>R(e)&&768<=e.charCodeAt(0)&&xi.test(e),yi=ee,Ci=da,_i=$r("display","block table"),ki=$r("float","left right"),Ei=(ar=[yi,Ci,Ae(ki)],t=>{for(let e=0;e<ar.length;e++)if(!ar[e](t))return!1;return!0}),Fi=Ae($r("white-space","pre pre-line pre-wrap")),Si=te,Qi=k,Ui=oe.nodeIndex,Ii=(e,t)=>t<0&&ee(e)&&e.hasChildNodes()?void 0:wi(e,t),Ti=e=>e?e.createRange():oe.DOM.createRng(),Mi=e=>R(e)&&/[\r\n\t ]/.test(e),Hi=e=>!!e.setStart&&!!e.setEnd,Di=e=>{var t=e.startContainer,o=e.startOffset;if(Mi(e.toString())&&Fi(t.parentNode)&&te(t)){let e=t.data;if(Mi(e[o-1])||Mi(e[o+1]))return!0}return!1},Oi=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Li=e=>{var t,o,r,n,a=e.getClientRects(),a=0<a.length?gi(a[0]):gi(e.getBoundingClientRect());return!Hi(e)&&Qi(e)&&Oi(a)?(o=(t=e).ownerDocument,r=Ti(o),o=o.createTextNode(wn),(n=t.parentNode).insertBefore(o,t),r.setStart(o,0),r.setEnd(o,1),t=gi(r.getBoundingClientRect()),n.removeChild(o),t):Oi(a)&&Hi(e)&&null!=(r=(t=>{let e=t.startContainer,o=t.endContainer,r=t.startOffset,n=t.endOffset;if(e===o&&te(o)&&0===r&&1===n){let e=t.cloneRange();return e.setEndAfter(o),Li(e)}return null})(e))?r:a},Ni=(e,t)=>{e=mi(e,t);return e.width=1,e.right=e.left+1,e},M=(t,o,e)=>{let r=()=>e=e||(e=>{let r=[],n=e=>{var t,o;0===e.height||0<r.length&&(t=e,o=r[r.length-1],t.left===o.left)&&t.top===o.top&&t.bottom===o.bottom&&t.right===o.right||r.push(e)},t=(e,t)=>{var o=Ti(e.ownerDocument);if(t<e.data.length){if(Bi(e.data[t]))return;if(Bi(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!Di(o)))return void n(Ni(Li(o),!1))}0<t&&(o.setStart(e,t-1),o.setEnd(e,t),Di(o)||n(Ni(Li(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),Di(o)||n(Ni(Li(o),!0)))},o=e.container(),a=e.offset();if(Si(o))t(o,a);else if(yi(o))if(e.isAtEnd()){let e=Ii(o,a);Si(e)&&t(e,e.data.length),Ei(e)&&!Qi(e)&&n(Ni(Li(e),!1))}else{var A=Ii(o,a);if(Si(A)&&t(A,0),Ei(A)&&e.isAtEnd())return n(Ni(Li(A),!1)),r;e=Ii(e.container(),e.offset()-1);!Ei(e)||Qi(e)||!_i(e)&&!_i(A)&&Ei(A)||n(Ni(Li(e),!1)),Ei(A)&&n(Ni(Li(A),!0))}return r})(M(t,o));return{container:Z(t),offset:Z(o),toRange:()=>{var e=Ti(t.ownerDocument);return e.setStart(t,o),e.setEnd(t,o),e},getClientRects:r,isVisible:()=>0<r().length,isAtStart:()=>(Si(t),0===o),isAtEnd:()=>Si(t)?o>=t.data.length:o>=t.childNodes.length,isEqual:e=>e&&t===e.container()&&o===e.offset(),getNode:e=>Ii(t,e?o-1:o)}},Ri=(M.fromRangeStart=e=>M(e.startContainer,e.startOffset),M.fromRangeEnd=e=>M(e.endContainer,e.endOffset),M.after=e=>M(e.parentNode,Ui(e)+1),M.before=e=>M(e.parentNode,Ui(e)),M.isAbove=(e,t)=>Wt(Ue(t.getClientRects()),Ie(e.getClientRects()),hi).getOr(!1),M.isBelow=(e,t)=>Wt(Ie(t.getClientRects()),Ue(e.getClientRects()),fi).getOr(!1),M.isAtStart=e=>!!e&&e.isAtStart(),M.isAtEnd=e=>!!e&&e.isAtEnd(),M.isTextPosition=e=>!!e&&te(e.container()),M.isElementPosition=e=>!M.isTextPosition(e),(e,t)=>{te(t)&&0===t.data.length&&e.remove(t)}),Pi=(e,t,o)=>{var r,n,a,A,i;dn(o)?(r=e,n=t,a=o,A=Q.from(a.firstChild),i=Q.from(a.lastChild),n.insertNode(a),A.each(e=>Ri(r,e.previousSibling)),i.each(e=>Ri(r,e.nextSibling))):(n=e,a=o,t.insertNode(a),Ri(n,a.previousSibling),Ri(n,a.nextSibling))},Vi=te,zi=tn,Ki=oe.nodeIndex,Zi=e=>{e=e.parentNode;return zi(e)?Zi(e):e},Gi=e=>e?qe(e.childNodes,(e,t)=>(zi(t)&&"BR"!==t.nodeName?e=e.concat(Gi(t)):e.push(t),e),[]):[],ji=t=>e=>t===e,Wi=e=>(Vi(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let r,t;r=Gi(Zi(e)),t=$e(r,ji(e),e),r=r.slice(0,t+1);var o=qe(r,(e,t,o)=>(Vi(t)&&Vi(r[o-1])&&e++,e),0);return r=Je(r,qr([e.nodeName])),$e(r,ji(e),e)-o})(e)+"]",Xi=(e,t)=>{let o,r=[],n=t.container(),a=t.offset();if(Vi(n))o=((e,t)=>{let o=e;for(;(o=o.previousSibling)&&Vi(o);)t+=o.data.length;return t})(n,a);else{let e=n.childNodes;a>=e.length?(o="after",a=e.length-1):o="before",n=e[a]}r.push(Wi(n));t=(t=>{var o=[];for(let e=n.parentNode;e&&e!==t;e=e.parentNode)o.push(e);return o})(e),t=Je(t,Ae(tn));return(r=r.concat(Ye(t,e=>Wi(e)))).reverse().join("/")+","+o},Yi=(e,o)=>{if(!o)return null;var o=o.split(","),r=o[0].split("/"),o=1<o.length?o[1]:"before",r=qe(r,(e,t)=>{t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);if(t){"text()"===t[1]&&(t[1]="#text");{var r=t[1],t=parseInt(t[2],10);let o=Gi(e);return o=Je(o,(e,t)=>!Vi(e)||!Vi(o[t-1])),(o=Je(o,qr([r])))[t]}}return null},e);if(!r)return null;if(!Vi(r)&&r.parentNode)return e="after"===o?Ki(r)+1:Ki(r),M(r.parentNode,e);{var n=r;var a=parseInt(o,10);let e=n,t=0;for(;Vi(e);){var A=e.data.length;if(a>=t&&a<=t+A){n=e,a-=t;break}if(!Vi(e.nextSibling)){n=e,a=A;break}t+=A,e=e.nextSibling}return Vi(n)&&a>n.data.length&&(a=n.data.length),M(n,a);return}},Ji=B,qi=(o,e,r,t,n)=>{var a=n?t.startContainer:t.endContainer;let A=n?t.startOffset:t.endOffset;var i=[],s=o.getRoot();if(te(a))i.push(r?((t,o,e)=>{let r=t(o.data.slice(0,e)).length;for(let e=o.previousSibling;e&&te(e);e=e.previousSibling)r+=t(e.data).length;return r})(e,a,A):A);else{let e=0,t=a.childNodes;A>=t.length&&t.length&&(e=1,A=Math.max(0,t.length-1)),i.push(o.nodeIndex(t[A],r)+e)}for(let e=a;e&&e!==s;e=e.parentNode)i.push(o.nodeIndex(e,r));return i},$i=(e,t,o)=>{let r=0;return T.each(e.select(t),e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==o&&void r++),r},es=(e,t)=>{var o,r=t?e.startContainer:e.endContainer,n=t?e.startOffset:e.endOffset;ee(r)&&"TR"===r.nodeName&&(r=(o=r.childNodes)[Math.min(t?n:n-1,o.length-1)])&&(n=t?0:r.childNodes.length,t?e.setStart(r,n):e.setEnd(r,n))},ts=e=>(es(e,!0),es(e,!1),e),os=(e,t)=>ee(e)&&(e=wi(e,t),Ji(e))?e:Wn(e)&&(t=(e=te(e)&&Gn(e)?e.parentNode:e).previousSibling,Ji(t)||(t=e.nextSibling,Ji(t)))?t:void 0,rs=(e,t,o)=>{var r=o.getNode(),n=o.getRng();if("IMG"===r.nodeName||Ji(r)){let e=r.nodeName;return{name:e,index:$i(o.dom,e,r)}}r=n;var a,A,i,r=os(r.startContainer,r.startOffset)||os(r.endContainer,r.endOffset);if(r){let e=r.tagName;return{name:e,index:$i(o.dom,e,r)}}return r=e,e=t,t=n,o=(n=o).dom,a=qi(o,r,e,t,!0),A=n.isForward(),i=ta(t)?{isFakeCaret:!0}:{},n.isCollapsed()?{start:a,forward:A,...i}:{start:a,end:qi(o,r,e,t,!1),forward:A,...i}},ns=(e,t,o)=>{t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",t,"&#xFEFF;"):e.create("span",t)},as=(e,t)=>{var o=e.dom;let r=e.getRng();var n=o.uniqueId(),a=e.isCollapsed(),A=e.getNode(),i=A.nodeName,s=e.isForward();if("IMG"===i)return{name:i,index:$i(o,i,A)};i=ts(r.cloneRange());if(!a){i.collapse(!1);let e=ns(o,n+"_end",t);Pi(o,i,e)}(r=ts(r)).collapse(!0);A=ns(o,n+"_start",t);return Pi(o,r,A),e.moveToBookmark({id:n,keep:!0,forward:s}),{id:n,forward:s}},As=w(rs,O,!0),is=o=>{let e=e=>e(o),t=Z(o),r=()=>n,n={tag:!0,inner:o,fold:(e,t)=>t(o),isValue:de,isError:g,map:e=>ls.value(e(o)),mapError:r,bind:e,exists:e,forall:e,getOr:t,or:r,getOrThunk:t,orThunk:r,getOrDie:t,each:e=>{e(o)},toOptional:()=>Q.some(o)};return n},ss=o=>{let e=()=>t,t={tag:!1,inner:o,fold:(e,t)=>e(o),isValue:g,isError:de,map:e,mapError:e=>ls.error(e(o)),bind:e,exists:g,forall:de,getOr:O,or:O,getOrThunk:se,orThunk:se,getOrDie:ie(String(o)),each:z,toOptional:Q.none};return t},ls={value:is,error:ss,fromOption:(e,t)=>e.fold(()=>ss(t),is)},ds=a=>{if(!re(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");let A=[],i={};return j(a,(e,t)=>{var o=De(e);if(1!==o.length)throw new Error("one and only one name per case");let r=o[0],n=e[r];if(void 0!==i[r])throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!re(n))throw new Error("case arguments must be an array");A.push(r),i[r]=(...o)=>{var e=o.length;if(e!==n.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+n.length+" ("+n+"), got "+e);return{fold:(...e)=>{if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[t].apply(null,o)},match:e=>{let t=De(e);if(A.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+A.join(",")+"\nActual: "+t.join(","));if(_e(A,e=>K(t,e)))return e[r].apply(null,o);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+A.join(", "))},log:e=>{console.log(e,{constructors:A,constructor:r,params:o})}}}}),i},cs=(ds([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),e=>"inline-command"===e.type||"inline-format"===e.type),us=e=>"block-command"===e.type||"block-format"===e.type,gs=n=>{let a=e=>ls.error({message:e,pattern:n}),e=(t,o,e)=>{if(void 0===n.format)return void 0!==n.cmd?R(n.cmd)?ls.value(e(n.cmd,n.value)):a(t+" pattern has non-string `cmd` parameter"):a(t+" pattern is missing both `format` and `cmd` parameters");{let e;if(re(n.format)){if(!_e(n.format,R))return a(t+" pattern has non-string items in the `format` array");e=n.format}else{if(!R(n.format))return a(t+" pattern has non-string `format` parameter");e=[n.format]}return ls.value(o(e))}};if(!v(n))return a("Raw pattern is not an object");if(!R(n.start))return a("Raw pattern is missing `start` parameter");if(void 0===n.end)return void 0!==n.replacement?R(n.replacement)?0===n.start.length?a("Replacement pattern has empty `start` parameter"):ls.value({type:"inline-command",start:"",end:n.start,cmd:"mceInsertContent",value:n.replacement}):a("Replacement pattern has non-string `replacement` parameter"):0===n.start.length?a("Block pattern has empty `start` parameter"):e("Block",e=>({type:"block-format",start:n.start,format:e[0]}),(e,t)=>({type:"block-command",start:n.start,cmd:e,value:t}));{if(!R(n.end))return a("Inline pattern has non-string `end` parameter");if(0===n.start.length&&0===n.end.length)return a("Inline pattern has empty `start` and `end` parameters");let o=n.start,r=n.end;return 0===r.length&&(r=o,o=""),e("Inline",e=>({type:"inline-format",start:o,end:r,format:e}),(e,t)=>({type:"inline-command",start:o,end:r,cmd:e,value:t}))}},ms=e=>U(e,us),ps=e=>U(e,cs),hs=e=>{e=(e=>{let t=[],o=[];return j(e,e=>{e.fold(e=>{t.push(e)},e=>{o.push(e)})}),{errors:t,values:o}})(f(e,gs));return j(e.errors,e=>console.error(e.message,e.pattern)),e.values},fs=Lt().deviceType,bs=fs.isTouch(),vs=oe.DOM,ws=e=>b(e,RegExp),e=t=>e=>e.options.get(t),xs=e=>R(e)||v(e),Bs=(r,n="")=>e=>{var t,o=R(e);return o?-1!==e.indexOf("=")?(t=(e=>{e=0<e.indexOf("=")?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ve(e,(e,t)=>{var t=t.split("="),o=t[0],t=1<t.length?t[1]:o;return e[ut(o)]=ut(t),e},{})})(e),{value:x(t,r.id).getOr(n),valid:o}):{value:e,valid:o}:{valid:!1,message:"Must be a string."}},ys=e("iframe_attrs"),Cs=e("doctype"),_s=e("document_base_url"),ks=e("body_id"),Es=e("body_class"),Fs=e("content_security_policy"),Ss=e("br_in_pre"),Qs=e("forced_root_block"),Us=e("forced_root_block_attrs"),Is=e("newline_behavior"),Ts=e("br_newline_selector"),Ms=e("no_newline_selector"),Hs=e("keep_styles"),Ds=e("end_container_on_empty_block"),Os=e("automatic_uploads"),Ls=e("images_reuse_filename"),Ns=e("images_replace_blob_uris"),Rs=e("icons"),Ps=e("icons_url"),Vs=e("images_upload_url"),zs=e("images_upload_base_path"),Ks=e("images_upload_credentials"),Zs=e("images_upload_handler"),Gs=e("content_css_cors"),js=e("referrer_policy"),Ws=e("language"),Xs=e("language_url"),Ys=e("indent_use_margin"),Js=e("indentation"),qs=e("content_css"),$s=e("content_style"),el=e("font_css"),tl=e("directionality"),ol=e("inline_boundaries_selector"),rl=e("object_resizing"),nl=e("resize_img_proportional"),al=e("placeholder"),Al=e("event_root"),il=e("service_message"),sl=e("theme"),ll=e("theme_url"),dl=e("model"),cl=e("model_url"),ul=e("inline_boundaries"),gl=e("formats"),ml=e("preview_styles"),pl=e("format_empty_lines"),hl=e("format_noneditable_selector"),fl=e("custom_ui_selector"),bl=e("inline"),vl=e("hidden_input"),wl=e("submit_patch"),xl=e("add_form_submit_trigger"),Bl=e("add_unload_trigger"),yl=e("custom_undo_redo_levels"),Cl=e("disable_nodechange"),_l=e("readonly"),kl=e("editable_root"),El=e("content_css_cors"),Fl=e("plugins"),Sl=e("external_plugins"),Ql=e("block_unsupported_drop"),Ul=e("visual"),Il=e("visual_table_class"),Tl=e("visual_anchor_class"),Ml=e("iframe_aria_text"),Hl=e("setup"),Dl=e("init_instance_callback"),Ol=e("urlconverter_callback"),Ll=e("auto_focus"),Nl=e("browser_spellcheck"),Rl=e("protect"),Pl=e("paste_block_drop"),Vl=e("paste_data_images"),zl=e("paste_preprocess"),Kl=e("paste_postprocess"),Zl=e("newdocument_content"),Gl=e("paste_webkit_styles"),jl=e("paste_remove_styles_if_webkit"),Wl=e("paste_merge_formats"),Xl=e("smart_paste"),Yl=e("paste_as_text"),Jl=e("paste_tab_spaces"),ql=e("allow_html_data_urls"),$l=e("text_patterns"),ed=e("text_patterns_lookup"),td=e("noneditable_class"),od=e("editable_class"),rd=e("noneditable_regexp"),nd=e("preserve_cdata"),ad=e("highlight_on_focus"),Ad=e("xss_sanitization"),id=e("init_content_sync"),sd=e=>T.explode(e.options.get("images_file_types")),ld=e("table_tab_navigation"),dd=e("details_initial_state"),cd=e("details_serialized_state"),ud=ee,gd=te,md=e=>{var t=e.parentNode;t&&t.removeChild(e)},pd=e=>{var t=zn(e);return{count:e.length-t.length,text:t}},hd=e=>{for(var t;-1!==(t=e.data.lastIndexOf(Pn));)e.deleteData(t,1)},fd=(e,t)=>(vd(e),t),bd=(e,t)=>{return M.isTextPosition(t)?(o=e,r=t,gd(o)&&r.container()===o?(n=o,a=r,A=pd(n.data.substr(0,a.offset())),i=pd(n.data.substr(a.offset())),0<(A.text+i.text).length?(hd(n),M(n,a.offset()-A.count)):a):fd(o,r)):(i=e,((n=t).container()===i.parentNode?(e,t)=>{let o=t.container(),r=((e,t)=>{e=pe(e,t);return-1===e?Q.none():Q.some(e)})(Te(o.childNodes),e).map(e=>e<t.offset()?M(o,t.offset()-1):t).getOr(t);return vd(e),r}:fd)(i,n));var o,r,n,a,A,i},vd=e=>{ud(e)&&Wn(e)&&(Xn(e)?e.removeAttribute("data-mce-caret"):md(e)),gd(e)&&(hd(e),0===e.data.length)&&md(e)},wd=B,xd=pn,Bd=gn,yd=(t,e,o)=>{var r=mi(e.getBoundingClientRect(),o);let n,a;if("BODY"===t.tagName){let e=t.ownerDocument.documentElement;n=t.scrollLeft||e.scrollLeft,a=t.scrollTop||e.scrollTop}else{let e=t.getBoundingClientRect();n=t.scrollLeft-e.left,a=t.scrollTop-e.top}r.left+=n,r.right+=n,r.top+=a,r.bottom+=a,r.width=1;let A=e.offsetWidth-e.clientWidth;return 0<A&&(o&&(A*=-1),r.left+=A,r.right+=A),r},Cd=(e,l,t,d)=>{let c=KA(),u,g,m=Qs(e),p=e.dom,h=()=>{var o,e=l,r=Gr(J(e),"*[contentEditable=false],video,audio,embed,object");for(let e=0;e<r.length;e++){var n=r[e].dom;let t=n.previousSibling;if($n(t)){let e=t.data;1===e.length?null!=(o=t.parentNode)&&o.removeChild(t):t.deleteData(e.length-1,1)}t=n.nextSibling,qn(t)&&(1===t.data.length?null!=(o=t.parentNode)&&o.removeChild(t):t.deleteData(0,1))}g&&(vd(g),g=null),c.on(e=>{p.remove(e.caret),c.clear()}),u&&(clearInterval(u),u=void 0)};return{show:(o,r)=>{let n;if(h(),Bd(r))return null;var a,A,i;if(t(r)){a=m,s=o,(i=(null!=(i=(A=r).ownerDocument)?i:document).createElement(a)).setAttribute("data-mce-caret",s?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(Ln().dom),a=A.parentNode,s?null!=a&&a.insertBefore(i,A):A.nextSibling?null!=a&&a.insertBefore(i,A.nextSibling):null!=a&&a.appendChild(i);let e=i,t=yd(l,r,o);p.setStyle(e,"top",t.top),g=e;var s=p.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});p.setStyles(s,{...t}),p.add(l,s),c.set({caret:s,element:r,before:o}),o&&p.addClass(s,"mce-visual-caret-before"),u=setInterval(()=>{c.on(e=>{d()?p.toggleClass(e.caret,"mce-visual-caret-hidden"):p.addClass(e.caret,"mce-visual-caret-hidden")})},500),(n=r.ownerDocument.createRange()).setStart(e,0),n.setEnd(e,0)}else g=((t,e)=>{var o=(null!=(o=t.ownerDocument)?o:document).createTextNode(Pn),r=t.parentNode;if(e){let e=t.previousSibling;if(Zn(e)){if(Wn(e))return e;if($n(e))return e.splitText(e.data.length-1)}null!=r&&r.insertBefore(o,t)}else{let e=t.nextSibling;if(Zn(e)){if(Wn(e))return e;if(qn(e))return e.splitText(1),e}t.nextSibling?null!=r&&r.insertBefore(o,t.nextSibling):null!=r&&r.appendChild(o)}return o})(r,o),n=r.ownerDocument.createRange(),kd(g.nextSibling)?(n.setStart(g,0),n.setEnd(g,0)):(n.setStart(g,1),n.setEnd(g,1));return n},hide:h,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(e=>{var t=yd(l,e.element,e.before);p.setStyles(e.caret,{...t})})},destroy:()=>clearInterval(u)}},_d=()=>L.browser.isFirefox(),kd=e=>wd(e)||xd(e),Ed=e=>(kd(e)||on(e)&&_d())&&No(J(e)).exists(mr),Fd=un,Sd=B,Qd=pn,Ud=$r("display","block table table-cell table-caption list-item"),Id=Wn,Td=Gn,Md=ee,Hd=te,Dd=da,Od=e=>0<e,Ld=e=>e<0,Nd=(e,t)=>{for(var o;o=e(t);)if(!Td(o))return o;return null},Rd=(e,t,o,r,n)=>{var a=new Wr(e,r),r=Sd(e)||Td(e);let A;if(Ld(t)){if(r&&o(A=Nd(a.prev.bind(a),!0)))return A;for(;A=Nd(a.prev.bind(a),n);)if(o(A))return A}if(Od(t)){if(r&&o(A=Nd(a.next.bind(a),!0)))return A;for(;A=Nd(a.next.bind(a),n);)if(o(A))return A}return null},Pd=(e,t)=>{for(;e&&e!==t;){if(Ud(e))return e;e=e.parentNode}return null},Vd=(e,t,o)=>Pd(e.container(),o)===Pd(t.container(),o),zd=(e,t)=>{var o;return t&&(o=t.container(),t=t.offset(),Md(o))?Q.from(o.childNodes[t+e]):Q.none()},Kd=(e,t)=>{var o=(null!=(o=t.ownerDocument)?o:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},Zd=(e,t,o)=>Pd(t,e)===Pd(o,e),Gd=(e,t,o)=>{var r=e?"previousSibling":"nextSibling";let n=o;for(;n&&n!==t;){let e=n[r];if(e&&Id(e)&&(e=e[r]),Sd(e)||Qd(e)){if(Zd(t,e,n))return e;break}if(Dd(e))break;n=n.parentNode}return null},jd=w(Kd,!0),Wd=w(Kd,!1),Xd=(e,t,o)=>{let r;var n=w(Gd,!0,t),t=w(Gd,!1,t),a=o.startContainer,A=o.startOffset;if(Gn(a)){let e=Hd(a)?a.parentNode:a,t=e.getAttribute("data-mce-caret");if("before"===t&&(r=e.nextSibling,Ed(r)))return jd(r);if("after"===t&&(r=e.previousSibling,Ed(r)))return Wd(r)}if(o.collapsed&&te(a)){if(Id(a)){if(1===e){if(r=t(a))return jd(r);if(r=n(a))return Wd(r)}if(-1===e){if(r=n(a))return Wd(r);if(r=t(a))return jd(r)}return o}if($n(a)&&A>=a.data.length-1)return 1===e&&(r=t(a))?jd(r):o;if(qn(a)&&A<=1)return-1===e&&(r=n(a))?Wd(r):o;if(A===a.data.length)return(r=t(a))?jd(r):o;if(0===A)return(r=n(a))?Wd(r):o}return o},Yd=(e,t)=>zd(e?0:-1,t).filter(Sd),Jd=(e,t,o)=>{t=Xd(e,t,o);return-1===e?M.fromRangeStart(t):M.fromRangeEnd(t)},qd=e=>Q.from(e.getNode()).map(J),$d=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},ec=(e,t)=>{t=Vd(e,t);return!(t||!k(e.getNode()))||t},tc=((t=Ar=Ar||{})[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards",B),oc=te,rc=ee,nc=k,ac=da,Ac=e=>ia(e)||(e=e,!!ca(e)&&!ve(Te(e.getElementsByTagName("*")),(e,t)=>e||oa(t),!1)),ic=ua,sc=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,lc=(e,t)=>{if(Od(e)){if(ac(t.previousSibling)&&!oc(t.previousSibling))return M.before(t);if(oc(t))return M(t,0)}if(Ld(e)){if(ac(t.nextSibling)&&!oc(t.nextSibling))return M.after(t);if(oc(t))return M(t,t.data.length)}return!Ld(e)||nc(t)?M.before(t):M.after(t)},dc=(e,t,o)=>{let r,n,a,A;if(!rc(o)||!t)return null;if(t.isEqual(M.after(o))&&o.lastChild){if(A=M.after(o.lastChild),Ld(e)&&ac(o.lastChild)&&rc(o.lastChild))return nc(o.lastChild)?M.before(o.lastChild):A}else A=t;var i,s=A.container();let l=A.offset();if(oc(s)){if(Ld(e)&&0<l)return M(s,--l);if(Od(e)&&l<s.length)return M(s,++l);r=s}else{if(Ld(e)&&0<l&&(n=sc(s,l-1),ac(n)))return!Ac(n)&&(a=Rd(n,e,ic,n))?oc(a)?M(a,a.data.length):M.after(a):oc(n)?M(n,n.data.length):M.before(n);if(Od(e)&&l<s.childNodes.length&&(n=sc(s,l),ac(n)))return nc(n)?(t=o,i=n,(d=i.nextSibling)&&ac(d)?oc(d)?M(d,0):M.before(d):dc(Ar.Forwards,M.after(i),t)):!Ac(n)&&(a=Rd(n,e,ic,n))?oc(a)?M(a,0):M.before(a):oc(n)?M(n,0):M.after(n);r=n||A.getNode()}if(r&&(Od(e)&&A.isAtEnd()||Ld(e)&&A.isAtStart())&&(r=Rd(r,e,de,o,!0),ic(r,o)))return lc(e,r);n=r&&Rd(r,e,ic,o);var d=et(U((e=>{var t=[];let o=s;for(;o&&o!==e;)t.push(o),o=o.parentNode;return t})(o),tc));return!d||n&&d.contains(n)?n?lc(e,n):null:A=Od(e)?M.after(d):M.before(d)},cc=t=>({next:e=>dc(Ar.Forwards,e,t),prev:e=>dc(Ar.Backwards,e,t)}),uc=e=>M.isTextPosition(e)?0===e.offset():da(e.getNode()),gc=e=>{var t;return M.isTextPosition(e)?(t=e.container(),e.offset()===t.data.length):da(e.getNode(!0))},mc=(e,t)=>!M.isTextPosition(e)&&!M.isTextPosition(t)&&e.getNode()===t.getNode(!0),pc=(e,t,o)=>{t=cc(t);return Q.from(e?t.next(o):t.prev(o))},hc=(n,a,A)=>pc(n,a,A).bind(e=>{return Vd(A,e,a)&&(t=A,o=e,n?!mc(t,o)&&(r=t,!(!M.isTextPosition(r)&&k(r.getNode())))&&gc(t)&&uc(o):!mc(o,t)&&uc(t)&&gc(o))?pc(n,a,e):Q.some(e);var t,o,r}),fc=(t,o,e,r)=>hc(t,o,e).bind(e=>r(e)?fc(t,o,e,r):Q.some(e)),bc=(e,t)=>{var o=e?t.firstChild:t.lastChild;{var r;return te(o)?Q.some(M(o,e?0:o.data.length)):o?da(o)?Q.some(e?M.before(o):k(r=o)?M.before(r):M.after(r)):(r=e,e=t,t=o,t=r?M.before(t):M.after(t),pc(r,e,t)):Q.none()}},vc=w(pc,!0),wc=w(pc,!1),xc=w(bc,!0),Bc=w(bc,!1),yc="_mce_caret",Cc=e=>ee(e)&&e.id===yc,_c=(e,t)=>{let o=t;for(;o&&o!==e;){if(Cc(o))return o;o=o.parentNode}return null},kc=e=>X(e,"name"),Ec=e=>T.isArray(e.start),Fc=e=>!(!kc(e)&&_(e.forward))||e.forward,Sc=(e,t)=>(ee(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Qc=(e,t)=>Bc(e).fold(g,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),Uc=(e,t,o)=>!(t.hasChildNodes()||!_c(e,t)||(e=o,t=(null!=(t=(o=t).ownerDocument)?t:document).createTextNode(Pn),o.appendChild(t),e.setStart(t,0),e.setEnd(t,0),0)),Ic=(e,t,o,r)=>{var n=o[t?"start":"end"],a=e.getRoot();if(n){let o=a,e=n[0];for(let t=n.length-1;o&&1<=t;t--){let e=o.childNodes;if(Uc(a,o,r))return!0;if(n[t]>e.length-1)return!!Uc(a,o,r)||Qc(o,r);o=e[n[t]]}te(o)&&(e=Math.min(n[0],o.data.length)),ee(o)&&(e=Math.min(n[0],o.childNodes.length)),t?r.setStart(o,e):r.setEnd(o,e)}return!0},Tc=e=>te(e)&&0<e.data.length,Mc=(a,e,A)=>{let i=a.get(A.id+"_"+e),t=null==i?void 0:i.parentNode,o=A.keep;if(i&&t){let r,n;if(n="start"===e?o?i.hasChildNodes()?(r=i.firstChild,1):Tc(i.nextSibling)?(r=i.nextSibling,0):Tc(i.previousSibling)?(r=i.previousSibling,i.previousSibling.data.length):(r=t,a.nodeIndex(i)+1):(r=t,a.nodeIndex(i)):o?i.hasChildNodes()?(r=i.firstChild,1):Tc(i.previousSibling)?(r=i.previousSibling,i.previousSibling.data.length):(r=t,a.nodeIndex(i)):(r=t,a.nodeIndex(i)),!o){let t=i.previousSibling,o=i.nextSibling;var s;for(T.each(T.grep(i.childNodes),e=>{te(e)&&(e.data=e.data.replace(/\uFEFF/g,""))});s=a.get(A.id+"_"+e);)a.remove(s,!0);if(te(o)&&te(t)&&!L.browser.isOpera()){let e=t.data.length;t.appendData(o.data),a.remove(o),r=t,n=e}}return Q.some(M(r,n))}return Q.none()},Hc=(e,t,o)=>{return[e,t,o=!1]=[e,t,o],2===t?rs(zn,o,e):3===t?(r=(o=e).getRng(),{start:Xi(o.dom.getRoot(),M.fromRangeStart(r)),end:Xi(o.dom.getRoot(),M.fromRangeEnd(r)),forward:o.isForward()}):t?{rng:(r=e).getRng(),forward:r.isForward()}:as(e,!1);var r},Dc=(u,e)=>{(e=>{var o,r,n,t,a,A,i,s,l,d,c=u.dom;if(e){if(Ec(e))return l=e,d=(s=c).createRng(),Ic(s,!0,l,d)&&Ic(s,!1,l,d)?Q.some({range:d,forward:Fc(l)}):Q.none();if(s=e,R(s.start))return A=c,i=e,d=Q.from(Yi(A.getRoot(),i.start)),l=Q.from(Yi(A.getRoot(),i.end)),Wt(d,l,(e,t)=>{var o=A.createRng();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),{range:o,forward:Fc(i)}});if(a=e,X(a,"id"))return r=c,n=e,a=Mc(r,"start",n),t=Mc(r,"end",n),Wt(a,t.or(a),(e,t)=>{var o=r.createRng();return o.setStart(Sc(r,e.container()),e.offset()),o.setEnd(Sc(r,t.container()),t.offset()),{range:o,forward:Fc(n)}});if(kc(e))return o=c,t=e,Q.from(o.select(t.name)[t.index]).map(e=>{var t=o.createRng();return t.selectNode(e),{range:t,forward:!0}});if(a=e,X(a,"rng"))return Q.some({range:e.rng,forward:Fc(e)})}return Q.none()})(e).each(({range:e,forward:t})=>{u.setRng(e,t)})},Oc=e=>ee(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Lc=(ir=wn,e=>ir===e),Nc=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Rc=e=>!Nc(e)&&!Lc(e)&&!xn(e),Pc=e=>{e=e.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},Vc=e=>({value:(e=Pc(e.red)+Pc(e.green)+Pc(e.blue),it(e,"#").toUpperCase())}),zc=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Kc=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Zc=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),Gc=(e,t,o,r)=>{e=parseInt(e,10),t=parseInt(t,10),o=parseInt(o,10),r=parseFloat(r);return Zc(e,t,o,r)},jc=e=>{return("transparent"===(t=e)?Q.some(Zc(0,0,0,0)):null!==(o=zc.exec(t))?Q.some(Gc(o[1],o[2],o[3],"1")):null!==(o=Kc.exec(t))?Q.some(Gc(o[1],o[2],o[3],o[4])):Q.none()).map(Vc).map(e=>"#"+e.value).getOr(e);var t,o},Wc=t=>{var o=[];if(t)for(let e=0;e<t.rangeCount;e++)o.push(t.getRangeAt(e));return o},Xc=(e,t)=>{var t=Gr(t,"td[data-mce-selected],th[data-mce-selected]");return 0<t.length?t:(t=e,U((t=t,Ce(t,e=>{e=vi(e);return e?[J(e)]:[]})),Mn))},Yc=e=>Xc(Wc(e.selection.getSel()),J(e.getBody())),Jc=(e,t)=>cr(e,"table",t),qc=t=>jo(t).fold(Z([t]),e=>[t].concat(qc(e))),$c=t=>Wo(t).fold(Z([t]),e=>"br"===Y(e)?Po(e).map(e=>[t].concat($c(e))).getOr([]):[t].concat($c(e))),eu=(o,e)=>{return Wt((t=e.startContainer,r=e.startOffset,te(t)?0===r?Q.some(J(t)):Q.none():Q.from(t.childNodes[r]).map(J)),(t=e.endContainer,r=e.endOffset,te(t)?r===t.data.length?Q.some(J(t)):Q.none():Q.from(t.childNodes[r-1]).map(J)),(e,t)=>{e=xe(qc(o),w(I,e)),t=xe($c(o),w(I,t));return e.isSome()&&t.isSome()}).getOr(!1);var t,r},tu=(e,t,o,r)=>{var n=o,a=new Wr(o,n),A=Ve(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!K(["td","th","table"],t.toLowerCase()));let i=o;do{if(te(i)&&0!==T.trim(i.data).length)return void(r?t.setStart(i,0):t.setEnd(i,i.data.length));if(A[i.nodeName])return void(r?t.setStartBefore(i):"BR"===i.nodeName?t.setEndBefore(i):t.setEndAfter(i))}while(i=r?a.next():a.prev());"BODY"===n.nodeName&&(r?t.setStart(n,0):t.setEnd(n,n.childNodes.length))},ou=e=>{e=e.selection.getSel();return P(e)&&0<e.rangeCount},ru=(o,r)=>{var e=Yc(o);0<e.length?j(e,e=>{var e=e.dom,t=o.dom.createRng();t.setStartBefore(e),t.setEndAfter(e),r(t,!0)}):r(o.selection.getRng(),!1)},nu=(e,t,o)=>{t=as(e,t);o(t),e.moveToBookmark(t)},au=e=>S(null==e?void 0:e.nodeType),Au=e=>ee(e)&&!Oc(e)&&!Cc(e)&&!tn(e),iu=e=>!0===e.isContentEditable,su=(e,t,o)=>{var{selection:r,dom:n}=e,a=r.getNode(),A=B(a);nu(r,!0,()=>{t()}),A&&B(a)&&n.isChildOf(a,e.getBody())?e.selection.select(a):o(r.getStart())&&lu(n,r)},lu=(o,r)=>{var n=r.getRng(),{startContainer:a,startOffset:A}=n;if(i=o,s=r.getNode(),(!Au(s)||/^(TD|TH)$/.test(s.nodeName)||(i=i.getAttrib(s,"data-mce-selected"),s=parseInt(i,10),isNaN(s))||!(0<s))&&ee(a)){var i=a.childNodes,s=o.getRoot();let t;if(A<i.length){let e=i[A];t=new Wr(e,null!=(a=o.getParent(e,o.isBlock))?a:s)}else{let e=i[i.length-1];(t=new Wr(e,null!=(A=o.getParent(e,o.isBlock))?A:s)).next(!0)}for(let e=t.current();e;e=t.next()){if("false"===o.getContentEditable(e))return;if(te(e)&&!gu(e))return n.setStart(e,0),void r.setRng(n)}}},du=(e,t,o)=>{if(e){var r=t?"nextSibling":"previousSibling";for(e=o?e:e[r];e;e=e[r])if(ee(e)||!gu(e))return e}},cu=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ta(e,t),uu=(e,t,o)=>e.schema.isValidChild(t,o),gu=(e,t=!1)=>!(!P(e)||!te(e))&&(t=t?e.data.replace(/ /g,"ย"):e.data,ma(t)),mu=(e,t)=>{var o,r,n=e.dom;return Au(t)&&"false"===n.getContentEditable(t)&&(e=e,o=t,r="[data-mce-cef-wrappable]",e=hl(e),r=ht(e)?r:r+","+e,Io(J(o),r))&&0===n.select('[contenteditable="true"]',t).length},pu=(e,o)=>V(e)?e(o):e=P(o)?e.replace(/%(\w+)/g,(e,t)=>o[t]||e):e,hu=(e,t)=>(e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()),fu=(t,o)=>{if(ne(t))return null;{let e=String(t);return"color"!==o&&"backgroundColor"!==o||(e=jc(e)),"fontWeight"===o&&700===t&&(e="bold"),e="fontFamily"===o?e.replace(/[\'\"]/g,"").replace(/,\s+/g,","):e}},bu=(e,t,o)=>{e=e.getStyle(t,o);return fu(e,o)},vu=(t,e)=>{let o;return t.getParent(e,e=>!!ee(e)&&!!(o=t.getStyle(e,"text-decoration"))&&"none"!==o),o},wu=(e,t,o)=>e.getParents(t,o,e.getRoot()),xu=(e,t,o)=>{e=e.formatter.get(t);return P(e)&&G(e,o)},Bu=e=>Ze(e,"block"),yu=e=>Ze(e,"selector"),Cu=e=>Ze(e,"inline"),_u=e=>yu(e)&&!1!==e.expand&&!Cu(e),ku=Oc,Eu=wu,Fu=gu,Su=cu,Qu=(e,t)=>{let o=t;for(;o;){if(ee(o)&&e.getContentEditable(o))return"false"===e.getContentEditable(o)?o:t;o=o.parentNode}return t},Uu=(e,t,o,r)=>{var n=t.data;if(e){for(let e=o;0<e;e--)if(r(n.charAt(e-1)))return e}else for(let e=o;e<n.length;e++)if(r(n.charAt(e)))return e;return-1},Iu=(e,t,o)=>Uu(e,t,o,e=>Lc(e)||Nc(e)),Tu=(e,t,o)=>Uu(e,t,o,Rc),Mu=(n,e,t,o,a,r)=>{let A,i=n.getParent(t,n.isBlock)||e,s=(e,t,o)=>{var r=ci(n),r=a?r.backwards:r.forwards;return Q.from(r(e,t,(e,t)=>ku(e.parentNode)?-1:(A=e,o(a,e,t)),i))};return s(t,o,Iu).bind(e=>r?s(e.container,e.offset+(a?-1:0),Tu):Q.some(e)).orThunk(()=>A?Q.some({container:A,offset:a?0:A.length}):Q.none())},Hu=(r,n,a,e,t)=>{let o=e[t];te(e)&&ht(e.data)&&o&&(e=o);var A=Eu(r,e);for(let o=0;o<A.length;o++)for(let t=0;t<n.length;t++){let e=n[t];if((!P(e.collapsed)||e.collapsed===a.collapsed)&&yu(e)&&r.is(A[o],e.selector))return A[o]}return e},Du=(t,e,o,r)=>{let n,a=o,A=t.getRoot(),i=e[0];if(!(a=Bu(i)?i.wrapper?null:t.getParent(o,i.block,A):a)){let e=null!=(n=t.getParent(o,"LI,TD,TH"))?n:A;a=t.getParent(te(o)?o.parentNode:o,e=>e!==A&&Su(t.schema,e),e)}if(!(a=a&&Bu(i)&&i.wrapper?Eu(t,a,"ul,ol").reverse()[0]||a:a))for(a=o;a&&a[r]&&!t.isBlock(a[r])&&(a=a[r],!hu(a,"br")););return a||o},Ou=(e,t,o,r)=>{var n=o.parentNode;return!P(o[r])&&(!(n!==t&&!ne(n)&&!e.isBlock(n))||Ou(e,t,n,r))},Lu=(o,e,t,r,n)=>{let a=t;var A,i=n?"previousSibling":"nextSibling",s=o.getRoot();if(!te(t)||Fu(t)||!(n?0<r:r<t.data.length))for(;a;){if(!e[0].block_expand&&o.isBlock(a))return a;for(let t=a[i];t;t=t[i]){let e=te(t)&&!Ou(o,s,t,i);if(!ku(t)&&(!k(A=t)||!A.getAttribute("data-mce-bogus")||A.nextSibling)&&!Fu(t,e))return a}if(a===s||a.parentNode===s){t=a;break}a=a.parentNode}return t},Nu=e=>ku(e.parentNode)||ku(e),Ru=(e,t,o,r=!1)=>{let{startContainer:n,startOffset:a,endContainer:A,endOffset:i}=t;var s=o[0];return ee(n)&&n.hasChildNodes()&&(n=wi(n,a),te(n))&&(a=0),ee(A)&&A.hasChildNodes()&&(A=wi(A,t.collapsed?i:i-1),te(A))&&(i=A.data.length),n=Qu(e,n),A=Qu(e,A),Nu(n)&&(n=ku(n)?n:n.parentNode,n=t.collapsed?n.previousSibling||n:n.nextSibling||n,te(n))&&(a=t.collapsed?n.length:0),Nu(A)&&(A=ku(A)?A:A.parentNode,A=t.collapsed?A.nextSibling||A:A.previousSibling||A,te(A))&&(i=t.collapsed?0:A.length),t.collapsed&&(Mu(e,e.getRoot(),n,a,!0,r).each(({container:e,offset:t})=>{n=e,a=t}),Mu(e,e.getRoot(),A,i,!1,r).each(({container:e,offset:t})=>{A=e,i=t})),(Cu(s)||s.block_expand)&&(Cu(s)&&te(n)&&0!==a||(n=Lu(e,o,n,a,!0)),Cu(s)&&te(A)&&i!==A.data.length||(A=Lu(e,o,A,i,!1))),_u(s)&&(n=Hu(e,o,t,n,"previousSibling"),A=Hu(e,o,t,A,"nextSibling")),(Bu(s)||yu(s))&&(n=Du(e,o,n,"previousSibling"),A=Du(e,o,A,"nextSibling"),Bu(s))&&(e.isBlock(n)||(n=Lu(e,o,n,a,!0)),e.isBlock(A)||(A=Lu(e,o,A,i,!1))),ee(n)&&n.parentNode&&(a=e.nodeIndex(n),n=n.parentNode),ee(A)&&A.parentNode&&(i=e.nodeIndex(A)+1,A=A.parentNode),{startContainer:n,startOffset:a,endContainer:A,endOffset:i}},Pu=(o,e,A)=>{let t,r=e.startOffset,n=wi(e.startContainer,r),a=e.endOffset,i=wi(e.endContainer,a-1),s=e=>{var t=e[0],t=(te(t)&&t===n&&r>=t.data.length&&e.splice(0,1),e[e.length-1]);return 0===a&&0<e.length&&t===i&&te(t)&&e.splice(e.length-1,1),e},l=(e,t,o)=>{for(var r=[];e&&e!==o;e=e[t])r.push(e);return r},d=(e,t)=>o.getParent(e,e=>e.parentNode===t,t),c=(r,e,n)=>{var a=n?"nextSibling":"previousSibling";for(let t=r,o=void t.parentNode;t&&t!==e;t=o){o=t.parentNode;let e=l(t===r?t:t[a],a);e.length&&(n||e.reverse(),A(s(e)))}};var u;return n===i?A(s([n])):(e=null!=(t=o.findCommonAncestor(n,i))?t:o.getRoot(),o.isChildOf(n,i)?c(n,e,!0):o.isChildOf(i,n)?c(i,e):(u=d(n,e)||n,e=d(i,e)||i,c(n,u,!0),(u=l(u===n?u:u.nextSibling,"nextSibling",e===i?e.nextSibling:e)).length&&A(s(u)),void c(i,e)))},Vu=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],zu=(t,e,o,r,n,a)=>{let{uid:A=e,...i}=o;Bo(t,jA()),lo(t,""+XA(),A),lo(t,""+WA(),r);var s,{attributes:o={},classes:r=[]}=n(A,i);if(co(t,o),s=t,e=r,j(e,e=>{Bo(s,e)}),a){0<r.length&&lo(t,""+JA(),r.join(","));let e=De(o);0<e.length&&lo(t,""+qA(),e.join(","))}},Ku=(e,t,o,r,n)=>{e=Fo("span",e);return zu(e,t,o,r,n,!1),e},Zu=(e,t,a,A,i,s)=>{let l=[],d=Ku(e.getDoc(),a,s,A,i),c=KA(),u=()=>{c.clear()},g=e=>{j(e,o)},o=t=>{switch(o=e,r=t,n=Y(t),Lo(r).fold(()=>"skipping",e=>{return"br"===n||(t=r,no(t)&&yn(t)===Pn)?"valid":(t=r,ro(t)&&_o(t,jA())?"existing":Cc(r.dom)?"caret":G(Vu,e=>Io(r,e))?"valid-block":uu(o,"span",n)&&uu(o,Y(e),"span")?"valid":"invalid-child");var t})){case"invalid-child":{u();let e=Zo(t);g(e),u();break}case"valid-block":u(),zu(t,a,s,A,i,!0);break;case"valid":{let e=c.get().getOrThunk(()=>{var e=ii(d);return l.push(e),c.set(e),e});Fr(t,e);break}}var o,r,n};return Pu(e.dom,t,e=>{u();e=f(e,J),g(e)}),l},Gu=r=>{let n=(()=>{let o={};return{register:(e,t)=>{o[e]={name:e,settings:t}},lookup:e=>x(o,e).map(e=>e.settings),getNames:()=>De(o)}})();{var e=r,a=n;let o=WA();e.serializer.addTempAttr(YA()),e.serializer.addAttributeFilter(o,e=>{for(let r of e)t=r,Q.from(t.attr(o)).bind(a.lookup).each(e=>{var t,o;!1===e.persistent&&("span"===r.name?r.unwrap():((t=r).attr(XA(),null),t.attr(WA(),null),t.attr(YA(),null),e=Q.from(t.attr(qA())).map(e=>e.split(",")).getOr([]),o=Q.from(t.attr(JA())).map(e=>e.split(",")).getOr([]),j(e,e=>t.attr(e,null)),e=null!=(e=null==(e=t.attr("class"))?void 0:e.split(" "))?e:[],e=Ee(e,[jA()].concat(o)),t.attr("class",0<e.length?e.join(" "):null),t.attr(JA(),null),t.attr(qA(),null)))});var t})}let o=((r,t)=>{let n=OA({}),a=()=>({listeners:[],previous:KA()}),s=(e,t)=>{A(e,e=>(t(e),e))},A=(e,t)=>{var o=n.get(),t=t(x(o,e).getOrThunk(a));o[e]=t,n.set(o)},l=(e,t)=>{j(oi(r,e),e=>{t?lo(e,YA(),"true"):po(e,YA())})},e=GA(()=>{var e=Se(t.getNames());j(e,o=>{A(o,A=>{let i=A.previous.get();return ei(r,Q.some(o)).fold(()=>{i.each(e=>{var t;t=o,s(t,e=>{j(e.listeners,e=>e(!1,t))}),A.previous.clear(),l(e,!1)})},({uid:e,name:t,elements:o})=>{var r,n,a;jt(i,e)||(i.each(e=>l(e,!1)),r=t,n=e,a=o,s(r,e=>{j(e.listeners,e=>e(!0,r,{uid:n,nodes:f(a,e=>e.dom)}))}),A.previous.set(e),l(e,!0))}),{previous:A.previous,listeners:A.listeners}})})},30);return r.on("remove",()=>{e.cancel()}),r.on("NodeChange",()=>{e.throttle()}),{addListener:(e,t)=>{A(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}})(r,n),A=io("span"),i=e=>{j(e,e=>{var t,o,r;A(e)?Ur(e):(t=e,Co(t,jA()),po(t,""+XA()),po(t,""+WA()),po(t,""+YA()),e=go(t,""+qA()).map(e=>e.split(",")).getOr([]),r=go(t,""+JA()).map(e=>e.split(",")).getOr([]),j(e,e=>po(t,e)),o=t,j(r,e=>{Co(o,e)}),po(t,""+JA()),po(t,""+qA()))})};return{register:(e,t)=>{n.register(e,t)},annotate:(t,o)=>{n.lookup(t).each(e=>{var i,s,l,d;s=t,l=e,d=o,(i=r).undoManager.transact(()=>{let t=i.selection,e=t.getRng(),o=0<Yc(i).length,r=ai("mce-annotation");if(e.collapsed&&!o&&(n=i,a=e,A=Ru(n.dom,a,[{inline:"span"}]),a.setStart(A.startContainer,A.startOffset),a.setEnd(A.endContainer,A.endOffset),n.selection.setRng(a)),t.getRng().collapsed&&!o){let e=Ku(i.getDoc(),r,d,s,l.decorate);Mr(e,wn),t.getRng().insertNode(e.dom),t.select(e.dom)}else nu(t,!1,()=>{ru(i,e=>{Zu(i,e,r,s,l.decorate,d)})});var n,a,A})})},annotationChanged:(e,t)=>{o.addListener(e,t)},remove:e=>{ei(r,Q.some(e)).each(({elements:e})=>{var t=r.selection.getBookmark();i(e),r.selection.moveToBookmark(t)})},removeAll:e=>{var t=r.selection.getBookmark();W(ri(r,e),(e,t)=>{i(e)}),r.selection.moveToBookmark(t)},getAll:e=>{e=ri(r,e);return Le(e,e=>f(e,e=>e.dom))}}},ju=e=>({getBookmark:w(Hc,e),moveToBookmark:w(Dc,e)}),Wu=(ju.isBookmarkNode=Oc,(t,o,e)=>!e.collapsed&&G(e.getClientRects(),e=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom)),Xu=(e,t,o)=>{e.dispatch(t,o)},Yu=(e,t,o,r)=>{e.dispatch("FormatApply",{format:t,node:o,vars:r})},Ju=(e,t,o,r)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:r})},qu=(e,t)=>e.dispatch("SetContent",t),$u=(e,t)=>e.dispatch("GetContent",t),eg=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),N={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||N.metaKeyPressed(e),metaKeyPressed:e=>L.os.isMacOS()||L.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},tg="data-mce-selected",og=Math.abs,rg=Math.round,ng={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ag=(r,s)=>{let l=s.dom,d=s.getDoc(),c=document,u=s.getBody(),g,m,p,h,f,b,v,w,x,B,a,y,C,_,k,A=e=>P(e)&&(cn(e)||l.is(e,"figure.image")),E=e=>pn(e)||l.hasClass(e,"mce-preview-object"),e=e=>{var t,o,r,n=e.target;t=e,o=s.selection.getRng(),("longpress"===(r=t).type||0===r.type.indexOf("touch")?(r=t.touches[0],!A(t.target)||Wu(r.clientX,r.clientY,o)):!A(t.target)||Wu(t.clientX,t.clientY,o))||e.isDefaultPrevented()||s.selection.select(n)},F=e=>l.hasClass(e,"mce-preview-object")&&P(e.firstElementChild)?[e,e.firstElementChild]:l.is(e,"figure.image")?[e.querySelector("img")]:[e],S=e=>{var t=rl(s);return!!t&&"false"!==e.getAttribute("data-mce-resize")&&e!==s.getBody()&&(l.hasClass(e,"mce-preview-object")&&P(e.firstElementChild)?Io(J(e.firstElementChild),t):Io(J(e),t))},i=(e,t,o)=>{P(o)&&(e=F(e),j(e,e=>{e.style[t]||!s.schema.isValid(e.nodeName.toLowerCase(),t)?l.setStyle(e,t,o):l.setAttrib(e,t,""+o)}))},Q=(e,t,o)=>{i(e,"width",t),i(e,"height",o)},U=e=>{var t,o,r=e.screenX-b,n=e.screenY-v;y=r*h[2]+w,C=n*h[3]+x,y=y<5?5:y,C=C<5?5:C,((A(g)||E(g))&&!1!==nl(s)?!N.modifierPressed(e):N.modifierPressed(e))&&(og(r)>og(n)?(C=rg(y*B),y=rg(C/B)):(y=rg(C/B),C=rg(y*B))),Q(m,y,C),e=0<(e=h.startPos.x+r)?e:0,t=0<(t=h.startPos.y+n)?t:0,l.setStyles(p,{left:e,top:t,display:"block"}),p.innerHTML=y+" &times; "+C,h[2]<0&&m.clientWidth<=y&&l.setStyle(m,"left",void 0+(w-y)),h[3]<0&&m.clientHeight<=C&&l.setStyle(m,"top",void 0+(x-C)),(r=u.scrollWidth-_)+(n=u.scrollHeight-k)!=0&&l.setStyles(p,{left:e-r,top:t-n}),a||(e=s,r=g,t=w,n=x,o="corner-"+h.name,e.dispatch("ObjectResizeStart",{target:r,width:t,height:n,origin:o}),a=!0)},I=()=>{var e,t,o,r,n=a;a=!1,n&&(i(g,"width",y),i(g,"height",C)),l.unbind(d,"mousemove",U),l.unbind(d,"mouseup",I),c!==d&&(l.unbind(c,"mousemove",U),l.unbind(c,"mouseup",I)),l.remove(m),l.remove(p),l.remove(f),T(g),n&&(n=s,e=g,t=y,o=C,r="corner-"+h.name,n.dispatch("ObjectResized",{target:e,width:t,height:o,origin:r}),l.setAttrib(g,"style",l.getAttrib(g,"style"))),s.nodeChanged()},T=e=>{D();let t=l.getPos(e,u),n=t.x,a=t.y,o=e.getBoundingClientRect(),A=o.width||o.right-o.left,i=o.height||o.bottom-o.top;g!==e&&(M(),g=e,y=C=0);var r=s.dispatch("ObjectSelected",{target:e});S(e)&&!r.isDefaultPrevented()?W(ng,(o,r)=>{var e=l.get("mceResizeHandle"+r);e&&l.remove(e),e=l.add(u,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),l.bind(e,"mousedown",e=>{var t;e.stopImmediatePropagation(),e.preventDefault(),e=e,t=F(g)[0],b=e.screenX,v=e.screenY,w=t.clientWidth,x=t.clientHeight,B=x/w,(h=o).name=r,h.startPos={x:A*o[0]+n,y:i*o[1]+a},_=u.scrollWidth,k=u.scrollHeight,f=l.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),l.setStyles(f,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),m=E(e=g)?l.create("img",{src:L.transparentSrc}):e.cloneNode(!0),l.addClass(m,"mce-clonedresizable"),l.setAttrib(m,"data-mce-bogus","all"),m.contentEditable="false",l.setStyles(m,{left:n,top:a,margin:0}),Q(m,A,i),m.removeAttribute(tg),u.appendChild(m),l.bind(d,"mousemove",U),l.bind(d,"mouseup",I),c!==d&&(l.bind(c,"mousemove",U),l.bind(c,"mouseup",I)),p=l.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},w+" &times; "+x)}),o.elm=e,l.setStyles(e,{left:A*o[0]+n-e.offsetWidth/2,top:i*o[1]+a-e.offsetHeight/2})}):M(!1)},n=ZA(T,0),M=(e=!0)=>{n.cancel(),D(),g&&e&&g.removeAttribute(tg),W(ng,(e,t)=>{t=l.get("mceResizeHandle"+t);t&&(l.unbind(t),l.remove(t))})},H=(e,t)=>l.isChildOf(e,t),t=t=>{if(!(a||s.removed||s.composing)){var t="mousedown"===t.type?t.target:r.getNode(),t=gr(J(t),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(e=>e.dom).filter(e=>l.isEditable(e.parentElement)).getOrUndefined(),o=P(t)?l.getAttrib(t,tg,"1"):"1";if(j(l.select(`img[${tg}],hr[${tg}]`),e=>{e.removeAttribute(tg)}),P(t)&&H(t,u)&&s.hasFocus()){O();let e=r.getStart(!0);if(H(e,t)&&H(r.getEnd(!0),t))return l.setAttrib(t,tg,o),void n.throttle(t)}M()}},D=()=>{W(ng,e=>{e.elm&&(l.unbind(e.elm),delete e.elm)})},O=()=>{try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return s.on("init",()=>{O(),s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",t),s.on("keyup compositionend",e=>{g&&"TABLE"===g.nodeName&&t(e)}),s.on("hide blur",M),s.on("contextmenu longpress",e,!0)}),s.on("remove",D),{isResizable:S,showResizeRect:T,hideResizeRect:M,updateResizeRect:t,destroy:()=>{n.cancel(),g=m=f=null}}},Ag=(e,t,o)=>{var r,e=e.document.createRange(),n=e;return t.fold(e=>{n.setStartBefore(e.dom)},(e,t)=>{n.setStart(e.dom,t)},e=>{n.setStartAfter(e.dom)}),r=e,o.fold(e=>{r.setEndBefore(e.dom)},(e,t)=>{r.setEnd(e.dom,t)},e=>{r.setEndAfter(e.dom)}),e},ig=(e,t,o,r,n)=>{e=e.document.createRange();return e.setStart(t.dom,o),e.setEnd(r.dom,n),e},sg=ds([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),lg=(e,t,o)=>t(J(o.startContainer),o.startOffset,J(o.endContainer),o.endOffset),dg=(sg.ltr,sg,(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})),cg=document.caretPositionFromPoint?(o,e,t)=>{var r,n;return Q.from(null==(n=(r=o.dom).caretPositionFromPoint)?void 0:n.call(r,e,t)).bind(e=>{var t;return null===e.offsetNode?Q.none():((t=o.dom.createRange()).setStart(e.offsetNode,e.offset),t.collapse(),Q.some(t))})}:document.caretRangeFromPoint?(e,t,o)=>{var r;return Q.from(null==(r=(e=e.dom).caretRangeFromPoint)?void 0:r.call(e,t,o))}:Q.none,ug=ds([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),gg={before:ug.before,on:ug.on,after:ug.after,cata:(e,t,o,r)=>e.fold(t,o,r),getStart:e=>e.fold(O,O,O)},mg=ds([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pg={domRange:mg.domRange,relative:mg.relative,exact:mg.exact,exactFromRange:e=>mg.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{e=e.match({domRange:e=>J(e.startContainer),relative:(e,t)=>gg.getStart(e),exact:(e,t,o,r)=>e});return Oo(e)},range:dg},hg=(e,t)=>{var o=Y(e);return"input"===o?gg.after(e):K(["br","img"],o)?0===t?gg.before(e):gg.after(e):gg.on(e,t)},fg=(e,t)=>{e=e.fold(gg.before,hg,gg.after),t=t.fold(gg.before,hg,gg.after);return pg.relative(e,t)},bg=(e,t,o,r)=>{e=hg(e,t),t=hg(o,r);return pg.relative(e,t)},vg=(e,t)=>{let o=(t||document).createDocumentFragment();return j(e,e=>{o.appendChild(e.dom)}),J(o)},wg=e=>{let n=pg.getWin(e).dom,t=(e,t,o,r)=>ig(n,e,t,o,r),o=e.match({domRange:e=>{var t=J(e.startContainer),o=J(e.endContainer);return bg(t,e.startOffset,o,e.endOffset)},relative:fg,exact:bg});return((t,o)=>{n=t;var n,t=o.match({domRange:e=>({ltr:Z(e),rtl:Q.none}),relative:(e,t)=>({ltr:tt(()=>Ag(n,e,t)),rtl:tt(()=>Q.some(Ag(n,t,e)))}),exact:(e,t,o,r)=>({ltr:tt(()=>ig(n,e,t,o,r)),rtl:tt(()=>Q.some(ig(n,o,r,e,t)))})});{let e=(o=t).ltr();return e.collapsed?o.rtl().filter(e=>!1===e.collapsed).map(e=>sg.rtl(J(e.endContainer),e.endOffset,J(e.startContainer),e.startOffset)).getOrThunk(()=>lg(0,sg.ltr,e)):lg(0,sg.ltr,e)}})(n,o).match({ltr:t,rtl:t})},xg=(e,t,o)=>{return r=Oo(J(o)).dom,e=e,t=t,r=J(r.document),cg(r,e,t).map(e=>dg(J(e.startContainer),e.startOffset,J(e.endContainer),e.endOffset)).map(e=>{var t=o.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined();var r},Bg=(e,t)=>P(e)&&P(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,yg=(r,e,t)=>null!==((e,t)=>{let o=r;for(;o&&o!==e;){if(t(o))return o;o=o.parentNode}return null})(e,t),Cg=(e,t,o)=>yg(e,t,e=>e.nodeName===o),_g=(e,t)=>Wn(e)&&!yg(e,t,Cc),kg=(e,t,o)=>{var r=t.parentNode;if(r)for(var n,a=new Wr(t,e.getParent(r,e.isBlock)||e.getRoot());n=a[o?"prev":"next"]();)if(k(n))return!0;return!1},Eg=(e,t,o,r,n)=>{var a=e.getRoot(),A=e.schema.getNonEmptyElements(),i=n.parentNode;let s,l;if(!i)return Q.none();var d=e.getParent(i,e.isBlock)||a;if(r&&k(n)&&t&&e.isEmpty(d))return Q.some(M(i,e.nodeIndex(n)));for(var c=new Wr(n,d);l=c[r?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||_g(l,a))return Q.none();if(te(l)&&0<l.data.length)return Cg(l,a,"A")?Q.none():Q.some(M(l,r?l.data.length:0));if(e.isBlock(l)||A[l.nodeName.toLowerCase()])return Q.none();s=l}return!sn(s)&&o&&s?Q.some(M(s,0)):Q.none()},Fg=(t,e,o,r)=>{var n=t.getRoot();let a,A=!1,i=o?r.startContainer:r.endContainer,s=o?r.startOffset:r.endOffset;var r=ee(i)&&s===i.childNodes.length,l=t.schema.getNonEmptyElements();let d=o;if(Wn(i))return Q.none();if(ee(i)&&s>i.childNodes.length-1&&(d=!1),ln(i)&&(i=n,s=0),i===n){if(d&&(a=i.childNodes[0<s?s-1:0])){if(Wn(a))return Q.none();if(l[a.nodeName]||on(a))return Q.none()}if(i.hasChildNodes()){if(s=Math.min(!d&&0<s?s-1:s,i.childNodes.length-1),i=i.childNodes[s],s=te(i)&&r?i.data.length:0,!e&&i===n.lastChild&&on(i))return Q.none();if((e=>{let t=i;for(;t&&t!==e;){if(B(t))return!0;t=t.parentNode}return!1})(n)||Wn(i))return Q.none();if(i.hasChildNodes()&&!on(i)){a=i;let e=new Wr(i,n);do{if(B(a)||Wn(a)){A=!1;break}if(te(a)&&0<a.data.length){s=d?0:a.data.length,i=a,A=!0;break}if(l[a.nodeName.toLowerCase()]&&!mn(a)){s=t.nodeIndex(a),i=a.parentNode,d||s++,A=!0;break}}while(a=d?e.next():e.prev())}}}return e&&(te(i)&&0===s&&Eg(t,r,e,!0,i).each(e=>{i=e.container(),s=e.offset(),A=!0}),ee(i))&&((a=(a=i.childNodes[s])||i.childNodes[s-1])&&k(a)&&"A"!==(null==(o=a.previousSibling)?void 0:o.nodeName)&&!kg(t,a,!1)&&!kg(t,a,!0)&&Eg(t,r,e,!0,a).each(e=>{i=e.container(),s=e.offset(),A=!0})),d&&!e&&te(i)&&s===i.data.length&&Eg(t,r,e,!1,i).each(e=>{i=e.container(),s=e.offset(),A=!0}),A&&i?Q.some(M(i,s)):Q.none()},Sg=(e,t)=>{let o=t.collapsed,r=t.cloneRange(),n=M.fromRangeStart(t);return Fg(e,o,!0,r).each(e=>{o&&M.isAbove(n,e)||r.setStart(e.container(),e.offset())}),o||Fg(e,o,!1,r).each(e=>{r.setEnd(e.container(),e.offset())}),o&&r.collapse(!0),Bg(t,r)?Q.none():Q.some(r)},Qg=(e,t)=>e.splitText(t),Ug=e=>{let t=e.startContainer,o=e.startOffset,r=e.endContainer,n=e.endOffset;if(t===r&&te(t)){if(0<o&&o<t.data.length)if(r=Qg(t,o),t=r.previousSibling,n>o){n-=o;let e=Qg(r,n).previousSibling;t=r=e,n=e.data.length,o=0}else n=0}else if(te(t)&&0<o&&o<t.data.length&&(t=Qg(t,o),o=0),te(r)&&0<n&&n<r.data.length){let e=Qg(r,n).previousSibling;r=e,n=e.data.length}return{startContainer:t,startOffset:o,endContainer:r,endOffset:n}},Ig=r=>({walk:(e,t)=>Pu(r,e,t),split:Ug,expand:(o,e={type:"word"})=>{if("word"!==e.type)return o;{let e=Ru(r,o,[{inline:"span"}]),t=r.createRng();return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),t}},normalize:t=>Sg(r,t).fold(g,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))}),Tg=(Ig.compareRanges=Bg,Ig.getCaretRangeFromPoint=xg,Ig.getSelectedNode=vi,Ig.getNode=wi,(n=>{let e=t=>{r=(o=t).dom;let e=nr(o)?r.getBoundingClientRect().height:r.offsetHeight;var o,r;if(e<=0||null===e){let e=wr(t,n);return parseFloat(e)||0}return e},r=(o,e)=>ve(e,(e,t)=>{t=wr(o,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0);return{set:(e,t)=>{if(!S(t)&&!t.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+t);e=e.dom;hr(e)&&(e.style[n]=t+"px")},get:e,getOuter:e,aggregate:r,max:(e,t,o)=>{e=r(e,o);return e<t?t-e:0}}})("height")),Mg=()=>J(document),Hg=(o,e)=>o.view(e).fold(Z([]),e=>{var t=o.owner(e),t=Hg(o,t);return[e].concat(t)});var Dg=Object.freeze({__proto__:null,view:e=>(e.dom===document?Q.none():Q.from(null==(e=e.dom.defaultView)?void 0:e.frameElement)).map(J),owner:e=>Do(e)});let Og=e=>"textarea"===Y(e),Lg=(e,t)=>{a=(o=e).dom.ownerDocument,A=a.body,i=a.defaultView,a=a.documentElement;var o,r,n,a,A=A===o.dom?Lr(A.offsetLeft,A.offsetTop):(r=Nr(null==i?void 0:i.pageYOffset,a.scrollTop),i=Nr(null==i?void 0:i.pageXOffset,a.scrollLeft),n=Nr(a.clientTop,A.clientTop),a=Nr(a.clientLeft,A.clientLeft),Rr(o).translate(i-a,r-n)),i=(o=e,Tg.get(o));return{element:e,bottom:A.top+i,height:i,pos:A,cleanup:t}},Ng=(o,r,n,a)=>{zg(o,(e,t)=>Pg(o,r,n,a),n)},Rg=(e,t,o,r,n)=>{var a={elm:r.element.dom,alignToTop:n};e.dispatch("ScrollIntoView",a).isDefaultPrevented()||(o(t,Pr(t).top,r,n),e.dispatch("AfterScrollIntoView",a))},Pg=(e,t,o,r)=>{var n=J(e.getBody()),a=J(e.getDoc()),n=(n.dom.offsetWidth,((e,t)=>{e=e,t=t;let o=0===(n=Zo(e)).length||Og(e)?{element:e,offset:t}:t<n.length&&!Og(n[t])?{element:n[t],offset:0}:(n=n[n.length-1],Og(n)?{element:e,offset:t}:"img"===Y(n)?{element:n,offset:1}:no(n)?{element:n,offset:yn(n).length}:{element:n,offset:Zo(n).length}),r=Eo('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');var n;return _r(o.element,r),Lg(r,()=>$(r))})(J(o.startContainer),o.startOffset));Rg(e,a,t,n,r),n.cleanup()},Vg=(e,t,o,r)=>{var n=J(e.getDoc());Rg(e,n,o,(e=t,Lg(J(e),z)),r)},zg=(e,t,o)=>{var r=o.startContainer,n=o.startOffset,a=o.endContainer,A=o.endOffset,t=(t(J(r),J(a)),e.dom.createRng());t.setStart(r,n),t.setEnd(a,A),e.selection.setRng(o)},Kg=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),Zg=(e,t,o,r)=>{var n=t+e,a=o.pos.top,A=o.bottom,t=t<=A-a;a<e?Kg(o,!1!==r):n<a?Kg(o,t?!1!==r:!0===r):n<A&&!t&&Kg(o,!0===r)},Gg=(e,t,o,r)=>{e=Oo(e).dom.innerHeight;Zg(t,e,o,r)},jg=(e,t,o,r)=>{var n,e=Oo(e).dom.innerHeight,a=(Zg(t,e,o,r),t=o.element,e=Mg(),e=Pr(e),n=(a=Dg).owner(t),a=Hg(a,n),n=Rr(t),t=be(a,(e,t)=>{t=Rr(t);return{left:e.left+t.left,top:e.top+t.top}},{left:0,top:0}),Lr(t.left+n.left+e.left,t.top+n.top+e.top)),t=Kr(window);a.top<t.y?Vr(o.element,!1!==r):a.top>t.bottom&&Vr(o.element,!0===r)},Wg=(e,t,o)=>Ng(e,Gg,t,o),Xg=(e,t,o)=>Vg(e,t,Gg,o),Yg=(e,t,o)=>Ng(e,jg,t,o),Jg=(e,t,o)=>Vg(e,t,jg,o),qg=(e,t,o)=>{(e.inline?Wg:Yg)(e,t,o)},$g=e=>e.dom.focus(),em=e=>{var t=$o(e).dom;return e.dom===t.activeElement},tm=(e=Mg())=>Q.from(e.dom.activeElement).map(J),om=(e,t)=>{t=no(t)?yn(t).length:Zo(t).length+1;return t<e?t:e<0?0:e},rm=e=>pg.range(e.start,om(e.soffset,e.start),e.finish,om(e.foffset,e.finish)),nm=(e,t)=>!Yr(t.dom)&&(Mo(e,t)||I(e,t)),am=t=>e=>nm(t,e.start)&&nm(t,e.finish),Am=e=>pg.range(J(e.startContainer),e.startOffset,J(e.endContainer),e.endOffset),im=e=>{var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),Q.some(t)}catch(e){return Q.none()}},sm=e=>{var t,o=e.inline||L.browser.isFirefox()?(t=J(e.getBody()),((o=Oo(t).dom.getSelection())&&0!==o.rangeCount?Q.from(o.getRangeAt(0)):Q.none()).map(Am).filter(am(t))):Q.none();e.bookmark=o.isSome()?o:e.bookmark},lm=o=>(o.bookmark||Q.none()).bind(e=>{return t=J(o.getBody()),e=e,Q.from(e).filter(am(t)).map(rm);var t}).bind(im),dm={isEditorUIElement:e=>{e=e.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},cm={setEditorTimeout:(e,t,o)=>(o=o,S(o)||(o=0),setTimeout(()=>{e.removed||t()},o)),setEditorInterval:(e,t,o)=>{o=o,S(o)||(o=0);let r=setInterval(()=>{e.removed?clearInterval(r):t()},o);return r}},um,gm=oe.DOM,mm=e=>{e=e.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},pm=(o,e)=>{let r=fl(o),t=gm.getParent(e,e=>{return t=e,ee(t)&&dm.isEditorUIElement(t)||!!r&&o.dom.is(e,r);var t});return null!==t},hm=e=>{try{var t=$o(J(e.getElement()));return tm(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}},fm=(o,e)=>{let t=e.editor;{var A=t;let a=ZA(()=>{sm(A)},0);A.on("init",()=>{if(A.inline){var t=A,o=a;let e=()=>{o.throttle()};oe.DOM.bind(document,"mouseup",e),t.on("remove",()=>{oe.DOM.unbind(document,"mouseup",e)})}var r,n;r=A,t=a,n=t,r.on("mouseup touchend",e=>{n.throttle()}),r.on("keyup NodeChange AfterSetSelectionRange",e=>{"nodechange"===e.type&&e.selectionChange||sm(r)})}),A.on("remove",()=>{a.cancel()})}let r=(e,t)=>{ad(e)&&!0!==e.inline&&t(J(e.getContainer()),"tox-edit-focus")};t.on("focusin",()=>{var e=o.focusedEditor;mm(hm(t))&&r(t,Bo),e!==t&&(e&&e.dispatch("blur",{focusedEditor:t}),o.setActive(t),(o.focusedEditor=t).dispatch("focus",{blurredEditor:e}),t.focus(!0))}),t.on("focusout",()=>{cm.setEditorTimeout(t,()=>{var e=o.focusedEditor;mm(hm(t))&&e===t||r(t,Co),pm(t,hm(t))||e!==t||(t.dispatch("blur",{focusedEditor:null}),o.focusedEditor=null)})}),um||(um=e=>{let t=o.activeEditor;t&&or(e).each(e=>{e.ownerDocument!==document||e===document.body||pm(t,e)||o.focusedEditor!==t||(t.dispatch("blur",{focusedEditor:null}),o.focusedEditor=null)})},gm.bind(document,"focusin",um))},bm=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&um&&(gm.unbind(document,"focusin",um),um=null)},vm=(t,e)=>{var o;o=J(t.getBody()),((e=e).collapsed?Q.from(wi(e.startContainer,e.startOffset)).map(J):Q.none()).bind(e=>Tn(e)?Q.some(e):Mo(o,e)?Q.none():Q.some(o)).bind(e=>xc(e.dom)).fold(()=>{t.selection.normalize()},e=>t.selection.setRng(e.toRange()))},wm=t=>{if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},xm=e=>{return e.inline?(o=e.getBody())&&(o=J(o),em(o)||(t=o,tm($o(t)).filter(e=>t.dom.contains(e.dom)).isSome())):(o=e,P(o.iframeElement)&&em(J(o.iframeElement)));var t,o},Bm=e=>e.editorManager.setActive(e),ym=(e,t,o,r,n)=>{let a=o?t.startContainer:t.endContainer,A=o?t.startOffset:t.endOffset;return Q.from(a).map(J).map(e=>r&&t.collapsed?e:Go(e,n(e,A)).getOr(e)).bind(e=>ro(e)?Q.some(e):Lo(e).filter(ro)).map(e=>e.dom).getOr(e)},Cm=(e,t,o=!1)=>ym(e,t,!0,o,(e,t)=>Math.min(Xo(e),t)),_m=(e,t,o=!1)=>ym(e,t,!1,o,(e,t)=>0<t?t-1:t),km=(e,t)=>{for(var o=e;e&&te(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||o},Em=(o,e)=>f(e,e=>{var t=o.dispatch("GetSelectionRange",{range:e});return t.range!==e?t.range:e}),Fm=["img","br"],Sm=e=>Cn(e).filter(e=>0!==e.trim().length||-1<e.indexOf(wn)).isSome()||K(Fm,Y(e))||(e=e,oo(e)&&"false"===uo(e,"contenteditable")),Qm="[data-mce-autocompleter]",Um=(o,e)=>{var t;Im(J(o.getBody())).isNone()&&(t=Eo('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',o.getDoc()),q(t,J(e.extractContents())),e.insertNode(t.dom),Lo(t).each(e=>e.dom.normalize()),((e,r)=>{let n=e=>{var t=Zo(e);for(let e=t.length-1;0<=e;e--){var o=t[e];if(r(o))return Q.some(o);o=n(o);if(o.isSome())return o}return Q.none()};return n(e)})(t,Sm).map(e=>{var t;o.selection.setCursorLocation(e.dom,(t=e,"img"===Y(t)?1:Cn(t).fold(()=>Zo(t).length,e=>e.length)))}))},Im=e=>ur(e,Qm),Tm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Mm=(o,r,e)=>{var t=e?"lastChild":"firstChild",n=e?"prev":"next";if(o[t])return o[t];if(o!==r){let t=o[n];if(t)return t;for(let e=o.parent;e&&e!==r;e=e.parent)if(t=e[n])return t}},Hm=e=>{var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Dm{static create(e,t){let o=new Dm(e,Tm[e]||1);return t&&W(t,(e,t)=>{o.attr(t,e)}),o}constructor(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}replace(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this}attr(t,o){let r=this;if(!R(t))return P(t)&&W(t,(e,t)=>{r.attr(t,e)}),r;var n=r.attributes;if(n){if(void 0===o)return n.map[t];if(null===o){if(t in n.map){delete n.map[t];let e=n.length;for(;e--;)if(n[e].name===t)return n.splice(e,1),r}}else{if(t in n.map){let e=n.length;for(;e--;)if(n[e].name===t){n[e].value=o;break}}else n.push({name:t,value:o});n.map[t]=o}return r}}clone(){let e=this,t=new Dm(e.name,e.type),r=e.attributes;if(r){let o=[];o.map={};for(let e=0,t=r.length;e<t;e++){var n=r[e];"id"!==n.name&&(o[o.length]={name:n.name,value:n.value},o.map[n.name]=n.value)}t.attributes=o}return t.value=e.value,t}wrap(e){return this.parent&&(this.parent.insert(e,this),e.append(this)),this}unwrap(){for(let e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()}remove(){var e=this.parent,t=this.next,o=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):o&&(o.next=t),e.lastChild===this?(e.lastChild=o)&&(o.next=null):t&&(t.prev=o),this.parent=this.next=this.prev=null),this}append(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e}insert(e,t,o){e.parent&&e.remove();var r=t.parent||this;return o?(t===r.firstChild?r.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,(e.prev=t).next=e),e.parent=r,e}getAll(t){var o=[];for(let e=this.firstChild;e;e=Mm(e,this))e.name===t&&o.push(e);return o}children(){var t=[];for(let e=this.firstChild;e;e=e.next)t.push(e);return t}empty(){let o=this;if(o.firstChild){var r=[];for(let e=o.firstChild;e;e=Mm(e,o))r.push(e);let t=r.length;for(;t--;){let e=r[t];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return o.firstChild=o.lastChild=null,o}isEmpty(e,t={},o){var r,n;let a=this.firstChild;if(Hm(this))return!1;if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue;if(e[a.name])return!1;if(Hm(a))return!1}if(8===a.type)return!1;if(3===a.type&&(r=a,n=void 0,n=null!=(n=r.value)?n:"",!ma(n)||(r=r.parent)&&("span"!==r.name||r.attr("style"))&&/^[ ]+$/.test(n)))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&ma(null!=(r=a.value)?r:""))return!1;if(o&&o(a))return!1}while(a=Mm(a,this));return!0}walk(e){return Mm(this,null,e)}}let Om=(t,e,o=0)=>{var r=t.toLowerCase();if(-1!==r.indexOf("[if ",o)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(o))){let e=r.indexOf("[endif]",o);return r.indexOf(">",e)}if(e){let e=r.indexOf(">",o);return-1!==e?e:r.length}{let e=/--!?>/g;e.lastIndex=o;o=e.exec(t);return o?o.index+o[0].length:r.length}},Lm=(e,o,t)=>{var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,n=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,a=e.getVoidElements();let A=1,i=t;for(;0!==A;)for(r.lastIndex=i;;){let t=r.exec(o);if(null===t)return i;if("!"===t[1]){i=lt(t[2],"--")?Om(o,!1,t.index+3):Om(o,!0,t.index+1);break}{n.lastIndex=r.lastIndex;let e=n.exec(o);if(!H(e)&&e.index===r.lastIndex){"/"===t[1]?--A:X(a,t[2])||(A+=1),i=r.lastIndex+e[0].length;break}}}return i},Nm=(e,t)=>{var o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let n=((e,t)=>{e=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(e,"")})(e.getTempAttrs(),t);for(var a=r.getVoidElements();A=o.exec(n);){let e=o.lastIndex,t=A[0].length;var A=a[A[1]]?e:Lm(r,n,e);n=n.substring(0,e-t)+n.substring(A),o.lastIndex=e-t}return zn(n)},Rm=Nm,Pm=e=>{e=Gr(e,"[data-mce-bogus]");j(e,e=>{("all"===uo(e,"data-mce-bogus")?$:Sn(e)?(_r(e,So(vn)),$):Ur)(e)})},Vm=e=>{e=Gr(e,"input");j(e,e=>{po(e,"name")})},zm=(e,t,o)=>{var r,n,a="raw"===t.format?T.trim(Rm(e.serializer,o.innerHTML)):"text"===t.format?(r=o,n=(a=e).getDoc(),a=$o(J(a.getBody())),n=Fo("div",n),lo(n,"data-mce-bogus","all"),vr(n,{position:"fixed",left:"-9999999px",top:"0"}),Mr(n,r.innerHTML),Pm(n),Vm(n),r=a,a=Yo(r)?r:J(Do(r).dom.body),q(a,n),r=zn(n.dom.innerText),$(n),r):"tree"===t.format?e.serializer.serialize(o,t):((e,t)=>{e=Qs(e),e=new RegExp(`^(<${e}[^>]*>(&nbsp;|&#160;|\\s|ย|<br \\/>|)<\\/${e}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(e,"")})(e,e.serializer.serialize(o,t));return"text"!==t.format&&!Hn(J(o))&&R(a)?T.trim(a):a},Km=T.makeMap,Zm=e=>{let r=[],n=(e=e||{}).indent,a=Km(e.indent_before||""),A=Km(e.indent_after||""),i=rA.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,o,t)=>{if(n&&a[e]&&0<r.length){let e=r[r.length-1];0<e.length&&"\n"!==e&&r.push("\n")}if(r.push("<",e),o)for(let t=0,e=o.length;t<e;t++){let e=o[t];r.push(" ",e.name,'="',i(e.value,!0),'"')}if(r[r.length]=!t||s?">":" />",t&&n&&A[e]&&0<r.length){let e=r[r.length-1];0<e.length&&"\n"!==e&&r.push("\n")}},end:e=>{r.push("</",e,">"),n&&A[e]&&0<r.length&&0<(e=r[r.length-1]).length&&"\n"!==e&&r.push("\n")},text:(e,t)=>{0<e.length&&(r[r.length]=t?e:i(e))},cdata:e=>{r.push("<![CDATA[",e,"]]>")},comment:e=>{r.push("\x3c!--",e,"--\x3e")},pi:(e,t)=>{t?r.push("<?",e," ",i(t),"?>"):r.push("<?",e,"?>"),n&&r.push("\n")},doctype:e=>{r.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{r.length=0},getContent:()=>r.join("").replace(/\n$/,"")}},Gm=(o={},i=hA())=>{let s=Zm(o);return o.validate=!("validate"in o)||o.validate,{serialize:e=>{let r=o.validate,t={3:e=>{var t;s.text(null!=(t=e.value)?t:"",e.raw)},8:e=>{s.comment(null!=(e=e.value)?e:"")},7:e=>{s.pi(e.name,e.value)},10:e=>{s.doctype(null!=(e=e.value)?e:"")},4:e=>{s.cdata(null!=(e=e.value)?e:"")},11:e=>{let t=e;if(t=t.firstChild)for(;A(t),t=t.next;);}},A=(s.reset(),a=>{var o;let e=t[a.type];if(e)e(a);else{let t=a.name,e=t in i.getVoidElements(),n=a.attributes;if(r&&n&&1<n.length){let o=[],r=(o.map={},i.getElementRule(a.name));if(r){for(let e=0,t=r.attributesOrder.length;e<t;e++){let t=r.attributesOrder[e];if(t in n.map){let e=n.map[t];o.map[t]=e,o.push({name:t,value:e})}}for(let e=0,t=n.length;e<t;e++){let t=n[e].name;if(!(t in o.map)){let e=n.map[t];o.map[t]=e,o.push({name:t,value:e})}}n=o}}if(s.start(t,n,e),!e){let e=a.firstChild;if(e)for("pre"!==t&&"textarea"!==t||3!==e.type||"\n"!==(null==(o=e.value)?void 0:o[0])||s.text("\n",!0);A(e),e=e.next;);s.end(t)}}});return 1!==e.type||o.inner?3===e.type?t[3](e):t[11](e):A(e),s.getContent()}}},jm=new Set,Wm=(j(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{jm.add(e)}),["font","text-decoration","text-emphasis"]),Xm=(e,t)=>De(e.parseStyle(e.getAttrib(t,"style"))),Ym=(o,r,n)=>{let e=Xm(o,r),a=Xm(o,n),A=e=>{var t=null!=(t=o.getStyle(r,e))?t:"",e=null!=(e=o.getStyle(n,e))?e:"";return pt(t)&&pt(e)&&t!==e};return G(e,t=>{var e=e=>G(e,e=>e===t);if(e(a)||!e(Wm))return A(t);{let e=U(a,t=>G(Wm,e=>lt(t,e)));return G(e,A)}})},Jm=(o,r,n)=>Q.from(n.container()).filter(te).exists(e=>{var t=o?0:-1;return r(e.data.charAt(n.offset()+t))}),qm=w(Jm,!0,Nc),$m=w(Jm,!1,Nc),ep=e=>{e=e.container();return te(e)&&(0===e.data.length||Vn(e.data)&&ju.isBookmarkNode(e.parentNode))},tp=(t,o)=>e=>zd(t?0:-1,e).filter(o).isSome(),op=e=>cn(e)&&"block"===wr(J(e),"display"),rp=e=>B(e)&&(e=e,!(ee(e)&&"all"===e.getAttribute("data-mce-bogus"))),np=tp(!0,op),ap=tp(!1,op),Ap=tp(!0,pn),ip=tp(!1,pn),sp=tp(!0,on),lp=tp(!1,on),dp=tp(!0,rp),cp=tp(!1,rp),up=(e,t)=>{return e=e,o=t,r=g,Mo(o,e)?Ro(e,e=>r(e)||I(e,o)).slice(0,-1):[];var o,r},gp=(e,t)=>[e].concat(up(e,t)),mp=(e,t,o)=>fc(e,t,o,ep),pp=(e,t)=>xe(gp(J(t.container()),e),En),hp=(e,o,r)=>mp(e,o.dom,r).forall(t=>pp(o,r).fold(()=>!Vd(t,r,o.dom),e=>!Vd(t,r,o.dom)&&Mo(e,J(t.container())))),fp=(t,o,r)=>pp(o,r).fold(()=>mp(t,o.dom,r).forall(e=>!Vd(e,r,o.dom)),e=>mp(t,e.dom,r).isNone()),bp=w(fp,!1),vp=w(fp,!0),wp=w(hp,!1),xp=w(hp,!0),Bp=e=>qd(e).exists(Sn),yp=(e,t,o)=>{var r=U(gp(J(o.container()),t),En),r=Ue(r).getOr(t);return pc(e,r.dom,o).filter(Bp)},Cp=(e,t)=>qd(t).exists(Sn)||yp(!0,e,t).isSome(),_p=(e,t)=>{return o=t,Q.from(o.getNode(!0)).map(J).exists(Sn)||yp(!1,e,t).isSome();var o},kp=w(yp,!1),Ep=w(yp,!0),Fp=e=>M.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),Sp=(e,t)=>{t=U(gp(J(t.container()),e),En);return Ue(t).getOr(e)},Qp=(e,t)=>Fp(t)?$m(t):$m(t)||wc(Sp(e,t).dom,t).exists($m),Up=(e,t)=>Fp(t)?qm(t):qm(t)||vc(Sp(e,t).dom,t).exists(qm),Ip=e=>qd(e).bind(e=>dr(e,ro)).exists(e=>(e=wr(e,"white-space"),K(["pre","pre-wrap"],e))),Tp=(t,o)=>e=>(e=new Wr(e,t)[o](),P(e)&&B(e)&&Ud(e)),Mp=(e,t)=>{return!Ip(t)&&(n=o=e,a=r=t,wc(n.dom,a).isNone()||(n=o,a=r,vc(n.dom,a).isNone())||bp(o,r)||vp(o,r)||_p(o,r)||Cp(o,r)||Qp(e,t)||Up(e,t));var o,r,n,a},Hp=(e,t)=>{return!Ip(t)&&(bp(e,t)||wp(e,t)||_p(e,t)||Qp(e,t)||(e=e,t=t,o=wc(e.dom,t).getOr(t),e=Tp(e.dom,"prev"),t.isAtStart()&&(e(t.container())||e(o.container()))));var o},Dp=(e,t)=>{return!Ip(t)&&(vp(e,t)||xp(e,t)||Cp(e,t)||Up(e,t)||(e=e,t=t,o=vc(e.dom,t).getOr(t),e=Tp(e.dom,"next"),t.isAtEnd()&&(e(t.container())||e(o.container()))));var o},Op=(e,t)=>{return Hp(e,t)||Dp(e,(t=(e=t).container(),o=e.offset(),te(t)&&o<t.data.length?M(t,o+1):e));var o},Lp=(e,t)=>Lc(e.charAt(t)),Np=(e,t)=>Nc(e.charAt(t)),Rp=(e,t,o)=>{var r=t.data,n=M(t,0);return o||!Lp(r,0)||Op(e,n)?!!(o&&Np(r,0)&&Hp(e,n))&&(t.data=wn+r.slice(1),!0):(t.data=" "+r.slice(1),!0)},Pp=(e,t,o)=>{var r=t.data,n=M(t,r.length-1);return o||!Lp(r,r.length-1)||Op(e,n)?!!(o&&Np(r,r.length-1)&&Dp(e,n))&&(t.data=r.slice(0,-1)+wn,!0):(t.data=r.slice(0,-1)+" ",!0)},Vp=(e,t)=>{var o,r=t.container();return te(r)?(o=t.container(),te(o)&&st(o.data,wn)?(o=Rp(e,r,!1)||(e=>{let t=e.data,o=(()=>{let o=t.split("");return f(o,(e,t)=>Lc(e)&&0<t&&t<o.length-1&&Rc(o[t-1])&&Rc(o[t+1])?" ":e).join("")})();return o!==t&&(e.data=o,!0)})(r)||Pp(e,r,!1),Xt(o,t)):Op(e,t)?(o=Rp(e,r,!0)||Pp(e,r,!0),Xt(o,t)):Q.none()):Q.none()},zp=(e,t,o)=>{var r,n,a;0!==o&&(a=J(e),a=lr(a,En).getOr(a),r=e.data.slice(t,t+o),n=t+o>=e.data.length&&Dp(a,M(e,e.data.length)),a=0===t&&Hp(a,M(e,0)),e.replaceData(t,o,fa(r,4,a,n)))},Kp=(e,t)=>{var o=e.data.slice(t),o=o.length-gt(o).length;zp(e,t,o)},Zp=(e,t)=>{var o=e.data.slice(0,t),o=o.length-mt(o).length;zp(e,t-o,o)},Gp=(e,t,o,r=!0)=>{var n=mt(e.data).length,a=r?e:t,t=r?t:e;return r?a.appendData(t.data):a.insertData(0,t.data),$(J(t)),o&&Kp(a,n),a},jp=(e,t)=>{return e=e,r=(o=t).container(),n=o.offset(),!M.isTextPosition(o)&&r===e.parentNode&&n>M.before(e).offset()?M(t.container(),t.offset()-1):t;var o,r,n},Wp=e=>{return da(e.previousSibling)?Q.some((t=e.previousSibling,te(t)?M(t,t.data.length):M.after(t))):e.previousSibling?Bc(e.previousSibling):Q.none();var t},Xp=e=>{return da(e.nextSibling)?Q.some((t=e.nextSibling,te(t)?M(t,0):M.before(t))):e.nextSibling?xc(e.nextSibling):Q.none();var t},Yp=(e,t,o)=>{return t=t,r=o,(e?(A=t,i=r,Xp(i).orThunk(()=>Wp(i)).orThunk(()=>{return e=A,t=i,vc(e,M.after(t)).orThunk(()=>wc(e,M.before(t)));var e,t})):(n=t,a=r,Wp(a).orThunk(()=>Xp(a)).orThunk(()=>{return t=n,e=a,Q.from(e.previousSibling||e.parentNode).bind(e=>wc(t,M.before(e))).orThunk(()=>vc(t,M.after(e)));var t,e}))).map(w(jp,o));var r,n,a,A,i},Jp=(t,o,e)=>{e.fold(()=>{t.focus()},e=>{t.selection.setRng(e.toRange(),o)})},qp=(e,t)=>t&&X(e.schema.getBlockElements(),Y(t)),$p=e=>{var t;return E(e)?(t=Eo('<br data-mce-bogus="1">'),Qr(e),q(e,t),Q.some(M.before(t.dom))):Q.none()},eh=(t,o,e,r=!0)=>{var n,a=Yp(o,t.getBody(),e.dom),A=lr(e,w(qp,t),(n=t.getBody(),e=>e.dom===n));let i=((e,t,n)=>{let o=Po(e).filter(no),r=Vo(e).filter(no);return $(e),e=o,a=r,A=t,i=(e,t,o)=>{var e=e.dom,t=t.dom,r=e.data.length;return Gp(e,t,n),o.container()===t?M(e,r):o},(e.isSome()&&a.isSome()&&A.isSome()?Q.some(i(e.getOrDie(),a.getOrDie(),A.getOrDie())):Q.none()).orThunk(()=>(n&&(o.each(e=>Zp(e.dom,e.dom.length)),r.each(e=>Kp(e.dom,0))),t));var a,A,i})(e,a,(a=t,e=e,X(a.schema.getTextInlineElements(),Y(e))));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):A.bind($p).fold(()=>{r&&Jp(t,o,i)},e=>{r&&Jp(t,o,Q.some(e))})},th=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,oh=(e,t)=>Io(J(t),ol(e))&&!Ta(e.schema,t)&&e.dom.isEditable(t),rh=e=>"rtl"===oe.DOM.getStyle(e,"direction",!0)||(e=null!=(e=e.textContent)?e:"",th.test(e)),nh=(e,t,o)=>{e=e,t=t,o=o;o=U(oe.DOM.getParents(o.container(),"*",t),e);return Q.from(o[o.length-1])},ah=(e,t)=>{var o=t.container(),r=t.offset();return e?jn(o)?te(o.nextSibling)?M(o.nextSibling,0):M.after(o):Yn(t)?M(o,r+1):t:jn(o)?te(o.previousSibling)?M(o.previousSibling,o.previousSibling.data.length):M.before(o):Jn(t)?M(o,r-1):t},Ah=w(ah,!0),ih=w(ah,!1),sh=(e,t)=>{var o=e=>e.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},lh=e=>sh(e,"Delete"),dh=e=>Qn(e)||In(e),ch=(e,t)=>{return Mo(e,t)?dr(t,dh,(o=e,e=>jt(Lo(e),o,I))):Q.none();var o},uh=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},gh=(a,A,i)=>Wt(xc(i),Bc(i),(e,t)=>{let o=ah(!0,e),r=ah(!1,t),n=ah(!1,A);return a?vc(i,n).exists(e=>e.isEqual(r)&&A.isEqual(o)):wc(i,n).exists(e=>e.isEqual(o)&&A.isEqual(r))}).getOr(!0),mh=e=>{var t;return(8===eo(t=e)||"#comment"===Y(t)?Po:Wo)(e).bind(mh).orThunk(()=>Q.some(e))},ph=(e,t,o,r=!0)=>{var n;t.deleteContents();let a=mh(o).getOr(o),A=J(null!=(t=e.dom.getParent(a.dom,e.dom.isBlock))?t:o.dom);if(A.dom===e.getBody()?uh(e,r):E(A)&&(Nn(A),r)&&e.selection.setCursorLocation(A.dom,0),!I(o,A)){let e=jt(Lo(A),o)?[]:Lo(n=A).map(Zo).map(e=>U(e,e=>!I(n,e))).getOr([]);j(e.concat(Zo(o)),e=>{I(e,A)||Mo(e,A)||!E(e)||$(e)})}},hh=e=>Gr(e,"td,th"),fh=(e,t)=>({start:e,end:t}),bh=ds([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),vh=(e,t)=>gr(J(e),"td,th",t),wh=e=>!I(e.start,e.end),xh=(e,o)=>Jc(e.start,o).bind(t=>Jc(e.end,o).bind(e=>Xt(I(t,e),t))),Bh=e=>t=>xh(t,e).map(e=>({rng:t,table:e,cells:hh(e)})),yh=(t,e,n,a)=>{if(n.collapsed||!t.forall(wh))return Q.none();if(e.isSameTable){let e=t.bind(Bh(a));return Q.some({start:e,end:e})}{let e=vh(n.startContainer,a),t=vh(n.endContainer,a),o=e.bind((i=a,t=>Jc(t,i).bind(e=>Ie(hh(e)).map(e=>fh(t,e))))).bind(Bh(a)),r=t.bind((A=a,t=>Jc(t,A).bind(e=>Ue(hh(e)).map(e=>fh(e,t))))).bind(Bh(a));return Q.some({start:o,end:r})}var A,i},Ch=(e,t)=>Be(e,e=>I(e,t)),_h=o=>Wt(Ch(o.cells,o.rng.start),Ch(o.cells,o.rng.end),(e,t)=>o.cells.slice(e,t+1)),kh=(e,t)=>{let{startTable:o,endTable:r}=t,n=e.cloneRange();return o.each(e=>n.setStartAfter(e.dom)),r.each(e=>n.setEndBefore(e.dom)),n},Eh=(e,t)=>{r=e;var o,r,n,a,A,i,s,l,d,c,u,g,e=e=>I(r,e),m=(n=t,m=e,s=vh(n.startContainer,m),n=vh(n.endContainer,m),Wt(s,n,fh)),p=(o=e,p=(s=e=>Jc(J(e),o))((n=t).startContainer),s=s(n.endContainer),n=p.isSome(),i=s.isSome(),c=Wt(p,s,I).getOr(!1),{startTable:p,endTable:s,isStartInTable:n,isEndInTable:i,isSameTable:c,isMultiTable:!c&&n&&i});return u=t,g=e,m.exists(e=>{return t=e,o=g,!wh(t)&&xh(t,o).exists(e=>{e=e.dom.rows;return 1===e.length&&1===e[0].cells.length})&&eu(e.start,u);var t,o})?m.map(e=>bh.singleCellTable(t,e.start)):p.isMultiTable?(s=m,l=p,d=t,c=e,yh(s,l,d,c).bind(({start:e,end:t})=>{var o=e.bind(_h).getOr([]),t=t.bind(_h).getOr([]);if(0<o.length&&0<t.length){let e=kh(d,l);return Q.some(bh.multiTable(o,t,e))}return Q.none()})):(n=m,a=p,A=t,i=e,yh(n,a,A,i).bind(({start:e,end:t})=>e.or(t)).bind(e=>{var t=a.isSameTable,o=_h(e).getOr([]);if(t&&e.cells.length===o.length)return Q.some(bh.fullTable(e.table));if(0<o.length){if(t)return Q.some(bh.partialTable(o,Q.none()));{let e=kh(A,a);return Q.some(bh.partialTable(o,Q.some({...a,rng:e})))}}return Q.none()}))},Fh=e=>j(e,e=>{po(e,"contenteditable"),Nn(e)}),Sh=(e,t,o,r)=>{var n=o.cloneRange();r?(n.setStart(o.startContainer,o.startOffset),n.setEndAfter(t.dom.lastChild)):(n.setStartBefore(t.dom.firstChild),n.setEnd(o.endContainer,o.endOffset)),Th(e,n,t,!1).each(e=>e())},Qh=e=>{let t=Yc(e),o=J(e.selection.getNode());gn(o.dom)&&E(o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),1<t.length&&G(t,e=>I(e,o))&&lo(o,"data-mce-selected","1")},Uh=(i,s,t)=>Q.some(()=>{let A=i.selection.getRng(),e=t.bind(({rng:e,isStartInTable:t})=>{a=i,n=t?e.endContainer:e.startContainer;var o,r,n=Q.from(a.dom.getParent(n,a.dom.isBlock)).map(J),a=(e.deleteContents(),o=i,r=t,n.filter(E).each(e=>{r?$(e):(Nn(e),o.selection.setCursorLocation(e.dom,0))}),t?s[0]:s[s.length-1]);return Sh(i,a,A,t),E(a)?Q.none():Q.some(t?s.slice(1):s.slice(0,-1))}).getOr(s);Fh(e),Qh(i)}),Ih=(r,n,a,A)=>Q.some(()=>{var e=r.selection.getRng(),t=n[0],o=a[a.length-1],e=(Sh(r,t,e,!0),Sh(r,o,e,!1),E(t)?n:n.slice(1)),t=E(o)?a:a.slice(0,-1);Fh(e.concat(t)),A.deleteContents(),Qh(r)}),Th=(e,t,o,r=!0)=>Q.some(()=>{ph(e,t,o,r)}),Mh=(e,t)=>Q.some(()=>eh(e,!1,t)),Hh=(e,t)=>xe(gp(t,e),Mn),Dh=(e,t)=>xe(gp(t,e),io("caption")),Oh=(e,t)=>Q.some(()=>{Nn(t),e.selection.setCursorLocation(t.dom,0)}),Lh=(e,t)=>(e?sp:lp)(t),Nh=(a,A,e)=>{let i=J(a.getBody());return Dh(i,e).fold(()=>((a,A,i,e)=>{let s=M.fromRangeStart(a.selection.getRng());return Hh(i,e).bind(e=>{return E(e)?Oh(a,e):(t=a,o=i,r=A,n=e,e=s,hc(r,t.getBody(),e).bind(e=>Hh(o,J(e.getNode())).bind(e=>I(e,n)?Q.none():Q.some(z))));var t,o,r,n})})(a,A,i,e).orThunk(()=>{return Xt((e=a,t=A,o=M.fromRangeStart(e.selection.getRng()),Lh(t,o)||pc(t,e.getBody(),o).exists(e=>Lh(t,e))),z);var e,t,o}),e=>{return t=a,o=A,r=i,e=e,n=M.fromRangeStart(t.selection.getRng()),E(e)?Oh(t,e):(s=t,l=r,d=o,c=e,u=n,hc(d,s.getBody(),u).fold(()=>Q.some(z),e=>{return n=c,a=d,A=u,i=e,xc(n.dom).bind(t=>Bc(n.dom).map(e=>a?A.isEqual(t)&&i.isEqual(e):A.isEqual(e)&&i.isEqual(t))).getOr(!0)?(o=s,r=c,Oh(o,r)):(o=l,t=c,r=e,Dh(o,J(r.getNode())).fold(()=>Q.some(z),e=>Xt(!I(e,t),z)));var t,o,r,n,a,A,i}));var t,o,r,s,l,d,c,u,n})},Rh=(e,t)=>{var r,n,a,o,A=J(e.selection.getStart(!0)),i=Yc(e);return e.selection.isCollapsed()&&0===i.length?Nh(e,t,A):(t=e,e=A,A=i,i=J(t.getBody()),o=t.selection.getRng(),0!==A.length?Uh(t,A,Q.none()):(r=t,n=i,a=o,A=e,Dh(n,A).fold(()=>{return t=r,e=n,o=a,Eh(e,o).bind(e=>e.fold(w(Th,t),w(Mh,t),w(Uh,t),w(Ih,t)));var t,e,o},e=>{return t=r,e=e,Oh(t,e);var t})))},Ph=(e,t)=>{let o=t;for(;o&&o!==e;){if(un(o)||B(o))return o;o=o.parentNode}return null},Vh=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],zh=T.each,Kh=e=>{let n=e.dom,o=new Set(e.serializer.getTempAttrs()),a=t=>G(Vh,e=>lt(t,e))||o.has(t);return{compare:(e,t)=>{if(e.nodeName!==t.nodeName||e.nodeType!==t.nodeType)return!1;var o=t=>{let o={};return zh(n.getAttribs(t),e=>{e=e.nodeName.toLowerCase();"style"===e||a(e)||(o[e]=n.getAttrib(t,e))}),o},r=(e,t)=>{for(var o in e)if(X(e,o)){var r=t[o];if(F(r))return!1;if(e[o]!==r)return!1;delete t[o]}for(let e in t)if(X(t,e))return!1;return!0};if(ee(e)&&ee(t)){if(!r(o(e),o(t)))return!1;if(!r(n.parseStyle(n.getAttrib(e,"style")),n.parseStyle(n.getAttrib(t,"style"))))return!1}return!Oc(e)&&!Oc(t)},isAttributeInternal:a}},Zh=(o,r,n,a)=>{let A=n.name;for(let e=0,t=o.length;e<t;e++){var i=o[e];if(i.name===A){let e=a.nodes[A];e?e.nodes.push(n):a.nodes[A]={filter:i,nodes:[n]}}}if(n.attributes)for(let e=0,t=r.length;e<t;e++){let t=r[e],o=t.name;if(o in n.attributes.map){let e=a.attributes[o];e?e.nodes.push(n):a.attributes[o]={filter:t,nodes:[n]}}}},Gh=(e,t)=>{var o=(e,n)=>{W(e,o=>{let r=Te(o.nodes);j(o.filter.callbacks,e=>{for(let t=r.length-1;0<=t;t--){let e=r[t];(n?void 0!==e.attr(o.filter.name):e.name===o.filter.name)&&!ne(e.parent)||r.splice(t,1)}0<r.length&&e(r,o.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},jh=(e,t,o,r={})=>{e=((t,o,r)=>{let n={nodes:{},attributes:{}};if(r.firstChild){let e=r;for(;e=e.walk();)Zh(t,o,e,n)}return n})(e,t,o);Gh(e,r)},Wh=(e,t,o)=>{if(e.insert&&t(o)){let e=new Dm("br",1);e.attr("data-mce-bogus","1"),o.empty().append(e)}else o.empty().append(new Dm("#text",3)).value=wn},Xh=(e,t)=>{var o=null==e?void 0:e.firstChild;return P(o)&&o===e.lastChild&&o.name===t},Yh=(t,e,o,r)=>r.isEmpty(e,o,e=>!0===(null==(e=t.getElementRule(e.name))?void 0:e.paddEmpty)),Jh=e=>{let o;for(let t=e;t;t=t.parent){let e=t.attr("contenteditable");if("false"===e)break;"true"===e&&(o=t)}return Q.from(o)},qh=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{var r=e.children();for(let e of r)o&&!t.isValidChild(o.name,e.name)&&qh(e,t,o);e.unwrap()}},$h=(a,A,t,i=z)=>{let s=A.getTextBlockElements(),l=A.getNonEmptyElements(),d=A.getWhitespaceElements(),o=T.makeMap("tr,td,th,tbody,thead,tfoot,table"),c=new Set,u=e=>e!==t&&!o[e.name];for(let t=0;t<a.length;t++){let o=a[t],e,r,n;if(o.parent&&!c.has(o))if(s[o.name]&&"li"===o.parent.name){let e=o.next;for(;e&&s[e.name];)e.name="li",c.add(e),o.parent.insert(e,o.parent),e=e.next;o.unwrap()}else{var g=[o];for(e=o.parent;e&&!A.isValidChild(e.name,o.name)&&u(e);e=e.parent)g.push(e);if(e&&1<g.length)if(A.isValidChild(e.name,o.name)){g.reverse(),i(r=g[0].clone());let t=r;for(let e=0;e<g.length-1;e++){A.isValidChild(t.name,g[e].name)&&0<e?(i(n=g[e].clone()),t.append(n)):n=t;for(let t=g[e].firstChild;t&&t!==g[e+1];){let e=t.next;n.append(t),t=e}t=n}Yh(A,l,d,r)?e.insert(o,g[0],!0):(e.insert(r,g[0],!0),e.insert(o,r)),e=g[0],(Yh(A,l,d,e)||Xh(e,"br"))&&e.empty().remove()}else qh(o,A);else if(o.parent)if("li"===o.name){let e=o.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(o);continue}if((e=o.next)&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(o,e.firstChild,!0);continue}let t=new Dm("ul",1);i(t),o.wrap(t)}else if(A.isValidChild(o.parent.name,"div")&&A.isValidChild("div",o.name)){let e=new Dm("div",1);i(e),o.wrap(e)}else qh(o,A)}}},ef=(e,t,o=t.parent)=>!(!o||!e.children[t.name]||e.isValidChild(o.name,t.name))||!(!o||"a"!==t.name||!(()=>{let e=o;for(;e;){if("a"===e.name)return!0;e=e.parent}return!1})()),tf=e=>{if(e.collapsed)return e;{var s=e;let a=M.fromRangeStart(s),A=M.fromRangeEnd(s),i=s.commonAncestorContainer;return pc(!1,i,A).map(e=>{return!Vd(a,A,i)&&Vd(a,e,i)?(t=a.container(),o=a.offset(),r=e.container(),e=e.offset(),(n=document.createRange()).setStart(t,o),n.setEnd(r,e),n):s;var t,o,r,n}).getOr(s)}},of=(e,t)=>{let o=t.firstChild,r=t.lastChild;return o&&"meta"===o.name&&(o=o.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),t=e,e=r,n=t.getNonEmptyElements(),P(e)&&(e.isEmpty(n)||(n=e,t.getBlockElements()[n.name]&&(e=n,P(e.firstChild))&&e.firstChild===e.lastChild&&("br"===(e=n.firstChild).name||e.value===wn)))&&(r=null==r?void 0:r.prev),!(!o||o!==r||"ul"!==o.name&&"ol"!==o.name);var n},rf=e=>{return 0<e.length&&(!(t=e[e.length-1]).firstChild||P(null==(t=t)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&((t=t.firstChild).data===wn||k(t)))?e.slice(0,-1):e;var t},nf=(e,t)=>{t=e.getParent(t,e.isBlock);return t&&"LI"===t.nodeName?t:null},af=(e,t)=>{e=M.after(e),t=cc(t).prev(e);return t?t.toRange():null},Af=(o,r,n,a)=>{d=r,o=o.serialize(a),d=d.createFragment(o),o=d.firstChild,a=d.lastChild,o&&"META"===o.nodeName&&null!=(t=o.parentNode)&&t.removeChild(o),a&&"mce_marker"===a.id&&null!=(t=a.parentNode)&&t.removeChild(a);let e=d,A=nf(r,n.startContainer),i=rf((o=e.firstChild,U(null!=(t=null==o?void 0:o.childNodes)?t:[],e=>"LI"===e.nodeName)));var t,s,l,a=r.getRoot(),d=e=>{var t=M.fromRangeStart(n),o=cc(r.getRoot()),e=1===e?o.prev(t):o.next(t),o=null==e?void 0:e.getNode();return!o||nf(r,o)!==A};{if(A){if(d(1)){var c=A,o=i,u=a;let t=c.parentNode;return t&&T.each(o,e=>{t.insertBefore(e,c)}),o=c,o=M.before(o),(u=cc(u).next(o))?u.toRange():null}if(d(2))return o=A,u=i,d=a,r.insertAfter(u.reverse(),o),af(u[0],d);{var g=A;o=i,d=a,a=g,l=(s=n).cloneRange(),s=s.cloneRange(),l.setStartBefore(a),s.setEndAfter(a);let e=[l.cloneContents(),s.cloneContents()],t=g.parentNode;return t&&(t.insertBefore(e[0],g),T.each(o,e=>{t.insertBefore(e,g)}),t.insertBefore(e[1],g),t.removeChild(g)),af(o[o.length-1],d)}}return null}},sf=["pre"],lf=gn,df=(l,d,a)=>{let e,c,u=l.selection,g=l.dom,m=l.parser,o=a.merge,p=Gm({validate:!0},l.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',t=(-1===d.indexOf("{$caret}")&&(d+="{$caret}"),d=d.replace(/\{\$caret\}/,h),u.getRng()),r=t.startContainer,n=l.getBody();var A,i,s,f;r===n&&u.isCollapsed()&&g.isBlock(n.firstChild)&&(A=l,i=n.firstChild,P(i))&&!A.schema.getVoidElements()[i.nodeName]&&g.isEmpty(n.firstChild)&&((t=g.createRng()).setStart(n.firstChild,0),t.setEnd(n.firstChild,0),u.setRng(t)),u.isCollapsed()||(i=(A=l).dom,B=tf(A.selection.getRng()),A.selection.setRng(B),x=i.getParent(B.startContainer,lf),i=i,f=B,s=x,!!P(s)&&s===i.getParent(f.endContainer,lf)&&eu(J(s),f)?Th(A,B,J(x)):B.startContainer===B.endContainer&&B.endOffset-B.startOffset==1&&te(B.startContainer.childNodes[B.startOffset])?B.deleteContents():A.getDoc().execCommand("Delete",!1));let b=u.getNode(),v={context:b.nodeName.toLowerCase(),data:a.data,insert:!0},w=m.parse(d,v);if(!0===a.paste&&of(l.schema,w)&&(s=g,f=b,!!nf(s,f)))(t=Af(p,g,u.getRng(),w))&&u.setRng(t);else{!0===a.paste&&((r,e,n,a)=>{let A,i=e.firstChild,t=e.lastChild,o=i===("bookmark"===t.attr("data-mce-type")?t.prev:t),s=K(sf,i.name);if(o&&s){let e="false"!==i.attr("contenteditable"),t=(null==(A=r.getParent(n,r.isBlock))?void 0:A.nodeName.toLowerCase())===i.name,o=Q.from(Ph(a,n)).forall(un);return e&&t&&o}return!1})(g,w,b,l.getBody())&&null!=(e=w.firstChild)&&e.unwrap();{let e=w;for(;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}let t=w.lastChild;if(t&&"mce_marker"===t.attr("id")){let e=t;for(t=t.prev;t;t=t.walk(!0))if(3===t.type||!g.isBlock(t.name)){t.parent&&l.schema.isValidChild(t.parent.name,"span")&&t.parent.insert(e,t,"br"===t.name);break}}if(l._selectionOverrides.showBlockCaretContainer(b),v.invalid){l.selection.setContent(h);let e,t=u.getNode(),o=l.getBody();for(ln(t)?t=e=o:e=t;e&&e!==o;)e=(t=e).parentNode;d=t===o?o.innerHTML:g.getOuterHTML(t);let r=m.parse(d),n=(()=>{for(let e=r;e;e=e.walk())if("mce_marker"===e.attr("id"))return Q.some(e);return Q.none()})(),a=n.bind(Jh).getOr(r),A=(n.each(e=>e.replace(w)),w.children()),i=null!=(c=w.parent)?c:r,s=(w.unwrap(),U(A,e=>ef(l.schema,e,i)));$h(s,l.schema,a),jh(m.getNodeFilters(),m.getAttributeFilters(),r),d=p.serialize(r),t===o?g.setHTML(o,d):g.setOuterHTML(t,d)}else{d=p.serialize(w);{var x=l;var B=d;var a=b;if("all"===a.getAttribute("data-mce-bogus"))null!=(y=a.parentNode)&&y.insertBefore(x.dom.createFragment(B),a);else{let e=a.firstChild,t=a.lastChild;!e||e===t&&"BR"===e.nodeName?x.dom.setHTML(a,B):x.selection.setContent(B,{no_events:!0})}}}{var y=l;var C=o;let a=y.schema.getTextInlineElements(),A=y.dom;if(C){let r=y.getBody(),n=Kh(y);T.each(A.select("*[data-mce-fragment]"),t=>{if(P(a[t.nodeName.toLowerCase()])&&(e=A,o=t,_e(Xm(e,o),e=>(e=e,!jm.has(e)))))for(let e=t.parentElement;P(e)&&e!==r&&!Ym(A,t,e);e=e.parentElement)if(n.compare(e,t)){A.remove(t,!0);break}var e,o})}}{var _=l;a=g.get("mce_marker");let o,r,n,e;var C=_.dom,k=_.selection;if(a){k.scrollIntoView(a);var E=Ph(_.getBody(),a);if(E&&"false"===C.getContentEditable(E))C.remove(a),k.select(E);else{let t=C.createRng();E=a.previousSibling;if(te(E)){t.setStart(E,null!=(r=null==(o=E.nodeValue)?void 0:o.length)?r:0);let e=a.nextSibling;te(e)&&(E.appendData(e.data),null!=(n=e.parentNode))&&n.removeChild(e)}else t.setStartBefore(a),t.setEndBefore(a);E=C.getParent(a,C.isBlock);C.remove(a),E&&C.isEmpty(E)&&(Qr(J(E)),t.setStart(E,0),t.setEnd(E,0),lf(E)||E.getAttribute("data-mce-fragment")||!(e=(e=>{e=M.fromRangeStart(e);return null==(e=cc(_.getBody()).next(e))?void 0:e.toRange()})(t))?C.add(E,C.create("br",{"data-mce-bogus":"1"})):(t=e,C.remove(E))),k.setRng(t)}}}a=l.getBody(),T.each(a.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")}),C=g,E=u.getStart(),Q.from(C.getParent(E,"td,th")).map(J).each(Rn),k=l,j(Te(k.getBody().querySelectorAll("details")),e=>{e=U(Te(e.children),e=>"SUMMARY"===e.nodeName);1<e.length&&j(e.slice(1),e=>{e=J(e);Co(e,"mce-accordion-summary"),li(e,"p")})});var F=l.schema,S=l.getBody(),a=u.getStart();a=Ro(J(a),e=>I(e,J(S))),Qe(a,a.length-2).filter(ro).fold(()=>Fa(F,S),e=>Fa(F,e.dom))}return d},cf=e=>e instanceof Dm,uf=(e,t,o)=>{var r;e.dom.setHTML(e.getBody(),t),!0!==o&&(r=e,xm(r))&&xc(r.getBody()).each(e=>{var t=e.getNode(),t=on(t)?xc(t).getOr(e):e;r.selection.setRng(t.toRange())})},gf=(e,t)=>{return r=t,((t=(o=e).dom).parentNode?(t=J(t.parentNode),xe(t.dom.childNodes,e=>(e=J(e),!I(o,e)&&r(e))).map(J)):Q.none()).isSome();var o,r},mf=e=>V(e)?e:g,pf=(a,A,e)=>{let t=A(a),i=mf(e);return t.orThunk(()=>{if(i(a))return Q.none();{var e=a,r=A,t=i;let o=e.dom;for(var n=mf(t);o.parentNode;){o=o.parentNode;let e=J(o),t=r(e);if(t.isSome())return t;if(n(e))break}return Q.none()}})},hf=hu,ff=(t,o,e)=>{var r=t.formatter.get(e);if(r)for(let e=0;e<r.length;e++){var n=r[e];if(yu(n)&&!1===n.inherit&&t.dom.is(o,n.selector))return!0}return!1},bf=(t,e,o,r,n)=>{let a=t.dom.getRoot();return e!==a&&(e=t.dom.getParent(e,e=>!!ff(t,e,o)||e.parentNode===a||!!xf(t,e,o,r,!0)),!!xf(t,e,o,r,n))},vf=(e,t,o)=>!(!Cu(o)||!hf(t,o.inline))||!(!Bu(o)||!hf(t,o.block))||!!yu(o)&&ee(t)&&e.is(t,o.selector),wf=(t,o,r,e,n,a)=>{var A=r[e],i="attributes"===e;if(V(r.onmatch))return r.onmatch(o,r,e);if(A)if(je(A)){for(let e=0;e<A.length;e++)if(i?t.getAttrib(o,A[e]):bu(t,o,A[e]))return!0}else for(let e in A)if(X(A,e)){var s=i?t.getAttrib(o,e):bu(t,o,e),l=pu(A[e],a),d=ne(s)||ht(s);if(d&&ne(l))continue;if(n&&d&&!r.exact)return!1;if((!n||r.exact)&&!hf(s,fu(l,e)))return!1}return!0},xf=(o,r,e,n,t)=>{var a=o.formatter.get(e),A=o.dom;if(a&&ee(r))for(let e=0;e<a.length;e++){var i=a[e];if(vf(o.dom,r,i)&&wf(A,r,i,"attributes",t,n)&&wf(A,r,i,"styles",t,n)){let t=i.classes;if(t)for(let e=0;e<t.length;e++)if(!o.dom.hasClass(r,pu(t[e],n)))return;return i}}},Bf=(e,t,o,r,n)=>{var a;return r?bf(e,r,t,o,n):(r=e.selection.getNode(),!!bf(e,r,t,o,n)||!((a=e.selection.getStart())===r||!bf(e,a,t,o,n)))},yf=Pn,Cf=o=>0<(()=>{var e=[];let t=o;for(;t;){if(te(t)&&t.data!==yf||1<t.childNodes.length)return[];ee(t)&&e.push(t),t=t.firstChild}return e})().length,_f=e=>{if(e){var t=new Wr(e,e);for(let e=t.current();e;e=t.next())if(te(e))return e}return null},kf=e=>{var t=Fo("span");return co(t,{id:yc,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&q(t,So(yf)),t},Ef=(e,i,t=!0)=>{var s=e.dom,l=e.selection;if(Cf(i))eh(e,!1,J(i),t);else{let e=l.getRng(),t=s.getParent(i,s.isBlock),o=e.startContainer,r=e.startOffset,n=e.endContainer,a=e.endOffset,A=(e=>{e=_f(e);return e&&e.data.charAt(0)===yf&&e.deleteData(0,1),e})(i);s.remove(i,!0),o===A&&0<r&&e.setStart(A,r-1),n===A&&0<a&&e.setEnd(A,a-1),t&&s.isEmpty(t)&&Nn(J(t)),l.setRng(e)}},Ff=(e,t,o=!0)=>{var r=e.dom,n=e.selection;if(t)Ef(e,t,o);else if(!(t=_c(e.getBody(),n.getStart())))for(;t=r.get(yc);)Ef(e,t,o)},Sf=(e,t)=>(e.appendChild(t),t),Qf=(e,t)=>{e=be(e,(e,t)=>Sf(e,t.cloneNode(!1)),t),t=null!=(t=e.ownerDocument)?t:document;return Sf(e,t.createTextNode(yf))},Uf=(a,A,i,s)=>{var l=a.dom,d=a.selection;let c=!1,u=a.formatter.get(A);if(u){let t=d.getRng(),e=t.startContainer,o=t.startOffset,r=e;te(e)&&(o!==e.data.length&&(c=!0),r=r.parentNode);var g,m,p,h,f,b=[];let n;for(;r;){if(xf(a,r,A,i,s)){n=r;break}r.nextSibling&&(c=!0),b.push(r),r=r.parentNode}if(n)if(c){let e=d.getBookmark();t.collapse(!0);var v=Ru(l,t,u,!0),v=Ug(v);a.formatter.remove(A,i,v,s),d.moveToBookmark(e)}else{let e=_c(a.getBody(),n),t=kf(!1).dom,o=(v=a,g=t,m=null!=e?e:n,f=v.dom,(v=f.getParent(m,w(cu,v.schema)))&&f.isEmpty(v)?null!=(v=m.parentNode)&&v.replaceChild(g,m):(p=J(m),v=Gr(p,"br"),h=U((()=>{var e=[];let t=p.dom;for(;t;)e.push(J(t)),t=t.lastChild;return e})().slice(-1),Sn),v.length===h.length&&j(h,$),f.isEmpty(m)?null!=(v=m.parentNode)&&v.replaceChild(g,m):f.insertAfter(g,m)),((a,t,o,A,r,n)=>{var i,s,l=a.formatter,d=a.dom,e=U(De(l.get()),e=>e!==A&&!st(e,"removeformat")),e=(i=a,s=o,e=e,ve(e,(e,t)=>{r=i,o=t;var o,r=xu(r,o,t=>{let o=e=>V(e)||1<e.length&&"%"===e.charAt(0);return G(["styles","attributes"],e=>x(t,e).exists(e=>{e=re(e)?e:Ke(e);return G(e,o)}))});return i.formatter.matchNode(s,t,{},r)?e.concat([t]):e},[]));if(0<U(e,e=>{{var t=a,n=A;let o=["inline","block","selector","attributes","styles","classes"],r=e=>Ve(e,(e,t)=>G(o,e=>e===t));return!xu(t,e,e=>{let o=r(e);return xu(t,n,e=>{var t,e=r(e);return t=o,e=e,y(C).eq(t,e)})})}}).length){let e=o.cloneNode(!1);return d.add(t,e),l.remove(A,r,e,n),d.remove(e),Q.some(e)}return Q.none()})(a,t,n,A,i,s)),r=Qf(b.concat(o.toArray()),t);e&&Ef(a,e,!1),d.setCursorLocation(r,1),l.isEmpty(n)&&l.remove(n)}}},If=e=>{var t=kf(!1),e=Qf(e,t.dom);return{caretContainer:t,caretPosition:M(e,0)}},Tf=(e,t)=>{var{caretContainer:t,caretPosition:o}=If(t);return _r(J(e),t),$(J(e)),o},Mf=(e,t)=>{e=e.schema.getTextInlineElements();return X(e,Y(t))&&!Cc(t.dom)&&!tn(t.dom)},Hf=e=>Cc(e.dom)&&Cf(e.dom),Df={},Of=qr(["pre"]),Lf=(Df.pre||(Df.pre=[]),Df.pre.push(e=>{var t;e.selection.getRng().collapsed||(e=e.selection.getSelectedBlocks(),e=U(U(e,Of),(t=e,e=>{e=e.previousSibling;return Of(e)&&K(t,e)})),j(e,e=>{var t,o;t=e.previousSibling,e=e,e=J(e),o=Do(e).dom,$(e),Sr(J(t),[Fo("br",o),Fo("br",o),...Zo(e)])}))}),["fontWeight","fontStyle","color","fontSize","fontFamily"]),Nf=(e,t)=>{e=e.get(t);return re(e)?xe(e,e=>Cu(e)&&"span"===e.inline&&(e=e,v(e.styles))&&G(De(e.styles),e=>K(Lf,e))):Q.none()},Rf=(e,t)=>wc(t,M.fromRangeStart(e)).isNone(),Pf=(e,t)=>!1===vc(t,M.fromRangeEnd(e)).exists(e=>!k(e.getNode())||vc(t,e).isSome()),Vf=t=>e=>hn(e)&&t.isEditable(e),zf=e=>U(e.getSelectedBlocks(),Vf(e.dom)),Kf=T.each,Zf=e=>ee(e)&&!Oc(e)&&!Cc(e)&&!tn(e),Gf=(t,o)=>{for(let e=t;e;e=e[o]){if(te(e)&&pt(e.data))return t;if(ee(e)&&!Oc(e))return e}return t},jf=(t,r,n)=>{let a=Kh(t),e=ee(r)&&iu(r),o=ee(n)&&iu(n);if(e&&o){let o=Gf(r,"previousSibling"),e=Gf(n,"nextSibling");if(a.compare(o,e)){for(let t=o.nextSibling;t&&t!==e;){let e=t;t=t.nextSibling,o.appendChild(e)}return t.dom.remove(e),T.each(T.grep(e.childNodes),e=>{o.appendChild(e)}),o}}return n},Wf=(t,e,o,r)=>{var n;if(r&&!1!==e.merge_siblings){let e=null!=(n=jf(t,du(r),r))?n:r;jf(t,e,du(e,!0))}},Xf=(e,t,o)=>{Kf(e.childNodes,e=>{Zf(e)&&(t(e)&&o(e),e.hasChildNodes())&&Xf(e,t,o)})},Yf=(t,o)=>e=>!(!e||!bu(t,e,o)),Jf=(o,r,n)=>e=>{var t;o.setStyle(e,r,n),""===e.getAttribute("style")&&e.removeAttribute("style"),t=o,"SPAN"===(e=e).nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},qf=ds([{keep:[]},{rename:["name"]},{removed:[]}]),$f=/^(src|href|style)$/,e1=T.each,t1=hu,o1=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),r1=(e,t,o)=>{let r=t[o?"startContainer":"endContainer"],n=t[o?"startOffset":"endOffset"];if(ee(r)){let e=r.childNodes.length-1;!o&&n&&n--,r=r.childNodes[n>e?e:n]}return te(r)&&o&&n>=r.data.length&&(r=new Wr(r,e.getBody()).next()||r),r=te(r)&&!o&&0===n?new Wr(r,e.getBody()).prev()||r:r},n1=(e,t)=>{var t=t?"firstChild":"lastChild",o=e[t];return/^(TR|TH|TD)$/.test(e.nodeName)&&o?"TR"===e.nodeName&&o[t]||o:e},a1=(e,t,o,r)=>{e=e.create(o,r);return null!=(o=t.parentNode)&&o.insertBefore(e,t),e.appendChild(t),e},A1=(e,t,o,r,n)=>{t=J(t),e=J(e.create(r,n)),r=(o?Ko:zo)(t);return Sr(e,r),(o?(_r(t,e),Er):(kr(t,e),q))(e,t),e.dom},i1=(t,e,o)=>{var r=e.parentNode;let n,a=t.dom,A=Qs(t);!Bu(o)||r!==a.getRoot()||o.list_block&&t1(e,o.list_block)||j(Te(e.childNodes),e=>{uu(t,A,e.nodeName.toLowerCase())?n?n.appendChild(e):(n=a1(a,e,A),a.setAttribs(n,Us(t))):n=null}),r=o,yu(r)&&Cu(r)&&jt(x(r,"mixed"),!0)&&!t1(o.inline,e)||a.remove(e,!0)},s1=(e,t,o)=>S(e)?{name:t,value:null}:{name:e,value:pu(t,o)},l1=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},d1=(r,n,a,A,i)=>{let s=!1;e1(a.styles,(e,t)=>{var{name:t,value:e}=s1(t,e,A),o=fu(e,t);(a.remove_similar||H(e)||!ee(i)||t1(bu(r,i,t),o))&&r.setStyle(n,t,""),s=!0}),s&&l1(r,n)},c1=(e,t,r,o,n)=>{let a=e.dom,A=Kh(e),i=e.schema;if(Cu(t)&&Ua(i,t.inline)&&Ta(i,o)&&o.parentElement===e.getBody())return i1(e,o,t),qf.removed();if(!t.ceFalseOverride&&o&&"false"===a.getContentEditableParent(o))return qf.keep();if(o&&!vf(a,o,t)&&(!t.links||"A"!==o.nodeName))return qf.keep();let s=o,l=t.preserve_attributes;if(Cu(t)&&"all"===t.remove&&re(l)){let e=U(a.getAttribs(s),e=>K(l,e.name.toLowerCase()));if(a.removeAllAttribs(s),j(e,e=>a.setAttrib(s,e.name,e.value)),0<e.length)return qf.rename("span")}if("all"!==t.remove){d1(a,s,t,r,n),e1(t.attributes,(e,o)=>{var{name:o,value:e}=s1(o,e,r);if(t.remove_similar||H(e)||!ee(n)||t1(a.getAttrib(n,o),e)){if("class"===o){let e=a.getAttrib(s,o);if(e){let t="";if(j(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)}),t)return void a.setAttrib(s,o,t)}}($f.test(o)&&s.removeAttribute("data-mce-"+o),"style"===o&&qr(["li"])(s)&&"none"===a.getStyle(s,"list-style-type"))?(s.removeAttribute(o),a.setStyle(s,"list-style-type","none")):("class"===o&&s.removeAttribute("className"),s.removeAttribute(o))}}),e1(t.classes,e=>{e=pu(e,r),ee(n)&&!a.hasClass(n,e)||a.removeClass(s,e)});let o=a.getAttribs(s);for(let t=0;t<o.length;t++){let e=o[t].nodeName;if(!A.isAttributeInternal(e))return qf.keep()}}return"none"!==t.remove?(i1(e,s,t),qf.removed()):qf.keep()},u1=(t,e,o,r)=>c1(t,e,o,r,r).fold(Z(r),e=>(t.dom.createFragment().appendChild(r),t.dom.rename(r,e)),Z(null)),g1=(o,r,l,d,c)=>{if(d||o.selection.isEditable()){var u,p,h=o,f=r,b=l,o=d,v=c;let g=h.formatter.get(f),m=g[0],n=h.dom,e=h.selection,a=a=>{var A=((o,e,r,n,a)=>{let A;return e.parentNode&&j(wu(o.dom,e.parentNode).reverse(),e=>{var t;!A&&ee(e)&&"_start"!==e.id&&"_end"!==e.id&&(t=xf(o,e,r,n,a))&&!1!==t.split&&(A=e)}),A})(h,a,f,b,v);{var i=h,s=g,l=a,d=m,c=b;let e,o,r,n;var u=i.dom;if(A){let t=A.parentNode;for(let e=l.parentNode;e&&e!==t;e=e.parentNode){let t=u.clone(e,!1);for(let e=0;e<s.length&&null!==(t=u1(i,s[e],c,t));e++);t&&(r&&t.appendChild(r),n=n||t,r=t)}d.mixed&&u.isBlock(A)||(l=null!=(e=u.split(A,l))?e:l),r&&n&&(null!=(o=a.parentNode)&&o.insertBefore(r,a),n.appendChild(a),Cu(d))&&Wf(i,d,0,r)}return l}},A=t=>G(g,e=>m1(h,e,b,t,t)),i=t=>{var o=Te(t.childNodes),e=A(t)||G(g,e=>vf(n,t,e)),r=t.parentNode;if(!e&&P(r)&&_u(m)&&A(r),m.deep&&o.length)for(let e=0;e<o.length;e++)i(o[e]);j(["underline","line-through","overline"],e=>{ee(t)&&h.dom.getStyle(t,"text-decoration")===e&&t.parentNode&&vu(n,t.parentNode)===e&&m1(h,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},void 0,t)})},s=t=>{var o,r=n.get(t?"_start":"_end");if(r){let e=r[t?"firstChild":"lastChild"];return o=e,Oc(o)&&ee(o)&&("_start"===o.id||"_end"===o.id)&&(e=e[t?"firstChild":"lastChild"]),te(e)&&0===e.data.length&&(e=t?r.previousSibling||r.nextSibling:r.nextSibling||r.previousSibling),n.remove(r,!0),e}return null},t=e=>{let t,o,r=Ru(n,e,g,e.collapsed);if(m.split){if(r=Ug(r),t=r1(h,r,!0),o=r1(h,r),t!==o){if(t=n1(t,!0),o=n1(o,!1),o1(n,t,o)){let e=Q.from(t.firstChild).getOr(t);return a(A1(n,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void s(!0)}if(o1(n,o,t)){let e=Q.from(o.lastChild).getOr(o);return a(A1(n,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void s(!1)}t=a1(n,t,"span",{id:"_start","data-mce-type":"bookmark"}),o=a1(n,o,"span",{id:"_end","data-mce-type":"bookmark"});let e=n.createRng();e.setStartAfter(t),e.setEndBefore(o),Pu(n,e,e=>{j(e,e=>{Oc(e)||Oc(e.parentNode)||a(e)})}),a(t),a(o),t=s(!0),o=s()}else t=o=a(t);r.startContainer=t.parentNode||t,r.startOffset=n.nodeIndex(t),r.endContainer=o.parentNode||o,r.endOffset=n.nodeIndex(o)+1}Pu(n,r,e=>{j(e,i)})};if(o)if(au(o)){let e=n.createRng();e.setStartBefore(o),e.setEndAfter(o),t(e)}else t(o);else e.isCollapsed()&&Cu(m)&&!Yc(h).length?Uf(h,f,b,v):(su(h,()=>ru(h,t),e=>Cu(m)&&Bf(h,f,b,e)),h.nodeChanged()),u=h,p=b,"removeformat"===(r=f)?j(zf(u.selection),t=>{j(Lf,e=>u.dom.setStyle(t,e,"")),l1(u.dom,t)}):Nf(u.formatter,r).each(t=>{j(zf(u.selection),e=>d1(u.dom,e,t,p,null))});Ju(h,f,o,b)}},m1=(t,e,o,r,n)=>c1(t,e,o,r,n).fold(g,e=>(t.dom.rename(r,e),!0),de),p1=T.each,h1=T.each,f1=(o,r,e,n)=>{if(h1(e.styles,(e,t)=>{o.setStyle(r,t,pu(e,n))}),e.styles){let e=o.getAttrib(r,"style");e&&o.setAttrib(r,"data-mce-style",e)}},b1=(v,w,x,t)=>{let B=v.formatter.get(w),y=B[0],r=!t&&v.selection.isCollapsed(),n=v.dom,e=v.selection,C=(o,e=y)=>{V(e.onformat)&&e.onformat(o,e,x,t),f1(n,o,e,x),h1(e.attributes,(e,t)=>{n.setAttrib(o,t,pu(e,x))}),h1(e.classes,e=>{e=pu(e,x);n.hasClass(o,e)||n.addClass(o,e)})},_=(e,t)=>{let o=!1;return h1(e,e=>!(!yu(e)||("false"!==n.getContentEditable(t)||e.ceFalseOverride)&&(!P(e.collapsed)||e.collapsed===r)&&n.is(t,e.selector)&&!Cc(t)&&(C(t,e),o=!0))),o},o=(h,e,g)=>{let f=[],m=!0,p=y.inline||y.block,b=(t=p,R(t)?(t=n.create(t),C(t),t):null);var t;Pu(h,e,e=>{let c,u=t=>{let e=!1,o=m,r=!1;var n,a,A,i,s=t.parentNode,l=s.nodeName.toLowerCase(),d=h.getContentEditable(t),d=(P(d)&&(o=m,m="true"===d,e=!0,r=mu(v,t)),m&&!e);if(k(t)&&!((o,e,r,n)=>{if(pl(o)&&Cu(e)&&r.parentNode){let e=mA(o.schema),t=gf(J(r),e=>Cc(e.dom));return Ze(e,n)&&E(J(r.parentNode),!1)&&!t}return!1})(v,y,t,l))c=null,Bu(y)&&h.remove(t);else if(A=t,i=y,Bu(i)&&!0===i.wrapper&&xf(v,A,w,x))c=null;else if(i=t,A=l,n=d,a=y,a=Bu(a)&&!0!==a.wrapper&&cu(v.schema,i)&&uu(v,A,p),n&&a){let e=h.rename(t,p);C(e),f.push(e),void(c=null)}else{if(yu(y)){let e=_(B,t);if(!e&&P(s)&&_u(y)&&(e=_(B,s)),!Cu(y)||e)return void(c=null)}P(b)&&(i=t,A=l,n=d,a=r,l=i.nodeName.toLowerCase(),l=uu(v,p,l)&&uu(v,A,p),A=!g&&te(i)&&Vn(i.data),d=Cc(i),i=!Cu(y)||!h.isBlock(i),n||a)&&l&&!A&&!d&&i?(c||(c=h.clone(b,!1),s.insertBefore(c,t),f.push(c)),r&&e&&(m=o),c.appendChild(t)):(c=null,j(Te(t.childNodes),u),e&&(m=o),c=null)}};j(e,u)}),!0===y.links&&j(f,e=>{let t=e=>{"A"===e.nodeName&&C(e,y),j(Te(e.childNodes),t)};t(e)}),j(f,e=>{var o,t,r,n,a,A,i,s,l,d,c=(e=>{let o=0;return j(e.childNodes,e=>{var t;t=e,P(t)&&te(t)&&0===t.length||Oc(e)||o++}),o})(e);if(!(1<f.length)&&h.isBlock(e)||0!==c){if(Cu(y)||Bu(y)&&y.wrapper){y.exact||1!==c||(d=e,e=xe(d.childNodes,Au).filter(e=>"false"!==h.getContentEditable(e)&&vf(h,e,y)).map(e=>{var t=h.clone(e,!1);return C(t),h.replace(t,d,!0),h.remove(e,!0),t}).getOr(d)),i=v,c=B,s=x,l=e,p1(c,t=>{var r,e,o,n;Cu(t)&&p1(i.dom.select(t.inline,l),e=>{Zf(e)&&m1(i,t,s,e,t.exact?e:null)}),r=i.dom,o=l,(e=t).clear_child_styles&&(n=e.links?"*:not(a)":"*",Kf(r.select(n,o),o=>{Zf(o)&&iu(o)&&Kf(e.styles,(e,t)=>{r.setStyle(o,t,"")})}))}),t=v,r=y,n=w,a=x,c=(A=e).parentNode,xf(t,c,n,a)&&m1(t,r,a,A)||r.merge_with_parents&&c&&t.dom.getParent(c,e=>!!xf(t,e,n,a)&&(m1(t,r,a,A),!0));var c=h,u=y,g=x,m=e;if(u.styles&&u.styles.backgroundColor){let t=Yf(c,"fontSize");Xf(m,e=>t(e)&&iu(e),Jf(c,"backgroundColor",pu(u.styles.backgroundColor,g)))}o=h,m=y,c=e,u=e=>{var t;ee(e)&&ee(e.parentNode)&&iu(e)&&(t=vu(o,e.parentNode),o.getStyle(e,"color")&&t?o.setStyle(e,"text-decoration",t):o.getStyle(e,"text-decoration")===t&&o.setStyle(e,"text-decoration",null))},m.styles&&(m.styles.color||m.styles.textDecoration)&&(T.walk(c,u,"childNodes"),u(c)),g=h,m=y;var p=0;if(u=e,Cu(m)&&("sub"===m.inline||"sup"===m.inline)){let t=Yf(g,"fontSize");Xf(u,e=>t(e)&&iu(e),Jf(g,"fontSize",""));m=U(g.select("sup"===m.inline?"sub":"sup",u),iu);g.remove(m,!0)}Wf(v,y,0,e)}}else h.remove(e,!0)})},a=au(t)?t:e.getNode();var A;if("false"!==n.getContentEditable(a)||mu(v,a)){if(y){if(t)if(au(t)){if(!_(B,t)){let e=n.createRng();e.setStartBefore(t),e.setEndAfter(t),o(n,Ru(n,e,B),!0)}}else o(n,t,!0);else{if(r&&Cu(y)&&!Yc(v).length){var i=v;var s=w;var l=x;let o;var d=i.selection,c=i.formatter.get(s);if(c){var u=d.getRng();let t=u.startOffset;var g=u.startContainer.nodeValue,m=(o=_c(i.getBody(),d.getStart()),/[^\s\u00a0\u00ad\u200b\ufeff]/);if(g&&0<t&&t<g.length&&m.test(g.charAt(t))&&m.test(g.charAt(t-1))){let e=d.getBookmark();u.collapse(!0);m=Ru(i.dom,u,c),m=Ug(m);i.formatter.apply(s,l,m),d.moveToBookmark(e)}else{let e=o?_f(o):null;o&&(null==e?void 0:e.data)===yf||(g=i.getDoc(),c=kf(!0).dom,o=g.importNode(c,!0),e=o.firstChild,u.insertNode(o),t=1),i.formatter.apply(s,l,o),d.setCursorLocation(e,t)}}}else e.setRng(tf(e.getRng())),su(v,()=>{ru(v,(e,t)=>{t=t?e:Ru(n,e,B);o(n,t,!1)})},de),v.nodeChanged();Nf(v.formatter,w).each(t=>{var e;j((e=v.selection,U((e=>{let r=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===r.length)return Rf(n,r[0])&&Pf(n,r[0])?r:[];{let e=Ue(r).filter(e=>Rf(n,e)).toArray(),t=Ie(r).filter(e=>Pf(n,e)).toArray(),o=r.slice(1,-1);return e.concat(o).concat(t)}})(e),Vf(e.dom))),e=>f1(n,e,t,x))})}m=w,A=v,X(Df,m)&&j(Df[m],e=>{e(A)})}}else _(B,t=a);Yu(v,w,t,x)},v1=(e,t,o,r)=>{(r||e.selection.isEditable())&&b1(e,t,o,r)},w1=e=>X(e,"vars"),x1=e=>e.selection.getStart(),B1=(t,e,o,r,n)=>we(e,e=>{e=t.formatter.matchNode(e,o,null!=n?n:{},r);return!F(e)},e=>!!ff(t,e,o)||!r&&P(t.formatter.matchNode(e,o,n,!0))),y1=(e,t)=>{t=null!=t?t:x1(e);return U(wu(e.dom,t),e=>ee(e)&&!tn(e))},C1=(a,A,e)=>{let i=y1(a,A);W(e,(e,n)=>{var t=e=>{let o=B1(a,i,n,e.similar,w1(e)?e.vars:void 0),r=o.isSome();if(e.state.get()!==r){e.state.set(r);let t=o.getOr(A);w1(e)?e.callback(r,{node:t,format:n,parents:i}):j(e.callbacks,e=>e(r,{node:t,format:n,parents:i}))}};j([e.withSimilar,e.withoutSimilar],t),j(e.withVars,t)})},_1=T.explode,k1=()=>{let n={};return{addFilter:(e,t)=>{j(_1(e),e=>{X(n,e)||(n[e]={name:e,callbacks:[]}),n[e].callbacks.push(t)})},getFilters:()=>Ke(n),removeFilter:(e,r)=>{j(_1(e),e=>{var t,o;X(n,e)&&(P(r)&&(t=n[e],0<(o=U(t.callbacks,e=>e!==r)).length)?t.callbacks=o:delete n[e])})}}},E1=(e,t,o)=>{var r,n,a,A,i,s=fA();t.convert_fonts_to_spans&&(a=e,A=s,i=T.explode(null!=(t=t.font_size_legacy_values)?t:""),a.addNodeFilter("font",e=>{j(e,e=>{let t=A.parse(e.attr("style")),o=e.attr("color"),r=e.attr("face"),n=e.attr("size");var a;o&&(t.color=o),r&&(t["font-family"]=r),n&&ft(n).each(e=>{t["font-size"]=i[e-1]}),e.name="span",e.attr("style",A.serialize(t)),a=e,j(["color","face","size"],e=>{a.attr(e,null)})})})),r=o,n=s,e.addNodeFilter("strike",e=>{let o="html4"!==r.type;j(e,e=>{var t;o?e.name="s":((t=n.parse(e.attr("style")))["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t)))})})},F1=(e,d)=>{e.addNodeFilter("br",(n,e,a)=>{let A=T.extend({},d.getBlockElements()),i=d.getNonEmptyElements(),s=d.getWhitespaceElements();A.body=1;var l=e=>{return e.name in A&&(t=d,1===(e=e).type)&&Ua(t,e.name)&&F(e.attr(Ba));var t};for(let e=0,t=n.length;e<t;e++){let o=n[e],r=o.parent;if(r&&A[r.name]&&o===r.lastChild){let t=o.prev;for(;t;){let e=t.name;if("span"!==e||"bookmark"!==t.attr("data-mce-type")){"br"===e&&(o=null);break}t=t.prev}if(o&&(o.remove(),Yh(d,i,s,r))){let e=d.getElementRule(r.name);e&&(e.removeEmpty?r.remove():e.paddEmpty&&Wh(a,l,r))}}else{let e=o;for(;r&&r.firstChild===e&&r.lastChild===e&&(e=r,!A[r.name]);)r=r.parent;if(e===r){let e=new Dm("#text",3);e.value=wn,o.replace(e)}}}})},S1=e=>{let[t,...o]=e.split(","),r=o.join(","),n=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(n){let e=";base64"===n[2],t=e?(a=/([a-z0-9+\/=\s]+)/i.exec(r))?a[1]:"":decodeURIComponent(r);return Q.some({type:n[1],data:t,base64Encoded:e})}var a;return Q.none()},Q1=(e,t,o=!0)=>{let r=t;if(o)try{r=atob(t)}catch(e){return Q.none()}var n=new Uint8Array(r.length);for(let e=0;e<n.length;e++)n[e]=r.charCodeAt(e);return Q.some(new Blob([n],{type:e}))},U1=r=>new Promise((e,t)=>{let o=new FileReader;o.onloadend=()=>{e(o.result)},o.onerror=()=>{var e;t(null==(e=o.error)?void 0:e.message)},o.readAsDataURL(r)}),I1=0,T1=(e,n,a)=>S1(e).bind(({data:t,type:o,base64Encoded:r})=>{if(n&&!r)return Q.none();{let e=r?t:btoa(t);return a(e,o)}}),M1=(e,t,o)=>{t=e.create("blobid"+I1++,t,o);return e.add(t),t},H1=(o,e,t=!1)=>T1(e,t,(t,e)=>Q.from(o.getByData(t,e)).orThunk(()=>Q1(e,t).map(e=>M1(o,e,t)))),D1=(e,n)=>{var t=e.schema;n.remove_trailing_brs&&F1(e,t),e.addAttributeFilter("href",t=>{let o=t.length;if(!n.allow_unsafe_link_target)for(;o--;){let e=t[o];"a"===e.name&&"_blank"===e.attr("target")&&e.attr("rel",(e=>{e=e?T.trim(e):"";return/\b(noopener)\b/g.test(e)?e:e.split(" ").filter(e=>0<e.length).concat(["noopener"]).sort().join(" ")})(e.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",e=>{let t,o,r,n,a=e.length;for(;a--;)if("a"===(n=e[a]).name&&n.firstChild&&!n.attr("href"))for(r=n.parent,t=n.lastChild;t&&r;)o=t.prev,r.insert(t,n),t=o}),n.fix_list_elements&&e.addNodeFilter("ul,ol",e=>{let t,o,r=e.length;for(;r--;)if((o=(t=e[r]).parent)&&("ul"===o.name||"ol"===o.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{let e=new Dm("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}});let i=t.getValidClasses();n.validate&&i&&e.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){var a=e[t],o=null!=(o=a.attr("class"))?o:"",A=T.explode(o," ");let n="";for(let r=0;r<A.length;r++){let e=A[r],t=!1,o=i["*"];o&&o[e]&&(t=!0),o=i[a.name],(t=!t&&o&&o[e]?!0:t)&&(n&&(n+=" "),n+=e)}n.length||(n=null),a.attr("class",n)}});{var o=n;let r=o.blob_cache;if(r){let t=t=>{var e,o=t.attr("src");(e=t).attr("src")===L.transparentSrc||P(e.attr("data-mce-placeholder"))||(e=t,P(e.attr("data-mce-bogus")))||ne(o)||H1(r,o,!0).each(e=>{t.attr("src",e.blobUri())})};e.addAttributeFilter("src",e=>j(e,t))}}};function O1(e){return(O1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L1(e,t){return(L1=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N1(e,t,o){return(N1=(()=>{if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){}}})()?Reflect.construct:function(e,t,o){var r=[null],t=(r.push.apply(r,t),new(Function.bind.apply(e,r)));return o&&L1(t,o.prototype),t}).apply(null,arguments)}function R1(e){return(e=>{if(Array.isArray(e))return P1(e)})(e)||(()=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})()||(e=>{var t;if(e)return"string"==typeof e?P1(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P1(e,void 0):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function P1(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function V1(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return $1(z1,t)}var z1,K1=Object.hasOwnProperty,Z1=Object.setPrototypeOf,G1=Object.isFrozen,j1=Object.getPrototypeOf,W1=Object.getOwnPropertyDescriptor,X1=Object.freeze,t=Object.seal,Y1=Object.create,J1="undefined"!=typeof Reflect&&Reflect,q1=(q1=J1.apply)||function(e,t,o){return e.apply(t,o)},X1=X1||function(e){return e},t=t||function(e){return e},$1=($1=J1.construct)||function(e,t){return N1(e,R1(t))},e0=l0(Array.prototype.forEach),t0=l0(Array.prototype.pop),o0=l0(Array.prototype.push),r0=l0(String.prototype.toLowerCase),n0=l0(String.prototype.match),a0=l0(String.prototype.replace),A0=l0(String.prototype.indexOf),i0=l0(String.prototype.trim),s0=l0(RegExp.prototype.test);function l0(n){return function(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return q1(n,e,o)}}function He(e,t){Z1&&Z1(e,null);for(var o=t.length;o--;){var r,n=t[o];"string"==typeof n&&(r=r0(n))!==n&&(G1(t)||(t[o]=r),n=r),e[n]=!0}return e}function d0(e){var t,o=Y1(null);for(t in e)q1(K1,e,[t])&&(o[t]=e[t]);return o}function c0(e,t){for(;null!==e;){var o=W1(e,t);if(o){if(o.get)return l0(o.get);if("function"==typeof o.value)return l0(o.value)}e=j1(e)}return function(e){return console.warn("fallback value for",e),null}}z1=TypeError;var u0,g0,m0,p0=X1(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),h0=X1(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),f0=X1(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),b0=X1(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),v0=X1(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),w0=X1(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),x0=X1(["#text"]),B0=X1(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),y0=X1(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C0=X1(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_0=X1(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),k0=t(/\{\{[\w\W]*|[\w\W]*\}\}/gm),E0=t(/<%[\w\W]*|[\w\W]*%>/gm),F0=t(/^data-[\-\w.\u00B7-\uFFFF]/),S0=t(/^aria-[\-\w]+$/),Q0=t(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),U0=t(/^(?:\w+script|data):/i),I0=t(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),T0=t(/^html$/i),M0=function H(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,l=function(e){return H(e)};if(l.version="2.3.8",l.removed=[],i&&i.document&&9===i.document.nodeType){var s=i.document,n=i.document,D=i.DocumentFragment,e=i.HTMLTemplateElement,d=i.Node,O=i.Element,t=i.NodeFilter,o=i.NamedNodeMap,L=void 0===o?i.NamedNodeMap||i.MozNamedAttrMap:o,N=i.HTMLFormElement,R=i.DOMParser,o=i.trustedTypes,r=O.prototype,P=c0(r,"cloneNode"),V=c0(r,"nextSibling"),z=c0(r,"childNodes"),c=c0(r,"parentNode"),u=("function"==typeof e&&(r=n.createElement("template")).content&&r.content.ownerDocument&&(n=r.content.ownerDocument),((e,t)=>{if("object"!==O1(e)||"function"!=typeof e.createPolicy)return null;var o=null,r="data-tt-policy-suffix",t="dompurify"+((o=t.currentScript&&t.currentScript.hasAttribute(r)?t.currentScript.getAttribute(r):o)?"#"+o:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}})(o,s)),K=u?u.createHTML(""):"",e=n,a=e.implementation,Z=e.createNodeIterator,G=e.createDocumentFragment,j=e.getElementsByTagName,W=s.importNode,r={};try{r=d0(n).documentMode?n.documentMode:{}}catch(H){}var A={};l.isSupported="function"==typeof c&&a&&void 0!==a.createHTMLDocument&&9!==r;var g,m,X,Y=k0,J=E0,q=F0,$=S0,ee=U0,te=I0,oe=Q0,p=null,re=He({},[].concat(R1(p0),R1(h0),R1(f0),R1(v0),R1(x0))),h=null,ne=He({},[].concat(R1(B0),R1(y0),R1(C0),R1(_0))),f=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),b=null,ae=null,Ae=!0,ie=!0,se=!1,v=!1,w=!1,le=!1,de=!1,x=!1,B=!1,y=!1,ce=!0,ue=!0,C=!1,_={},k=null,ge=He({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),me=null,pe=He({},["audio","video","img","source","image","track"]),he=null,fe=He({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",E="http://www.w3.org/1999/xhtml",F=E,we=["application/xhtml+xml","text/html"],S=null,xe=n.createElement("form"),Be=function(e){return e instanceof RegExp||e instanceof Function},ye=function(e){S&&S===e||(e=d0(e=e&&"object"===O1(e)?e:{}),p="ALLOWED_TAGS"in e?He({},e.ALLOWED_TAGS):re,h="ALLOWED_ATTR"in e?He({},e.ALLOWED_ATTR):ne,he="ADD_URI_SAFE_ATTR"in e?He(d0(fe),e.ADD_URI_SAFE_ATTR):fe,me="ADD_DATA_URI_TAGS"in e?He(d0(pe),e.ADD_DATA_URI_TAGS):pe,k="FORBID_CONTENTS"in e?He({},e.FORBID_CONTENTS):ge,b="FORBID_TAGS"in e?He({},e.FORBID_TAGS):{},ae="FORBID_ATTR"in e?He({},e.FORBID_ATTR):{},_="USE_PROFILES"in e&&e.USE_PROFILES,Ae=!1!==e.ALLOW_ARIA_ATTR,ie=!1!==e.ALLOW_DATA_ATTR,se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,v=e.SAFE_FOR_TEMPLATES||!1,w=e.WHOLE_DOCUMENT||!1,x=e.RETURN_DOM||!1,B=e.RETURN_DOM_FRAGMENT||!1,y=e.RETURN_TRUSTED_TYPE||!1,de=e.FORCE_BODY||!1,ce=!1!==e.SANITIZE_DOM,ue=!1!==e.KEEP_CONTENT,C=e.IN_PLACE||!1,oe=e.ALLOWED_URI_REGEXP||oe,F=e.NAMESPACE||E,e.CUSTOM_ELEMENT_HANDLING&&Be(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(f.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Be(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(f.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(f.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),g=-1===we.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,m="application/xhtml+xml"===g?function(e){return e}:r0,v&&(ie=!1),B&&(x=!0),_&&(p=He({},R1(x0)),h=[],!0===_.html&&(He(p,p0),He(h,B0)),!0===_.svg&&(He(p,h0),He(h,y0),He(h,_0)),!0===_.svgFilters&&(He(p,f0),He(h,y0),He(h,_0)),!0===_.mathMl)&&(He(p,v0),He(h,C0),He(h,_0)),e.ADD_TAGS&&He(p=p===re?d0(p):p,e.ADD_TAGS),e.ADD_ATTR&&He(h=h===ne?d0(h):h,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&He(he,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&He(k=k===ge?d0(k):k,e.FORBID_CONTENTS),ue&&(p["#text"]=!0),w&&He(p,["html","head","body"]),p.table&&(He(p,["tbody"]),delete b.tbody),X1&&X1(e),S=e)},Ce=He({},["mi","mo","mn","ms","mtext"]),_e=He({},["foreignobject","desc","title","annotation-xml"]),ke=He({},["title","style","font","a","script"]),Q=He({},h0),Ee=(He(Q,f0),He(Q,b0),He({},v0)),U=(He(Ee,w0),function(t){o0(l.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=K}catch(e){t.remove()}}}),I=function(e,t){try{o0(l.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){o0(l.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!h[e])if(x||B)try{U(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Fe=function(e){de?e="<remove></remove>"+e:o=(o=n0(e,/^[\r\n\t ]+/))&&o[0],"application/xhtml+xml"===g&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var t,o,r=u?u.createHTML(e):e;if(F===E)try{t=(new R).parseFromString(r,g)}catch(e){}if(!t||!t.documentElement){t=a.createDocument(F,"template",null);try{t.documentElement.innerHTML=X?"":r}catch(e){}}r=t.body||t.documentElement;return e&&o&&r.insertBefore(n.createTextNode(o),r.childNodes[0]||null),F===E?j.call(t,w?"html":"body")[0]:w?t.documentElement:r},Se=function(e){return Z.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,null,!1)},T=function(e){return"object"===O1(d)?e instanceof d:e&&"object"===O1(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},M=function(e,t,o){A[e]&&e0(A[e],function(e){e.call(l,t,o,S)})},Qe=function(e){if(M("beforeSanitizeElements",e,null),(!((a=e)instanceof N)||"string"==typeof a.nodeName&&"string"==typeof a.textContent&&"function"==typeof a.removeChild&&a.attributes instanceof L&&"function"==typeof a.removeAttribute&&"function"==typeof a.setAttribute&&"string"==typeof a.namespaceURI&&"function"==typeof a.insertBefore)&&!s0(/[\u0080-\uFFFF]/,e.nodeName)){var t,o,r,n,a=m(e.nodeName);if(M("uponSanitizeElement",e,{tagName:a,allowedTags:p}),(!e.hasChildNodes()||T(e.firstElementChild)||T(e.content)&&T(e.content.firstElementChild)||!s0(/<[/\w]/g,e.innerHTML)||!s0(/<[/\w]/g,e.textContent))&&("select"!==a||!s0(/<template/i,e.innerHTML))){if(p[a]&&!b[a])return(!(e instanceof O)||((o=c(t=e))&&o.tagName||(o={namespaceURI:E,tagName:"template"}),r=r0(t.tagName),n=r0(o.tagName),t.namespaceURI===ve?o.namespaceURI===E?"svg"===r:o.namespaceURI===be?"svg"===r&&("annotation-xml"===n||Ce[n]):Boolean(Q[r]):t.namespaceURI===be?o.namespaceURI===E?"math"===r:o.namespaceURI===ve?"math"===r&&_e[n]:Boolean(Ee[r]):t.namespaceURI===E&&(o.namespaceURI!==ve||_e[n])&&(o.namespaceURI!==be||Ce[n])&&!Ee[r]&&(ke[r]||!Q[r])))&&("noscript"!==a&&"noembed"!==a||!s0(/<\/no(script|embed)/i,e.innerHTML))?(v&&3===e.nodeType&&(t=e.textContent,t=a0(t,Y," "),t=a0(t,J," "),e.textContent!==t)&&(o0(l.removed,{element:e.cloneNode()}),e.textContent=t),M("afterSanitizeElements",e,null),!1):(U(e),!0);if(!b[a]&&Ie(a)){if(f.tagNameCheck instanceof RegExp&&s0(f.tagNameCheck,a))return!1;if(f.tagNameCheck instanceof Function&&f.tagNameCheck(a))return!1}if(ue&&!k[a]){var A=c(e)||e.parentNode,i=z(e)||e.childNodes;if(i&&A)for(var s=i.length-1;0<=s;--s)A.insertBefore(P(i[s],!0),V(e))}}}return U(e),!0},Ue=function(e,t,o){if(ce&&("id"===t||"name"===t)&&(o in n||o in xe))return!1;if((!ie||ae[t]||!s0(q,t))&&(!Ae||!s0($,t)))if(!h[t]||ae[t]){if(!(Ie(e)&&(f.tagNameCheck instanceof RegExp&&s0(f.tagNameCheck,e)||f.tagNameCheck instanceof Function&&f.tagNameCheck(e))&&(f.attributeNameCheck instanceof RegExp&&s0(f.attributeNameCheck,t)||f.attributeNameCheck instanceof Function&&f.attributeNameCheck(t))||"is"===t&&f.allowCustomizedBuiltInElements&&(f.tagNameCheck instanceof RegExp&&s0(f.tagNameCheck,o)||f.tagNameCheck instanceof Function&&f.tagNameCheck(o))))return!1}else if(!he[t]&&!s0(oe,a0(o,te,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==A0(o,"data:")||!me[e])&&(!se||s0(ee,a0(o,te,"")))&&o)return!1;return!0},Ie=function(e){return 0<e.indexOf("-")},Te=function(e){M("beforeSanitizeAttributes",e,null);var t,o=e.attributes;if(o){for(var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:h},n=o.length;n--;){t=o[n];var a=t.name,A=t.namespaceURI,i="value"===a?t.value:i0(t.value),s=m(a),l=i;if(r.attrName=s,r.attrValue=i,r.keepAttr=!0,r.forceKeepAttr=void 0,M("uponSanitizeAttribute",e,r),i=r.attrValue,!r.forceKeepAttr)if(r.keepAttr)if(s0(/\/>/i,i))I(a,e);else{v&&(i=a0(i,Y," "),i=a0(i,J," "));var d=m(e.nodeName);if(Ue(d,s,i)){if(i!==l)try{A?e.setAttributeNS(A,a,i):e.setAttribute(a,i)}catch(t){I(a,e)}}else I(a,e)}else I(a,e)}M("afterSanitizeAttributes",e,null)}},Me=function e(t){var o,r=Se(t);for(M("beforeSanitizeShadowDOM",t,null);o=r.nextNode();)M("uponSanitizeShadowNode",o,null),Qe(o)||(o.content instanceof D&&e(o.content),Te(o));M("afterSanitizeShadowDOM",t,null)};l.sanitize=function(e,t){var o,r,n,a;if("string"!=typeof(e=(X=!e)?"\x3c!--\x3e":e)&&!T(e)){if("function"!=typeof e.toString)throw V1("toString is not a function");if("string"!=typeof(e=e.toString()))throw V1("dirty is not a string, aborting")}if(!l.isSupported){if("object"===O1(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof e)return i.toStaticHTML(e);if(T(e))return i.toStaticHTML(e.outerHTML)}return e}if(le||ye(t),l.removed=[],C="string"==typeof e?!1:C){if(e.nodeName){var t=m(e.nodeName);if(!p[t]||b[t])throw V1("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)1===(t=(o=Fe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?o=t:o.appendChild(t);else{if(!x&&!v&&!w&&-1===e.indexOf("<"))return u&&y?u.createHTML(e):e;if(!(o=Fe(e)))return x?null:y?K:""}o&&de&&U(o.firstChild);for(var A=Se(C?e:o);r=A.nextNode();)3===r.nodeType&&r===n||Qe(r)||(r.content instanceof D&&Me(r.content),Te(r),n=r);if(n=null,C)return e;if(x){if(B)for(a=G.call(o.ownerDocument);o.firstChild;)a.appendChild(o.firstChild);else a=o;return a=h.shadowroot?W.call(s,a,!0):a}t=w?o.outerHTML:o.innerHTML;return w&&p["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&s0(T0,o.ownerDocument.doctype.name)&&(t="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+t),v&&(t=a0(t,Y," "),t=a0(t,J," ")),u&&y?u.createHTML(t):t},l.setConfig=function(e){ye(e),le=!0},l.clearConfig=function(){S=null,le=!1},l.isValidAttribute=function(e,t,o){S||ye({});e=m(e),t=m(t);return Ue(e,t,o)},l.addHook=function(e,t){"function"==typeof t&&(A[e]=A[e]||[],o0(A[e],t))},l.removeHook=function(e){if(A[e])return t0(A[e])},l.removeHooks=function(e){A[e]&&(A[e]=[])},l.removeAllHooks=function(){A={}}}else l.isSupported=!1;return l}();let H0=T.each,D0=T.trim,O0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],L0={ftp:21,http:80,https:443,mailto:25},N0=["img","video"],R0=(e,t,o)=>{t=(t=>{try{return decodeURIComponent(t)}catch(e){return unescape(t)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(t)||!e.allow_html_data_urls&&(/^data:image\//i.test(t)?(e=e.allow_svg_data_urls,o=o,(P(e)?!e:!P(o)||!K(N0,o))&&/^data:image\/svg\+xml/i.test(t)):/^data:/i.test(t)))};class P0{static parseDataUri(e){let t;var e=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(e[0]);return{type:t=o?o[1]:t,data:e[1]}}static isDomSafe(e,t,o={}){return!!o.allow_script_urls||(e=rA.decode(e).replace(/[\s\u0000-\u001F]+/g,""),!R0(o,e,t))}static getDocumentBaseUrl(e){let t,o;return o=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!=(t=e.href)?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o}constructor(o,e={}){this.path="",this.directory="",o=D0(o);let n=(this.settings=e).base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o))a.source=o;else{let e=0===o.indexOf("//");if(0!==o.indexOf("/")||e||(o=(n&&n.protocol||"http")+"://mce_host"+o),!/^[\w\-]*:?\/\//.test(o)){let t=n?n.path:new P0(document.location.href).directory;if(""===(null==n?void 0:n.protocol))o="//mce_host"+a.toAbsPath(t,o);else{let e=/([^#?]*)([#?]?.*)/.exec(o);e&&(o=(n&&n.protocol||"http")+"://mce_host"+a.toAbsPath(t,e[1])+e[2])}}o=o.replace(/@@/g,"(mce_at)");let r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);r&&H0(O0,(e,t)=>{let o=r[t];o=o&&o.replace(/\(mce_at\)/g,"@@"),a[e]=o}),n&&(a.protocol||(a.protocol=n.protocol),a.userInfo||(a.userInfo=n.userInfo),a.port||"mce_host"!==a.host||(a.port=n.port),a.host&&"mce_host"!==a.host||(a.host=n.host),a.source=""),e&&(a.protocol="")}}setPath(e){e=/^(.*?)\/?(\w+)?$/.exec(e);e&&(this.path=e[0],this.directory=e[1],this.file=e[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;e=new P0(e,{base_uri:this});if("mce_host"!==e.host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var t=this.getURI(),o=e.getURI();if(t===o||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===o)return t;let r=this.toRelPath(this.path,e.path);return e.query&&(r+="?"+e.query),e.anchor&&(r+="#"+e.anchor),r}toAbsolute(e,t){e=new P0(e,{base_uri:this});return e.getURI(t&&this.isSameOrigin(e))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=this.protocol?L0[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let o,r,n=0,a="";var A=e.substring(0,e.lastIndexOf("/")).split("/"),i=t.split("/");if(A.length>=i.length)for(o=0,r=A.length;o<r;o++)if(o>=i.length||A[o]!==i[o]){n=o+1;break}if(A.length<i.length)for(o=0,r=i.length;o<r;o++)if(o>=A.length||A[o]!==i[o]){n=o+1;break}if(1===n)return t;for(o=0,r=A.length-(n-1);o<r;o++)a+="../";for(o=n-1,r=i.length;o<r;o++)a+=o!==n-1?"/"+i[o]:i[o];return a}toAbsPath(e,t){let o=0,r=/\/$/.test(t)?"/":"",n=e.split("/"),a=t.split("/"),A=[];H0(n,e=>{e&&A.push(e)});var i=[];for(let e=a.length-1;0<=e;e--)0!==a[e].length&&"."!==a[e]&&(".."!==a[e]?0<o?o--:i.push(a[e]):o++);e=A.length-o;let s;return 0!==(s=e<=0?ke(i).join("/"):A.slice(0,e).join("/")+"/"+ke(i).join("/")).indexOf("/")&&(s="/"+s),r&&s.lastIndexOf("/")!==s.length-1&&(s+=r),s}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}let V0=T.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),z0="data-mce-type",K0=0,Z0=(r,n,a,A)=>{var i=n.validate,s=a.getSpecialElements(),n=(8===r.nodeType&&!n.allow_conditional_comments&&/^\[if/i.test(null!=(n=r.nodeValue)?n:"")&&(r.nodeValue=" "+r.nodeValue),null!=(n=null==A?void 0:A.tagName)?n:r.nodeName.toLowerCase());if(1===r.nodeType&&"body"!==n){let t=J(r),e=mo(t,z0),o=uo(t,"data-mce-bogus");!e&&R(o)?("all"===o?$:Ur)(t):(r=a.getElementRule(n),!i||r?(P(A)&&(A.allowedTags[n]=!0),i&&r&&!e&&(j(null!=(a=r.attributesForced)?a:[],e=>{lo(t,e.name,"{$uid}"===e.value?"mce_"+K0++:e.value)}),j(null!=(A=r.attributesDefault)?A:[],e=>{mo(t,e.name)||lo(t,e.name,"{$uid}"===e.value?"mce_"+K0++:e.value)}),(!r.attributesRequired||G(r.attributesRequired,e=>mo(t,e)))&&(!r.removeEmptyAttrs||null!=(i=t.dom.attributes)&&0!==i.length)?r.outputName&&r.outputName!==n&&li(t,r.outputName):Ur(t))):(X(s,n)?$:Ur)(t))}},G0=(e,t,o,r,n)=>!(r in V0&&R0(e,n,o))&&(!e.validate||t.isValid(o,r)||lt(r,"data-")||lt(r,"aria-")),j0=(e,t)=>e.hasAttribute(z0)&&("id"===t||"class"===t||"style"===t),W0=(e,t)=>e in t.getBoolAttrs(),X0=(t,o,r)=>{var n=t.attributes;for(let e=n.length-1;0<=e;e--){var a=n[e],A=a.name,a=a.value;G0(o,r,t.tagName.toLowerCase(),A,a)||j0(t,A)?W0(A,r)&&t.setAttribute(A,A):t.removeAttribute(A)}},Y0=(a,A)=>{var e=M0();return e.addHook("uponSanitizeElement",(e,t)=>{Z0(e,a,A,t)}),e.addHook("uponSanitizeAttribute",(e,t)=>{var o=e.tagName.toLowerCase(),{attrName:r,attrValue:n}=t;t.keepAttr=G0(a,A,o,r,n),t.keepAttr?(t.allowedAttributes[r]=!0,W0(r,A)&&(t.attrValue=r),a.allow_svg_data_urls&&lt(n,"data:image/svg+xml")&&(t.forceKeepAttr=!0)):j0(e,r)&&(t.forceKeepAttr=!0)}),e},J0=T.makeMap,q0=T.extend,$0=(o,e,n)=>{let t=o.name,a=t in n&&"title"!==t&&"textarea"!==t,A=e.childNodes;for(let t=0,e=A.length;t<e;t++){let e=A[t],r=new Dm(e.nodeName.toLowerCase(),e.nodeType);if(ee(e)){let o=e.attributes;for(let t=0,e=o.length;t<e;t++){let e=o[t];r.attr(e.name,e.value)}}else te(e)?(r.value=e.data,a&&(r.raw=!0)):(sn(e)||an(e)||An(e))&&(r.value=e.data);$0(r,e,n),o.append(r)}},eb=(e={},B=hA())=>{let t=k1(),o=k1(),y={validate:!0,root_name:"body",sanitize:!0,...e},C=new DOMParser,_=((n,a)=>{if(n.sanitize){let r=Y0(n,a);return(e,t)=>{var o;r.sanitize(e,(e=n,(o={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]}).PARSER_MEDIA_TYPE=t,e.allow_script_urls?o.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(o.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),o)),r.removed=[]}}return(e,t)=>{for(var o,r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);o=r.nextNode();)Z0(o,n,a),ee(o)&&X0(o,n,a)}})(y,B),r=t.addFilter,k=t.getFilters,n=t.removeFilter,a=o.addFilter,E=o.getFilters,A=o.removeFilter,F=(e,t)=>{var o=R(t.attr(z0)),e=1===t.type&&!X(e,t.name)&&!Ha(B,t);return 3===t.type||e&&!o},i={schema:B,addAttributeFilter:a,getAttributeFilters:E,removeAttributeFilter:A,addNodeFilter:r,getNodeFilters:k,removeNodeFilter:n,parse:(e,o={})=>{var t,r=y.validate,n=null!=(n=o.context)?n:y.root_name,a=([e,a,t="html"]=[e,n,o.format],f="xhtml"===t?"application/xhtml+xml":"text/html",a=(b=X(B.getSpecialElements(),a.toLowerCase()))?`<${a}>${e}</${a}>`:e,e="xhtml"===t?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${a}</body></html>`:`<body>${a}</body>`,t=C.parseFromString(e,f).body,_(t,f),b?t.firstChild:t);Fa(B,a);let A=new Dm(n,11),[i,s]=($0(A,a,B.getSpecialElements()),a.innerHTML="",((o,n,e,a)=>{let A=e.validate,i=n.getNonEmptyElements(),s=n.getWhitespaceElements(),t=q0(J0("script,style,head,html,body,title,meta,param"),n.getBlockElements()),l=mA(n),d=/[ \t\r\n]+/g,c=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,g=e=>{let t=e.parent;for(;P(t);){if(t.name in s)return!0;t=t.parent}return!1},m=e=>e.name in t||Ha(n,e),p=(e,t)=>{t=t?e.prev:e.next;return!P(t)&&!ne(e.parent)&&m(e.parent)&&(e.parent!==o||!0===a.isRootContent)};return[t=>{var o,r;if(3===t.type&&!g(t)){let e=null!=(o=t.value)?o:"";e=e.replace(d," "),o=t.prev,r=m,0===(e=P(o)&&(r(o)||"br"===o.name)||p(t,!0)?e.replace(c,""):e).length?t.remove():t.value=e}},o=>{var t,r;if(1===o.type){let t=n.getElementRule(o.name);if(A&&t){let e=Yh(n,i,s,o);t.paddInEmptyBlock&&e&&(()=>{let e=o;for(;P(e);){if(e.name in l)return Yh(n,i,s,e);e=e.parent}return!1})()?Wh(a,m,o):t.removeEmpty&&e?m(o)?o.remove():o.unwrap():t.paddEmpty&&(e||(r=o,Xh(r,"#text")&&(null==(r=null==r?void 0:r.firstChild)?void 0:r.value)===wn))&&Wh(a,m,o)}}else if(3===o.type&&!g(o)){let e=null!=(t=o.value)?t:"";0===(e=o.next&&m(o.next)||p(o,!1)?e.replace(u,""):e).length?o.remove():o.value=e}}]})(A,B,y,o)),l=[],d=r?e=>{var t;e=e,t=l,ef(B,e)&&t.push(e)}:z,c={nodes:{},attributes:{}},u=e=>Zh(k(),E(),e,c);var g=A,m=[i,u],p=[s,d],h=[];for(let e=g,o=e;e;e=(o=e).walk()){let t=e;j(m,e=>e(t)),ne(t.parent)&&t!==g?e=o:h.push(t)}for(let e=h.length-1;0<=e;e--){let t=h[e];j(p,e=>e(t))}if(l.reverse(),r&&0<l.length)if(o.context){let{pass:e,fail:t}=fe(l,e=>e.parent===A);$h(t,B,A,u),o.invalid=0<e.length}else $h(l,B,A,u);e=y;var f,b=!1===(f=null!=(f=o.forced_root_block)?f:e.forced_root_block)?"":!0===f?"p":f;if(b&&("body"===A.name||o.isRootContent)){var v=A,w=b;let t=q0(J0("script,style,head,html,body,title,meta,param"),B.getBlockElements()),o=/^[ \t\r\n]+/,r=/[ \t\r\n]+$/,n=v.firstChild,a=null;var x=e=>{var t;e&&((n=e.firstChild)&&3===n.type&&(n.value=null==(t=n.value)?void 0:t.replace(o,"")),n=e.lastChild)&&3===n.type&&(n.value=null==(t=n.value)?void 0:t.replace(r,""))};if(B.isValidChild(v.name,w.toLowerCase())){for(;n;){let e=n.next;F(t,n)?(a||((a=new Dm(w,1)).attr(y.forced_root_block_attrs),v.insert(a,n)),a.append(n)):(x(a),a=null),n=e}x(a)}}return o.invalid||Gh(c,o),A}};return D1(i,y),e=i,s=y,l=B,s.inline_styles&&E1(e,s,l),i;var s,l},tb=(t,e,o)=>{r=t;var r=cf(r)?Gm({validate:!1}).serialize(r):r,n=e(r);if(n.isDefaultPrevented()||!cf(t))return n;if(n.content===r)return{...n,content:t};{let e=eb({validate:!1,forced_root_block:!1,sanitize:o}).parse(n.content,{context:t.name});return{...n,content:e}}},ob=(e,t)=>!t.no_events&&(t=e.dispatch("BeforeGetContent",t)).isDefaultPrevented()?ls.error($u(e,{content:"",...t}).content):ls.value(t),rb=(t,e,o)=>o.no_events?e:tb(e,e=>$u(t,{...o,content:e}),Ad(t)).content,nb=(o,r)=>{var e;return r.no_events?ls.value(r):(e=tb(r.content,e=>{return t=o,e={...r,content:e},t.dispatch("BeforeSetContent",e);var t},Ad(o))).isDefaultPrevented()?(qu(o,e),ls.error(void 0)):ls.value(e)},ab=(e,t,o)=>{o.no_events||qu(e,{...o,content:t})},Ab=(e,t,o)=>({element:e,width:t,rows:o}),ib=(e,t)=>({element:e,cells:t}),sb=(e,t)=>({x:e,y:t}),lb=(e,t)=>go(e,t).bind(ft).getOr(1),db=(e,t,o)=>{e=e.rows;return!!(e[o]?e[o].cells:[])[t]},cb=e=>ve(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),ub=(e,o)=>{var r=e.rows;for(let t=0;t<r.length;t++){var n=r[t].cells;for(let e=0;e<n.length;e++)if(I(n[e],o))return Q.some(sb(e,t))}return Q.none()},gb=(e,r,t,n,a)=>{var A=[],i=e.rows;for(let o=t;o<=a;o++){let e=i[o].cells,t=r<n?e.slice(r,n+1):e.slice(n,r+1);A.push(ib(i[o].element,t))}return A},mb=e=>{return o=e=e,o=f(o.rows,e=>{var t=f(e.cells,e=>{e=si(e);return po(e,"colspan"),po(e,"rowspan"),e}),e=ii(e.element);return Sr(e,t),e}),e=ii(e.element),t=Fo("tbody"),Sr(t,o),q(e,t),e;var t,o},pb=(e,t)=>{var o,r,n,a=J(t.commonAncestorContainer),e=gp(a,e),A=U(e,On),e=(r=e,n=t,xe(r,e=>"li"===Y(e)&&eu(e,n)).fold(Z([]),e=>{return t=r,xe(t,e=>"ul"===Y(e)||"ol"===Y(e)).map(e=>{var t=Fo(Y(e)),e=Ve(yr(e),(e,t)=>lt(t,"list-style"));return vr(t,e),[Fo("li"),t]}).getOr([]);var t})),t=A.concat(e.length?e:(o=a,In(o)?Lo(o).filter(Un).fold(Z([]),e=>[o,e]):Un(o)?[o]:[]));return f(t,ii)},hb=()=>vg([]),fb=(e,n)=>{return e=e,t=n[0],cr(t,"table",w(I,e)).bind(e=>{var A,t,o=n[0],r=n[n.length-1],e=(e=>{let u=Ab(ii(e),0,[]);return j(Gr(e,"tr"),(d,c)=>{j(Gr(d,"td,th"),(e,t)=>{var o=u,r=((e,t,o)=>{for(;db(e,t,o);)t++;return t})(u,t,c),n=c,a=d,A=e,i=lb(A,"rowspan"),s=lb(A,"colspan"),l=o.rows;for(let t=n;t<n+i;t++){l[t]||(l[t]=ib(si(a),[]));for(let e=r;e<r+s;e++)l[t].cells[e]=t===n&&e===r?A:ii(A)}})}),Ab(u.element,cb(u.rows),u.rows)})(e);return A=e,e=o,t=r,ub(A,e).bind(a=>ub(A,t).map(e=>{return t=A,o=a.x,r=a.y,n=e.x,e=e.y,o=r<e?gb(t,o,r,n,e):gb(t,o,e,n,r),Ab(t.element,cb(o),o);var t,o,r,n})).map(e=>vg([mb(e)]))}).getOrThunk(hb);var t},bb=(e,t)=>{var o=Xc(t,e);return 0<o.length?fb(e,o):(o=e,0<(e=t).length&&e[0].collapsed?hb():(o=o,e=e[0],t=J(e.cloneContents()),o=pb(o,e),t=ve(o,(e,t)=>(q(t,e),t),t),0<o.length?vg([t]):t))},vb=(e,t)=>0<=t&&t<e.length&&Nc(e.charAt(t)),wb=e=>zn(e.innerText),xb=e=>ee(e)?e.outerHTML:te(e)?rA.encodeRaw(e.data,!1):sn(e)?"\x3c!--"+e.data+"--\x3e":"",Bb=(e,t)=>{{e=((g,m)=>{let e=g.length+m.length+2,p=new Array(e),h=new Array(e),i=(o,r,n,a,A)=>{var t=s(o,r,n,a);if(null===t||t.start===r&&t.diag===r-a||t.end===o&&t.diag===o-n){let e=o,t=n;for(;e<r||t<a;)e<r&&t<a&&g[e]===m[t]?(A.push([0,g[e]]),++e,++t):a-n<r-o?(A.push([2,g[e]]),++e):(A.push([1,m[t]]),++t)}else{i(o,t.start,n,t.start-t.diag,A);for(let e=t.start;e<t.end;++e)A.push([0,g[e]]);i(t.end,r,t.end-t.diag,a,A)}},f=(e,t,o,r)=>{let n=e;for(;n-t<r&&n<o&&g[n]===m[n-t];)++n;return{start:e,end:n,diag:t}},s=(a,A,i,s)=>{var l=A-a,d=s-i;if(0!=l&&0!=d){var c=l-d,d=d+l,u=(d%2==0?d:1+d)/2;let e,t,o,r,n;for(p[1+u]=a,h[1+u]=A+1,e=0;e<=u;++e){for(t=-e;t<=e;t+=2){for(o=t+u,t===-e||t!==e&&p[o-1]<p[o+1]?p[o]=p[o+1]:p[o]=p[o-1]+1,r=p[o],n=r-a+i-t;r<A&&n<s&&g[r]===m[n];)p[o]=++r,++n;if(c%2!=0&&c-e<=t&&t<=c+e&&h[o-c]<=p[o])return f(h[o-c],t+a-i,A,s)}for(t=c-e;t<=c+e;t+=2){for(o=t+u-c,t===c-e||t!==c+e&&h[o+1]<=h[o-1]?h[o]=h[o+1]-1:h[o]=h[o-1],r=h[o]-1,n=r-a+i-t;r>=a&&n>=i&&g[r]===m[n];)h[o]=r--,n--;if(c%2==0&&-e<=t&&t<=e&&h[o]<=p[o+c])return f(h[o],t+a-i,A,s)}}}return null},t=[];return i(0,g.length,0,m.length,t),t})(f(Te(t.childNodes),xb),e);var A=t;let a=0;j(e,e=>{if(0===e[0])a++;else if(1===e[0]){var t=A,o=e[1],r=a,n=(e=>{var t,o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)r.appendChild(t);return r})(o);if(t.hasChildNodes()&&r<t.childNodes.length){let e=t.childNodes[r];t.insertBefore(n,e)}else t.appendChild(n);a++}else 2===e[0]&&(o=A,r=a,o.hasChildNodes())&&r<o.childNodes.length&&(r=o.childNodes[r],o.removeChild(r))})}return t},yb=tt(()=>document.implementation.createHTMLDocument("undo")),Cb=t=>{e=t.getBody();var e=U(f(Te(e.childNodes),xb),e=>0<e.length),e=Ce(e,e=>{e=Nm(t.serializer,e);return 0<e.length?[e]:[]}),o=e.join("");return-1!==o.indexOf("</iframe>")?{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:o,bookmark:null,beforeBookmark:null}},_b=(e,t,o)=>{o=o?t.beforeBookmark:t.bookmark;"fragmented"===t.type?Bb(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!P(o)||!Ec(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},kb=e=>"fragmented"===e.type?e.fragments.join(""):e.content,Eb=e=>{var t=Fo("body",yb());return Mr(t,kb(e)),j(Gr(t,"*[data-mce-bogus]"),Ur),Tr(t)},Fb=(e,t)=>{return!(!e||!t||(o=e,r=t,kb(o)!==kb(r)&&(o=e,r=t,Eb(o)!==Eb(r))));var o,r},Sb=e=>0===e.get(),Qb=(e,t,o)=>{Sb(o)&&(e.typing=t)},Ub=(e,t)=>{e.typing&&(Qb(e,!1,t),e.add())},Ib=g=>({init:{bindEvents:z},undoManager:{beforeChange:(e,t)=>{var o;o=g,e=e,t=t,Sb(e)&&t.set(As(o.selection))},add:(e,t,o,r,n,a)=>{var A=g,i=e,s=t,e=o,t=r,o=n,r=a,n=Cb(A),o=T.extend(o||{},n);if(!Sb(e)||A.removed)return null;if(n=i.data[s.get()],A.dispatch("BeforeAddUndo",{level:o,lastLevel:n,originalEvent:r}).isDefaultPrevented())return null;if(n&&Fb(n,o))return null;if(i.data[s.get()]&&t.get().each(e=>{i.data[s.get()].beforeBookmark=e}),(e=yl(A))&&i.data.length>e){for(let e=0;e<i.data.length-1;e++)i.data[e]=i.data[e+1];i.data.length--,s.set(i.data.length)}return o.bookmark=As(A.selection),s.get()<i.data.length-1&&(i.data.length=s.get()+1),i.data.push(o),s.set(i.data.length-1),t={level:o,lastLevel:n,originalEvent:r},0<s.get()?(A.setDirty(!0),A.dispatch("AddUndo",t),A.dispatch("change",t)):A.dispatch("AddUndo",t),o},undo:(t,o,r)=>{{var n=g;let e;return t.typing&&(t.add(),t.typing=!1,Qb(t,!1,o)),0<r.get()&&(r.set(r.get()-1),e=t.data[r.get()],_b(n,e,!0),n.setDirty(!0),n.dispatch("Undo",{level:e})),e}},redo:(t,o)=>{{var r=g;let e;return t.get()<o.length-1&&(t.set(t.get()+1),e=o[t.get()],_b(r,e,!1),r.setDirty(!0),r.dispatch("Redo",{level:e})),e}},clear:(e,t)=>{return o=g,t=t,(e=e).data=[],t.set(0),e.typing=!1,void o.dispatch("ClearUndos");var o},reset:e=>{(e=e).clear(),e.add()},hasUndo:(e,t)=>{return o=g,e=e,0<t.get()||e.typing&&e.data[0]&&!Fb(Cb(o),e.data[0]);var o},hasRedo:(e,t)=>(e=e,t.get()<e.data.length-1&&!e.typing),transact:(e,t,o)=>(e=e,t=t,o=o,Ub(e,t),e.beforeChange(),e.ignore(o),e.add()),ignore:(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:(o,r,n,e)=>{var a=g,t=n,n=e;if(o.transact(t)){let e=o.data[r.get()].bookmark,t=o.data[r.get()-1];_b(a,t,!0),o.transact(n)&&(o.data[r.get()-1].beforeBookmark=e)}}},formatter:{match:(e,t,o,r)=>Bf(g,e,t,o,r),matchAll:(t,o)=>{{var a=g,A=t,i=o;let r=[],n={},e=a.selection.getStart();return a.dom.getParent(e,t=>{for(let e=0;e<A.length;e++){var o=A[e];!n[o]&&xf(a,t,o,i)&&(n[o]=!0,r.push(o))}},a.dom.getRoot()),r}},matchNode:(e,t,o,r)=>xf(g,e,t,o,r),canApply:e=>{var t=g,o=e,r=t.formatter.get(o),n=t.dom;if(r&&t.selection.isEditable()){let e=t.selection.getStart(),o=wu(n,e);for(let e=r.length-1;0<=e;e--){let t=r[e];if(!yu(t))return!0;for(let e=o.length-1;0<=e;e--)if(n.is(o[e],t.selector))return!0}}return!1},closest:e=>{{var r=g,n=e;let t=e=>I(e,J(r.getBody()));return Q.from(r.selection.getStart(!0)).bind(e=>pf(J(e),o=>Me(n,e=>{return t=o,e=e,xf(r,t.dom,e)?Q.some(e):Q.none();var t}),t)).getOrNull()}},apply:(e,t,o)=>v1(g,e,t,o),remove:(e,t,o,r)=>g1(g,e,t,o,r),toggle:(e,t,o)=>{var r,n;e=e,t=t,o=o,(n=(r=g).formatter.get(e))&&(!Bf(r,e,t,o)||"toggle"in n[0]&&!n[0].toggle?v1:g1)(r,e,t,o)},formatChanged:(e,t,o,r,n)=>{var a=g,A=e,i=t,s=o,e=r,t=n;{var l=a,o=i,d=s,c=e,u=t;let n=(a=A).get();j(o.split(","),t=>{var o=x(n,t).getOrThunk(()=>{var e={withSimilar:{state:OA(!1),similar:!0,callbacks:[]},withoutSimilar:{state:OA(!1),similar:!1,callbacks:[]},withVars:[]};return n[t]=e}),r=()=>{var e=y1(l);return B1(l,e,t,c,u).isSome()};if(F(u)){let e=c?o.withSimilar:o.withoutSimilar;e.callbacks.push(d),1===e.callbacks.length&&e.state.set(r())}else o.withVars.push({state:OA(r()),similar:c,vars:u,callback:d})}),a.set(n)}return{unbind:()=>{{var e=A,t=i,r=s;let o=e.get();j(t.split(","),t=>x(o,t).each(e=>{o[t]={withSimilar:{...e.withSimilar,callbacks:U(e.withSimilar.callbacks,e=>e!==r)},withoutSimilar:{...e.withoutSimilar,callbacks:U(e.withoutSimilar.callbacks,e=>e!==r)},withVars:U(e.withVars,e=>e.callback!==r)}})),e.set(o)}}}}},editor:{getContent:e=>{return t=g,o=e,Q.from(t.getBody()).fold(Z("tree"===o.format?new Dm("body",11):""),e=>zm(t,o,e));var t,o},setContent:(e,t)=>{return i=g,s=e,l=t,Q.from(i.getBody()).map(e=>{if(cf(s))return t=i,o=e,r=s,n=l,jh(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),r),a=Gm({validate:!1},t.schema).serialize(r),o=Hn(J(o))?a:T.trim(a),uf(t,o,n.no_selection),{content:r,html:o};a=i,t=e,n=s,r=l;if(0===n.length||/^\s+$/.test(n))return o='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>"),A=Qs(a),n=a.schema.isValidChild(t.nodeName.toLowerCase(),A.toLowerCase())?(n=o,a.dom.createHTML(A,Us(a),n)):n||o,uf(a,n,r.no_selection),{content:n,html:n};"raw"!==r.format&&(n=Gm({validate:!1},a.schema).serialize(a.parser.parse(n,{isRootContent:!0,insert:!0})));var t,o,r,n,a,A=Hn(J(t))?n:T.trim(n);return uf(a,A,r.no_selection),{content:A,html:A}}).getOr({content:s,html:cf(l.content)?"":l.content});var i,s,l},insertContent:(e,t)=>df(g,e,t),addVisual:t=>{{var n=g;let r=n.dom,e=P(t)?t:n.getBody();j(r.select("table,a",e),e=>{switch(e.nodeName){case"TABLE":var t=Il(n),o=r.getAttrib(e,"border");o&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t);break;case"A":r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=Tl(n),o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t))}}),n.dispatch("VisualAid",{element:t,hasVisual:n.hasVisual})}}},selection:{getContent:(e,t)=>{return[l,t={}]=[g,t],e=e,t={...t,format:e,get:!0,selection:!0,getInner:!0},ob(l,t).fold(O,e=>{t=l;var t,o,i,r,n,a,A,s="text"===(o=e).format?(i=t,Q.from(i.selection.getRng()).map(e=>{let r=Q.from(i.dom.getParent(e.commonAncestorContainer,i.dom.isBlock)),n=i.getBody(),t=r.map(e=>e.nodeName).getOr("div").toLowerCase(),o=J(e.cloneContents());Pm(o),Vm(o);var e=i.dom.add(n,t,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},o.dom),a=wb(e),A=zn(null!=(A=e.textContent)?A:"");if(i.dom.remove(e),vb(A,0)||vb(A,A.length-1)){let e=r.getOr(n),t=wb(e),o=t.indexOf(a);return-1===o?a:(vb(t,o-1)?" ":"")+a+(vb(t,o+a.length)?" ":"")}return a}).getOr("")):(n=o,a=(r=t).selection.getRng(),A=r.dom.create("body"),s=r.selection.getSel(),s=Em(r,Wc(s)),(s=n.contextual?bb(J(r.getBody()),s).dom:a.cloneContents())&&A.appendChild(s),a=r.selection.serializer.serialize(A,n),"tree"!==o.format&&t.selection.isCollapsed()?"":a);return rb(l,s,e)});var l}},autocompleter:{addDecoration:e=>Um(g,e),removeDecoration:()=>{return o=g,e=J(g.getBody()),Im(e).each(e=>{var t=o.selection.getBookmark();Ur(e),o.selection.moveToBookmark(t)});var o,e}},raw:{getModel:()=>Q.none()}}),Tb=e=>X(e.plugins,"rtc"),Mb=e=>e.rtcInstance||Ib(e),h=e=>{e=e.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},Hb=e=>h(e).init.bindEvents(),Db=e=>0===e.dom.length?($(e),Q.none()):Q.some(e),Ob=(e,t,A,i)=>{e.bind(a=>((i?Zp:Kp)(a.dom,i?a.dom.length:0),t.filter(no).map(e=>{var t,o,r,n;t=A,o=i,r=a.dom,e=e.dom,n=(o?r:e).length,o?(Gp(r,e,!1,!o),t.setStart(e,n)):(Gp(e,r,!1,!o),t.setEnd(e,n))}))).orThunk(()=>{var e;return e=i,t.filter(e=>ju.isBookmarkNode(e.dom)).bind(e?Vo:Po).or(t).filter(no).map(e=>{var o,r;o=e,r=i,Lo(o).each(e=>{var t=o.dom;r&&Hp(e,M(t,0))?Kp(t,0):!r&&Dp(e,M(t,t.length))&&Zp(t,t.length)})})})},Lb=(e,t,o)=>{var r;X(e,t)&&(0===(r=U(e[t],e=>e!==o)).length?delete e[t]:e[t]=r)},Nb=e=>!(!e||!e.ownerDocument)&&Mo(J(e.ownerDocument),J(e)),Rb=(l,r,e,i)=>{let n,a,o=((o,r)=>{let a,A,i=(t,e)=>xe(e,e=>o.is(e,t)),s=e=>o.getParents(e,void 0,o.getRoot());return{selectorChangedWithUnbind:(e,t)=>(a||(a={},A={},r.on("NodeChange",e=>{let o=e.element,r=s(o),n={};W(a,(e,o)=>{i(o,r).each(t=>{A[o]||(j(e,e=>{e(!0,{node:t,selector:o,parents:r})}),A[o]=e),n[o]=e})}),W(A,(e,t)=>{n[t]||(delete A[t],j(e,e=>{e(!1,{node:o,selector:t,parents:r})}))})})),a[e]||(a[e]=[]),a[e].push(t),i(e,s(r.selection.getStart())).each(()=>{A[e]=a[e]}),{unbind:()=>{Lb(a,e,t),Lb(A,e,t)}})}})(l,i).selectorChangedWithUnbind,t=(e,t)=>{var s;[s,t={}]=[i,t],e=e,t={format:"html",...t,set:!0,selection:!0,content:e},nb(s,t).each(e=>{A=s;var t,o,r,n,a,A="raw"!==(t=e).format?(i=A.selection.getRng(),i=(i=A.dom.getParent(i.commonAncestorContainer,A.dom.isBlock))?{context:i.nodeName.toLowerCase()}:{},i=A.parser.parse(t.content,{forced_root_block:!1,...i,...t}),Gm({validate:!1},A.schema).serialize(i)):t.content,i=s.selection.getRng();o=(t=i).createContextualFragment(A),r=Q.from(o.firstChild).map(J),n=Q.from(o.lastChild).map(J),t.deleteContents(),t.insertNode(o),o=r.bind(Po).filter(no).bind(Db),a=n.bind(Vo).filter(no).bind(Db),Ob(o,r,t,!0),Ob(a,n,t,!1),t.collapse(!1),s.selection.setRng(i),qg(s,i),ab(s,A,e)})},A=e=>{var t=d();t.collapse(!!e),c(t)},s=()=>r.getSelection?r.getSelection():r.document.selection,d=()=>{let t;var e=(e,t,o)=>{try{return t.compareBoundaryPoints(e,o)}catch(e){return-1}},o=r.document;if(P(i.bookmark)&&!xm(i)){let e=lm(i);if(e.isSome())return e.map(e=>Em(i,[e])[0]).getOr(o.createRange())}try{let e=s();e&&!Yr(e.anchorNode)&&(t=0<e.rangeCount?e.getRangeAt(0):o.createRange(),t=Em(i,[t])[0])}catch(e){}if(t=t||o.createRange(),ln(t.startContainer)&&t.collapsed){let e=l.getRoot();t.setStart(e,0),t.setEnd(e,0)}return n&&a&&(0===e(t.START_TO_START,t,n)&&0===e(t.END_TO_END,t,n)?t=a:(n=null,a=null)),t},c=(t,e)=>{if((o=t)&&Nb(o.startContainer)&&Nb(o.endContainer)){var o=s();if(t=i.dispatch("SetSelectionRange",{range:t,forward:e}).range,o){a=t;try{o.removeAllRanges(),o.addRange(t)}catch(t){}!1===e&&o.extend&&(o.collapse(t.endContainer,t.endOffset),o.extend(t.startContainer,t.startOffset)),n=0<o.rangeCount?o.getRangeAt(0):null}if(!t.collapsed&&t.startContainer===t.endContainer&&null!=o&&o.setBaseAndExtent&&t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()){let e=t.startContainer.childNodes[t.startOffset];e&&"IMG"===e.nodeName&&(o.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),o.anchorNode===t.startContainer&&o.focusNode===t.endContainer||o.setBaseAndExtent(e,0,e,1))}i.dispatch("AfterSetSelectionRange",{range:t,forward:e})}},u=()=>{var e=s(),t=null==e?void 0:e.anchorNode,o=null==e?void 0:e.focusNode;if(!e||!t||!o||Yr(t)||Yr(o))return!0;var r=l.createRng(),n=l.createRng();try{r.setStart(t,e.anchorOffset),r.collapse(!0),n.setStart(o,e.focusOffset),n.collapse(!0)}catch(e){return!0}return r.compareBoundaryPoints(r.START_TO_START,n)<=0},g={dom:l,win:r,serializer:e,editor:i,expand:(e={type:"word"})=>c(Ig(l).expand(d(),e)),collapse:A,setCursorLocation:(e,t)=>{var o=l.createRng();P(e)&&P(t)?(o.setStart(e,t),o.setEnd(e,t),c(o),A(!1)):(tu(l,o,i.getBody(),!0),c(o))},getContent:e=>{return[e={}]=[e],t=i,o=e.format||"html",e=e,h(t).selection.getContent(o,e);var t,o},setContent:t,getBookmark:(e,t)=>m.getBookmark(e,t),moveToBookmark:e=>m.moveToBookmark(e),select:(e,t)=>{return n=l,o=e,a=t,Q.from(o).bind(r=>Q.from(r.parentNode).map(e=>{var t=n.nodeIndex(r),o=n.createRng();return o.setStart(e,t),o.setEnd(e,t+1),a&&(tu(n,o,r,!0),tu(n,o,r,!1)),o})).each(c),e;var n,o,a},isCollapsed:()=>{var e=d(),t=s();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{var e=d(),t=i.getBody().querySelectorAll('[data-mce-selected="1"]');return 0<t.length?_e(t,e=>l.isEditable(e.parentElement)):e.startContainer===e.endContainer?l.isEditable(e.startContainer):l.isEditable(e.startContainer)&&l.isEditable(e.endContainer)},isForward:u,setNode:e=>(t(l.getOuterHTML(e)),e),getNode:()=>{{var r=i.getBody(),n=d();if(!n)return r;let e=n.startContainer,t=n.endContainer;var a=n.startOffset,A=n.endOffset;let o=n.commonAncestorContainer;return n.collapsed||(e===t&&A-a<2&&e.hasChildNodes()&&(o=e.childNodes[a]),te(e)&&te(t)&&(e=e.length===a?km(e.nextSibling,!0):e.parentNode,t=0===A?km(t.previousSibling,!1):t.parentNode,e)&&e===t&&(o=e)),n=te(o)?o.parentNode:o,ee(n)?n:r}},getSel:s,setRng:c,getRng:d,getStart:e=>Cm(i.getBody(),d(),e),getEnd:e=>_m(i.getBody(),d(),e),getSelectedBlocks:(e,t)=>{var o,r=l,n=d(),a=e,e=t,A=[],t=r.getRoot(),i=r.getParent(a||Cm(t,n,n.collapsed),r.isBlock),s=r.getParent(e||_m(t,n,n.collapsed),r.isBlock);if(i&&i!==t&&A.push(i),i&&s&&i!==s){let e=new Wr(i,t);for(;(o=e.next())&&o!==s;)r.isBlock(o)&&A.push(o)}return s&&i!==s&&s!==t&&A.push(s),A},normalize:()=>{let t=d(),e=s();if(1<Wc(e).length||!ou(i))return t;{let e=Sg(l,t);return e.each(e=>{c(e,u())}),e.getOr(t)}},selectorChanged:(e,t)=>(o(e,t),g),selectorChangedWithUnbind:o,getScrollContainer:()=>{let e,t=l.getRoot();for(;t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:(e,t)=>{var o,r;P(e)?(e=e,r=t,((o=i).inline?Xg:Jg)(o,e,r)):qg(i,d(),t)},placeCaretAt:(e,t)=>c(xg(e,t,i.getDoc())),getBoundingClientRect:()=>{var e=d();return e.collapsed?M.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{r=n=a=null,p.destroy()}},m=ju(g),p=ag(g,i);return g.bookmarkManager=m,g.controlSelection=p,g},Pb=(e,t,o)=>{-1===T.inArray(t,o)&&(e.addAttributeFilter(o,(e,t)=>{let o=e.length;for(;o--;)e[o].attr(t,null)}),t.push(o))},Vb=(e,a)=>{let t=["data-mce-selected"],A={entity_encoding:"named",remove_trailing_brs:!0,...e},i=a&&a.dom?a.dom:oe.DOM,s=a&&a.schema?a.schema:hA(A),l=eb(A,s);return o=l,d=A,c=i,o.addAttributeFilter("data-mce-tabindex",(e,t)=>{let o=e.length;for(;o--;){var r=e[o];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}}),o.addAttributeFilter("src,href,style",(o,r)=>{var n="data-mce-"+r,a=d.url_converter,A=d.url_converter_scope;let i=o.length;for(;i--;){let e=o[i],t=e.attr(n);void 0!==t?(e.attr(r,0<t.length?t:null),e.attr(n,null)):(t=e.attr(r),"style"===r?t=c.serializeStyle(c.parseStyle(t),e.name):a&&(t=a.call(A,t,r,e.name)),e.attr(r,0<t.length?t:null))}}),o.addAttributeFilter("class",t=>{let o=t.length;for(;o--;){var r=t[o];let e=r.attr("class");e&&(e=e.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",0<e.length?e:null))}}),o.addAttributeFilter("data-mce-type",(e,t,o)=>{let r=e.length;for(;r--;){let t=e[r];if("bookmark"===t.attr("data-mce-type")&&!o.cleanup){let e=Q.from(t.firstChild).exists(e=>!Vn(null!=(e=e.value)?e:""));e?t.unwrap():t.remove()}}}),o.addNodeFilter("noscript",e=>{let t,o=e.length;for(;o--;){var r=e[o].firstChild;r&&(r.value=rA.decode(null!=(t=r.value)?t:""))}}),o.addNodeFilter("script,style",(e,t)=>{var o=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;for(;r--;){var n=e[r],a=n.firstChild,A=null!=(A=null==a?void 0:a.value)?A:"";if("script"===t){let e=n.attr("type");e&&n.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===d.element_format&&a&&0<A.length&&(a.value="// <![CDATA[\n"+o(A)+"\n// ]]>")}else"xhtml"===d.element_format&&a&&0<A.length&&(a.value="\x3c!--\n"+o(A)+"\n--\x3e")}}),o.addNodeFilter("#comment",e=>{let t=e.length;for(;t--;){var o=e[t],r=o.value;d.preserve_cdata&&0===(null==r?void 0:r.indexOf("[CDATA["))?(o.name="#cdata",o.type=4,o.value=c.decode(r.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==r?void 0:r.indexOf("mce:protected "))&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(r).substr(14))}}),o.addNodeFilter("xml:namespace,input",(e,t)=>{let o=e.length;for(;o--;){var r=e[o];7===r.type?r.remove():1!==r.type||"input"!==t||r.attr("type")||r.attr("type","text")}}),o.addAttributeFilter("data-mce-type",e=>{j(e,e=>{"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(o.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),o.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let o=e.length;for(;o--;)e[o].attr(t,null)}),d.remove_trailing_brs&&F1(o,o.schema),{schema:s,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:(e,t={})=>{var o,r,n,t={format:"html",...t},e=((r,t,n)=>{if(A=r,i=n,P(A)&&A.hasEventListeners("PreProcess")&&!i.no_events){var a=r,A=t,i=n;let e;r=a.dom;let o=A.cloneNode(!0);if((A=document.implementation).createHTMLDocument){let t=A.createHTMLDocument("");T.each("BODY"===o.nodeName?o.childNodes:[o],e=>{t.body.appendChild(t.importNode(e,!0))}),o="BODY"!==o.nodeName?t.body.firstChild:t.body,e=r.doc,r.doc=t}return A=a,a={...i,node:o},A.dispatch("PreProcess",a),e&&(r.doc=e),o}return t;var A,i})(a,e,t),e=((e,t,o)=>{e=zn(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Hn(J(t))?e:T.trim(e)})(i,e,t),e=((e,t,o)=>{var o=o.selection?{forced_root_block:!1,...o}:o,e=e.parse(t,o),r=e,t=e=>"br"===(null==e?void 0:e.name),o=r.lastChild;if(t(o)){let e=o.prev;t(e)&&(o.remove(),e.remove())}return e})(l,e,t);return"tree"===t.format?e:(o=a,r=A,n=s,t=t,r=r,n=n,e=e,r=Gm(r,n).serialize(e),n=r,!t.no_events&&o?(e=o,r={...t,content:n},e.dispatch("PostProcess",r).content):n)},addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:w(Pb,l,t),getTempAttrs:Z(t),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters,removeNodeFilter:l.removeNodeFilter,removeAttributeFilter:l.removeAttributeFilter};var o,d,c},zb=(e,t)=>{e=Vb(e,t);return{schema:e.schema,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:e.serialize,addRules:e.addRules,setRules:e.setRules,addTempAttr:e.addTempAttr,getTempAttrs:e.getTempAttrs,getNodeFilters:e.getNodeFilters,getAttributeFilters:e.getAttributeFilters,removeNodeFilter:e.removeNodeFilter,removeAttributeFilter:e.removeAttributeFilter}},Kb=(n,e,t={})=>{o=e;var o,t={format:"html",...t,set:!0,content:o};return nb(n,t).map(e=>{r=n,t=e.content,o=e;var t,o,r=Mb(r).editor.setContent(t,o);return ab(n,r.html,e),r.content}).getOr(e)},Zb="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Gb="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),jb="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Wb=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],Xb=(t,e)=>{e=U(e,e=>X(t,e));return Se(e)},Yb=(e,t)=>{let o=T.makeMap(e.plugins," "),r=U(t,e=>X(o,e));return Se(r)},Jb=t=>xe(Wb,e=>e.name===t).fold(()=>t,e=>e.replacedWith?t+", replaced by "+e.replacedWith:t),qb=oe.DOM,$b=e=>Q.from(e).each(e=>e.destroy()),ev=(()=>{let o={};return{add:(e,t)=>{o[e]=t},get:e=>o[e]||{icons:{}},has:e=>X(o,e)}})(),tv=VA.ModelManager,ov=(e,t)=>t.dom[e],rv=(e,t)=>parseInt(wr(t,e),10),nv=w(ov,"clientWidth"),av=w(ov,"clientHeight"),Av=w(rv,"margin-top"),iv=w(rv,"margin-left"),sv=r=>{let n=[],a=()=>{var e=r.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():{open:e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,getArgs:e}},A=()=>Q.from(n[0]),i=()=>{j(n,e=>{e.reposition()})},s=t=>{Be(n,e=>e===t).each(e=>{n.splice(e,1)})},t=(o,e=!0)=>{return r.removed||(t=(t=r).inline?t.getBody():t.getContentAreaContainer(),!Q.from(t).map(J).map(nr).getOr(!1))?{}:(e&&r.dispatch("BeforeOpenNotification",{notification:o}),xe(n,e=>!((e=a().getArgs(e)).type!==o.type||e.text!==o.text||e.progressBar||e.timeout||o.progressBar||o.timeout)).getOrThunk(()=>{r.editorManager.setActive(r);let e=a().open(o,()=>{s(e),i(),A().fold(()=>r.focus(),e=>$g(J(e.getEl())))});return t=e,n.push(t),i(),r.dispatch("OpenNotification",{notification:{...e}}),e;var t}));var t},e=Z(n);return(o=r).on("SkinLoaded",()=>{var e=il(o);e&&t({text:e,type:"warning",timeout:0},!1),i()}),o.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(i)}),o.on("remove",()=>{j(n.slice(),e=>{a().close(e)})}),{open:t,close:()=>{A().each(e=>{a().close(e),s(e),i()})},getNotifications:e};var o},lv=VA.PluginManager,dv=VA.ThemeManager,cv=o=>{let r=[],n=()=>{var e=o.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:e,alert:e,confirm:e,close:e}},a=(t,o)=>(...e)=>o?o.apply(t,e):void 0,A=t=>{o.dispatch("CloseWindow",{dialog:t}),0===(r=U(r,e=>e!==t)).length&&o.focus()},i=e=>{o.editorManager.setActive(o),sm(o),o.ui.show();var t,e=e();return t=e,r.push(t),o.dispatch("OpenWindow",{dialog:t}),e};return o.on("remove",()=>{j(r,e=>{n().close(e)})}),{open:(e,t)=>i(()=>n().open(e,t,A)),openUrl:e=>i(()=>n().openUrl(e,A)),alert:(e,t,o)=>{var r=n();r.alert(e,a(o||r,t))},confirm:(e,t,o)=>{var r=n();r.confirm(e,a(o||r,t))},close:()=>{Q.from(r[r.length-1]).each(e=>{n().close(e),A(e)})}}},uv=(e,t)=>{e.notificationManager.open({type:"error",text:t})},gv=(e,t)=>{e._skinLoaded?uv(e,t):e.on("SkinLoaded",()=>{uv(e,t)})},mv=(e,t,o)=>{Xu(e,t,{message:o}),console.error(o)},pv=(e,t,o)=>o?`Failed to load ${e}: ${o} from url `+t:`Failed to load ${e} url: `+t,hv=(e,...t)=>{var o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},fv=(t,e)=>{let o=t.editorManager.baseURL+"/skins/content",r=`content${t.editorManager.suffix}.css`;return f(e,e=>/^[a-z0-9\-]+$/i.test(e)&&!t.inline?o+`/${e}/`+r:t.documentBaseURI.toAbsolute(e))},bv=(r,n)=>{let a={};return{findAll:(e,o=de)=>{e=U((e=e)?Te(e.getElementsByTagName("img")):[],e=>{var t=e.src;return!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t===L.transparentSrc)&&(lt(t,"blob:")?!r.isUploaded(t)&&o(e):!!lt(t,"data:")&&o(e))}),e=f(e,t=>{let o=t.src;var e;return X(a,o)?a[o].then(e=>R(e)?e:{image:t,blobInfo:e.blobInfo}):(e=((o,e)=>{let r=()=>Promise.reject("Invalid data URI");var t,n,a;return lt(e,"blob:")?(n=o.getByUri(e),P(n)?Promise.resolve(n):(n=e,(lt(n,"blob:")?(t=n,fetch(t).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))):lt(n,"data:")?(a=n,new Promise((e,t)=>{S1(a).bind(({type:e,data:t,base64Encoded:o})=>Q1(e,t,o)).fold(()=>t("Invalid data URI"),e)})):Promise.reject("Unknown URI format")).then(t=>U1(t).then(e=>T1(e,!1,e=>Q.some(M1(o,t,e))).getOrThunk(r))))):lt(e,"data:")?H1(o,e).fold(r,e=>Promise.resolve(e)):Promise.reject("Unknown image data format")})(n,o).then(e=>(delete a[o],{image:t,blobInfo:e})).catch(e=>(delete a[o],e)),a[o]=e)});return Promise.all(e)}}},vv=()=>{let o={},r=(e,t)=>({status:e,resultUri:t}),t=e=>e in o;return{hasBlobUri:t,getResultUri:e=>{e=o[e];return e?e.resultUri:null},isPending:e=>!!t(e)&&1===o[e].status,isUploaded:e=>!!t(e)&&2===o[e].status,markPending:e=>{o[e]=r(1,null)},markUploaded:(e,t)=>{o[e]=r(2,t)},removeFailed:e=>{delete o[e]},destroy:()=>{o={}}}},wv=0,xv=(s,A)=>{let r={},n=(t,a)=>new Promise((o,r)=>{let n=new XMLHttpRequest;n.open("POST",A.url),n.withCredentials=A.credentials,n.upload.onprogress=e=>{a(e.loaded/e.total*100)},n.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+n.status)},n.onload=()=>{var e,t;n.status<200||300<=n.status?r("HTTP Error: "+n.status):(t=JSON.parse(n.responseText))&&R(t.location)?o((e=A.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):r("Invalid JSON: "+n.responseText)};var e=new FormData;e.append("file",t.blob(),t.filename()),n.send(e)}),l=V(A.handler)?A.handler:n,d=(e,t)=>({url:t,blobInfo:e,status:!0}),c=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),u=(e,t)=>{T.each(r[e],e=>{e(t)}),delete r[e]};return{upload:(e,t)=>{return A.url||l!==n?(e=e,o=t,e=T.grep(e,e=>!s.isUploaded(e.blobUri())),Promise.all(T.map(e,e=>{if(s.isPending(e.blobUri())){let t=e.blobUri();return new Promise(e=>{r[t]=r[t]||[],r[t].push(e)})}return a=e,A=l,i=o,s.markPending(a.blobUri()),new Promise(o=>{let r,n;try{let t=()=>{r&&(r.close(),n=z)},e=e=>{t(),s.markUploaded(a.blobUri(),e),u(a.blobUri(),d(a,e)),o(d(a,e))};n=t=>{t<0||100<t||Q.from(r).orThunk(()=>Q.from(i).map(se)).each(e=>{(r=e).progressBar.value(t)})},A(a,n).then(e,e=>{e=R(e)?{message:e}:e,t(),s.removeFailed(a.blobUri()),u(a.blobUri(),c(a,e)),o(c(a,e))})}catch(e){o(c(a,e))}});var a,A,i}))):new Promise(e=>{e([])});var o}}},Bv=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),yv=(e,t)=>xv(t,{url:Vs(e),basePath:zs(e),credentials:Ks(e),handler:Zs(e)}),Cv=d=>{let c=(()=>{let o=[],a=e=>{var t,o,r;if(e.blob&&e.base64)return r=e.id||"blobid"+wv+++(r=()=>Math.round(4294967295*Math.random()).toString(36),"s")+(new Date).getTime().toString(36)+r()+r()+r(),t=e.name||r,o=e.blob,{id:Z(r),name:Z(t),filename:Z(e.filename||t+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[o.type.toLowerCase()]||"dat")),blob:Z(o),base64:Z(e.base64),blobUri:Z(e.blobUri||URL.createObjectURL(o)),uri:Z(e.uri)};throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")},e=e=>xe(o,e).getOrUndefined(),t=t=>e(e=>e.id()===t);return{create:(e,t,o,r,n)=>{if(R(e))return a({id:e,name:r,filename:n,blob:t,base64:o});if(v(e))return a(e);throw new Error("Unknown input type")},add:e=>{t(e.id())||o.push(e)},get:t,getByUri:t=>e(e=>e.blobUri()===t),getByData:(t,o)=>e(e=>e.base64()===t&&e.blob().type===o),findFirst:e,removeByUri:t=>{o=U(o,e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1))},destroy:()=>{j(o,e=>{URL.revokeObjectURL(e.blobUri())}),o=[]}}})(),t,e,n=vv(),o=[],r=t=>e=>d.selection?t(e):[],a=(e,t,o)=>{let r=0;for(;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+o+e.substr(r+t.length),r+=o.length-t.length+1),-1!==r;);return e},A=(e,t,o)=>{var r=`src="${o}"`+(o===L.transparentSrc?' data-mce-placeholder="1"':"");return e=a(e,`src="${t}"`,r),a(e,'data-mce-src="'+t+'"','data-mce-src="'+o+'"')},u=(t,o)=>{j(d.undoManager.data,e=>{"fragmented"===e.type?e.fragments=f(e.fragments,e=>A(e,t,o)):e.content=A(e.content,t,o)})},i=()=>(t=t||yv(d,n),g().then(r(l=>{var e=f(l,e=>e.blobInfo);return t.upload(e,Bv(d)).then(r(e=>{let i=[],s=!1;e=f(e,(e,t)=>{var o,r,n,{blobInfo:t,image:a}=l[t];let A=!1;return e.status&&Ns(d)?(e.url&&!st(a.src,e.url)&&(s=!0),c.removeByUri(a.src),Tb(d)||(o=a,r=e.url,n=d.convertURL(r,"src"),u(o.src,r),co(J(o),{src:Ls(d)?r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime():r,"data-mce-src":n}))):e.error&&(e.error.remove&&(u(a.src,L.transparentSrc),i.push(a),A=!0),o=d,r=e.error.message,gv(o,PA.translate(["Failed to upload image: {0}",r]))),{element:a,status:e.status,uploadUri:e.url,blobInfo:t,removed:A}});return 0<i.length&&!Tb(d)?d.undoManager.transact(()=>{j(Ir(i),e=>{var r,t=Lo(e);$(e),t.each((r=d,e=>{var t,o;o=e,(t=r).dom.isEmpty(o.dom)&&P(t.schema.getTextBlockElements()[Y(o)])&&q(e,Eo('<br data-mce-bogus="1" />'))})),c.removeByUri(e.dom.src)})}):s&&d.undoManager.dispatchChange(),e}))}))),s=()=>Os(d)?i():Promise.resolve([]),l=t=>_e(o,e=>e(t)),g=()=>(e=e||bv(n,c)).findAll(d.getBody(),l).then(r(e=>{e=U(e,e=>R(e)?(gv(d,e),!1):"blob"!==e.uriType);return Tb(d)||j(e,e=>{u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e})),m=e=>e.replace(/src="(blob:[^"]+)"/g,(e,o)=>{var t=n.getResultUri(o);if(t)return'src="'+t+'"';let r=c.getByUri(o);return(r=r||ve(d.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o),void 0))?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e});return d.on("SetContent",()=>{(Os(d)?s:g)()}),d.on("RawSaveContent",e=>{e.content=m(e.content)}),d.on("GetContent",e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=m(e.content))}),d.on("PostRender",()=>{d.parser.addNodeFilter("img",e=>{j(e,e=>{var t=e.attr("src");t&&!c.getByUri(t)&&(t=n.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:c,addFilter:e=>{o.push(e)},uploadImages:i,uploadImagesAuto:s,scanForImages:g,destroy:()=>{c.destroy(),n.destroy(),e=t=null}}},_v={remove_similar:!0,inherit:!1},kv={selector:"td,th",..._v},Ev={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...kv},tablecellverticalalign:{styles:{"vertical-align":"%value"},...kv},tablecellbordercolor:{styles:{borderColor:"%value"},...kv},tablecellclass:{classes:["%value"],...kv},tableclass:{selector:"table",classes:["%value"],..._v},tablecellborderstyle:{styles:{borderStyle:"%value"},...kv},tablecellborderwidth:{styles:{borderWidth:"%value"},...kv}},Fv=Z(Ev),Sv=T.each,Qv=oe.DOM,Uv=e=>P(e)&&v(e),Iv=(r,e)=>{let s=e&&e.schema||hA({}),l=e=>{var t,e=R(e)?{name:e,classes:[],attrs:{}}:e,o=Qv.create(e.name);return t=o,0<(e=e).classes.length&&Qv.addClass(t,e.classes.join(" ")),Qv.setAttribs(t,e.attrs),o},d=(t,e,o)=>{let r;var n=e[0],a=Uv(n)?n.name:void 0,A=((e,t)=>{e=s.getElementRule(e.nodeName.toLowerCase()),e=null==e?void 0:e.parentsRequired;return!(!e||!e.length)&&(t&&K(e,t)?t:e[0])})(t,a);if(A)a===A?(r=n,e=e.slice(1)):r=A;else if(n)r=n,e=e.slice(1);else if(!o)return t;let i=r?l(r):Qv.create("div");i.appendChild(t),o&&T.each(o,e=>{e=l(e);i.insertBefore(e,t)});a=Uv(r)?r.siblings:void 0;return d(i,e,a)},n=Qv.create("div");if(0<r.length){let e=r[0],t=l(e),o=Uv(e)?e.siblings:void 0;n.appendChild(d(t,r.slice(1),o))}return n},Tv=e=>{let t="div",a={name:t,classes:[],attrs:{},selector:e=T.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,o,r,n)=>{switch(t){case"#":a.attrs.id=o;break;case".":a.classes.push(o);break;case":":-1!==T.inArray("checked disabled enabled read-only required".split(" "),o)&&(a.attrs[o]=o)}if("["===r){let e=n.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(a.attrs[e[1]]=e[2])}return""})),a.name=t||"div",a},Mv=(o,t)=>{let r="",n=ml(o);if(""===n)return"";let a=e=>R(e)?e.replace(/%(\w+)/g,""):"",A=(e,t)=>Qv.getStyle(null!=t?t:o.getBody(),e,!0);if(R(t)){let e=o.formatter.get(t);if(!e)return"";t=e[0]}if("preview"in t){let e=t.preview;if(!1===e)return"";n=e||n}let e,i=t.block||t.inline||"span";s=t.selector;var s=R(s)?(s=(s=s.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),T.map(s.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{var e=T.map(e.split(/(?:~\+|~|\+)/),Tv),t=e.pop();return e.length&&(t.siblings=e),t}).reverse()):[];e=0<s.length?(s[0].name||(s[0].name=i),i=t.selector,Iv(s,o)):Iv([i],o);let l=Qv.select(i,e)[0]||e.firstChild,d=(Sv(t.styles,(e,t)=>{e=a(e);e&&Qv.setStyle(l,t,e)}),Sv(t.attributes,(e,t)=>{e=a(e);e&&Qv.setAttrib(l,t,e)}),Sv(t.classes,e=>{e=a(e);Qv.hasClass(l,e)||Qv.addClass(l,e)}),o.dispatch("PreviewFormats"),Qv.setStyles(e,{position:"absolute",left:-65535}),o.getBody().appendChild(e),A("fontSize")),c=/px$/.test(d)?parseInt(d,10):0;return Sv(n.split(" "),e=>{let t=A(e,l);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=A(e),"#ffffff"===jc(t).toLowerCase())||"color"===e&&"#000000"===jc(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===c)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*c+"px"}"border"===e&&t&&(r+="padding:0 2px;"),r+=e+":"+t+";"}}),o.dispatch("AfterPreviewFormats"),Qv.remove(e),r},Hv=A=>{let e=(A=>{let o={},r=(e,t)=>{e&&(R(e)?(re(t)||(t=[t]),j(t,e=>{F(e.deep)&&(e.deep=!yu(e)),F(e.split)&&(e.split=!yu(e)||Cu(e)),F(e.remove)&&yu(e)&&!Cu(e)&&(e.remove="none"),yu(e)&&Cu(e)&&(e.mixed=!0,e.block_expand=!0),R(e.classes)&&(e.classes=e.classes.split(/\s+/))}),o[e]=t):W(e,(e,t)=>{r(t,e)}))};return r((()=>{let r=A.dom,e=A.schema.type,t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{r.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{r.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(o={inline:"span",styles:{textDecoration:"line-through"},exact:!0},n={inline:"strike",remove:"all",preserve_attributes:["class","style"]},a={inline:"s",remove:"all",preserve_attributes:["class","style"]},"html4"!==e?[a,o,n]:[o,a,n]),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,o)=>ee(e)&&e.hasAttribute("href"),onformat:(o,e,t)=>{T.each(t,(e,t)=>{r.setAttrib(o,t,e)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>null!=(e=null==e?void 0:e.customValue)?e:null}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};var o,n,a;return T.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),e=>{t[e]={block:e,remove:"all"}}),t})()),r(Fv()),r(gl(A)),{get:e=>P(e)?o[e]:o,has:e=>X(o,e),register:r,unregister:e=>(e&&o[e]&&delete o[e],o)}})(A),i=OA({});var t,o,a,r=A;r.addShortcut("meta+b","","Bold"),r.addShortcut("meta+i","","Italic"),r.addShortcut("meta+u","","Underline");for(let e=1;e<=6;e++)r.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);return r.addShortcut("access+7","",["FormatBlock",!1,"p"]),r.addShortcut("access+8","",["FormatBlock",!1,"div"]),r.addShortcut("access+9","",["FormatBlock",!1,"address"]),(a=A).on("mouseup keydown",e=>{var t,o,r,n;t=a,e=e.keyCode,o=a.selection.getRng().endContainer,o=te(o)&&dt(o.data,wn),r=t.selection,n=t.getBody(),Ff(t,null,o),8!==e&&46!==e||!r.isCollapsed()||r.getStart().innerHTML!==yf||Ff(t,_c(n,r.getStart())),37!==e&&39!==e||Ff(t,_c(n,r.getStart()))}),Tb(A)||(t=i,o=A,t.set({}),o.on("NodeChange",e=>{C1(o,e.element,t.get())}),o.on("FormatApply FormatRemove",e=>{e=Q.from(e.node).map(e=>au(e)?e:e.startContainer).bind(e=>ee(e)?Q.some(e):Q.from(e.parentElement)).getOrThunk(()=>x1(o));C1(o,e,t.get())})),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:(e,t,o)=>{var r;r=A,e=e,t=t,o=o,h(r).formatter.apply(e,t,o)},remove:(e,t,o,r)=>{var n;n=A,e=e,t=t,o=o,r=r,h(n).formatter.remove(e,t,o,r)},toggle:(e,t,o)=>{var r;r=A,e=e,t=t,o=o,h(r).formatter.toggle(e,t,o)},match:(e,t,o,r)=>{return n=A,e=e,t=t,o=o,r=r,h(n).formatter.match(e,t,o,r);var n},closest:e=>{return t=A,e=e,h(t).formatter.closest(e);var t},matchAll:(e,t)=>{return o=A,e=e,t=t,h(o).formatter.matchAll(e,t);var o},matchNode:(e,t,o,r)=>{return n=A,e=e,t=t,o=o,r=r,h(n).formatter.matchNode(e,t,o,r);var n},canApply:e=>{return t=A,e=e,h(t).formatter.canApply(e);var t},formatChanged:(e,t,o,r)=>{return n=A,a=i,e=e,t=t,o=o,r=r,h(n).formatter.formatChanged(a,e,t,o,r);var n,a},getCssText:w(Mv,A)}},Dv=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Ov=i=>{let s=KA(),l=OA(0),d=OA(0),c={data:[],typing:!1,beforeChange:()=>{var e,t,o;e=i,t=l,o=s,h(e).undoManager.beforeChange(t,o)},add:(e,t)=>{return o=i,r=c,n=d,a=l,A=s,e=e,t=t,h(o).undoManager.add(r,n,a,A,e,t);var o,r,n,a,A},dispatchChange:()=>{i.setDirty(!0);var e=Cb(i);e.bookmark=As(i.selection),i.dispatch("change",{level:e,lastLevel:Qe(c.data,d.get()).getOrUndefined()})},undo:()=>{return e=i,t=c,o=l,r=d,h(e).undoManager.undo(t,o,r);var e,t,o,r},redo:()=>{return e=i,t=d,o=c.data,h(e).undoManager.redo(t,o);var e,t,o},clear:()=>{var e,t,o;e=i,t=c,o=d,h(e).undoManager.clear(t,o)},reset:()=>{var e,t;e=i,t=c,h(e).undoManager.reset(t)},hasUndo:()=>{return e=i,t=c,o=d,h(e).undoManager.hasUndo(t,o);var e,t,o},hasRedo:()=>{return e=i,t=c,o=d,h(e).undoManager.hasRedo(t,o);var e,t,o},transact:e=>{return t=i,o=c,r=l,e=e,h(t).undoManager.transact(o,r,e);var t,o,r},ignore:e=>{var t,o;t=i,o=l,e=e,h(t).undoManager.ignore(o,e)},extra:(e,t)=>{var o,r,n;o=i,r=c,n=d,e=e,t=t,h(o).undoManager.extra(r,n,e,t)}};if(!Tb(i)){var a=i,A=c,u=l;let r=OA(!1),n=e=>{Qb(A,!1,u),A.add({},e)};a.on("init",()=>{A.add()}),a.on("BeforeExecCommand",e=>{e=e.command;Dv(e)||(Ub(A,u),A.beforeChange())}),a.on("ExecCommand",e=>{var t=e.command;Dv(t)||n(e)}),a.on("ObjectResizeStart cut",()=>{A.beforeChange()}),a.on("SaveContent ObjectResized blur",n),a.on("dragend",n),a.on("keyup",e=>{var t,o=e.keyCode;e.isDefaultPrevented()||(t=L.os.isMacOS()&&"Meta"===e.key,(33<=o&&o<=36||37<=o&&o<=40||45===o||e.ctrlKey||t)&&(n(),a.nodeChanged()),46!==o&&8!==o||a.nodeChanged(),r.get()&&A.typing&&!Fb(Cb(a),A.data[0])&&(a.isDirty()||a.setDirty(!0),a.dispatch("TypingUndo"),r.set(!1),a.nodeChanged()))}),a.on("keydown",e=>{var t,o=e.keyCode;e.isDefaultPrevented()||(33<=o&&o<=36||37<=o&&o<=40||45===o?A.typing&&n(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(o<16||20<o)||224===o||91===o||A.typing||t?(L.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&A.beforeChange():(A.beforeChange(),Qb(A,!0,u),A.add({},e),r.set(!0))))}),a.on("mousedown",e=>{A.typing&&n(e)}),a.on("input",e=>{e.inputType&&("insertReplacementText"===e.inputType||"insertText"===e.inputType&&null===e.data||"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)&&n(e)}),a.on("AddUndo Undo Redo ClearUndos",e=>{e.isDefaultPrevented()||a.nodeChanged()})}return(e=i).addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),c;var e},Lv=[9,27,N.HOME,N.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,N.DOWN,N.UP,N.LEFT,N.RIGHT].concat(L.browser.isFirefox()?[224]:[]),Nv="data-mce-placeholder",Rv=e=>"keydown"===e.type||"keyup"===e.type,Pv=e=>{e=e.keyCode;return e===N.BACKSPACE||e===N.DELETE},Vv=(e,t)=>({from:e,to:t}),zv=(e,t)=>{var e=J(e),o=J(t.container());return ch(e,o).map(e=>({block:e,position:t}))},Kv=(t,e)=>dr(e,e=>Mn(e)||un(e.dom),e=>I(e,t)).filter(ro).getOr(t),Zv=e=>{e=(e=>{let t=Zo(e);return Be(t,En).fold(Z(t),e=>t.slice(0,e))})(e);return j(e,$),e},Gv=(e,t)=>{t=gp(t,e);return xe(t.reverse(),e=>E(e)).each($)},jv=(e,t,o,r)=>{if(E(o))return Nn(o),xc(o.dom);0===U(zo(r),e=>!E(e)).length&&E(t)&&_r(r,Fo("br"));o=wc(o.dom,M.before(r.dom));return j(Zv(t),e=>{_r(r,e)}),Gv(e,t),o},Wv=(e,o,r)=>{if(E(r)){if(E(o)){let e=e=>{let o=(e,t)=>jo(e).fold(()=>t,e=>Fn(e)?o(e,t.concat(ii(e))):t);return o(e,[])},t=be(e(r),(e,t)=>(Fr(e,t),t),Ln());Qr(o),q(o,t)}return $(r),xc(o.dom)}let t=Bc(r.dom);return j(Zv(o),e=>{q(r,e)}),Gv(e,o),t},Xv=(e,t)=>{bc(e,t.dom).bind(e=>Q.from(e.getNode())).map(J).filter(Sn).each($)},Yv=(e,t,o)=>{return Xv(!0,t),Xv(!1,o),r=t,n=o,(Mo(n,r)?(n=n,r=r,r=gp(r,n),Q.from(r[r.length-1])):Q.none()).fold(w(Wv,e,t,o),w(jv,e,t,o));var r,n},Jv=(e,t,o,r)=>t?Yv(e,r,o):Yv(e,o,r),qv=(t,o)=>{let r=J(t.getBody()),e=(n=r.dom,a=o,((A=t.selection.getRng()).collapsed?(i=n,s=a,n=A,n=zv(i,M.fromRangeStart(n)),a=n.bind(e=>pc(s,i,e.position).bind(e=>zv(i,e).map(e=>{return t=i,o=s,r=e,k(r.position.getNode())&&!E(r.block)?bc(!1,r.block.dom).bind(e=>e.isEqual(r.position)?pc(o,t,e).bind(e=>zv(t,e)):Q.some(r)).getOr(r):r;var t,o,r}))),Wt(n,a,Vv).filter(e=>{return t=e,!I(t.from.block,t.to.block)&&((e,t)=>{e=J(e);return I(Kv(e,t.from.block),Kv(e,t.to.block))})(i,e)&&(t=e,!1===B(t.from.block.dom))&&!1===B(t.to.block.dom)&&(t=e=>Qn(e)||Qa(e.dom))((e=e).from.block)&&t(e.to.block);var t})):Q.none()).map(e=>()=>{Jv(r,o,e.from.block,e.to.block).each(e=>{t.selection.setRng(e.toRange())})}));var n,a,A,i,s;return e},$v=(e,t)=>{t=J(t),e=w(I,e);return lr(t,Mn,e).isSome()},ew=e=>{var t,o,r,n,a,A=J(e.getBody());if(o=A,r=e.selection.getRng(),n=wc(o.dom,M.fromRangeStart(r)).isNone(),a=vc(o.dom,M.fromRangeEnd(r)).isNone(),o=o,r=r,!$v(o,r.startContainer)&&!$v(o,r.endContainer)&&n&&a)return t=e,Q.some(()=>{t.setContent(""),t.selection.setCursorLocation()});{var i=A,s=e.selection;let o=s.getRng();return Wt(ch(i,J(o.startContainer)),ch(i,J(o.endContainer)),(e,t)=>I(e,t)?Q.none():Q.some(()=>{o.deleteContents(),Jv(i,!0,e,t).each(e=>{s.setRng(e.toRange())})})).getOr(Q.none())}},tw=(e,t)=>e.selection.isCollapsed()?Q.none():ew(e),ow=(e,t,o,r,n)=>Q.from(t._selectionOverrides.showCaret(e,o,r,n)),rw=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?Q.none():Q.some(((t=(e=t).ownerDocument.createRange()).selectNode(e),t)),nw=(e,t,o)=>{return t.collapsed?(e=e,r=t,o=o,r=Xd(1,e.getBody(),r),r=M.fromRangeStart(r),n=r.getNode(),(kd(n)?ow(1,e,n,!r.isAtEnd(),!1):(n=r.getNode(!0),kd(n)?ow(1,e,n,!1,!1):(n=Ph(e.dom.getRoot(),r.getNode()),kd(n)?ow(1,e,n,!1,o):Q.none()))).getOr(t)):t;var r,n},aw=e=>dp(e)||Ap(e),Aw=e=>cp(e)||ip(e),iw=(e,o,t,r,n,a)=>{ow(r,e,a.getNode(!n),n,!0).each(t=>{if(o.collapsed){let e=o.cloneRange();n?e.setEnd(t.startContainer,t.startOffset):e.setStart(t.endContainer,t.endOffset),e.deleteContents()}else o.deleteContents();e.selection.setRng(t)}),r=e.dom,a=t,te(a)&&0===a.data.length&&r.remove(a)},sw=(l,d)=>{{var c=l,u=d;let e=c.selection.getRng();if(!te(e.commonAncestorContainer))return Q.none();let t=u?Ar.Forwards:Ar.Backwards,o=cc(c.getBody()),r=w($d,u?o.next:o.prev),n=u?aw:Aw,a=Jd(t,c.getBody(),e),A=r(a),i=A&&ah(u,A);if(!i||!ec(a,i))return Q.none();if(n(i))return Q.some(()=>iw(c,e,a.getNode(),t,u,i));let s=r(i);return s&&n(s)&&ec(i,s)?Q.some(()=>iw(c,e,a.getNode(),t,u,s)):Q.none()}},lw=(e,t)=>{e=e.getBody();return t?xc(e).filter(dp):Bc(e).filter(cp)},dw=e=>{let t=e.selection.getRng();return!t.collapsed&&(lw(e,!0).exists(e=>e.isEqual(M.fromRangeStart(t)))||lw(e,!1).exists(e=>e.isEqual(M.fromRangeEnd(t))))},cw=ds([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),uw=(n,a,A)=>pc(a,n,A).bind(e=>{{if(r=e.getNode(),P(r)&&(Mn(J(r))||In(J(r)))||((t,e,o,r)=>{let n=e=>Fn(J(e))&&!Vd(o,r,t);return Yd(!e,o).fold(()=>Yd(e,r).fold(g,n),n)})(n,a,A,e))return Q.none();if(a&&B(e.getNode())||!a&&B(e.getNode(!0))){r=n;var o=A;let t=e.getNode(!a);return ch(J(r),J(o.getNode())).map(e=>E(e)?cw.remove(e.dom):cw.moveToElement(t)).orThunk(()=>Q.some(cw.moveToElement(t)))}return a&&cp(A)||!a&&dp(A)?Q.some(cw.moveToPosition(e)):Q.none()}var r}),gw=(e,t)=>Q.from(Ph(e.getBody(),t)),mw=(i,s)=>{var e=i.selection.getNode();return gw(i,e).filter(B).fold(()=>{return e=i.getBody(),t=s,o=i.selection.getRng(),o=Xd(t?1:-1,e,o),o=M.fromRangeStart(o),A=J(e),(!t&&cp(o)?Q.some(cw.remove(o.getNode(!0))):t&&dp(o)?Q.some(cw.remove(o.getNode())):!t&&dp(o)&&_p(A,o)?kp(A,o).map(e=>cw.remove(e.getNode())):t&&cp(o)&&Cp(A,o)?Ep(A,o).map(e=>cw.remove(e.getNode())):(r=e,A=n=t,e=(a=o).getNode(!A),A=A?"after":"before",ee(e)&&e.getAttribute("data-mce-caret")===A?(e=n,A=a.getNode(!n),(ne(A)?Q.none():e&&B(A.nextSibling)?Q.some(cw.moveToElement(A.nextSibling)):!e&&B(A.previousSibling)?Q.some(cw.moveToElement(A.previousSibling)):Q.none()).orThunk(()=>uw(r,n,a))):uw(r,n,a).bind(e=>{return t=r,o=a,e.fold(e=>Q.some(cw.remove(e)),e=>Q.some(cw.moveToElement(e)),e=>Vd(o,e,t)?Q.none():Q.some(cw.moveToPosition(e)));var t,o}))).map(e=>()=>{return e.fold(e=>(n._selectionOverrides.hideFakeCaret(),eh(n,a,J(e)),!0),(r=a=s,e=>{e=r?M.before(e):M.after(e);return o.selection.setRng(e.toRange()),!0}),(t=o=n=i,e=>(t.selection.setRng(e.toRange()),!0)));var t,o,r,n,a});var e,t,o,r,n,a,A},()=>Q.some(z))},pw=e=>{var t=e.dom,o=e.selection,r=Ph(e.getBody(),o.getNode());if(un(r)&&t.isBlock(r)&&t.isEmpty(r)){let e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(e),o.setRng(M.before(e).toRange())}return!0},hw=(e,t)=>{return e.selection.isCollapsed()?mw(e,t):(r=t,t=(o=e).selection.getNode(),B(t)&&!gn(t)?gw(o,t.parentNode).filter(B).fold(()=>Q.some(()=>{var e=J(o.getBody());j(Gr(e,".mce-offscreen-selection"),$),eh(o,r,J(o.selection.getNode())),uh(o)}),()=>Q.some(z)):dw(o)?Q.some(()=>{ph(o,o.selection.getRng(),J(o.getBody()))}):Q.none());var o,r},fw=(e,t)=>{return e.selection.isCollapsed()?(o=e,r=t,e=M.fromRangeStart(o.selection.getRng()),pc(r,o.getBody(),e).filter(e=>(r?np:ap)(e)).bind(e=>zd(r?0:-1,e)).map(e=>()=>o.selection.select(e))):Q.none();var o,r},bw=te,vw=e=>bw(e)&&e.data[0]===Pn,ww=e=>bw(e)&&e.data[e.data.length-1]===Pn,xw=e=>(null!=(e=e.ownerDocument)?e:document).createTextNode(Pn),Bw=(e,t)=>{return e?(e=t,bw(e.previousSibling)?(ww(e.previousSibling)||e.previousSibling.appendData(Pn),e.previousSibling):bw(e)?(vw(e)||e.insertData(0,Pn),e):(n=xw(e),null!=(r=e.parentNode)&&r.insertBefore(n,e),n)):(r=t,bw(r.nextSibling)?(vw(r.nextSibling)||r.nextSibling.insertData(0,Pn),r.nextSibling):bw(r)?(ww(r)||r.appendData(Pn),r):(e=xw(r),r.nextSibling?null!=(o=r.parentNode)&&o.insertBefore(e,r.nextSibling):null!=(o=r.parentNode)&&o.appendChild(e),e));var o,r,n},yw=w(Bw,!0),Cw=w(Bw,!1),_w=(e,t)=>te(e.container())?Bw(t,e.container()):Bw(t,e.getNode()),kw=(e,t)=>{t=t.get();return t&&e.container()===t&&jn(t)},Ew=(t,e)=>e.fold(e=>{vd(t.get());e=yw(e);return t.set(e),Q.some(M(e,e.length-1))},e=>xc(e).map(e=>{if(kw(e,t)){let e=t.get();return M(e,1)}vd(t.get());e=_w(e,!0);return t.set(e),M(e,1)}),e=>Bc(e).map(e=>{if(kw(e,t)){let e=t.get();return M(e,e.length-1)}vd(t.get());e=_w(e,!1);return t.set(e),M(e,e.length-1)}),e=>{vd(t.get());e=Cw(e);return t.set(e),Q.some(M(e,1))}),Fw=(t,o)=>{for(let e=0;e<t.length;e++){var r=t[e].apply(null,o);if(r.isSome())return r}return Q.none()},Sw=ds([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Qw=(e,t)=>Pd(t,e)||e,Uw=(e,t,o)=>{let r=Ah(o),n=Qw(t,r.container());return nh(e,n,r).fold(()=>vc(n,r).bind(w(nh,e,n)).map(e=>Sw.before(e)),Q.none)},Iw=(e,t)=>null===_c(e,t),Tw=(e,t,o)=>nh(e,t,o).filter(w(Iw,t)),Mw=(e,t,o)=>{let r=ih(o);return Tw(e,t,r).bind(e=>wc(e,r).isNone()?Q.some(Sw.start(e)):Q.none())},Hw=(e,t,o)=>{let r=Ah(o);return Tw(e,t,r).bind(e=>vc(e,r).isNone()?Q.some(Sw.end(e)):Q.none())},Dw=(e,t,o)=>{let r=ih(o),n=Qw(t,r.container());return nh(e,n,r).fold(()=>wc(n,r).bind(w(nh,e,n)).map(e=>Sw.after(e)),Q.none)},Ow=e=>!rh(Nw(e)),Lw=(e,t,o)=>Fw([Uw,Mw,Hw,Dw],[e,t,o]).filter(Ow),Nw=e=>e.fold(O,O,O,O),Rw=e=>e.fold(Z("before"),Z("start"),Z("end"),Z("after")),Pw=e=>e.fold(Sw.before,Sw.before,Sw.after,Sw.after),Vw=e=>e.fold(Sw.start,Sw.start,Sw.end,Sw.end),zw=(o,e,r,t,n,a)=>Wt(nh(e,r,t),nh(e,r,n),(e,t)=>e!==t&&((e,t,o)=>{t=Pd(t,e),o=Pd(o,e);return P(t)&&t===o})(r,e,t)?Sw.after(o?e:t):a).getOr(a),Kw=(e,o)=>e.fold(de,e=>{return t=o,!(Rw(e=e)===Rw(t)&&Nw(e)===Nw(t));var t}),Zw=(e,t)=>e?t.fold(l(Q.some,Sw.start),Q.none,l(Q.some,Sw.after),Q.none):t.fold(Q.none,l(Q.some,Sw.before),Q.none,l(Q.some,Sw.end)),Gw=(e,t,o)=>{var r=e?1:-1;return t.setRng(M(o.container(),o.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},jw=((J1=u0=u0||{})[J1.Br=0]="Br",J1[J1.Block=1]="Block",J1[J1.Wrap=2]="Wrap",J1[J1.Eol=3]="Eol",(e,t)=>e===Ar.Backwards?ke(t):t),Ww=(e,o,t,r)=>{var n=cc(t);let a=r;for(var A,i,s,l=[];a;){i=n,s=a;let t=o===Ar.Forwards?i.next(s):i.prev(s);if(!t)break;if(k(t.getNode(!1)))return o===Ar.Forwards?{positions:jw(o,l).concat([t]),breakType:u0.Br,breakAt:Q.some(t)}:{positions:jw(o,l),breakType:u0.Br,breakAt:Q.some(t)};if(t.isVisible()){if(e(a,t)){i=o,s=a,A=t;let e=k(A.getNode(i===Ar.Forwards))?u0.Br:!1===Vd(s,A)?u0.Block:u0.Wrap;return{positions:jw(o,l),breakType:e,breakAt:Q.some(t)}}l.push(t)}a=t}return{positions:jw(o,l),breakType:u0.Eol,breakAt:Q.none()}},Xw=(o,r,n,e)=>r(n,e).breakAt.map(e=>{var t=r(n,e).positions;return o===Ar.Backwards?t.concat(e):[e].concat(t)}).getOr([]),Yw=(e,n)=>ve(e,(e,r)=>e.fold(()=>Q.some(r),o=>Wt(Ue(o.getClientRects()),Ue(r.getClientRects()),(e,t)=>{e=Math.abs(n-e.left);return Math.abs(n-t.left)<=e?r:o}).or(e)),Q.none()),Jw=(t,e)=>Ue(e.getClientRects()).bind(e=>Yw(t,e.left)),qw=w(Ww,M.isAbove,-1),$w=w(Ww,M.isBelow,1),ex=w(Xw,-1,qw),tx=w(Xw,1,$w),ox=(e,t)=>Jw(ex(e,t),t),rx=(e,t)=>Jw(tx(e,t),t),nx=B,ax=(e,t)=>Math.abs(e.left-t),Ax=(e,t)=>Math.abs(e.right-t),ix=(e,n)=>qe(e,(e,t)=>{var o=Math.min(ax(e,n),Ax(e,n)),r=Math.min(ax(t,n),Ax(t,n));return r===o&&Ze(t,"node")&&nx(t.node)||r<o?t:e}),sx=t=>{var e,o=e=>f(e,e=>{e=gi(e);return e.node=t,e});return ee(t)?o(t.getClientRects()):te(t)?((e=t.ownerDocument.createRange()).setStart(t,0),e.setEnd(t,t.data.length),o(e.getClientRects())):[]},lx=e=>Ce(e,sx),dx=((t=g0=g0||{})[t.Up=-1]="Up",t[t.Down=1]="Down",(t,r,n,e,a,o)=>{let A=0,i=[],s=e=>{let o=lx([e]);-1===t&&(o=o.reverse());for(let t=0;t<o.length;t++){let e=o[t];if(!n(e,l)){if(0<i.length&&r(e,et(i))&&A++,e.line=A,a(e))return!0;i.push(e)}}return!1},l=et(o.getClientRects());var d;return l&&(d=o.getNode())&&(s(d),((e,t,o)=>{let r=d;for(;r=Rd(r,e,ua,t);)if(o(r))return})(t,e,s)),i}),cx=w(dx,g0.Up,hi,fi),ux=w(dx,g0.Down,fi,hi),gx=e=>et(e.getClientRects()),mx=t=>e=>e.line>t,px=t=>e=>e.line===t,hx=(e,t)=>{e.selection.setRng(t),qg(e,e.selection.getRng())},fx=(e,t,o)=>Q.some(nw(e,t,o)),bx=(t,o,r,e,n,a)=>{var A=o===Ar.Forwards,i=cc(t.getBody()),i=w($d,A?i.next:i.prev),e=A?e:n;if(!r.collapsed){let e=vi(r);if(a(e))return ow(o,t,e,o===Ar.Backwards,!1);if(dw(t)){let e=r.cloneRange();return e.collapse(o===Ar.Backwards),Q.from(e)}}var n=Jd(o,t.getBody(),r);return e(n)?rw(t,n.getNode(!A)):(a=i(n),n=ta(r),a?e(a=ah(A,a))?ow(o,t,a.getNode(!A),A,!1):(i=i(a))&&e(i)&&ec(a,i)?ow(o,t,i.getNode(!A),A,!1):n?fx(t,a.toRange(),!1):Q.none():n?Q.some(r):Q.none())},vx=(o,r,t,e,n,a)=>{var A=Jd(r,o.getBody(),t),i=et(A.getClientRects()),s=r===g0.Down,l=o.getBody();if(!i)return Q.none();if(dw(o)){let e=s?M.fromRangeEnd(t):M.fromRangeStart(t);return(s?rx:ox)(l,e).orThunk(()=>Q.from(e)).map(e=>e.toRange())}var d=(s?ux:cx)(l,mx(1),A),d=U(d,px(1)),i=i.left,c=ix(d,i);if(c&&a(c.node)){let e=Math.abs(i-c.left),t=Math.abs(i-c.right);return ow(r,o,c.node,e<t,!1)}if(a=e(A)?A.getNode():n(A)?A.getNode(!0):vi(t)){let e=((e,t,o,r)=>{t=cc(t);let n,a,A,i;var s=[];let l=0;i=1===e?(n=t.next,a=fi,A=hi,M.after(r)):(n=t.prev,a=hi,A=fi,M.before(r));var d=gx(i);do{if(i.isVisible()){let t=gx(i);if(!A(t,d)){0<s.length&&a(t,et(s))&&l++;let e=gi(t);if(e.position=i,e.line=l,o(e))return s;s.push(e)}}}while(i=n(i));return s})(r,l,mx(1),a),t=ix(U(e,px(1)),i);if(t)return fx(o,t.position.toRange(),!1);if(t=et(U(e,px(0))))return fx(o,t.position.toRange(),!1)}return 0===d.length?wx(o,s).filter(s?n:e).map(e=>nw(o,e.toRange(),!1)):Q.none()},wx=(e,t)=>{var o,r=e.selection.getRng(),r=t?M.fromRangeEnd(r):M.fromRangeStart(r),n=(n=r.container(),o=e.getBody(),lr(J(n),e=>Fd(e.dom),e=>e.dom===o).map(e=>e.dom).getOr(o));if(t){let e=$w(n,r);return Ie(e.positions)}{let e=qw(n,r);return Ue(e.positions)}},xx=(t,e,o)=>wx(t,e).filter(o).exists(e=>(t.selection.setRng(e.toRange()),!0)),Bx=(e,t)=>{var o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},yx=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Cx=(t,e,o)=>Ew(e,o).map(e=>(Bx(t,e),o)),_x=(t,o,e)=>{var r,n,a,A=t.getBody(),i=(r=t.selection.getRng(),n=A,i=e,a=M.fromRangeStart(r),r.collapsed?a:(r=M.fromRangeEnd(r),i?wc(n,r).getOr(r):vc(n,a).getOr(a)));return((A,i,s,l)=>{let e=ah(A,l),d=Lw(i,s,e);return Lw(i,s,e).bind(w(Zw,A)).orThunk(()=>{{var o=A,r=i,n=s,a=d,e=l;let t=ah(o,e);return pc(o,n,t).map(w(ah,o)).fold(()=>a.map(Pw),e=>Lw(r,n,e).map(w(zw,o,r,n,t,e)).filter(w(Kw,a))).filter(Ow)}})})(e,w(oh,t),A,i).bind(e=>Cx(t,o,e))},kx=(e,t,o)=>!!ul(e)&&_x(e,t,o).isSome(),Ex=(e,t,o)=>{return!!ul(t)&&(e=e,n=(t=t).selection.getRng(),n=e?M.fromRangeEnd(n):M.fromRangeStart(n),r=t,!!V(r.selection.getSel().modify))&&(e&&Yn(n)?Gw(!0,t.selection,n):!(e||!Jn(n))&&Gw(!1,t.selection,n));var r,n},Fx=l=>{let d=OA(null),c=w(oh,l);return l.on("NodeChange",e=>{var o,r,n,t,a,A,i,s;ul(l)&&(((e,t,o)=>{t=f(Gr(J(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom),t=U(t,e),o=U(o,e);j(Ee(t,o),w(yx,!1)),j(Ee(o,t),w(yx,!0))})(c,l.dom,e.parents),t=l,a=d,s=a.get(),t.selection.isCollapsed()&&!t.composing&&s&&(A=M.fromRangeStart(t.selection.getRng()),!M.isTextPosition(A)||(i=A,Yn(i))||Jn(i)||(Bx(t,bd(s,A)),a.set(null))),o=c,r=l,n=d,i=e.parents,r.selection.isCollapsed())&&(i=U(i,o),j(i,e=>{var t=M.fromRangeStart(r.selection.getRng());Lw(o,r.getBody(),t).bind(e=>Cx(r,n,e))}))}),d},Sx=w(Ex,!0),Qx=w(Ex,!1),Ux=(t,o,r)=>{var e;return!!ul(t)&&(e=wx(t,o).getOrThunk(()=>{var e=t.selection.getRng();return o?M.fromRangeEnd(e):M.fromRangeStart(e)}),Lw(w(oh,t),t.getBody(),e).exists(e=>{e=Pw(e);return Ew(r,e).exists(e=>(Bx(t,e),!0))}))},Ix=(t,o)=>e=>Ew(o,e).map(e=>()=>Bx(t,e)),Tx=(r,n,a,A)=>{let i=r.getBody(),s=w(oh,r);r.undoManager.ignore(()=>{var e,t,o;r.selection.setRng((e=a,t=A,(o=document.createRange()).setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o)),lh(r),Lw(s,i,M.fromRangeStart(r.selection.getRng())).map(Vw).bind(Ix(r,n)).each(le)}),r.nodeChanged()},Mx=(e,t,a)=>{if(e.selection.isCollapsed()&&ul(e)){var A=M.fromRangeStart(e.selection.getRng());{var i=e,s=t,l=a,d=A;e=i.getBody(),t=d.container();let o=Pd(t,e)||e,r=w(oh,i),n=Lw(r,o,d);return n.bind(e=>l?e.fold(Z(Q.some(Vw(e))),Q.none,Z(Q.some(Pw(e))),Q.none):e.fold(Q.none,Z(Q.some(Pw(e))),Q.none,Z(Q.some(Vw(e))))).map(Ix(i,s)).getOrThunk(()=>{let e=hc(l,o,d),t=e.bind(e=>Lw(r,o,e));return Wt(n,t,()=>nh(r,o,d).bind(e=>{return n=e,Wt(xc(n),Bc(n),(e,t)=>{let o=ah(!0,e),r=ah(!1,t);return vc(n,o).forall(e=>e.isEqual(r))}).getOr(!0)?Q.some(()=>{eh(i,l,J(e))}):Q.none();var n})).getOrThunk(()=>t.bind(()=>e.map(e=>()=>{l?Tx(i,s,d,e):Tx(i,s,e,d)})))})}}return Q.none()},Hx=(e,t)=>{let o=J(e.getBody()),r=J(e.selection.getStart()),n=gp(r,o);return Be(n,t).fold(Z(n),e=>n.slice(0,e))},Dx=e=>1===Xo(e),Ox=(e,t)=>{let o=w(Mf,e);return Ce(t,e=>o(e)?[e.dom]:[])},Lx=e=>{t=e;var t=Hx(t,En);return Ox(e,t)},Nx=(a,A)=>{let i=U((e=a,Hx(e,e=>En(e)||(e=e,1<Xo(e)))),Dx);var e;return Ie(i).bind(n=>{var e=M.fromRangeStart(a.selection.getRng());return gh(A,e,n.dom)&&!Hf(n)?Q.some(()=>{var e=A,t=a,o=n,r=i;if(0===(r=Ox(t,r)).length)eh(t,e,o);else{let e=Tf(o.dom,r);t.selection.setRng(e.toRange())}}):Q.none()})},Rx=(e,t)=>{var o,r,n=e.selection.getStart(),a=(o=e,r=(a=n).parentElement,k(a)&&!H(r)&&o.dom.isEmpty(r)||Hf(J(n))?Tf(n,t):((e,t)=>{var{caretContainer:t,caretPosition:o}=If(t);return e.insertNode(t.dom),o})(e.selection.getRng(),t));e.selection.setRng(a.toRange())},Px=e=>te(e.startContainer),Vx=e=>{var t,o,r=e.selection.getRng();return 0===(o=r).startOffset&&Px(o)&&(o=e,e=r.startContainer.parentElement,!H(e))&&Mf(o,J(e))&&(r=(e=o=r).startContainer.parentNode,t=e.endContainer.parentNode,!H(r)&&!H(t)&&r.isEqualNode(t)&&(r=e.endContainer,e.endOffset===(te(r)?r:r.childNodes).length)||!o.endContainer.isEqualNode(o.commonAncestorContainer))},zx=(e,t)=>{if(e.selection.isCollapsed())return Nx(e,t);var r=e;if(Vx(r)){let o=Lx(r);return Q.some(()=>{lh(r);var e=r,t=o;0<(t=Ee(t,Lx(e))).length&&Rx(e,t)})}return Q.none()},Kx=e=>{return e=e,t=En,lr(e,e=>Cc(e.dom),t).isSome();var t},Zx=e=>{return(o=(t=e).selection.getRng()).collapsed&&(Px(o)||t.dom.isEmpty(o.startContainer))&&(o=t,!Kx(J(o.selection.getStart())))&&Rx(e,[]),!0;var t,o},Gx=(e,t,o)=>P(o)?Q.some(()=>{e._selectionOverrides.hideFakeCaret(),eh(e,t,J(o))}):Q.none(),jx=(r,n)=>{if(r.selection.isCollapsed()){var a=r,A=n;let t=A?Ap:ip,e=A?Ar.Forwards:Ar.Backwards,o=Jd(e,a.getBody(),a.selection.getRng());return t(o)?Gx(a,A,o.getNode(!A)):Q.from(ah(A,o)).filter(e=>t(e)&&ec(o,e)).bind(e=>Gx(a,A,e.getNode(!A)))}return n=n,e=(r=r).selection.getNode(),pn(e)?Gx(r,n,e):Q.none();var e},Wx=e=>ft(null!=e?e:"").getOr(0),Xx=(e,t)=>(e||"table"===Y(t)?"margin":"padding")+("rtl"===wr(t,"direction")?"-right":"-left"),Yx=e=>{var o,t=qx(e);return!e.mode.isReadOnly()&&(1<t.length||(o=e,e=t,_e(e,e=>{var t=Xx(Ys(o),e),t=Br(e,t).map(Wx).getOr(0);return"false"!==o.dom.getContentEditable(e.dom)&&0<t})))},Jx=e=>Un(e)||In(e),qx=e=>U(Ir(e.selection.getSelectedBlocks()),e=>{return!Jx(e)&&(t=e,!Lo(t).exists(Jx))&&dr(e,e=>un(e.dom)||B(e.dom)).exists(e=>un(e.dom));var t}),$x=(e,i)=>{let t,o,s=e.dom,r=Js(e),l=null!=(o=null==(t=/[a-z%]+$/i.exec(r))?void 0:t[0])?o:"px",d=Wx(r),c=Ys(e);j(qx(e),t=>{var o=s,e=i,r=c,n=d,a=l,t=t.dom,r=Xx(r,J(t)),A=Wx(o.getStyle(t,r));if("outdent"===e){let e=Math.max(0,A-n);o.setStyle(t,r,e?e+a:"")}else{let e=A+n+a;o.setStyle(t,r,e)}})},e2=e=>$x(e,"outdent"),t2=e=>{if(e.selection.isCollapsed()&&Yx(e)){var t=e.dom,o=e.selection.getRng(),r=M.fromRangeStart(o),o=t.getParent(o.startContainer,t.isBlock);if(null!==o&&bp(J(o),r))return Q.some(()=>e2(e))}return Q.none()},o2=(t,o,r)=>Me([t2,hw,sw,(e,t)=>Mx(e,o,t),qv,Rh,fw,jx,tw,zx],e=>e(t,r)).filter(e=>t.selection.isEditable()),r2=(o,r)=>{o.addCommand("delete",()=>{var e,t;e=o,t=r,o2(e,t,!1).fold(()=>{lh(e),uh(e)},le)}),o.addCommand("forwardDelete",()=>{var t,e;t=o,e=r,o2(t,e,!0).fold(()=>{return e=t,sh(e,"ForwardDelete");var e},le)})},n2=e=>void 0===e.touches||1!==e.touches.length?Q.none():Q.some(e.touches[0]),a2=(e,t)=>X(e,t.nodeName),A2=(e,t)=>!!te(t)||!!ee(t)&&!a2(e.getBlockElements(),t)&&!Oc(t)&&!Ta(e,t),i2=(e,t)=>{if(te(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||a2(e,t.nextSibling)))return!0}return!1},s2=e=>e.dom.create(Qs(e),Us(e)),l2=t=>{var o=t.dom,r=t.selection,n=t.schema,a=n.getBlockElements(),A=r.getStart(),i=t.getBody();let s,l,d=!1;var c=Qs(t);if(A&&ee(A)){var u=i.nodeName.toLowerCase();if(n.isValidChild(u,c.toLowerCase())&&(g=a,u=i,c=A,!G(up(J(c),J(u)),e=>a2(g,e.dom)))){var g,A=r.getRng(),{startContainer:c,startOffset:u,endContainer:m,endOffset:p}=A,h=xm(t);let e=i.firstChild;for(;e;)if(ee(e)&&Sa(n,e),A2(n,e)){if(i2(a,e)){e=(l=e).nextSibling,o.remove(l);continue}s||(s=s2(t),i.insertBefore(s,e),d=!0),e=(l=e).nextSibling,s.appendChild(l)}else s=null,e=e.nextSibling;d&&h&&(A.setStart(c,u),A.setEnd(m,p),r.setRng(A),t.nodeChanged())}}},d2=(e,t,o)=>{var e=J(s2(e)),r=Ln(),o=(q(e,r),o(t,e),document.createRange());return o.setStartBefore(r.dom),o.setEndBefore(r.dom),o},c2=t=>e=>-1!==(" "+e.attr("class")+" ").indexOf(t),u2=(n,a,A)=>function(t){var e=arguments,o=e[e.length-2],r=0<o?a.charAt(o-1):"";if('"'===r)return t;if(">"===r){let e=a.lastIndexOf("<",o);if(-1!==e&&-1!==a.substring(e,o).indexOf('contenteditable="false"'))return t}return'<span class="'+A+'" data-mce-content="'+n.dom.encode(e[0])+'">'+n.dom.encode("string"==typeof e[1]?e[1]:e[0])+"</span>"},g2=(e,t)=>{t.hasAttribute("data-mce-caret")&&(ea(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},m2=(e,t)=>{o=e;var o=ur(J(o.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull();if(o)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void g2(e,o)):void(Xn(o)&&(g2(e,o),e.undoManager.add()))},p2=B,h2=(o,r,e)=>{let t=cc(o.getBody()),n=w($d,1===r?t.next:t.prev);if(e.collapsed){let t=o.dom.getParent(e.startContainer,"PRE");if(t&&!n(M.fromRangeStart(e))){let e=J((e=>{e=e.dom.create(Qs(e));return e.innerHTML='<br data-mce-bogus="1">',e})(o));(1===r?kr:_r)(J(t),e),o.selection.select(e.dom,!0),o.selection.collapse()}}},f2=(A,i)=>(e=>{let t=((e,t)=>{const o=t?e.getEnd(!0):e.getStart(!0);return rh(o)?!t:t})(A.selection,i)?Ar.Forwards:Ar.Backwards,o=e.selection.getRng();return r=t,n=e,a=o,bx(n,r,a,dp,cp,p2).orThunk(()=>(h2(e,t,o),Q.none()));var r,n,a})(A).exists(e=>(hx(A,e),!0)),b2=(t,A)=>(e=>{let t=A?1:-1,o=e.selection.getRng();return r=t,n=e,a=o,vx(n,r,a,e=>dp(e)||sp(e),e=>cp(e)||lp(e),p2).orThunk(()=>(h2(e,t,o),Q.none()));var r,n,a})(t).exists(e=>(hx(t,e),!0)),v2=(e,t)=>xx(e,t,t?cp:dp),w2=(o,r)=>lw(o,!r).map(e=>{var e=e.toRange(),t=o.selection.getRng();return r?e.setStart(t.startContainer,t.startOffset):e.setEnd(t.endContainer,t.endOffset),e}).exists(e=>(hx(o,e),!0)),x2=e=>K(["figcaption"],Y(e)),B2=(n,a)=>{let A=J(n.getBody()),i=M.fromRangeStart(n.selection.getRng());return((e,t)=>{t=w(I,t);return dr(J(e.container()),En,t).filter(x2)})(i,A).exists(()=>{if(e=A,t=a,o=i,(t?(t=e.dom,r=o,$w(t,r)):(t=e.dom,r=o,qw(t,r))).breakAt.isNone()){let e=d2(n,A,a?q:Er);return n.selection.setRng(e),!0}var e,t,o,r;return!1})},y2=(e,t)=>!!e.selection.isCollapsed()&&B2(e,t),C2={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},_2=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,p=(e,...t)=>()=>e.apply(null,t),k2=(e,t)=>{return xe((e=e,o=t,Ce((e=e,f(e,e=>({...C2,...e}))),e=>_2(e,o)?[e]:[])),e=>e.action());var o},E2=(e,t)=>{return Me((e=e,o=t,Ce((e=e,f(e,e=>({...C2,...e}))),e=>_2(e,o)?[e]:[])),e=>e.action());var o},F2=(t,e)=>{var e=e?Ar.Forwards:Ar.Backwards,o=t.selection.getRng();return bx(t,e,o,Ap,ip,pn).exists(e=>(hx(t,e),!0))},S2=(t,e)=>{var e=e?1:-1,o=t.selection.getRng();return vx(t,e,o,Ap,ip,pn).exists(e=>(hx(t,e),!0))},Q2=(e,t)=>xx(e,t,t?ip:Ap),U2=ds([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),I2={...U2,none:e=>U2.none(e)},T2=(e,t,o)=>Ce(Zo(e),e=>Io(e,t)?o(e)?[e]:[]:T2(e,t,o)),M2=(e,t)=>gr(e,"table",t),H2=(o,r,n,a,A=de)=>{let e=1===a;if(!e&&n<=0)return I2.first(o[0]);if(e&&n>=o.length-1)return I2.last(o[o.length-1]);{let e=n+a,t=o[e];return A(t)?I2.middle(r,t):H2(o,r,e,a,A)}},D2=(o,e)=>M2(o,e).bind(e=>{let t=T2(e,"th,td",de);return Be(t,e=>I(o,e)).map(e=>({index:e,all:t}))}),O2=(e,t,o,r,n)=>{var a,A,i,o=Gr(J(o),"td,th,caption").map(e=>e.dom),o=U((a=e,e=o,Ce(e,e=>{var t={left:(t=gi(e.getBoundingClientRect())).left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1};return[{x:t.left,y:a(t),cell:e},{x:t.right,y:a(t),cell:e}]})),e=>t(e,n));return e=o,A=r,i=n,ve(e,(e,r)=>e.fold(()=>Q.some(r),e=>{var t=Math.sqrt(Math.abs(e.x-A)+Math.abs(e.y-i)),o=Math.sqrt(Math.abs(r.x-A)+Math.abs(r.y-i));return Q.some(o<t?r:e)}),Q.none()).map(e=>e.cell)},L2=w(O2,e=>e.bottom,(e,t)=>e.y<t),N2=w(O2,e=>e.top,(e,t)=>e.y>t),R2=(e,t,o)=>{var r,n,a=e(t,o);return a.breakType===u0.Wrap&&0===a.positions.length||!k(o.getNode())&&a.breakType===u0.Br&&1===a.positions.length?(r=e,n=t,!a.breakAt.exists(e=>r(n,e).breakAt.isSome())):a.breakAt.isNone()},P2=w(R2,qw),V2=w(R2,$w),z2=(t,e,o,r)=>{var n=t.selection.getRng(),a=e?1:-1;return!(!_d()||!((e,t,o)=>{let r=M.fromRangeStart(t);return bc(!e,o).exists(e=>e.isEqual(r))})(e,n,o)||(ow(a,t,o,!e,!1).each(e=>{hx(t,e)}),0))},K2=(a,A,t)=>{r=t.getNode(!!A);let e=on(r)?Q.some(r):Q.none(),o=!1===A;var r;e.fold(()=>hx(a,t.toRange()),n=>bc(o,a.getBody()).filter(e=>e.isEqual(t)).fold(()=>hx(a,t.toRange()),e=>{var t,o,r;t=A,r=n,(o=a).undoManager.transact(()=>{var e=t?kr:_r,e=d2(o,J(r),e);hx(o,e)})}))},Z2=(t,o,r,e)=>{var n,a,A,i,s,l,d,c,u,g,m=t.selection.getRng(),m=M.fromRangeStart(m),p=t.getBody();if(!o&&P2(e,m)){n=p,i=a=r,s=A=m;let e=Ue(s.getClientRects()).bind(e=>L2(i,e.left,e.top)).bind(e=>{return Jw(Bc(t=e).map(e=>qw(t,e).positions.concat(e)).getOr([]),s);var t}).orThunk(()=>Ue(A.getClientRects()).bind(e=>Yw(ex(n,M.before(a)),e.left))).getOr(M.before(a));return K2(t,o,e),!0}if(o&&V2(e,m)){l=p,u=d=r,g=c=m;let e=Ie(g.getClientRects()).bind(e=>N2(u,e.left,e.top)).bind(e=>{return Jw(xc(t=e).map(e=>[e].concat($w(t,e).positions)).getOr([]),g);var t}).orThunk(()=>Ue(c.getClientRects()).bind(e=>Yw(tx(l,M.after(d)),e.left))).getOr(M.after(d));return K2(t,o,e),!0}return!1},G2=(o,r,n)=>Q.from(o.dom.getParent(o.selection.getNode(),"td,th")).bind(t=>Q.from(o.dom.getParent(t,"table")).map(e=>n(o,r,e,t))).getOr(!1),j2=(e,t)=>G2(e,t,z2),W2=(e,t)=>G2(e,t,Z2),X2=(t,o,e)=>e.fold(Q.none,Q.none,(e,t)=>((e,r)=>{let n=t=>{for(let e=0;e<t.childNodes.length;e++){var o=J(t.childNodes[e]);if(r(o))return Q.some(o);o=n(t.childNodes[e]);if(o.isSome())return o}return Q.none()};return n(e.dom)})(t,Sm).map(e=>(e=pg.exact(e,0,e,0),wg(e))),e=>(t.execCommand("mceTableInsertRowAfter"),Y2(t,o,e))),Y2=(e,t,o)=>{return X2(e,t,(n=mr,D2(r=o,void 0).fold(()=>I2.none(r),e=>H2(e.all,r,e.index,1,n))));var r,n},J2=(e,t,o)=>{return X2(e,t,(n=mr,D2(r=o,void 0).fold(()=>I2.none(),e=>H2(e.all,r,e.index,-1,n))));var r,n},q2=(t,o)=>{let r=["table","li","dl"],n=J(t.getBody()),a=e=>{var t=Y(e);return I(e,n)||K(r,t)},e=t.selection.getRng();return A=J(o?e.endContainer:e.startContainer),i=a,s=["td","th"],((l=i)(i=A)?Q.none():K(s,Y(i))?Q.some(i):cr(i,s.join(","),e=>Io(e,"table")||l(e))).map(e=>(M2(e,a).each(e=>{t.model.table.clearSelectedCells(e.dom)}),t.selection.collapse(!o),(o?Y2:J2)(t,a,e).each(e=>{t.selection.setRng(e)}),!0)).getOr(!1);var A,i,s,l},$2=(e,t)=>({container:e,offset:t}),eB=oe.DOM,tB=t=>e=>t===e?-1:0,oB=(e,t,o)=>{var r;return te(e)&&0<=t?Q.some($2(e,t)):(r=ci(eB),Q.from(r.backwards(e,t,tB(e),o)).map(e=>$2(e.container,e.container.data.length)))},rB=(t,o,r)=>{if(!te(t))return Q.none();let e=t.data;if(0<=o&&o<=e.length)return Q.some($2(t,o));{let e=ci(eB);return Q.from(e.backwards(t,o,tB(t),r)).bind(e=>{var t=e.container.data;return rB(e.container,o+t.length,r)})}},nB=(e,t,o)=>{if(!te(e))return Q.none();let r=e.data;var n;return t<=r.length?Q.some($2(e,t)):(n=ci(eB),Q.from(n.forwards(e,t,tB(e),o)).bind(e=>nB(e.container,t-r.length,o)))},aB=(e,t,o,r,n)=>{var a,e=ci(e,(a=e,e=>a.isBlock(e)||K(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===a.getContentEditable(e)));return Q.from(e.backwards(t,o,r,n))},AB=e=>zn(e.toString().replace(/\u00A0/g," ")),iB=e=>""!==e&&-1!==" ย\f\n\r\t\v".indexOf(e),sB=(e,t)=>e.substring(t.length),lB=(i,s,l,d=0)=>{return e=J(s.startContainer),gr(e,Qm).fold(()=>{{var[t,o,n,a=0]=[i,s,l,d],A;if(!(A=o).collapsed||!te(A.startContainer))return Q.none();let r={text:"",offset:0},e=t.getParent(o.startContainer,t.isBlock)||t.getRoot();return aB(t,o.startContainer,o.startOffset,(e,t,o)=>(r.text=o+r.text,r.offset+=t,((e,t,o)=>{let r;var n=o.charAt(0);for(r=t-1;0<=r;r--){var a=e.charAt(r);if(iB(a))return Q.none();if(n===a&&st(e,o,r,t))break}return Q.some(r)})(r.text,r.offset,n).getOr(t)),e).bind(e=>{var t=o.cloneRange();return t.setStart(e.container,e.offset),t.setEnd(o.endContainer,o.endOffset),t.collapsed||0!==(e=AB(t)).lastIndexOf(n)||sB(e,n).length<a?Q.none():Q.some({text:sB(e,n),range:t,trigger:n})})}},e=>{var t=i.createRng(),e=(t.selectNode(e.dom),AB(t));return Q.some({range:t,text:sB(e,l),trigger:l})});var e},dB=e=>{var t;return 3===e.nodeType?$2(e,e.data.length):0<(t=e.childNodes).length?dB(t[t.length-1]):$2(e,t.length)},cB=(e,t)=>{var o=e.childNodes;return 0<o.length&&t<o.length?cB(o[t],0):0<o.length&&1===e.nodeType&&o.length===t?dB(o[o.length-1]):$2(e,t)},uB=(t,e,o,r={})=>{let n,a=e(),A=null!=(n=t.selection.getRng().startContainer.nodeValue)?n:"",i=U(a.lookupByTrigger(o.trigger),e=>o.text.length>=e.minChars&&e.matches.getOrThunk(()=>{return r=t.dom,e=>{var t,o,e=cB(e.startContainer,e.startOffset);return e=e,o=null!=(o=(t=r).getParent(e.container,t.isBlock))?o:t.getRoot(),!aB(t,e.container,e.offset,(e,t)=>0===t?-1:t,o).filter(e=>{e=e.container.data.charAt(e.offset-1);return!iB(e)}).isSome()};var r})(o.range,A,o.text));return 0===i.length?Q.none():(e=Promise.all(f(i,t=>t.fetch(o.text,t.maxResults,r).then(e=>({matchText:o.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn})))),Q.some({lookupData:e,context:o}))},gB=((J1=m0=m0||{})[J1.Error=0]="Error",J1[J1.Value=1]="Value",(e,t,o)=>e.stype===m0.Error?t(e.serror):o(e.svalue)),mB=e=>({stype:m0.Value,svalue:e}),pB=e=>({stype:m0.Error,serror:e}),hB=gB,fB=e=>v(e)&&100<De(e).length?" removed due to size":JSON.stringify(e,null,2),bB=(e,t)=>pB([{path:e,getErrorInfo:t}]),vB=(r,i)=>({extract:(o,A)=>x(A,r).fold(()=>{return e=o,t=r,bB(e,()=>'Choice schema did not contain choice key: "'+t+'"');var e,t},e=>{return r=o,t=A,n=i,a=e,x(n,a).fold(()=>{return e=r,t=n,o=a,bB(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+fB(t));var e,t,o},e=>e.extract(r.concat(["branch: "+a]),t));var r,t,n,a}),toString:()=>"chooseOn("+r+"). Possible values: "+De(i)}),wB=n=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");var o={};for(let e=0;e<t.length;e++){var r=t[e];for(let e in r)X(r,e)&&(o[e]=n(o[e],r[e]))}return o},xB=wB((e,t)=>s(e)&&s(t)?xB(e,t):t),BB=(wB((e,t)=>t),e=>({tag:"defaultedThunk",process:Z(e)})),yB=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},CB=t=>({extract:(o,e)=>(e=t(e)).stype===m0.Error?(e=>{return t=o,e=e,bB(t,Z(e));var t})(e.serror):e,toString:Z("val")}),_B=CB(mB),kB=(e,t,o,r)=>r(x(e,t).getOrThunk(()=>o(e))),EB=(t,o,r,n,a)=>{let A=e=>a.extract(o.concat([n]),e),e=e=>e.fold(()=>mB(Q.none()),e=>{var e=a.extract(o.concat([n]),e),t=Q.some;return e.stype===m0.Value?{stype:m0.Value,svalue:t(e.svalue)}:e});switch(t.tag){case"required":return d=o,c=r,u=n,g=A,x(c,u).fold(()=>{return e=d,t=u,o=c,bB(e,()=>'Could not find valid *required* value for "'+t+'" in '+fB(o));var e,t,o},g);case"defaultedThunk":return kB(r,n,t.process,A);case"option":return g=r,l=n,e(x(g,l));case"defaultedOptionThunk":return i=r,l=n,s=t.process,e(x(i,l).map(e=>!0===e?s(i):e));case"mergeWithThunk":return kB(r,n,Z({}),e=>{e=xB(t.process(r),e);return A(e)})}var i,s,l,d,c,u,g},FB=r=>({extract:(e,t)=>{{var A=e,i=t,o;let n={},a=[];for(o of r)yB(o,(e,t,o,r)=>{o=EB(o,A,i,e,r);hB(o,e=>{a.push(...e)},e=>{n[t]=e})},(e,t)=>{n[e]=t(i)});return 0<a.length?pB(a):mB(n)}},toString:()=>"obj{\n"+f(r,e=>yB(e,(e,t,o,r)=>e+" -> "+r.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}),SB=r=>({extract:(o,e)=>{var t,e=f(e,(e,t)=>r.extract(o.concat(["["+t+"]"]),e));return 0<(e=(e=>{let t=[],o=[];return j(e,e=>{gB(e,e=>o.push(e),e=>t.push(e))}),{values:t,errors:o}})(e=e)).errors.length?(t=e.errors,l(pB,ye)(t)):mB(e.values)},toString:()=>"array("+r.toString()+")"}),QB=(e,t,o)=>(o=o,o=(t=t.extract([e],o)).stype===m0.Error?{stype:m0.Error,serror:(e=t.serror,{input:o,errors:e})}:t,gB(o,ls.error,ls.value)),UB=(e,t)=>vB(e,Le(t,FB)),IB=Z(_B),TB=(o,r)=>CB(e=>{var t=typeof e;return o(e)?mB(e):pB(`Expected type: ${r} but got: `+t)}),MB=TB(S,"number"),HB=TB(R,"string"),DB=TB(_,"boolean"),OB=TB(V,"function"),LB=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),NB=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),RB=(e,t)=>LB(e,e,{tag:"required",process:{}},t),PB=e=>RB(e,HB),VB=e=>RB(e,OB),zB=(e,t)=>LB(e,e,{tag:"option",process:{}},t),KB=e=>zB(e,HB),ZB=(e,t,o)=>LB(e,e,BB(t),o),GB=(e,t)=>ZB(e,t,MB),jB=(e,t,o)=>{return ZB(e,t,(r=o,n=e=>K(r,e)?ls.value(e):ls.error(`Unsupported value: "${e}", choose one of "${r.join(", ")}".`),CB(e=>n(e).fold(pB,mB))));var r,n},WB=(e,t)=>ZB(e,t,DB),XB=(e,t)=>ZB(e,t,OB),YB=PB("type"),JB=VB("fetch"),qB=VB("onAction"),$B=XB("onSetup",()=>z),ey=KB("text"),ty=KB("icon"),oy=KB("tooltip"),ry=KB("label"),ny=WB("active",!1),ay=WB("enabled",!0),Ay=WB("primary",!1),iy=e=>(e=e,ZB("type",e,HB)),sy=FB([YB,PB("trigger"),GB("minChars",1),LB("columns","columns",BB(1),IB()),GB("maxResults",10),zB("matches",OB),JB,qB,(t=HB,ZB("highlightOn",[],SB(t)))]);var ly,dy,J1=[ay,oy,ty,ey,$B],t=[ny].concat(J1),cy=[XB("predicate",g),jB("scope","node",["node","editor"]),jB("position","selection",["node","selection","line"])],uy=J1.concat([iy("contextformbutton"),Ay,qB,NB("original",O)]),gy=t.concat([iy("contextformbutton"),Ay,qB,NB("original",O)]),J1=J1.concat([iy("contextformbutton")]),t=t.concat([iy("contextformtogglebutton")]),uy=UB("type",{contextformbutton:uy,contextformtogglebutton:gy});FB([iy("contextform"),XB("initValue",Z("")),ry,LB("commands","commands",{tag:"required",process:{}},SB(uy)),zB("launch",UB("type",{contextformbutton:J1,contextformtogglebutton:t}))].concat(cy));let my=e=>{let t=e.ui.registry.getAll().popups,o=Le(t,e=>(e=e,QB("Autocompleter",sy,{trigger:e.ch,...e}).fold(e=>{throw new Error("Errors: \n"+(e=>{e=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:Z("... (only showing first ten failures)")}]):e;return f(e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())})((e=e).errors).join("\n")+"\n\nInput object: "+fB(e.input))},O))),r=Ge(ze(o,e=>e.trigger)),n=Ke(o);return{dataset:o,triggers:r,lookupByTrigger:t=>U(n,e=>e.trigger===t)}},py=A=>{let n=KA(),a=OA(!1),i=n.isSet,s=()=>{var e;i()&&(e=A,h(e).autocompleter.removeDecoration(),A.dispatch("AutocompleterEnd"),a.set(!1),n.clear())},l=tt(()=>my(A)),o=e=>{var t;t=e,n.get().map(e=>lB(A.dom,A.selection.getRng(),e.trigger).bind(e=>uB(A,l,e,t))).getOrThunk(()=>{return t=A,o=l,e=o(),a=t.selection.getRng(),r=t.dom,n=a,a=e,Me(a.triggers,e=>lB(r,n,e)).bind(e=>uB(t,o,e));var t,o,r,n,e,a}).fold(s,r=>{var e,t,o;e=r.context,i()||(t=A,o=e.range,h(t).autocompleter.addDecoration(o),n.set({trigger:e.trigger,matchLength:e.text.length})),r.lookupData.then(o=>{n.get().map(e=>{var t=r.context;e.trigger===t.trigger&&(10<=t.text.length-e.matchLength?s():(n.set({...e,matchLength:t.text.length}),a.get()?A.dispatch("AutocompleterUpdate",{lookupData:o}):(a.set(!0),A.dispatch("AutocompleterStart",{lookupData:o}))))})})})};A.addCommand("mceAutocompleterReload",(e,t)=>{t=v(t)?t.fetchOptions:{};o(t)}),A.addCommand("mceAutocompleterClose",s);{var e=A,r={cancelIfNecessary:s,load:o};let t=GA(r.load,50);e.on("keypress compositionend",e=>{27!==e.which&&t.throttle()}),e.on("keydown",e=>{e=e.which;8===e?t.throttle():27===e&&r.cancelIfNecessary()}),e.on("remove",t.cancel)}},hy=n=>(e,t,o={})=>{var r=e.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:z,inputType:t},t=vA(new InputEvent(n));return e.dispatch(n,{...t,...r,...o})},fy=hy("input"),by=hy("beforeinput"),vy=(e,r)=>{var t=e.dom,n=e.schema.getMoveCaretBeforeOnEnterElements();if(r){if(/^(LI|DT|DD)$/.test(r.nodeName)){let e=(e=>{for(;e;){if(ee(e)||te(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(r.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&r.insertBefore(t.doc.createTextNode(wn),r.firstChild)}var a=t.createRng();if(r.normalize(),r.hasChildNodes()){let e=new Wr(r,r),t,o=r;for(;t=e.current();){if(te(t)){a.setStart(t,0),a.setEnd(t,0);break}if(n[t.nodeName.toLowerCase()]){a.setStartBefore(t),a.setEndBefore(t);break}o=t,t=e.next()}t||(a.setStart(o,0),a.setEnd(o,0))}else k(r)?r.nextSibling&&t.isBlock(r.nextSibling)?(a.setStartBefore(r),a.setEndBefore(r)):(a.setStartAfter(r),a.setEndAfter(r)):(a.setStart(r,0),a.setEnd(r,0));e.selection.setRng(a),qg(e,a)}},wy=(e,t)=>{var o=e.getRoot();let r,n=t;for(;n!==o&&n&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},xy=e=>Q.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),By=(e,t)=>{e=null==e?void 0:e.parentNode;return P(e)&&e.nodeName===t},yy=e=>P(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Cy=e=>{var t,o=e.parentNode;return P(t=o)&&/^(LI|DT|DD)$/.test(t.nodeName)?o:e},_y=(e,t,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!ee(r);)r=r[o?"nextSibling":"previousSibling"];return r===t},ky=e=>{e.innerHTML='<br data-mce-bogus="1">'},Ey=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,Fy=(e,t)=>P(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),Sy=(e,t,o)=>te(t)?e?1===o&&t.data.charAt(o-1)===Pn?0:o:o===t.data.length-1&&t.data.charAt(o)===Pn?t.data.length:o:o,Qy=(t,n)=>{if(Qs(t).toLowerCase()===n.tagName.toLowerCase()){var a=t,A=n,n=Us(t);let o=a.dom;Q.from(n.style).map(o.parseStyle).each(e=>{e={...yr(J(A)),...e};o.setStyles(A,e)});a=Q.from(n.class).map(e=>e.split(/\s+/)),t=Q.from(A.className).map(e=>U(e.split(/\s+/),e=>""!==e));Wt(a,t,(t,e)=>{e=U(e,e=>!K(t,e)),e=[...t,...e];o.setAttrib(A,"class",e.join(" "))});let r=["style","class"],e=Ve(n,(e,t)=>!K(r,t));o.setAttribs(A,e)}},Uy={insert:(a,r)=>{let A,n,i,t,s=!1,l=a.dom,d=a.schema,c=d.getNonEmptyElements(),u=a.selection.getRng(),g=Qs(a),e=u.collapsed&&u.startContainer===a.dom.getRoot(),m=J(u.startContainer),p=Go(m,u.startOffset),o=p.exists(e=>oo(e)&&!mr(e)),h=e&&o,f=e=>{let t=A;var o=d.getTextInlineElements(),r=e||"TABLE"===i||"HR"===i?l.create(e||g):C.cloneNode(!1);let n=r;if(!1===Hs(a))l.setAttrib(r,"style",null),l.setAttrib(r,"class",null);else do{if(o[t.nodeName]&&!Cc(t)&&!Oc(t)){let e=t.cloneNode(!1);l.setAttrib(e,"id",""),r.hasChildNodes()?e.appendChild(r.firstChild):n=e,r.appendChild(e)}}while((t=t.parentNode)&&t!==y);return Qy(a,r),ky(n),r},b=e=>{var t=Sy(e,A,n);if(te(A)&&(e?0<t:t<A.data.length))return!1;if((A.parentNode!==C||!s||e)&&(!e||!ee(A)||A!==C.firstChild)){if(Ey(A,"TABLE")||Ey(A,"HR"))return s&&!e||!s&&e;var o,r=new Wr(A,C);for(te(A)&&(e&&0===t?r.prev():e||t!==A.data.length||r.next());o=r.current();){if(ee(o)){if(!o.getAttribute("data-mce-bogus")){let e=o.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(te(o)&&!ma(o.data))return!1;e?r.prev():r.next()}}return!0},v=()=>{let e;return e=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&"HGROUP"!==_?f(g):f(),((e,t)=>{e=Ds(e);return!ne(t)&&(R(e)?K(T.explode(e),t.nodeName.toLowerCase()):e)})(a,t)&&Fy(l,t)&&l.isEmpty(C,void 0,{includeZwsp:!0})?e=l.split(t,C):l.insertAfter(e,C),vy(a,e),e};Sg(l,u).each(e=>{u.setStart(e.startContainer,e.startOffset),u.setEnd(e.endContainer,e.endOffset)}),A=u.startContainer,n=u.startOffset;var w,x,B=!(!r||!r.shiftKey),r=!(!r||!r.ctrlKey);ee(A)&&A.hasChildNodes()&&!h&&(s=n>A.childNodes.length-1,A=A.childNodes[Math.min(n,A.childNodes.length-1)]||A,n=s&&te(A)?A.data.length:0);let y=wy(l,A);if(!y||((e,t)=>{t=e.dom.getParent(t,"ol,ul,dl");return null!==t&&"false"===e.dom.getContentEditableParent(t)})(a,A))return;B||(A=((n,a,A,i,s)=>{var e;let l=n.dom,t=null!=(c=wy(l,i))?c:l.getRoot();var d=l.getParent(i,l.isBlock);if(!d||!Fy(l,d)){if(!(d=d||t).hasChildNodes()){let e=l.create(a);return Qy(n,e),d.appendChild(e),A.setStart(e,0),A.setEnd(e,0),e}let o,r=i;for(;r&&r.parentNode!==d;)r=r.parentNode;for(;r&&!l.isBlock(r);)r=(o=r).previousSibling;var c=null==(e=null==o?void 0:o.parentElement)?void 0:e.nodeName;if(o&&c&&n.schema.isValidChild(c,a.toLowerCase())){let e=o.parentNode,t=l.create(a);for(Qy(n,t),e.insertBefore(t,o),r=o;r&&!l.isBlock(r);){let e=r.nextSibling;t.appendChild(r),r=e}A.setStart(i,s),A.setEnd(i,s)}}return i})(a,g,u,A,n));let C=l.getParent(A,l.isBlock)||l.getRoot(),_=(t=P(null==C?void 0:C.parentNode)?l.getParent(C.parentNode,l.isBlock):null,i=C?C.nodeName.toUpperCase():"",t?t.nodeName.toUpperCase():"");if("LI"!==_||r||(t=(C=t).parentNode,i=_),ee(t)&&(w=a,x=C,!B)&&x.nodeName.toLowerCase()===Qs(w)&&w.dom.isEmpty(x)&&(e=>{let t=x;for(;t&&t!==e&&H(t.nextSibling);){let e=t.parentElement;if(!e||(o=e,!X(w.schema.getTextBlockElements(),o.nodeName.toLowerCase())))return fn(e);t=e}var o;return!1})(w.getBody()))r=a,B=f,S=C,B=B(Qs(r)),(F=r.dom.getParent(S,fn))&&(r.dom.insertAfter(B,F),vy(r,B),1<(null!=(F=null==(B=null==(F=S.parentElement)?void 0:F.childNodes)?void 0:B.length)?F:0))&&r.dom.remove(S);else if(/^(LI|DT|DD)$/.test(i)&&ee(t)&&l.isEmpty(C)){var k=a,E=f,B=t,F=C,r=g,S=k.dom,Q=k.selection.getRng(),U=B.parentNode;if(B!==k.getBody()&&U){let o=E(r=yy(E=B)&&yy(E.parentNode)?"LI":r);if(_y(B,F,!0)&&_y(B,F,!1))if(By(B,"LI")){let e=Cy(B);S.insertAfter(o,e),(null==(E=B.parentNode)?void 0:E.firstChild)===B?S.remove(e):S.remove(B)}else S.replace(o,B);else{if(_y(B,F,!0))By(B,"LI")?(S.insertAfter(o,Cy(B)),o.appendChild(S.doc.createTextNode(" ")),o.appendChild(B)):U.insertBefore(o,B);else if(_y(B,F,!1))S.insertAfter(o,Cy(B));else{B=Cy(B);let e=Q.cloneRange(),t=(e.setStartAfter(F),e.setEndAfter(B),e.extractContents());"LI"===r&&(U=t).firstChild&&"LI"===U.firstChild.nodeName?(o=t.firstChild,S.insertAfter(t,B)):(S.insertAfter(t,B),S.insertAfter(o,B))}S.remove(F)}vy(k,o)}}else if(h||C!==a.getBody()&&Fy(l,C)){var I,E=C.parentNode;let o;if(h)o=f(g),p.fold(()=>{q(m,J(o))},e=>{_r(e,J(o))}),a.selection.setCursorLocation(o,0);else if(Gn(C))o=ea(C),l.isEmpty(C)&&ky(C),Qy(a,o),vy(a,o);else if(b(!1))o=v();else if(b(!0)&&E){o=E.insertBefore(f(),C);let e=J(u.startContainer).dom.hasChildNodes()&&u.collapsed;vy(a,Ey(C,"HR")||e?o:C)}else{Q=u,(U=Q.cloneRange()).setStart(Q.startContainer,Sy(!0,Q.startContainer,Q.startOffset)),U.setEnd(Q.endContainer,Sy(!1,Q.endContainer,Q.endOffset));let e=U.cloneRange(),t=(e.setEndAfter(C),e.extractContents());B=t,j(Zr(J(B),no),e=>{e=e.dom;e.nodeValue=zn(e.data)});{let e=t;for(;te(e)&&(e.data=e.data.replace(/^[\r\n]+/,"")),e=e.firstChild;);}o=t.firstChild,l.insertAfter(t,C),((o,r,n)=>{var a,A,i=[];if(n){let e=n;for(;e=e.firstChild;){if(o.isBlock(e))return;ee(e)&&!r[e.nodeName.toLowerCase()]&&i.push(e)}let t=i.length;for(;t--;)(!(e=i[t]).hasChildNodes()||e.firstChild===e.lastChild&&""===(null==(a=e.firstChild)?void 0:a.nodeValue)||(a=o,(A=e)&&"A"===A.nodeName&&a.isEmpty(A)))&&o.remove(e)}})(l,c,o),k=l,(B=C).normalize(),(!(I=B.lastChild)||ee(I)&&/^(left|right)$/gi.test(k.getStyle(I,"float",!0)))&&k.add(B,"br"),l.isEmpty(C)&&ky(C),o.normalize(),l.isEmpty(o)?(l.remove(o),v()):(Qy(a,o),vy(a,o))}l.setAttrib(o,"id",""),a.dispatch("NewBlock",{newBlock:o})}},fakeEventName:"insertParagraph"},Iy=(e,t,o)=>{var r=e.dom.createRng();o?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),qg(e,r)},Ty=(e,t)=>{var o=Fo("br");_r(J(t),o),e.undoManager.add()},My=(e,t)=>{Hy(e.getBody(),t)||kr(J(t),Fo("br"));var o=Fo("br");kr(J(t),o),Iy(e,o.dom,!1),e.undoManager.add()},Hy=(e,t)=>{return o=M.after(t),!!k(o.getNode())||vc(e,M.after(t)).map(e=>k(e.getNode())).getOr(!1);var o},Dy=e=>e&&"A"===e.nodeName&&"href"in e,Oy=e=>e.fold(g,Dy,Dy,g),Ly=(e,t)=>{t.fold(z,w(Ty,e),w(My,e),z)},Ny={insert:(s,l)=>{u=s,d=w(oh,u),g=M.fromRangeStart(u.selection.getRng());var d=Lw(d,u.getBody(),g).filter(Oy);if(d.isSome())d.each(w(Ly,s));else{var c=s,u=l;let e=c.selection,t=c.dom,o=e.getRng(),r,n=!1,a=(Sg(t,o).each(e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}),o.startOffset),A=o.startContainer;if(ee(A)&&A.hasChildNodes()){let e=a>A.childNodes.length-1;A=A.childNodes[Math.min(a,A.childNodes.length-1)]||A,a=e&&te(A)?A.data.length:0}let i=t.getParent(A,t.isBlock);var g=i&&i.parentNode?t.getParent(i.parentNode,t.isBlock):null,d=g?g.nodeName.toUpperCase():"",u=!(!u||!u.ctrlKey);"LI"!==d||u||(i=g),te(A)&&a>=A.data.length&&(((e,t,o)=>{for(var r,n=new Wr(t,o),a=e.getNonEmptyElements();r=n.next();)if(a[r.nodeName.toLowerCase()]||te(r)&&0<r.length)return!0;return!1})(c.schema,A,i||t.getRoot())||(r=t.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),n=!0)),r=t.create("br"),Pi(t,o,r),Iy(c,r,n),c.undoManager.add()}},fakeEventName:"insertLineBreak"},Ry=(e,t)=>xy(e).filter(e=>0<t.length&&Io(J(e),t)).isSome(),Py=ds([{br:[]},{block:[]},{none:[]}]),Vy=(e,t)=>(e=e,Ry(e,Ms(e))),zy=o=>(e,t)=>(e=e,xy(e).filter(e=>In(J(e))).isSome()===o),Ky=(o,r)=>(e,t)=>(e=e,xy(e).fold(Z(""),e=>e.nodeName.toUpperCase())===o.toUpperCase()===r),Zy=e=>{e=wy(e.dom,e.selection.getStart());return ne(e)},Gy=e=>Ky("pre",e),jy=o=>(e,t)=>Ss(e)===o,Wy=(e,t)=>(e=e,Ry(e,Ts(e))),Xy=(e,t)=>t,Yy=e=>{var t=Qs(e),o=wy(e.dom,e.selection.getStart());return P(o)&&e.schema.isValidChild(o.nodeName,t)},Jy=e=>{var t=e.selection.getRng(),e=t.collapsed&&t.startContainer===e.dom.getRoot(),o=J(t.startContainer),o=Go(o,t.startOffset).map(e=>oo(e)&&!mr(e));return e&&o.getOr(!0)},qy=(e,t)=>(o,r)=>ve(e,(e,t)=>e&&t(o,r),!0)?Q.some(t):Q.none(),$y=(e,t,o)=>{t.selection.isCollapsed()||t.execCommand("delete"),P(o)&&by(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,o),P(o)&&fy(t,e.fakeEventName))},eC=(e,t)=>{var o,r,n=()=>$y(Ny,e,t),a=()=>$y(Uy,e,t),A=(o=e,r=t,Fw([qy([Vy],Py.none()),qy([Gy(!0),Zy],Py.none()),qy([Ky("summary",!0)],Py.br()),qy([Gy(!0),jy(!1),Xy],Py.br()),qy([Gy(!0),jy(!1)],Py.block()),qy([Gy(!0),jy(!0),Xy],Py.block()),qy([Gy(!0),jy(!0)],Py.br()),qy([zy(!0),Xy],Py.br()),qy([zy(!0)],Py.block()),qy([Wy],Py.br()),qy([Xy],Py.br()),qy([Yy],Py.block()),qy([Jy],Py.block())],[o,!(!r||!r.shiftKey)]).getOr(Py.none()));switch(Is(e)){case"linebreak":A.fold(n,n,z);break;case"block":A.fold(a,a,z);break;case"invert":A.fold(a,n,z);break;default:A.fold(n,a,z)}},tC=Lt(),oC=tC.os.isiOS()&&tC.browser.isSafari(),rC=(e,t)=>{var o;t.isDefaultPrevented()||(t.preventDefault(),(o=e.undoManager).typing&&(o.typing=!1,o.add()),e.undoManager.transact(()=>{eC(e,t)}))},nC=Lt(),aC=e=>e.stopImmediatePropagation(),AC=e=>e.keyCode===N.PAGE_UP||e.keyCode===N.PAGE_DOWN,iC=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",aC,!0):!o&&e.get()&&t.off("NodeChange",aC),e.set(o)},sC=(o,r)=>{var e=r.container(),t=r.offset();return te(e)?(e.insertData(t,o),Q.some(M(e,t+o.length))):qd(r).map(e=>{var t=So(o);return(r.isAtEnd()?kr:_r)(e,t),M(t.dom,o.length)})},lC=w(sC,wn),dC=w(sC," "),cC=t=>e=>{t.selection.setRng(e.toRange()),t.nodeChanged()},uC=r=>{let n=M.fromRangeStart(r.selection.getRng()),a=J(r.getBody());var e,t,o;return r.selection.isCollapsed()?(e=w(oh,r),t=M.fromRangeStart(r.selection.getRng()),Lw(e,r.getBody(),t).bind((o=a,e=>e.fold(e=>wc(o.dom,M.before(e)),e=>xc(e),e=>Bc(e),e=>vc(o.dom,M.after(e))))).map(e=>()=>{return t=a,o=n,(e=>(Mp(t,e)?lC:dC)(o))(e).each(cC(r));var t,o})):Q.none()},gC=o=>{return Xt(L.browser.isFirefox()&&o.selection.isEditable()&&(e=o.dom,t=o.selection.getRng().startContainer,e.isEditable(e.getParent(t,"summary"))),()=>{var e,t=J(o.getBody());o.selection.isCollapsed()||o.getDoc().execCommand("Delete"),t=t,e=M.fromRangeStart(o.selection.getRng()),(Mp(t,e)?lC:dC)(e).each(cC(o))});var e,t},mC=e=>ld(e)?[{keyCode:N.TAB,action:p(q2,e,!0)},{keyCode:N.TAB,shiftKey:!0,action:p(q2,e,!1)}]:[],pC=e=>{if(e.addShortcut("Meta+P","","mcePrint"),py(e),Tb(e))return OA(null);var t=Fx(e);(u=e).on("keyup compositionstart",w(m2,u)),c=t,(d=e).on("keydown",e=>{var t,o,r;e.isDefaultPrevented()||(t=d,o=c,r=e,e=L.os.isMacOS()||L.os.isiOS(),k2([{keyCode:N.RIGHT,action:p(f2,t,!0)},{keyCode:N.LEFT,action:p(f2,t,!1)},{keyCode:N.UP,action:p(b2,t,!1)},{keyCode:N.DOWN,action:p(b2,t,!0)},...e?[{keyCode:N.UP,action:p(w2,t,!1),metaKey:!0,shiftKey:!0},{keyCode:N.DOWN,action:p(w2,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:N.RIGHT,action:p(j2,t,!0)},{keyCode:N.LEFT,action:p(j2,t,!1)},{keyCode:N.UP,action:p(W2,t,!1)},{keyCode:N.DOWN,action:p(W2,t,!0)},{keyCode:N.RIGHT,action:p(F2,t,!0)},{keyCode:N.LEFT,action:p(F2,t,!1)},{keyCode:N.UP,action:p(S2,t,!1)},{keyCode:N.DOWN,action:p(S2,t,!0)},{keyCode:N.RIGHT,action:p(kx,t,o,!0)},{keyCode:N.LEFT,action:p(kx,t,o,!1)},{keyCode:N.RIGHT,ctrlKey:!e,altKey:e,action:p(Sx,t,o)},{keyCode:N.LEFT,ctrlKey:!e,altKey:e,action:p(Qx,t,o)},{keyCode:N.UP,action:p(y2,t,!1)},{keyCode:N.DOWN,action:p(y2,t,!0)}],r).each(e=>{r.preventDefault()}))});{var i=e,a=t;let A=!1;i.on("keydown",e=>{if(A=e.keyCode===N.BACKSPACE,!e.isDefaultPrevented()){var o=i,r=a,n=e;let t=n.keyCode===N.BACKSPACE?"deleteContentBackward":"deleteContentForward";E2([{keyCode:N.BACKSPACE,action:p(t2,o)},{keyCode:N.BACKSPACE,action:p(hw,o,!1)},{keyCode:N.DELETE,action:p(hw,o,!0)},{keyCode:N.BACKSPACE,action:p(sw,o,!1)},{keyCode:N.DELETE,action:p(sw,o,!0)},{keyCode:N.BACKSPACE,action:p(Mx,o,r,!1)},{keyCode:N.DELETE,action:p(Mx,o,r,!0)},{keyCode:N.BACKSPACE,action:p(Rh,o,!1)},{keyCode:N.DELETE,action:p(Rh,o,!0)},{keyCode:N.BACKSPACE,action:p(fw,o,!1)},{keyCode:N.DELETE,action:p(fw,o,!0)},{keyCode:N.BACKSPACE,action:p(jx,o,!1)},{keyCode:N.DELETE,action:p(jx,o,!0)},{keyCode:N.BACKSPACE,action:p(tw,o,!1)},{keyCode:N.DELETE,action:p(tw,o,!0)},{keyCode:N.BACKSPACE,action:p(qv,o,!1)},{keyCode:N.DELETE,action:p(qv,o,!0)},{keyCode:N.BACKSPACE,action:p(zx,o,!1)},{keyCode:N.DELETE,action:p(zx,o,!0)}],n).filter(e=>o.selection.isEditable()).each(e=>{n.preventDefault(),by(o,t).isDefaultPrevented()||(e(),fy(o,t))})}}),i.on("keyup",e=>{var t,o,r,n,a;e.isDefaultPrevented()||(t=i,e=e,o=A,r=Lt(),n=r.os,r=r.browser,a=n.isMacOS()?[{keyCode:N.BACKSPACE,altKey:!0,action:p(Zx,t)},{keyCode:N.DELETE,altKey:!0,action:p(Zx,t)}]:[{keyCode:N.BACKSPACE,ctrlKey:!0,action:p(Zx,t)},{keyCode:N.DELETE,ctrlKey:!0,action:p(Zx,t)}],n.isMacOS()&&o&&a.push({keyCode:r.isFirefox()?224:91,action:p(Zx,t)}),k2([{keyCode:N.BACKSPACE,action:p(pw,t)},{keyCode:N.DELETE,action:p(pw,t)},...a],e)),A=!1})}{var A=e;let n=Q.none();A.on("keydown",e=>{var t,o,r;e.keyCode===N.ENTER&&(oC&&!!(t=A.selection.getRng()).collapsed&&(r=t.startContainer,!!te(r))&&(o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=r.data.charAt(t.startOffset-1),o.test(r))?(t=A,n=Q.some(t.selection.getBookmark()),t.undoManager.add()):rC(A,e))}),A.on("keyup",o=>{o.keyCode===N.ENTER&&n.each(()=>{return e=o,(t=A).undoManager.undo(),n.fold(z,e=>t.selection.moveToBookmark(e)),rC(t,e),void(n=Q.none());var t,e})})}(l=e).on("keydown",e=>{var t,o;e.isDefaultPrevented()||(t=l,o=e,E2([{keyCode:N.SPACEBAR,action:p(uC,t)},{keyCode:N.SPACEBAR,action:p(gC,t)}],o).each(e=>{o.preventDefault(),by(t,"insertText",{data:" "}).isDefaultPrevented()||(e(),fy(t,"insertText",{data:" "}))}))}),(o=e).on("input",e=>{var t;e.isComposing||(t=o,e=J(t.getBody()),t.selection.isCollapsed()&&Vp(e,M.fromRangeStart(t.selection.getRng())).each(e=>{t.selection.setRng(e.toRange())}))}),(r=e).on("keydown",e=>{var t,o;e.isDefaultPrevented()||(t=r,o=e,k2([...mC(t)],o).each(e=>{o.preventDefault()}))}),s=t,(n=e).on("keydown",e=>{var t,o,r;e.isDefaultPrevented()||(t=n,o=s,r=e,e=L.os.isMacOS()||L.os.isiOS(),k2([{keyCode:N.END,action:p(v2,t,!0)},{keyCode:N.HOME,action:p(v2,t,!1)},...e?[]:[{keyCode:N.HOME,action:p(w2,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:N.END,action:p(w2,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:N.END,action:p(Q2,t,!0)},{keyCode:N.HOME,action:p(Q2,t,!1)},{keyCode:N.END,action:p(Ux,t,!0,o)},{keyCode:N.HOME,action:p(Ux,t,!1,o)}],r).each(e=>{r.preventDefault()}))});var n,s,r,o,l,d,c,u,g=e,m=t;if(!nC.os.isMacOS()){let n=OA(!1);g.on("keydown",e=>{AC(e)&&iC(n,g,!0)}),g.on("keyup",e=>{var t,o,r;e.isDefaultPrevented()||(t=g,o=m,r=e,k2([{keyCode:N.PAGE_UP,action:p(Ux,t,!1,o)},{keyCode:N.PAGE_DOWN,action:p(Ux,t,!0,o)}],r)),AC(e)&&n.get()&&(iC(n,g,!1),g.nodeChanged())})}return t};class hC{constructor(o){let r,t=(this.lastPath=[],this.editor=o,this);"onselectionchange"in o.getDoc()||o.on("NodeChange click mouseup keyup focus",e=>{var t=o.selection.getRng(),t={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!==e.type&&Bg(t,r)||o.dispatch("SelectionChange"),r=t}),o.on("contextmenu",()=>{o.dispatch("SelectionChange")}),o.on("SelectionChange",()=>{var e=o.selection.getStart(!0);e&&ou(o)&&!t.isSameElementPath(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("mouseup",e=>{!e.isDefaultPrevented()&&ou(o)&&("IMG"===o.selection.getNode().nodeName?cm.setEditorTimeout(o,()=>{o.nodeChanged()}):o.nodeChanged())})}nodeChanged(e={}){var r=this.editor.selection;let n;if(this.editor.initialized&&r&&!Cl(this.editor)&&!this.editor.mode.isReadOnly()){let t=this.editor.getBody(),o=((n=r.getStart(!0)||t).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,t)||(n=t),[]);this.editor.dom.getParent(n,e=>e===t||(o.push(e),!1)),this.editor.dispatch("NodeChange",{...e,element:n,parents:o})}}isSameElementPath(e){let t;var o=this.editor,r=ke(o.dom.getParents(e,de,o.getBody()));if(r.length===this.lastPath.length){for(t=r.length;0<=t&&r[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=r,!0}return this.lastPath=r,!1}}let fC=ai("image"),bC=ai("event"),vC=t=>e=>{e[bC]=t},wC=vC(0),xC=vC(2),BC=vC(1),yC=e=>Q.from(e[bC]).exists(e=>0===e),CC=ai("mode"),_C=t=>e=>{e[CC]=t},kC=(e,t)=>_C(t)(e),EC=_C(0),FC=_C(2),SC=_C(1),QC=t=>e=>Q.from(e[CC]).exists(e=>e===t),UC=QC(0),IC=QC(1),TC=["none","copy","link","move"],MC=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],HC=()=>{let n=new window.DataTransfer,t="move",o="all",a={get dropEffect(){return t},set dropEffect(e){K(TC,e)&&(t=e)},get effectAllowed(){return o},set effectAllowed(e){yC(a)&&K(MC,e)&&(o=e)},get items(){return o=a,{...r=n.items,get length(){return r.length},add:(e,t)=>{if(UC(o)){if(!R(e))return r.add(e);if(!F(t))return r.add(e,t)}return null},remove:e=>{UC(o)&&r.remove(e)},clear:()=>{UC(o)&&r.clear()}};var o,r},get files(){return IC(a)?Object.freeze({length:0,item:e=>null}):n.files},get types(){return n.types},setDragImage:(e,t,o)=>{var r;UC(a)&&(r={image:e,x:t,y:o},a[fC]=r,n.setDragImage(e,t,o))},getData:e=>IC(a)?"":n.getData(e),setData:(e,t)=>{UC(a)&&n.setData(e,t)},clearData:e=>{UC(a)&&n.clearData(e)}};return EC(a),a},DC=(e,t)=>e.setData("text/html",t),OC="x-tinymce/html",LC=Z(OC),NC="\x3c!-- "+OC+" --\x3e",RC=e=>NC+e,PC=e=>-1!==e.indexOf(NC),VC="%MCEPASTEBIN%",zC=e=>e.dom.get("mcepastebin"),KC=e=>P(e)&&"mcepastebin"===e.id,ZC=e=>e===VC,GC=(t,e)=>(T.each(e,e=>{t=b(e,RegExp)?t.replace(e,""):t.replace(e[0],e[1])}),t),jC=e=>GC(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,o)=>t||o?wn:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),WC=(e,t)=>({content:e,cancelled:t}),XC=(e,t)=>(e.insertContent(t,{merge:Wl(e),paste:!0}),!0),YC=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),JC=(e,t,o)=>{return!(e.selection.isCollapsed()||!YC(t)||(n=t,a=o,(r=e).undoManager.extra(()=>{a(r,n)},()=>{r.execCommand("mceInsertLink",!1,n)}),0));var r,n,a},qC=(e,t,o)=>{return A=e,i=t,!(!YC(i)||!G(sd(A),e=>dt(i.toLowerCase(),"."+e.toLowerCase()))||(n=t,a=o,(r=e).undoManager.extra(()=>{a(r,n)},()=>{r.insertContent('<img src="'+n+'">')}),0));var r,n,a,A,i},$C=(()=>{let e=0;return()=>"mceclip"+e++})(),e_=e=>{var t=HC();return DC(t,e),FC(t),t},t_=(i,t,s,a,o)=>{var r=(()=>{var o=i,e=t,r=s,e=o.dispatch("PastePreProcess",{content:e,internal:r}),n=(a=o,n=e.content,(A=eb({sanitize:Ad(a)},a.schema)).addNodeFilter("meta",e=>{T.each(e,e=>{e.remove()})}),A=A.parse(n,{forced_root_block:!1,isRootContent:!0}),Gm({validate:!0},a.schema).serialize(A));if(!o.hasEventListeners("PastePostProcess")||e.isDefaultPrevented())return WC(n,e.isDefaultPrevented());{var a=o,A=r;let e=a.dom.create("div",{style:"display:none"},n),t=a.dispatch("PastePostProcess",{node:e,internal:A});return WC(t.node.innerHTML,t.isDefaultPrevented())}})();if(!r.cancelled){let n=r.content,e=()=>{var e,t,o,r;e=i,t=n,a||!Xl(e)?XC(e,t):(o=e,r=t,T.each([JC,qC,XC],e=>!e(o,r,XC)))};o?by(i,"insertFromPaste",{dataTransfer:e_(n)}).isDefaultPrevented()||(e(),fy(i,"insertFromPaste")):e()}},o_=(e,t,o,r)=>{o=o||PC(t);t_(e,t.replace(NC,""),o,!1,r)},r_=(e,t,o)=>{t=e.dom.encode(t).replace(/\r\n/g,"\n"),t=((e,o,t)=>{let r=e.split(/\n\n/),n=(e=>{let t="<"+o;e=ze(e,(e,t)=>t+'="'+rA.encodeAllRaw(e)+'"');return e.length&&(t+=" "+e.join(" ")),t+">"})(t),a="</"+o+">",A=f(r,e=>e.split(/\n/).join("<br />"));return 1===A.length?A[0]:f(A,e=>n+e+a).join("")})(fa(t,Jl(e)),Qs(e),Us(e));t_(e,t,!1,!0,o)},n_=t=>{var o={};if(t&&t.types)for(let e=0;e<t.types.length;e++){var r=t.types[e];try{o[r]=t.getData(r)}catch(t){o[r]=""}}return o},a_=(e,t)=>t in e&&0<e[t].length,A_=e=>a_(e,"text/html")||a_(e,"text/plain"),i_=(t,e,o)=>{var r,n="paste"===e.type?e.clipboardData:e.dataTransfer;if(Vl(t)&&n){r=t,a=(n=n).items?Ce(Te(n.items),e=>"file"===e.kind?[e.getAsFile()]:[]):[],n=n.files?Te(n.files):[];var a=U(0<a.length?a:n,(e=>{let t=sd(e);return o=>lt(o.type,"image/")&&G(t,e=>{return e=e.toLowerCase(),t={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},(T.hasOwn(t,e)?"image/"+t[e]:"image/"+e)===o.type;var t})})(r));if(0<a.length)return e.preventDefault(),n=a,Promise.all(f(n,t=>U1(t).then(e=>({file:t,uri:e})))).then(e=>{o&&t.selection.setRng(o),j(e,e=>{var i,s;i=t,s=e,S1(s.uri).each(({data:e,type:t,base64Encoded:o})=>{var r,n,o=o?e:btoa(e),e=s.file,a=i.editorUpload.blobCache,t=a.getByData(o,t),A=null!=t?t:(t=i,a=a,e=e,o=o,A=$C(),r=Ls(t)&&P(e.name),t=r?(t=t,n=e.name.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i),P(n)?t.dom.encode(n[1]):void 0):A,n=r?e.name:void 0,r=a.create(A,e,o,t,n),a.add(r),r);o_(i,`<img src="${A.blobUri()}">`,!1,!0)})})}),!0}return!1},s_=(e,t,o,r,n)=>{let a=jC(o);var o=a_(t,LC())||PC(o),A=!o&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a),i=YC(a);((r=ZC(a)||!a.length||A&&!i?!0:r)||i)&&(a=a_(t,"text/plain")&&A?t["text/plain"]:(e=>{let r=hA(),t=eb({},r),n="",a=r.getVoidElements(),A=T.makeMap("script noscript style textarea video audio iframe object"," "),i=r.getBlockElements(),s=t=>{var e=t.name,o=t;if("br"!==e){if("wbr"!==e)if(a[e]&&(n+=" "),A[e])n+=" ";else{if(3===t.type&&(n+=t.value),!(t.name in r.getVoidElements())){let e=t.firstChild;if(e)for(;s(e),e=e.next;);}i[e]&&o.next&&(n+="\n","p"===e)&&(n+="\n")}}else n+="\n"};return e=GC(e,[/<!\[[^\]]+\]>/g]),s(t.parse(e)),n})(a)),ZC(a)||(r?r_(e,a,n):o_(e,a,o,n))},l_=(e,t,o)=>{{var a=e,A=t,i=o;let n;a.on("keydown",e=>{var t;t=e,(N.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode)&&!e.isDefaultPrevented()&&(n=e.shiftKey&&86===e.keyCode)}),a.on("paste",e=>{if(!e.isDefaultPrevented()&&(r=e,!L.os.isAndroid()||0!==(null==(r=null==(r=r.clipboardData)?void 0:r.items)?void 0:r.length))){var r;let t="text"===i.get()||n,o=(n=!1,n_(e.clipboardData));!A_(o)&&i_(a,e,A.getLastRng()||a.selection.getRng())||(a_(o,"text/html")?(e.preventDefault(),s_(a,o,o["text/html"],t,!0)):a_(o,"text/plain")&&a_(o,"text/uri-list")?(e.preventDefault(),s_(a,o,o["text/plain"],t,!0)):(A.create(),cm.setEditorTimeout(a,()=>{var e=A.getHtml();A.remove(),s_(a,o,e,t,!1)},0)))}})}var n;(n=e).parser.addNodeFilter("img",(e,t,o)=>{if(!Vl(n)&&!0===(null==(o=o.data)?void 0:o.paste))for(let t of e){let e=t.attr("src");R(e)&&!t.attr("data-mce-object")&&e!==L.transparentSrc&&(r=e,lt(r,"webkit-fake-url")||!ql(n)&&(r=e,lt(r,"data:")))&&t.remove()}var r})},d_=(e,t,o,r)=>{((e,t,o)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(LC(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):o(t.html,r)},c_=i=>(e,t)=>{let{dom:o,selection:r}=i,n=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=o.create("div",{contenteditable:"true"},e),A=(o.setStyles(n,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),n.appendChild(a),o.add(i.getBody(),n),r.getRng());a.focus();e=o.createRng();e.selectNodeContents(a),r.setRng(e),cm.setEditorTimeout(i,()=>{r.setRng(A),o.remove(n),t()},0)},u_=e=>({html:RC(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),g_=e=>!e.selection.isCollapsed()||!!(e=e).dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),m_=(e,t)=>{var o;return Ig.getCaretRangeFromPoint(null!=(o=t.clientX)?o:0,null!=(o=t.clientY)?o:0,e.getDoc())},p_=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},h_=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,f_=e=>T.trim(e).replace(h_,jc).toLowerCase(),b_=(e,t,o)=>{let r=Gl(e);if(!o&&"all"!==r&&jl(e)){let s=r?r.split(/[, ]/):[];if(s&&"none"!==r){let A=e.dom,i=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,o,r)=>{var n=A.parseStyle(A.decode(o)),a={};for(let r=0;r<s.length;r++){let e=n[s[r]],t=e,o=A.getStyle(i,s[r],!0);/color/.test(s[r])&&(t=f_(t),o=f_(o)),o!==t&&(a[s[r]]=e)}o=A.serializeStyle(a,"span");return o?t+' style="'+o+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,o,r)=>t+' style="'+o+'"'+r)}return t},v_=r=>{let n=OA(!1),a=OA(Yl(r)?"text":"html"),A=(A=>{let a=OA(null);return{create:()=>{var e=A,t=a,{dom:o,selection:r}=e,n=e.getBody(),t=(t.set(r.getRng()),o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},VC));L.browser.isFirefox()&&o.setStyle(t,"left","rtl"===o.getStyle(n,"direction",!0)?65535:-65535),o.bind(t,"beforedeactivate focusin focusout",e=>{e.stopPropagation()}),t.focus(),r.select(t,!0)},remove:()=>{var e=A,t=a,o=e.dom;if(zC(e)){for(var r,n=t.get();r=zC(e);)o.remove(r),o.unbind(r);n&&e.selection.setRng(n)}t.set(null)},getEl:()=>zC(A),getHtml:()=>{{var t=A;let o=t.dom,r=(e,t)=>{e.appendChild(t),o.remove(t,!0)},[n,...e]=U(t.getBody().childNodes,KC);j(e,e=>{r(n,e)});var a=o.select("div[id=mcepastebin]",n);for(let t=a.length-1;0<=t;t--){let e=o.create("div");n.insertBefore(e,a[t]),r(e,a[t])}return n?n.innerHTML:""}},getLastRng:a.get}})(r);var o,e,i,s,t,l,d;t=r,(L.browser.isChromium()||L.browser.isSafari())&&(l=t,d=b_,l.on("PastePreProcess",e=>{e.content=d(l,e.content,e.internal)})),s=a,(i=r).addCommand("mceTogglePlainTextPaste",()=>{var e,t;e=i,"text"===(t=s).get()?(t.set("html"),eg(e,!1)):(t.set("text"),eg(e,!0)),e.focus()}),i.addCommand("mceInsertClipboardContent",(e,t)=>{t.html&&o_(i,t.html,t.internal,!1),t.text&&r_(i,t.text,!1)}),o=r,t=t=>e=>{t(o,e)},e=zl(o),V(e)&&o.on("PastePreProcess",t(e)),e=Kl(o),V(e)&&o.on("PastePostProcess",t(e)),r.on("PreInit",()=>{var s,l,e,t,o;(e=r).on("cut",(o=e,e=>{!e.isDefaultPrevented()&&g_(o)&&d_(e,u_(o),c_(o),()=>{if(L.browser.isChromium()||L.browser.isFirefox()){let e=o.selection.getRng();cm.setEditorTimeout(o,()=>{o.selection.setRng(e),o.execCommand("Delete")},0)}else o.execCommand("Delete")})})),e.on("copy",(t=e,e=>{!e.isDefaultPrevented()&&g_(t)&&d_(e,u_(t),c_(t),z)})),s=r,l=n,Pl(s)&&s.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault(),e.stopPropagation()}),Vl(s)||s.on("drop",e=>{var t=e.dataTransfer;t&&(t=t,G(t.files,e=>/^image\//.test(e.type)))&&e.preventDefault()}),s.on("drop",A=>{if(!A.isDefaultPrevented()){let a=m_(s,A);if(!ne(a)){let r=n_(A.dataTransfer),n=a_(r,LC());if(A_(r)&&(!(i=r["text/plain"])||0!==i.indexOf("file://"))||!i_(s,A,a)){var i;let t=r[LC()],o=t||r["text/html"]||r["text/plain"],e=((e,t,o,r)=>{o=e.getParent(o,e=>Ta(t,e));if(o&&X(r,"text/html")){let e=(new DOMParser).parseFromString(r["text/html"],"text/html").body;return!H(e.querySelector(o.nodeName.toLowerCase()))}return!1})(s.dom,s.schema,a.startContainer,r);l.get()&&!e||o&&(A.preventDefault(),cm.setEditorTimeout(s,()=>{s.undoManager.transact(()=>{t&&s.execCommand("Delete"),p_(s,a);var e=jC(o);r["text/html"]?o_(s,e,n,!0):r_(s,e,!0)})}))}}}}),s.on("dragstart",e=>{l.set(!0)}),s.on("dragover dragend",e=>{Vl(s)&&!l.get()&&(e.preventDefault(),p_(s,m_(s,e))),"dragend"===e.type&&l.set(!1)}),l_(r,A,a)})},w_=e=>Nn(J(e)),x_=(e,t)=>{var o=t.getNode();F(o)||e.selection.setCursorLocation(o,t.offset())},B_=(e,t)=>0===e.startOffset&&e.endOffset===(null==(e=t.textContent)?void 0:e.length),y_=Lt(),C_=y_.browser,__=y_.os,k_=C_.isSafari(),E_=__.isMacOS()||__.isiOS(),F_=(e,t)=>P(e.getParent(t.container(),"details")),S_=(t,e)=>{var o=t.dom.getParent(e.container(),"details");if(o&&!o.open){let e=t.dom.select("summary",o)[0];e&&Bc(e).each(e=>x_(t,e))}else x_(t,e)},Q_=(s,e,l)=>{let d=s.selection,c=d.getNode(),t=d.getRng(),u=l.keyCode===N.BACKSPACE,o=l.keyCode===N.DELETE,g=s.selection.isCollapsed(),r=M.fromRangeStart(t),n=s.getBody();return!((g||(f=t,v=(b=e).startSummary.exists(e=>e.contains(f.startContainer)),w=b.startSummary.exists(e=>e.contains(f.endContainer)),x=b.startDetails.forall(t=>b.endDetails.forall(e=>t!==e)),(!v&&!w||v&&w)&&!x))&&!(g&&u&&(h=r,e.startSummary.exists(e=>{return t=h,e=e,xc(e).exists(e=>e.isEqual(t));var t})))&&!(g&&o&&(p=r,e.startSummary.exists(e=>{return t=p,o=e,Bc(o).exists(e=>k(e.getNode())&&wc(o,e).exists(e=>e.isEqual(t))||e.isEqual(t));var t,o})))&&!(g&&u&&(i=r,(m=e).startDetails.exists(e=>wc(e,i).forall(t=>m.startSummary.exists(e=>!e.contains(i.container())&&e.contains(t.container()))))))&&!(g&&o&&(a=n,A=r,e.startDetails.exists(t=>vc(a,A).forall(e=>!t.contains(e.container())))))&&(!k_||!bn(c)||(!g&&B_(t,c)||gh(o,r,c)?w_(c):s.undoManager.transact(()=>{let e=d.getSel(),{anchorNode:t,anchorOffset:o,focusNode:r,focusOffset:n}=null!=e?e:{};var a=()=>{P(t)&&P(o)&&P(r)&&P(n)&&null!=e&&e.setBaseAndExtent(t,o,r,n)},A=(e,t)=>{j(e.childNodes,e=>{au(e)&&t.appendChild(e)})},i=s.dom.create("span",{"data-mce-bogus":"all"});A(c,i),c.appendChild(i),a(),g&&(E_&&(l.altKey||u&&l.metaKey)||!E_&&l.ctrlKey)&&null!=e&&e.modify("extend",u?"left":"right",l.metaKey?"line":"word"),!d.isCollapsed()&&B_(d.getRng(),i)?w_(c):(s.execCommand(u?"Delete":"ForwardDelete"),t=null==e?void 0:e.anchorNode,o=null==e?void 0:e.anchorOffset,r=null==e?void 0:e.focusNode,n=null==e?void 0:e.focusOffset,A(i,c),a()),s.dom.remove(i)}),0)));var a,A,i,m,p,h,f,b,v,w,x},U_=e=>{var o,r,t;(t=e).on("click",e=>{t.dom.getParent(e.target,"details")&&e.preventDefault()}),(r=e).parser.addNodeFilter("details",e=>{let t=dd(r);j(e,e=>{"expanded"===t?e.attr("open","open"):"collapsed"===t&&e.attr("open",null)})}),r.serializer.addNodeFilter("details",e=>{let t=cd(r);j(e,e=>{"expanded"===t?e.attr("open","open"):"collapsed"===t&&e.attr("open",null)})}),(o=e).on("keydown",t=>{t.keyCode!==N.BACKSPACE&&t.keyCode!==N.DELETE||((t,e)=>{var o=Q.from(t.getParent(e.startContainer,"details")),r=Q.from(t.getParent(e.endContainer,"details"));if(o.isSome()||r.isSome()){let e=o.bind(e=>Q.from(t.select("summary",e)[0]));return Q.some({startSummary:e,startDetails:o,endDetails:r})}return Q.none()})(o.dom,o.selection.getRng()).fold(()=>{((r,n)=>{let{dom:a,selection:e}=r,A=r.getBody();if(r.selection.isCollapsed()){let t=M.fromRangeStart(e.getRng()),o=a.getParent(t.container(),a.isBlock);if(o&&a.isEmpty(o))if(H(o.nextSibling)){let e=wc(A,t).filter(e=>F_(a,e));if(e.isSome())return e.each(e=>{n||S_(r,e)}),!0}else if(H(o.previousSibling)&&vc(A,t).filter(e=>F_(a,e)))return!0;return hc(n,A,t).fold(g,e=>!!F_(a,e)&&(o&&a.isEmpty(o)&&r.dom.remove(o),n||S_(r,e),!0))}return!1})(o,t.keyCode===N.DELETE)&&t.preventDefault()},e=>{Q_(o,e,t)&&t.preventDefault()})})},I_=k,T_=te,M_=e=>B(e.dom),H_=t=>e=>I(J(t),e),D_=(e,t)=>dr(J(e),M_,H_(t)),O_=(t,e,o)=>{var e=new Wr(t,e),r=(o?e.next:e.prev).bind(e);let n=t;for(let e=o?t:r();e&&!I_(e);e=r())da(e)&&(n=e);return n},L_=e=>{var t=((e,t)=>{let o=M.fromRangeStart(e).getNode(),r=(e=o,t=t,dr(J(e),e=>{return t=e,un(t.dom)||En(e);var t},H_(t)).getOr(J(t)).dom),n=O_(o,r,!1),a=O_(o,r,!0),A=document.createRange();return D_(n,r).fold(()=>{T_(n)?A.setStart(n,0):A.setStartBefore(n)},e=>A.setStartBefore(e.dom)),D_(a,r).fold(()=>{T_(a)?A.setEnd(a,a.data.length):A.setEndAfter(a)},e=>A.setEndAfter(e.dom)),A})(e.selection.getRng(),e.getBody());e.selection.setRng(tf(t))},N_=((gy=ly=ly||{}).Before="before",gy.After="after",(e,t)=>Math.abs(e.left-t)),R_=(e,t)=>Math.abs(e.right-t),P_=(o,t)=>{return e=U(o,e=>t>=e.top&&t<=e.bottom),ve(e,(e,n)=>e.fold(()=>Q.some(n),e=>{var t=Math.min(n.left,e.left),o=Math.min(n.top,e.top),r=Math.max(n.right,e.right),e=Math.max(n.bottom,e.bottom);return Q.some({top:o,right:r,bottom:e,left:t,width:r-t,height:e-o})}),Q.none()).fold(()=>[[],o],n=>{var{pass:e,fail:t}=fe(o,e=>{return r=e=e,o=t=n,r=Math.max(0,Math.min(r.bottom,o.bottom)-Math.max(r.top,o.top))/Math.min(e.height,t.height),e.top<t.bottom&&e.bottom>t.top&&.5<r;var t,o,r});return[e,t]});var e},V_=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),z_=(e,r,n)=>{let a=e=>da(e.node)?Q.some(e):ee(e.node)?z_(Te(e.node.childNodes),r,n):Q.none(),t=(e,o)=>{let t=Se(e,(e,t)=>o(e,r,n)-o(t,r,n));return((e,t)=>{if(2<=e.length){var o=a(e[0]).getOr(e[0]),e=a(e[1]).getOr(e[1]);if(Math.abs(t(o,r,n)-t(e,r,n))<2){if(te(o.node))return Q.some(o);if(te(e.node))return Q.some(e)}}return Q.none()})(t,o).orThunk(()=>Me(t,a))},[o,A]=P_(lx(e),n),{pass:i,fail:s}=fe(A,e=>e.top<n);return t(o,V_).orThunk(()=>t(s,bi)).orThunk(()=>t(i,bi))},K_=(e,o,t)=>((e,t,o)=>{let n=J(e),r=Do(n),a=Qo(r,t,o).filter(e=>Mo(n,e)).getOr(n);{var A=n,i=t,s=o;let r=(t,e)=>{let o=U(t.dom.childNodes,Ae(e=>ee(e)&&e.classList.contains("mce-drag-container")));return e.fold(()=>z_(o,i,s),t=>{var e=U(o,e=>e!==t.dom);return z_(e,i,s)}).orThunk(()=>(I(t,A)?Q.none():No(t)).bind(e=>r(e,Q.some(t))))};return r(a,Q.none())}})(e,o,t).filter(e=>Ed(e.node)).map(e=>{return t=o,{node:(e=e).node,position:N_(e,t)<R_(e,t)?ly.Before:ly.After};var t}),Z_=e=>{var t,o=e.getBoundingClientRect(),e=e.ownerDocument,r=e.documentElement,e=e.defaultView;return{top:o.top+(null!=(t=null==e?void 0:e.scrollY)?t:0)-r.clientTop,left:o.left+(null!=(t=null==e?void 0:e.scrollX)?t:0)-r.clientLeft}},G_=e=>({target:e,srcElement:e}),j_=(e,t,o,r)=>{i=e,o=(t=>{let o=HC(),e=(r=t,Q.from(r[CC]));var r;return FC(t),wC(o),o.dropEffect=t.dropEffect,o.effectAllowed=t.effectAllowed,r=t,Q.from(r[fC]).each(e=>o.setDragImage(e.image,e.x,e.y)),j(t.types,e=>{"Files"!==e&&o.setData(e,t.getData(e))}),j(t.files,e=>o.items.add(e)),r=t,Q.from(r[bC]).each(e=>{var t;t=o,e=e,vC(e)(t)}),e.each(e=>{kC(t,e),kC(o,e)}),o})(o),("dragstart"===i?(wC(o),EC):"drop"===i?(xC(o),FC):(BC(o),SC))(o);var n,a,A,i=o;return F(r)?(o=e,n=t,a=i,A=ie("Function not supported on simulated event."),{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:o,composedPath:A,initEvent:A,preventDefault:z,stopImmediatePropagation:z,stopPropagation:z,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:A,initMouseEvent:A,getModifierState:A,dataTransfer:a,...G_(n)}):(o=e,A=t,a=i,{...r,dataTransfer:a,type:o,...G_(A)})},W_=B,X_=(dy=[W_,un],t=>{for(let e=0;e<dy.length;e++)if(dy[e](t))return!0;return!1}),Y_=(e,t,o,r)=>{var e=e.dom,t=t.cloneNode(!0),n=(e.setStyles(t,{width:o,height:r}),e.setAttrib(t,"data-mce-selected",null),e.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}));return e.setStyles(n,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),e.setStyles(t,{margin:0,boxSizing:"border-box"}),n.appendChild(t),n},J_=(o,r)=>t=>()=>{var e="left"===o?t.scrollX:t.scrollY;t.scroll({[o]:e+r,behavior:"smooth"})},q_=J_("left",-32),$_=J_("left",32),e4=J_("top",-32),t4=J_("top",32),o4=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},r4=(e,t,o,r,n)=>{"dragstart"===t&&DC(r,e.dom.getOuterHTML(o));o=j_(t,o,r,n);return e.dispatch(t,o)},n4=(e,x)=>{let r=ZA((e,t)=>{return r=e,n=t,(o=x)._selectionOverrides.hideFakeCaret(),void K_(o.getBody(),r,n).fold(()=>o.selection.placeCaretAt(r,n),e=>{e=o._selectionOverrides.showCaret(1,e.node,e.position===ly.Before,!1);e?o.selection.setRng(e):o.selection.placeCaretAt(r,n)});var o,r,n},0),B=(x.on("remove",r.cancel),e);return w=>e.on(s=>{let e=Math.max(Math.abs(w.screenX-s.screenX),Math.abs(w.screenY-s.screenY));if(!s.dragging&&10<e){let e=r4(x,"dragstart",s.element,s.dataTransfer,w);if(P(e.dataTransfer)&&(s.dataTransfer=e.dataTransfer),e.isDefaultPrevented())return;s.dragging=!0,x.focus()}if(s.dragging){let A=w.currentTarget===x.getDoc().documentElement,i=(g=s,v=w,h=(h=m=x).inline?Z_(h.getBody()):{left:0,top:0},b=(f=m).getBody(),f=f.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0},b=m,{pageX:(t={pageX:(b=(m=v).target.ownerDocument!==b.getDoc()?(v=Z_(b.getContentAreaContainer()),o=(b=b).getBody(),p=b.getDoc().documentElement,t={left:o.scrollLeft,top:o.scrollTop},o={left:o.scrollLeft||p.scrollLeft,top:o.scrollTop||p.scrollTop},p=b.inline?t:o,{left:m.pageX-v.left+p.left,top:m.pageY-v.top+p.top}):{left:m.pageX,top:m.pageY}).left-h.left+f.left,pageY:b.top-h.top+f.top}).pageX-g.relX,pageY:t.pageY+5});o=s.ghost,v=x.getBody(),o.parentNode!==v&&v.appendChild(o);{p=s.ghost;m=i;b=s.width;h=s.height;f=s.maxX;g=s.maxY;var l=w.clientY;var d=w.clientX;v=x.getContentAreaContainer();var c=x.getWin();s=B;var u=A;let e=0,t=0,o=(p.style.left=m.pageX+"px",p.style.top=m.pageY+"px",f<m.pageX+b&&(e=m.pageX+b-f),g<m.pageY+h&&(t=m.pageY+h-g),p.style.width=b-e+"px",p.style.height=h-t+"px",v.clientHeight),r=v.clientWidth,n=l+v.getBoundingClientRect().top,a=d+v.getBoundingClientRect().left;s.on(e=>{e.intervalId.clear(),e.dragging&&u&&(l+8>=o?e.intervalId.set(t4(c)):l-8<=0?e.intervalId.set(e4(c)):d+8>=r?e.intervalId.set($_(c)):d-8<=0?e.intervalId.set(q_(c)):n+16>=window.innerHeight?e.intervalId.set(t4(window)):n-16<=0?e.intervalId.set(e4(window)):a+16>=window.innerWidth?e.intervalId.set($_(window)):a-16<=0&&e.intervalId.set(q_(window)))})}r.throttle(w.clientX,w.clientY)}var g,m,p,t,h,f,b,o,v})},a4=(e,o,r)=>{e.on(t=>{t.intervalId.clear(),t.dragging&&r.fold(()=>r4(o,"dragend",t.element,t.dataTransfer),e=>r4(o,"dragend",t.element,t.dataTransfer,e))}),A4(e)},A4=e=>{e.on(e=>{e.intervalId.clear(),o4(e.ghost)}),e.clear()},i4=t=>{let o=KA(),e=oe.DOM,r=document,n=(u=o,g=t,e=>{var t,o,r,n;0===e.button&&(t=xe(g.dom.getParents(e.target),X_).getOr(null),P(t))&&(o=g.dom,r=g.getBody(),n=t,W_(n))&&n!==r&&o.isEditable(n.parentElement)&&(r=g.dom.getPos(t),o=g.getBody(),n=g.getDoc().documentElement,u.set({element:t,dataTransfer:HC(),dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(g.inline?o.scrollWidth:n.offsetWidth)-2,maxY:(g.inline?o.scrollHeight:n.offsetHeight)-2,relX:e.pageX-r.x,relY:e.pageY-r.y,width:t.offsetWidth,height:t.offsetHeight,ghost:Y_(g,t,t.offsetWidth,t.offsetHeight),intervalId:zA(100)}))}),a=n4(o,t),A=(d=o,n=>{d.on(r=>{var e,t,o;r.intervalId.clear(),r.dragging&&(t=(e=>{var t=e.getSel();if(P(t)){let e=t.getRangeAt(0).startContainer;return te(e)?e.parentNode:e}return null})((e=c).selection),o=r.element,ne(t)||t===o||e.dom.isChildOf(t,o)||!e.dom.isEditable(t)||(e=null!=(o=c.getDoc().elementFromPoint(n.clientX,n.clientY))?o:c.getBody(),r4(c,"drop",e,r.dataTransfer,n).isDefaultPrevented())||c.undoManager.transact(()=>{var e,t,o;e=c.dom,t=r.element,o=e.getParent(t.parentNode,e.isBlock),o4(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&Nn(J(o)),(""===(t=r.dataTransfer.getData("text/html"))?Q.none():Q.some(t)).each(e=>c.insertContent(e)),c._selectionOverrides.hideFakeCaret()}),r4(c,"dragend",c.getBody(),r.dataTransfer,n))}),A4(d)}),i=(s=o,e=>a4(s,l,Q.some(e)));var s,l,d,c,u,g;(l=c=t).on("mousedown",n),t.on("mousemove",a),t.on("mouseup",A),e.bind(r,"mousemove",a),e.bind(r,"mouseup",i),t.on("remove",()=>{e.unbind(r,"mousemove",a),e.unbind(r,"mouseup",i)}),t.on("keydown",e=>{e.keyCode===N.ESC&&a4(o,t,Q.none())})},s4=B,l4=(e,t)=>Ph(e.getBody(),t),d4=s=>{let l=s.selection,d=s.dom,c=s.getBody(),n=Cd(s,c,d.isBlock,()=>xm(s)),A="sel-"+d.uniqueId(),r="data-mce-selected",i,u=e=>e!==c&&(s4(e)||pn(e))&&d.isChildOf(e,c)&&d.isEditable(e.parentNode),g=(e,t,o,r=!0)=>s.dispatch("ShowCaret",{target:t,direction:e,before:o}).isDefaultPrevented()?null:(r&&l.scrollIntoView(t,-1===e),n.show(o,t)),t=e=>Wn(e)||qn(e)||$n(e),o=e=>t(e.startContainer)||t(e.endContainer),m=(n,a)=>{if(n)if(n.collapsed){if(!o(n)){let e=a?1:-1,t=Jd(e,c,n),o=t.getNode(!a);if(P(o)){if(Ed(o))return g(e,o,!!a&&!t.isAtEnd(),!1);if(jn(o)&&B(o.nextSibling)){let e=d.createRng();return e.setStart(o,0),e.setEnd(o,0),e}}let r=t.getNode(a);if(P(r)){if(Ed(r))return g(e,r,!a&&!t.isAtEnd(),!1);if(jn(r)&&B(r.previousSibling)){let e=d.createRng();return e.setStart(r,1),e.setEnd(r,1),e}}}}else{let e=n.startContainer,t=n.startOffset;a=n.endOffset;if(te(e)&&0===t&&s4(e.parentNode)&&(e=e.parentNode,t=d.nodeIndex(e),e=e.parentNode),ee(e)&&a===t+1&&e===n.endContainer){let o=e.childNodes[t];if(u(o)){a=o;n=a.cloneNode(!0),n=s.dispatch("ObjectSelected",{target:a,targetClone:n});if(n.isDefaultPrevented())return null;let e=((e,t)=>{let o=J(s.getBody()),r=s.getDoc(),n=ur(o,"#"+A).getOrThunk(()=>{var e=Eo('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',r);return lo(e,"id",A),q(o,e),e}),a=d.createRng();Qr(n),Sr(n,[So(wn,r),J(t),So(wn,r)]),a.setStart(n.dom.firstChild,1),a.setEnd(n.dom.lastChild,0),vr(n,{top:d.getPos(e,s.getBody()).y+"px"}),$g(n);t=l.getSel();return t&&(t.removeAllRanges(),t.addRange(a)),a})(a,n.targetClone),t=J(a);return j(Gr(J(s.getBody()),`*[${r}]`),e=>{I(t,e)||po(e,r)}),d.getAttrib(a,r)||a.setAttribute(r,"1"),i=a,h(),e;return}}}return null},p=()=>{i&&i.removeAttribute(r),ur(J(s.getBody()),"#"+A).each($),i=null},h=()=>{n.hide()};if(!Tb(s)){s.on("click",e=>{d.isEditable(e.target)||(e.preventDefault(),s.focus())}),s.on("blur NewBlock",p),s.on("ResizeWindow FullscreenStateChanged",n.reposition),s.on("tap",e=>{var t=e.target,o=l4(s,t);s4(o)?(e.preventDefault(),rw(s,o).each(m)):u(t)&&rw(s,t).each(m)},!0),s.on("mousedown",o=>{var e,t,r,n,a,A,i=o.target;if((i===c||"HTML"===i.nodeName||d.isChildOf(i,c))&&(e=s,t=o.clientX,r=o.clientY,A=J(e.getBody()),A=e.inline?A:J(Do(A).dom.documentElement),e=e.inline,t=t,r=r,n=(a=A).dom.getBoundingClientRect(),t={x:t-(e?n.left+a.dom.clientLeft+iv(a):0),y:r-(e?n.top+a.dom.clientTop+Av(a):0)},r=A,e=t.x,n=t.y,a=nv(r),r=av(r),0<=e)&&0<=n&&e<=a&&n<=r){p(),h();let t=l4(s,i);s4(t)?(o.preventDefault(),rw(s,t).each(m)):K_(c,o.clientX,o.clientY).each(e=>{o.preventDefault(),(e=g(1,e.node,e.position===ly.Before,!1))&&l.setRng(e),(ee(t)?t:s.getBody()).focus()})}}),s.on("keypress",e=>{N.modifierPressed(e)||s4(l.getNode())&&e.preventDefault()}),s.on("GetSelectionRange",e=>{let t=e.range;i&&(i.parentNode?((t=t.cloneRange()).selectNode(i),e.range=t):i=null)}),s.on("SetSelectionRange",e=>{e.range=(t=e.range,o=s.schema.getVoidElements(),r=d.createRng(),A=t.startContainer,n=t.startOffset,a=t.endContainer,t=t.endOffset,X(o,A.nodeName.toLowerCase())?0===n?r.setStartBefore(A):r.setStartAfter(A):r.setStart(A,n),X(o,a.nodeName.toLowerCase())?0===t?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,t),r);var t,o,r,n,a,A=m(e.range,e.forward);A&&(e.range=A)}),s.on("AfterSetSelectionRange",e=>{var e=e.range,t=e.startContainer.parentElement;o(e)||ee(e=t)&&"mcepastebin"===e.id||h(),e=t,P(e)&&d.hasClass(e,"mce-offscreen-selection")||p()});var f=s;if(i4(f),Ql(f)){var b=f;let a=e=>{var t;e.isDefaultPrevented()||(t=e.dataTransfer)&&(K(t.types,"Files")||0<t.files.length)&&(e.preventDefault(),"drop"===e.type)&&gv(b,"Dropped file type is not supported")},A=e=>{pm(b,e.target)&&a(e)},e=()=>{let t=oe.DOM,o=b.dom,r=document,n=b.inline?b.getBody():b.getDoc(),e=["drop","dragover"];j(e,e=>{t.bind(r,e,A),o.bind(n,e,a)}),b.on("remove",()=>{j(e,e=>{t.unbind(r,e,A),o.unbind(n,e,a)})})};b.on("init",()=>{cm.setEditorTimeout(b,e,0)})}{var a=s;let e=ZA(()=>{var e;!a.removed&&a.getBody().contains(document.activeElement)&&(e=a.selection.getRng()).collapsed&&(e=nw(a,e,!1),a.selection.setRng(e))},0);a.on("focus",()=>{e.throttle()}),a.on("blur",()=>{e.cancel()})}(v=s).on("init",()=>{v.on("focusin",e=>{var o=e.target;if(pn(o)){let e=Ph(v.getBody(),o),t=B(e)?e:o;v.selection.getNode()!==t&&rw(v,t).each(e=>v.selection.setRng(e))}})})}return{showCaret:g,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(ea(e),l.scrollIntoView(e))},hideFakeCaret:h,destroy:()=>{n.destroy(),i=null}};var v},c4=(t,e)=>{let o=e;for(let e=t.previousSibling;te(e);e=e.previousSibling)o+=e.data.length;return o},u4=(e,t,o,r,n)=>{if(te(o)&&(r<0||r>o.data.length))return[];var a=n&&te(o)?[c4(o,r)]:[r];let A=o;for(;A!==t&&A.parentNode;)a.push(e.nodeIndex(A,n)),A=A.parentNode;return A===t?a.reverse():[]},g4=(e,t,o,r,n,a,A=!1)=>({start:u4(e,t,o,r,A),end:u4(e,t,n,a,A)}),m4=(e,t)=>{let o=t.slice(),r=o.pop();return S(r)?ve(o,(e,t)=>e.bind(e=>Q.from(e.childNodes[t])),Q.some(e)).bind(e=>te(e)&&(r<0||r>e.data.length)?Q.none():Q.some({node:e,offset:r})):Q.none()},p4=(e,t)=>m4(e,t.start).bind(({node:r,offset:n})=>m4(e,t.end).map(({node:e,offset:t})=>{var o=document.createRange();return o.setStart(r,n),o.setEnd(e,t),o})),h4=(e,t,o)=>{var r;t&&e.isEmpty(t)&&!o(t)&&(r=t.parentNode,e.remove(t),h4(e,r,o))},f4=(e,t,o,r=!0)=>{var n=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),r&&!o(t.startContainer)&&(te(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),te(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),h4(e,n,o),n!==a)&&h4(e,a,o)},b4=(e,t)=>Q.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),v4=(e,t,o)=>{o=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:ms(o).concat(e.blockPatterns),inlinePatterns:ps(o).concat(e.inlinePatterns)}},w4=(e,t,o,r)=>{e=e.createRng();return e.setStart(t,0),e.setEnd(o,r),e.toString()},x4=(r,n,a)=>{((t,o)=>{if(te(t)&&t.length<=0)return Q.some($2(t,0));{let e=ci(eB);return Q.from(e.forwards(t,0,tB(t),o)).map(e=>$2(e.container,0))}})(n,n).each(e=>{let o=e.container;nB(o,a.start.length,n).each(e=>{var t=r.createRng();t.setStart(o,0),t.setEnd(e.container,e.offset),f4(r,t,e=>e===n)});var e=J(o),t=yn(e);/^\s[^\s]/.test(t)&&(e=e,t=t.slice(1),Bn.set(e,t))})},B4=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),y4=(e,t)=>{e=e.createRng();return e.setStartAfter(t.start),e.setEndBefore(t.end),e},C4=(e,t,o)=>{var o=p4(e.getRoot(),o).getOrDie("Unable to resolve path range"),r=o.startContainer,n=o.endContainer,n=0===o.endOffset?n:n.splitText(o.endOffset),r=0===o.startOffset?r:r.splitText(o.startOffset),o=r.parentNode;return{prefix:t,end:n.parentNode.insertBefore(B4(e,t+"-end"),n),start:o.insertBefore(B4(e,t+"-start"),r)}},_4=(e,t,o)=>{h4(e,e.get(t.prefix+"-end"),o),h4(e,e.get(t.prefix+"-start"),o)},k4=e=>0===e.start.length,E4=(r,t,n,e)=>{let a=t.start;var o;return aB(r,e.container,e.offset,(o=a,(e,t)=>{e=e.data.substring(0,t),t=e.lastIndexOf(o.charAt(o.length-1)),e=e.lastIndexOf(o);return-1!==e?e+o.length:-1!==t?t+1:-1}),n).bind(o=>{var e=null!=(e=null==(e=n.textContent)?void 0:e.indexOf(a))?e:-1;if(-1!==e&&o.offset>=e+a.length){let e=r.createRng();return e.setStart(o.container,o.offset-a.length),e.setEnd(o.container,o.offset),Q.some(e)}{let e=o.offset-a.length;return rB(o.container,e,n).map(e=>{var t=r.createRng();return t.setStart(e.container,e.offset),t.setEnd(o.container,o.offset),t}).filter(e=>e.toString()===a).orThunk(()=>E4(r,t,n,$2(o.container,0)))}})},F4=(n,i,s,l)=>{let d=n.dom,c=d.getRoot(),u=s.pattern,e=s.position.container,t=s.position.offset;return rB(e,t-s.pattern.end.length,i).bind(r=>{let A=g4(d,c,r.container,r.offset,e,t,l);if(k4(u))return Q.some({matches:[{pattern:u,startRng:A,endRng:A}],position:r});{let e=S4(n,s.remainingPatterns,r.container,r.offset,i,l),a=e.getOr({matches:[],position:r}),t=a.position,o=((t,e,o,r,n,a=!1)=>{if(0!==e.start.length||a)return oB(o,r,n).bind(o=>E4(t,e,n,o).bind(e=>{var t;if(a){if(e.endContainer===o.container&&e.endOffset===o.offset)return Q.none();if(0===o.offset&&(null==(t=e.endContainer.textContent)?void 0:t.length)===e.endOffset)return Q.none()}return Q.some(e)}));{let e=t.createRng();return e.setStart(o,r),e.setEnd(o,r),Q.some(e)}})(d,u,t.container,t.offset,i,e.isNone());return o.map(e=>{[n,t,o,r=!1]=[d,c,e,l];var t,o,r,n=g4(n,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r);return{matches:a.matches.concat([{pattern:u,startRng:n,endRng:A}]),position:$2(e.startContainer,e.startOffset)}})}})},S4=(a,A,i,s,l,d)=>{let e=a.dom;return oB(i,s,e.getRoot()).bind(t=>{var o=w4(e,l,i,s);for(let e=0;e<A.length;e++){var r=A[e];if(dt(o,r.end)){var n=A.slice(),r=(n.splice(e,1),F4(a,l,{pattern:r,remainingPatterns:n,position:t},d));if(r.isNone()&&0<s)return S4(a,A,i,s-1,l,d);if(r.isSome())return r}}return Q.none()})},Q4=(t,e,o)=>{t.selection.setRng(o),"inline-format"===e.type?j(e.format,e=>{t.formatter.apply(e)}):t.execCommand(e.cmd,!1,e.value)},U4=(e,t,o,r,n,a)=>{var A,i;return A=S4(e,n.inlinePatterns,o,r,t,a).fold(()=>[],e=>e.matches),i=S4(e,(e=n.inlinePatterns,Se(e,(e,t)=>t.end.length-e.end.length)),o,r,t,a).fold(()=>[],e=>e.matches),n=_e(A,t=>G(i,e=>t.pattern.start===e.pattern.start&&t.pattern.end===e.pattern.end)),A.length===i.length?n?A:i:A.length>i.length?A:i},I4=(u,o)=>{if(0!==o.length){let c=u.dom,e=u.selection.getBookmark(),t=((r,e)=>{let n=ai("mce_textpattern"),a=be(e,(e,t)=>{var o=C4(r,n+("_end"+e.length),t.endRng);return e.concat([{...t,endMarker:o}])},[]);return be(a,(e,t)=>{var o=a.length-e.length-1,o=k4(t.pattern)?t.endMarker:C4(r,n+"_start"+o,t.startRng);return e.concat([{...t,startMarker:o}])},[])})(c,o);j(t,e=>{let t=c.getParent(e.startMarker.start,c.isBlock),o=e=>e===t;{var r,n,a,A;k4(e.pattern)?(r=u,n=e.pattern,a=e.endMarker,A=o,a=y4(r.dom,a),f4(r.dom,a,A),Q4(r,n,a)):(A=u,r=e.pattern,n=e.startMarker,a=e.endMarker,i=o,s=A.dom,l=y4(s,a),d=y4(s,n),f4(s,d,i),f4(s,l,i),d={prefix:n.prefix,start:n.end,end:a.start},l=y4(s,d),Q4(A,r,l))}var i,s,l,d;_4(c,e.endMarker,o),_4(c,e.startMarker,o)}),u.selection.moveToBookmark(e)}},T4=(i,a)=>{let s=i.selection.getRng();return b4(i,s).map(e=>{let t,o=Math.max(0,s.startOffset),r=v4(a,e,null!=(t=e.textContent)?t:""),n=U4(i,e,s.startContainer,o,r,!0),A=((e,t,o)=>{let r,n=e.dom,a=Qs(e);if(!n.is(t,a))return[];let A=null!=(r=t.textContent)?r:"";return((e,t)=>{e=e;let o=Se(e,(e,t)=>t.start.length-e.start.length),r=t.replace(wn," ");return xe(o,e=>0===t.indexOf(e.start)||0===r.indexOf(e.start))})(o.blockPatterns,A).map(e=>T.trim(A).length===e.start.length?[]:[{pattern:e,range:g4(n,n.getRoot(),t,0,t,0,!0)}]).getOr([])})(i,e,r);return(0<A.length||0<n.length)&&(i.undoManager.add(),i.undoManager.extra(()=>{i.execCommand("mceInsertNewLine")},()=>{i.insertContent(vn),I4(i,n),a=i,0!==(e=A).length&&(t=a.selection.getBookmark(),j(e,r=>{{var n=a;let e=n.dom,t=r.pattern,o=p4(e.getRoot(),r.range).getOrDie("Unable to resolve path range");return b4(n,o).each(e=>{"block-format"===t.type?(e=>{e=n.formatter.get(e);return re(e)&&Ue(e).exists(e=>X(e,"block"))})(t.format)&&n.undoManager.transact(()=>{x4(n.dom,e,t),n.formatter.apply(t.format)}):"block-command"===t.type&&n.undoManager.transact(()=>{x4(n.dom,e,t),n.execCommand(t.cmd,!1,t.value)})}),!0}}),a.selection.moveToBookmark(t));var a,e=i.selection.getRng(),t=oB(e.startContainer,e.startOffset,i.dom.getRoot());i.execCommand("mceInsertNewLine"),t.each(e=>{var t=e.container;t.data.charAt(e.offset-1)===vn&&(t.deleteData(e.offset-1,1),h4(i.dom,t.parentNode,e=>e===i.dom.getRoot()))})}),!0)}).getOr(!1)},M4=(t,o,r)=>{for(let e=0;e<t.length;e++)if(r(t[e],o))return!0;return!1},H4=A=>{let n=T.each,i=N.BACKSPACE,e=N.DELETE,s=A.dom,l=A.selection,t=A.parser,o=L.browser,r=o.isFirefox(),a=o.isChromium()||o.isSafari(),d=L.deviceType.isiPhone()||L.deviceType.isiPad(),c=L.os.isMacOS()||L.os.isiOS(),u=(e,t)=>{try{A.getDoc().execCommand(e,!1,String(t))}catch(e){}},g=e=>e.isDefaultPrevented(),m=()=>{A.shortcuts.add("meta+a",null,"SelectAll")},p=()=>{A.inline||s.bind(A.getDoc(),"mousedown mouseup",e=>{var t;e.target===A.getDoc().documentElement&&(t=l.getRng(),A.getBody().focus(),"mousedown"===e.type?Wn(t.startContainer)||l.placeCaretAt(e.clientX,e.clientY):l.setRng(t))})},h=()=>{Range.prototype.getClientRects||A.on("mousedown",e=>{if(!g(e)&&"HTML"===e.target.nodeName){let e=A.getBody();e.blur(),cm.setEditorTimeout(A,()=>{e.focus()})}})},f=()=>{let o=Tl(A);A.on("click",e=>{var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&s.isEditable(t.parentNode)&&(e.preventDefault(),A.selection.select(t),A.nodeChanged()),"A"===t.nodeName&&s.hasClass(t,o)&&0===t.childNodes.length&&s.isEditable(t.parentNode)&&(e.preventDefault(),l.select(t))})},b=()=>{A.on("keydown",e=>{if(!g(e)&&e.keyCode===i&&l.isCollapsed()&&0===l.getRng().startOffset){var t=l.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0})},v=()=>{_l(A)||A.on("BeforeExecCommand mousedown",()=>{u("StyleWithCSS",!1),u("enableInlineTableEditing",!1),rl(A)||u("enableObjectResizing",!1)})},w=()=>{A.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},x=()=>{A.inline||A.on("keydown",()=>{document.activeElement===document.body&&A.getWin().focus()})},B=()=>{A.inline||(A.contentStyles.push("body {min-height: 150px}"),A.on("click",e=>{"HTML"===e.target.nodeName&&(e=A.selection.getRng(),A.getBody().focus(),A.selection.setRng(e),A.selection.normalize(),A.nodeChanged())}))},y=()=>{c&&A.on("keydown",e=>{!N.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),A.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})},C=()=>{A.on("click",e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),A.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},_=()=>{A.on("init",()=>{A.dom.bind(A.getBody(),"submit",e=>{e.preventDefault()})})},k=z;if(Tb(A))a&&(p(),f(),_(),m(),d)&&(x(),B(),C()),r&&(h(),v(),w(),y());else{A.on("keydown",t=>{if(!g(t)&&t.keyCode===N.BACKSPACE){var t=l.getRng(),o=t.startContainer,r=t.startOffset,n=s.getRoot();let e=o;if(t.collapsed&&0===r){for(;e.parentNode&&e.parentNode.firstChild===e&&e.parentNode!==n;)e=e.parentNode;"BLOCKQUOTE"===e.nodeName&&(A.formatter.toggle("blockquote",void 0,e),(t=s.createRng()).setStart(o,0),t.setEnd(o,0),l.setRng(t))}}});{let a=e=>{var t=s.create("body"),e=e.cloneContents();return t.appendChild(e),l.serializer.serialize(t,{format:"html"})};A.on("keydown",o=>{var r,n=o.keyCode;if(!g(o)&&(n===e||n===i)&&A.selection.isEditable()){let e=A.selection.isCollapsed(),t=A.getBody();e&&!s.isEmpty(t)||!e&&(n=A.selection.getRng(),n=a(n),(r=s.createRng()).selectNode(A.getBody()),n!==a(r))||(o.preventDefault(),A.setContent(""),t.firstChild&&s.isBlock(t.firstChild)?A.selection.setCursorLocation(t.firstChild,0):A.selection.setCursorLocation(t,0),A.nodeChanged())}})}if(L.windowsPhone||A.on("keyup focusin mouseup",e=>{var t;N.modifierPressed(e)||(t=(e=A).getBody(),(e=e.selection.getRng()).startContainer===e.endContainer&&e.startContainer===t&&0===e.startOffset&&e.endOffset===t.childNodes.length)||l.normalize()},!0),a&&(p(),f(),A.on("init",()=>{u("DefaultParagraphSeparator",Qs(A))}),_(),b(),t.addNodeFilter("br",e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),(d?(x(),B(),C):m)()),r){A.on("keydown",o=>{if(!g(o)&&o.keyCode===i&&A.getBody().getElementsByTagName("hr").length&&l.isCollapsed()&&0===l.getRng().startOffset){let e=l.getNode(),t=e.previousSibling;"HR"===e.nodeName?(s.remove(e),o.preventDefault()):t&&t.nodeName&&"hr"===t.nodeName.toLowerCase()&&(s.remove(t),o.preventDefault())}}),h();{let o=()=>{let e=s.getAttribs(l.getStart().cloneNode(!1));return()=>{let t=l.getStart();t!==A.getBody()&&(s.setAttrib(t,"style",null),n(e,e=>{t.setAttributeNode(e.cloneNode(!0))}))}},r=()=>!l.isCollapsed()&&s.getParent(l.getStart(),s.isBlock)!==s.getParent(l.getEnd(),s.isBlock);A.on("keypress",e=>{var t;return!(!(g(e)||8!==e.keyCode&&46!==e.keyCode)&&r()&&(t=o(),A.getDoc().execCommand("delete",!1),t(),e.preventDefault(),1))}),s.bind(A.getDoc(),"cut",e=>{if(!g(e)&&r()){let e=o();cm.setEditorTimeout(A,()=>{e()})}})}v(),A.on("SetContent ExecCommand",e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||n(s.select("a:not([data-mce-block])"),e=>{let t,o=e.parentNode;var r=s.getRoot();if((null==o?void 0:o.lastChild)===e){for(;o&&!s.isBlock(o);){if((null==(t=o.parentNode)?void 0:t.lastChild)!==o||o===r)return;o=o.parentNode}s.add(o,"br",{"data-mce-bogus":1})}})}),w(),y(),b(),A.on("drop",e=>{var t=null==(t=e.dataTransfer)?void 0:t.getData("text/html");R(t)&&/^<img[^>]*>$/.test(t)&&A.dispatch("dragend",new window.DragEvent("dragend",e))})}}return{refreshContentEditable:k,isHidden:()=>{var e;return!(!r||A.removed||(e=A.selection.getSel())&&e.rangeCount&&0!==e.rangeCount)}}},D4=oe.DOM,O4=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,L4=e=>Ve(e,e=>!1===F(e)),N4=e=>{var t=e.options.get,o=e.editorUpload.blobCache;return L4({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:O4(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},R4=e=>{e=e.options.get;return L4({custom_elements:e("custom_elements"),extended_valid_elements:e("extended_valid_elements"),invalid_elements:e("invalid_elements"),invalid_styles:e("invalid_styles"),schema:e("schema"),valid_children:e("valid_children"),valid_classes:e("valid_classes"),valid_elements:e("valid_elements"),valid_styles:e("valid_styles"),verify_html:e("verify_html"),padd_empty_block_inline_children:e("format_empty_lines")})},P4=e=>(e.inline?e.ui:e.dom).styleSheetLoader,V4=r=>{let e=P4(r),t=el(r),o=r.contentCSS,n=()=>{e.unloadAll(o),r.inline||r.ui.styleSheetLoader.unloadAll(t)},a=()=>{r.removed?n():r.on("remove",n)};if(0<r.contentStyles.length){let t="";T.each(r.contentStyles,e=>{t+=e+"\r\n"}),r.dom.addStyle(t)}var A=Promise.all(((e,t,o)=>{t=[P4(e).loadAll(t)];return e.inline?t:t.concat([e.ui.styleSheetLoader.loadAll(o)])})(r,o,t)).then(a).catch(a),i=$s(r);if(i){var s=r;let e=J(s.getBody()),t=er($o(e)),o=Fo("style");lo(o,"type","text/css"),q(o,So(i)),q(t,o),s.on("remove",()=>{$(o)})}return A},z4=e=>{if(!0!==e.removed){n=e,Tb(n)||n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"}),(n=e).bindPendingEventDelegates(),n.initialized=!0,n.dispatch("Init"),n.focus(!0),e=(o=n).dom.getRoot(),o.inline||ou(o)&&o.selection.getStart(!0)!==e||xc(e).each(e=>{var t=e.getNode(),t=on(t)?xc(t).getOr(e):e;o.selection.setRng(t.toRange())}),n.nodeChanged({initial:!0});var o,e=Dl(n);V(e)&&e.call(n,n);{var r=n;let t=Ll(r);t&&cm.setEditorTimeout(r,()=>{var e=!0===t?r:r.editorManager.get(t);e&&!e.destroyed&&(e.focus(),e.selection.scrollIntoView())},100)}}var n},K4=c=>{var A=c.getElement();let e=c.getDoc();c.inline&&(D4.addClass(A,"mce-content-body"),c.contentDocument=e=document,c.contentWindow=window,c.bodyElement=A,c.contentAreaContainer=A);var t,i,A=c.getBody();A.disabled=!0,c.readonly=_l(c),c._editableRoot=kl(c),!c.readonly&&c.hasEditableRoot()&&(c.inline&&"static"===D4.getStyle(A,"position",!0)&&(A.style.position="relative"),A.contentEditable="true"),A.disabled=!1,c.editorUpload=Cv(c),c.schema=hA(R4(c)),c.dom=oe(e,{keep_values:!0,url_converter:c.convertURL,url_converter_scope:c,update_styles:!0,root_element:c.inline?c.getBody():null,collect:c.inline,schema:c.schema,contentCssCors:Gs(c),referrerPolicy:js(c),onSetAttrib:e=>{c.dispatch("SetAttrib",e)}}),c.parser=(i=c,(A=eb(N4(i),i.schema)).addAttributeFilter("src,href,style,tabindex",(t,o)=>{var r=i.dom,n="data-mce-"+o;let a=t.length;for(;a--;){var A=t[a];let e=A.attr(o);e&&!A.attr(n)&&0!==e.indexOf("data:")&&0!==e.indexOf("blob:")&&("style"===o?((e=r.serializeStyle(r.parseStyle(e),A.name)).length||(e=null),A.attr(n,e),A.attr(o,e)):"tabindex"===o?(A.attr(n,e),A.attr(o,null)):A.attr(n,i.convertURL(e,o,A.name)))}}),A.addNodeFilter("script",e=>{let t=e.length;for(;t--;){var o=e[t],r=o.attr("type")||"no/type";0!==r.indexOf("mce-")&&o.attr("type","mce-"+r)}}),nd(i)&&A.addNodeFilter("#cdata",e=>{let t,o=e.length;for(;o--;){var r=e[o];r.type=8,r.name="#comment",r.value="[CDATA["+i.dom.encode(null!=(t=r.value)?t:"")+"]]"}}),A.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",t=>{let o=t.length;for(var r=i.schema.getNonEmptyElements();o--;){let e=t[o];e.isEmpty(r)&&0===e.getAll("br").length&&e.append(new Dm("br",1))}}),A),c.serializer=zb((o=(A=c).options.get,{...N4(A),...R4(A),...L4({remove_trailing_brs:o("remove_trailing_brs"),url_converter:o("url_converter"),url_converter_scope:o("url_converter_scope"),element_format:o("element_format"),entities:o("entities"),entity_encoding:o("entity_encoding"),indent:o("indent"),indent_after:o("indent_after"),indent_before:o("indent_before")})}),c),c.selection=Rb(c.dom,c.getWin(),c.serializer,c),c.annotator=Gu(c),c.formatter=Hv(c),c.undoManager=Ov(c),c._nodeChangeDispatcher=new hC(c),c._selectionOverrides=d4(c);{var s=c;let n=KA(),a=OA(!1),o=GA(e=>{s.dispatch("longpress",{...e,type:"longpress"}),a.set(!0)},400);s.on("touchstart",t=>{n2(t).each(e=>{o.cancel();e={x:e.clientX,y:e.clientY,target:t.target};o.throttle(t),a.set(!1),n.set(e)})},!0),s.on("touchmove",e=>{o.cancel(),n2(e).each(r=>{n.on(e=>{var t,o;t=r,e=e,o=Math.abs(t.clientX-e.x),t=Math.abs(t.clientY-e.y),(5<o||5<t)&&(n.clear(),a.set(!1),s.dispatch("longpresscancel"))})})},!0),s.on("touchend touchcancel",t=>{o.cancel(),"touchcancel"!==t.type&&n.get().filter(e=>e.target.isEqualNode(t.target)).each(()=>{a.get()?t.preventDefault():s.dispatch("tap",{...t,type:"tap"})})},!0)}U_(c);{var l=c;let r="contenteditable",e=" "+T.trim(od(l))+" ",t=" "+T.trim(td(l))+" ",n=c2(e),a=c2(t),A=rd(l);0<A.length&&l.on("BeforeSetContent",o=>{{var r=l,n=A;let e=n.length,t=o.content;if("raw"!==o.format){for(;e--;)t=t.replace(n[e],u2(r,t,td(r)));o.content=t}}}),l.parser.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){var o=e[t];n(o)?o.attr(r,"true"):a(o)&&o.attr(r,"false")}}),l.serializer.addAttributeFilter(r,e=>{let t=e.length;for(;t--;){var o=e[t];(n(o)||a(o))&&(0<A.length&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(r,null))}})}if(!Tb(c)){(t=c).on("mousedown",e=>{3<=e.detail&&(e.preventDefault(),L_(t))}),A=c;{var d=A;let t=[",",".",";",":","!","?"],o=[32],r=()=>{return e=$l(d),t=ed(d),{inlinePatterns:ps(e),blockPatterns:ms(e),dynamicPatternsLookup:t};var e,t},n=()=>d.options.isSet("text_patterns_lookup"),a=(d.on("keydown",e=>{var t;13===e.keyCode&&!N.modifierPressed(e)&&d.selection.isCollapsed()&&(0<(t=r()).inlinePatterns.length||0<t.blockPatterns.length||n())&&T4(d,t)&&e.preventDefault()},!0),()=>{if(d.selection.isCollapsed()){var e=r();if(0<e.inlinePatterns.length||n()){var A=d,i=e;let a=A.selection.getRng();b4(A,a).map(e=>{let t=Math.max(0,a.startOffset-1),o=w4(A.dom,e,a.startContainer,t),r=v4(i,e,o),n=U4(A,e,a.startContainer,t,r,!1);0<n.length&&A.undoManager.transact(()=>{I4(A,n)})})}}});d.on("keyup",e=>{M4(o,e,(e,t)=>e===t.keyCode&&!N.modifierPressed(t))&&a()}),d.on("keypress",e=>{M4(t,e,(e,t)=>e.charCodeAt(0)===t.charCode)&&cm.setEditorTimeout(d,a)})}}var o=pC(c);r2(c,o),(A=c).on("NodeChange",w(l2,A));{var u=c;let e,i=u.dom,s=Qs(u),l=null!=(e=al(u))?e:"",d=(e,t)=>{var o,r,n,a,A;o=e,Rv(o)&&(A=o.keyCode,!Pv(o))&&(N.metaKeyPressed(o)||o.altKey||112<=A&&A<=123||K(Lv,A))||(o=u.getBody(),A=e,e=!(Rv(A)&&!(Pv(A)||"keyup"===A.type&&229===A.keyCode)||(e=i,r=o,n=s,!E(J(r),!1))||(a=r.firstElementChild)&&(e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")||n!==a.nodeName.toLowerCase())),""!==i.getAttrib(o,Nv)==e&&!t)||(i.setAttrib(o,Nv,e?l:null),i.setAttrib(o,"aria-placeholder",e?l:null),u.dispatch("PlaceholderToggle",{state:e}),u.on(e?"keydown":"keyup",d),u.off(e?"keyup":"keydown",d))};pt(l)&&u.on("init",e=>{d(e,!0),u.on("change SetContent ExecCommand",d),u.on("paste",e=>cm.setEditorTimeout(u,()=>d(e)))})}v_(c);o=(e=>{let r=e;return t=e,x(t.plugins,"rtc").bind(e=>Q.from(e.setup)).fold(()=>(r.rtcInstance=Ib(e),Q.none()),e=>{return r.rtcInstance=(t=Z(null),o=Z(""),{init:{bindEvents:z},undoManager:{beforeChange:z,add:t,undo:t,redo:t,clear:z,reset:z,hasUndo:g,hasRedo:g,transact:t,ignore:z,extra:z},formatter:{match:g,matchAll:Z([]),matchNode:Z(void 0),canApply:g,closest:o,apply:z,remove:z,toggle:z,formatChanged:Z({unbind:z})},editor:{getContent:o,setContent:Z({content:"",html:""}),insertContent:Z(""),addVisual:z},selection:{getContent:o},autocompleter:{addDecoration:z,removeDecoration:z},raw:{getModel:Z(Q.none())}}),Q.some(()=>e().then(s=>(r.rtcInstance=(()=>{let n=e=>v(e)?e:{},{init:e,undoManager:a,formatter:A,editor:o,selection:r,autocompleter:t,raw:i}=s;return{init:{bindEvents:e.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:(e,t,o)=>a.transact(o),ignore:(e,t)=>a.ignore(t),extra:(e,t,o,r)=>a.extra(o,r)},formatter:{match:(e,t,o,r)=>A.match(e,n(t),r),matchAll:A.matchAll,matchNode:A.matchNode,canApply:e=>A.canApply(e),closest:e=>A.closest(e),apply:(e,t,o)=>A.apply(e,n(t)),remove:(e,t,o,r)=>A.remove(e,n(t)),toggle:(e,t,o)=>A.toggle(e,n(t)),formatChanged:(e,t,o,r,n)=>A.formatChanged(t,o,r,n)},editor:{getContent:e=>o.getContent(e),setContent:(e,t)=>({content:o.setContent(e,t),html:""}),insertContent:(e,t)=>(o.insertContent(e),""),addVisual:o.addVisual},selection:{getContent:(e,t)=>r.getContent(t)},autocompleter:{addDecoration:t.addDecoration,removeDecoration:t.removeDecoration},raw:{getModel:()=>Q.some(i.getRawModel())}}})(),s.rtc.isRemote)));var t,o});var t})(c);{var r=c,A=r.getDoc(),n=r.getBody(),A;r.dispatch("PreInit"),Nl(r)||(A.body.spellcheck=!1,D4.setAttrib(n,"spellcheck","false")),r.quirks=H4(r),r.dispatch("PostRender"),void 0!==(A=tl(r))&&(n.dir=A);let e=Rl(r);e&&r.on("BeforeSetContent",t=>{T.each(e,e=>{t.content=t.content.replace(e,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})}),r.on("SetContent",()=>{r.addVisual(r.getBody())}),r.on("compositionstart compositionend",e=>{r.composing="compositionstart"===e.type})}o.fold(()=>{V4(c).then(()=>z4(c))},e=>{c.setProgressState(!0),V4(c).then(()=>{e().then(e=>{c.setProgressState(!1),z4(c),Hb(c)},e=>{c.notificationManager.open({type:"error",text:String(e)}),z4(c),Hb(c)})})})},Z4=de,G4=oe.DOM,j4=oe.DOM,W4=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),X4=e=>{var t=e.getElement();return e.inline?W4(null):(e=t,t=j4.create("div"),j4.insertAfter(t,e),W4(t,t))},Y4=async r=>{r.dispatch("ScriptsLoaded");{var n=r;let e=T.trim(Rs(n)),o=n.ui.registry.getAll().icons,t={...ev.get("default").icons,...ev.get(e).icons};W(t,(e,t)=>{X(o,t)||n.ui.registry.addIcon(t,e)})}l=r,s=sl(l),R(s)?(e=dv.get(s),l.theme=e(l,dv.urls[s])||{},V(l.theme.init)&&l.theme.init(l,dv.urls[s]||l.documentBaseUrl.replace(/\/$/,""))):l.theme={},e=r,s=dl(e),l=tv.get(s),e.model=l(e,tv.urls[s]);{var i=r;let A=[];j(Fl(i),e=>{var t=i,o=A,e=e.replace(/^\-/,""),r=lv.get(e),n=lv.urls[e]||t.documentBaseUrl.replace(/\/$/,"");if(e=T.trim(e),r&&-1===T.inArray(o,e)&&!t.plugins[e])try{var a=r(t,n)||{};t.plugins[e]=a,V(a.init)&&(a.init(t,n),o.push(e))}catch(o){r=t,a=e,n=o;a=PA.translate(["Failed to initialize plugin: {0}",a]),Xu(r,"PluginLoadError",{message:a}),hv(a,n),gv(r,a)}})}s=(l=r).getElement(),l.orgDisplay=s.style.display;var e,t,o,a,A,s=await(R(sl(l))?(t=(s=l).theme.renderUI)?t():X4(s):V(sl(l))?(s=(t=l).getElement(),(A=sl(t)(t,s)).editorContainer.nodeType&&(A.editorContainer.id=A.editorContainer.id||t.id+"_parent"),A.iframeContainer&&A.iframeContainer.nodeType&&(A.iframeContainer.id=A.iframeContainer.id||t.id+"_iframecontainer"),A.height=A.iframeHeight||s.offsetHeight,A):X4(l));if(o=r,a=Q.from(s.api).getOr({}),A={show:Q.from(a.show).getOr(z),hide:Q.from(a.hide).getOr(z),isEnabled:Q.from(a.isEnabled).getOr(de),setEnabled:t=>{o.mode.isReadOnly()||Q.from(a.setEnabled).each(e=>e(t))}},o.ui={...o.ui,...A},r.editorContainer=s.editorContainer,(l=r).contentCSS=l.contentCSS.concat((d=l,fv(d,qs(d))),(d=l,fv(d,el(d)))),r.inline)K4(r);else{var l=r,d={editorContainer:s.editorContainer,iframeContainer:s.iframeContainer};{var c=l,r=d;let e=c.translate("Rich Text Area"),t=go(J(c.getElement()),"tabindex").bind(ft),o=((e,t,o,r)=>{let n=Fo("iframe");return r.each(e=>lo(n,"tabindex",e)),co(n,o),co(n,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Bo(n,"tox-edit-area__iframe"),n})(c.id,e,ys(c),t).dom;o.onload=()=>{o.onload=null,c.dispatch("load")},c.contentAreaContainer=r.iframeContainer,c.iframeElement=o,c.iframeHTML=(e=>{let t=Cs(e)+"<html><head>";_s(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var o=ks(e),r=Es(e),n=e.translate(Ml(e));return Fs(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Fs(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${n}"><br></body></html>`})(c),G4.add(r.iframeContainer,o)}d.editorContainer&&(d.editorContainer.style.display=l.orgDisplay,l.hidden=G4.isHidden(d.editorContainer)),l.getElement().style.display="none",G4.setAttrib(l.id,"aria-hidden","true"),l.getElement().style.visibility=l.orgVisibility;{var u=l;let t=u.iframeElement,o=()=>{u.contentDocument=t.contentDocument,K4(u)};if(id(u)||L.browser.isFirefox()){let e=u.getDoc();e.open(),e.write(u.iframeHTML),e.close(),o()}else{r=J(t);let e=Hr(r,"load",Z4,()=>{e.unbind(),o()});t.srcdoc=u.iframeHTML}}}},J4=oe.DOM,q4=e=>"-"===e.charAt(0),$4=(t,e,o)=>Q.from(e).filter(e=>pt(e)&&!ev.has(e)).map(e=>({url:t.editorManager.baseURL+`/icons/${e}/icons${o}.js`,name:Q.some(e)})),ek=(t,e)=>{var o,n,r,a=DA.ScriptLoader,A=()=>{!t.removed&&(e=>{e=sl(e);return!R(e)||P(dv.get(e))})(t)&&(e=>{e=dl(e);return P(tv.get(e))})(t)&&Y4(t)};{var i=t,s=e;let n=sl(i);if(R(n)&&!q4(n)&&!X(dv.urls,n)){let e=ll(i),r=e?i.documentBaseURI.toAbsolute(e):`themes/${n}/theme${s}.js`;dv.load(n,r).catch(()=>{var e,t,o;e=i,t=r,o=n,mv(e,"ThemeLoadError",pv("theme",t,o))})}}{var l=t,s=e;let n=dl(l);if("plugin"!==n&&!X(tv.urls,n)){let e=cl(l),r=R(e)?l.documentBaseURI.toAbsolute(e):`models/${n}/model${s}.js`;tv.load(n,r).catch(()=>{var e,t,o;e=l,t=r,o=n,mv(e,"ModelLoadError",pv("model",t,o))})}}{s=a;var d=t;let n=Ws(d),e=Xs(d);if(!PA.hasCode(n)&&"en"!==n){let r=pt(e)?e:`${d.editorManager.baseURL}/langs/${n}.js`;s.add(r).catch(()=>{var e,t,o;e=d,t=r,o=n,mv(e,"LanguageLoadError",pv("language",t,o))})}}o=a,n=t,s=e,s=$4(n,"default",s),r=n,r=Q.from(Ps(r)).filter(pt).map(e=>({url:e,name:Q.none()})).orThunk(()=>$4(n,Rs(n),"")),j((t=>{let o=[],r=e=>{o.push(e)};for(let e=0;e<t.length;e++)t[e].each(r);return o})([s,r]),r=>{o.add(r.url).catch(()=>{var e,t,o;e=n,t=r.url,o=r.name.getOrUndefined(),mv(e,"IconsLoadError",pv("icons",t,o))})});{var c=t,u=e;let o=(r,n)=>{lv.load(r,n).catch(()=>{var e,t,o;e=c,t=n,o=r,mv(e,"PluginLoadError",pv("plugin",t,o))})};W(Sl(c),(e,t)=>{o(t,e),c.options.set("plugins",Fl(c).concat(t))}),j(Fl(c),e=>{!(e=T.trim(e))||lv.urls[e]||q4(e)||o(e,`plugins/${e}/plugin${u}.js`)})}a.loadQueue().then(A,A)},tk=Lt().deviceType,ok=tk.isPhone(),rk=tk.isTablet(),nk=e=>ne(e)?[]:(e=re(e)?e:e.split(/[ ,]/),e=f(e,ut),U(e,pt)),ak=(e,t)=>X(e.sections(),t),Ak=(e,t,o,r,n)=>{let a,A=e?{mobile:(d=null!=(a=n.mobile)?a:{},t=t,{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:x(d,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}})}:{},i=(l=["mobile"],d=d=xB(A,n),t={},n={},Pe(d,(e,t)=>K(l,t),Re(t),Re(n)),t=(d={t:t,f:n}).t,n=d.f,{sections:Z(t),options:Z(n)}),s=T.extend(o,r,i.options(),(t=i,e&&ak(t,"mobile")?(n=i.sections(),n=x(n,"mobile").getOr({}),T.extend({},{},n)):{}),{external_plugins:((e,t)=>{t=null!=(t=t.external_plugins)?t:{};return e&&e.external_plugins?T.extend({},e.external_plugins,t):t})(r,i.options())});var l,d,c,u;return o=e,t=i,n=r,e=s,n=nk(n.forced_plugins),r=nk(e.plugins),u=t,u=ak(u,"mobile")?u.sections().mobile:{},o=o,t=t,c=r,u=u.plugins?nk(u.plugins):r,r=o&&ak(t,"mobile")?u:c,o=n,t=r,u=[...nk(o),...nk(t)],T.extend(e,{forced_plugins:n,plugins:u})},ik=(e,t)=>{var o,r=e.selection,e=e.dom;return/^ | $/.test(t)?(e=e,r=r.getRng(),o=t,e=J(e.getRoot()),o=Hp(e,M.fromRangeStart(r))?o.replace(/^ /,"&nbsp;"):o.replace(/^&nbsp;/," "),Dp(e,M.fromRangeEnd(r))?o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o.replace(/&nbsp;(<br( \/)?>)?$/," ")):t},sk=(a,t)=>{if(a.selection.isEditable()){let{content:e,details:n}="string"!=typeof(t=t)?(o=T.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:o}):{content:t,details:{}};nb(a,{...n,content:ik(a,e),format:"html",set:!1,selection:!0}).each(e=>{r=a,t=e.content,o=n;var t,o,r=Mb(r).editor.insertContent(t,o);ab(a,r,e),a.addVisual()})}var o},lk={"font-size":"size","font-family":"face"},dk=io("font"),ck=a=>(n,e)=>Q.from(e).map(J).filter(ro).bind(e=>{return o=a,t=n,r=e.dom,pf(J(r),e=>{return t=e,Br(t,o).orThunk(()=>dk(t)?x(lk,o).bind(e=>go(t,e)):Q.none());var t},e=>I(J(t),e)).or((r=a,e=e.dom,Q.from(oe.DOM.getStyle(e,r,!0))));var o,t,r}).getOr(""),uk=ck("font-size"),gk=l(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),ck("font-family")),mk=e=>xc(e.getBody()).bind(e=>{e=e.container();return Q.from(te(e)?e.parentNode:e)}),pk=(e,t)=>{return e=e,t=m(Q.some,t),o=e,Q.from(o.selection.getRng()).bind(e=>{var t=o.getBody();return e.startContainer===t&&0===e.startOffset?Q.none():Q.from(o.selection.getStart(!0))}).orThunk(w(mk,e)).map(J).filter(ro).bind(t);var o},hk=(e,t)=>{var o,r;return/^[0-9.]+$/.test(t)&&1<=(o=parseInt(t,10))&&o<=7?(r=e,r=T.explode(r.options.get("font_size_style_values")),e=e,0<(e=T.explode(e.options.get("font_size_classes"))).length?e[o-1]||t:r[o-1]||t):t},fk=e=>{g=t=>()=>{j("left,center,right,justify".split(","),e=>{t!==e&&u.formatter.remove("align"+e)}),"none"!==t&&(u.formatter.toggle("align"+t,void 0),u.nodeChanged())},(u=m=e).editorCommands.addCommands({JustifyLeft:g("left"),JustifyCenter:g("center"),JustifyRight:g("right"),JustifyFull:g("justify"),JustifyNone:g("none")}),g=t=>()=>{var e=c.selection,e=e.isCollapsed()?[c.dom.getParent(e.getNode(),c.dom.isBlock)]:e.getSelectedBlocks();return G(e,e=>P(c.formatter.matchNode(e,t)))},(c=m).editorCommands.addCommands({JustifyLeft:g("alignleft"),JustifyCenter:g("aligncenter"),JustifyRight:g("alignright"),JustifyFull:g("alignjustify")},"state"),(d=e).editorCommands.addCommands({"Cut,Copy,Paste":e=>{var t=d.getDoc();let o;try{t.execCommand(e)}catch(e){o=!0}if((o="paste"!==e||t.queryCommandEnabled(e)?o:!0)||!t.queryCommandSupported(e)){let e=d.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(L.os.isMacOS()||L.os.isiOS())&&(e=e.replace(/Ctrl\+/g,"โ+")),d.notificationManager.open({text:e,type:"error"})}}}),(l=e).editorCommands.addCommands({mceAddUndoLevel:()=>{l.undoManager.add()},mceEndUndoLevel:()=>{l.undoManager.add()},Undo:()=>{l.undoManager.undo()},Redo:()=>{l.undoManager.redo()}}),(s=e).editorCommands.addCommands({mceSelectNodeDepth:(e,t,o)=>{let r=0;s.dom.getParent(s.selection.getNode(),e=>!ee(e)||r++!==o||(s.selection.select(e),!1),s.getBody())},mceSelectNode:(e,t,o)=>{s.selection.select(o)},selectAll:()=>{var e,t=s.dom.getParent(s.selection.getStart(),un);t&&((e=s.dom.createRng()).selectNodeContents(t),s.selection.setRng(e))}}),(i=e).editorCommands.addCommands({mceCleanup:()=>{var e=i.selection.getBookmark();i.setContent(i.getContent()),i.selection.moveToBookmark(e)},insertImage:(e,t,o)=>{sk(i,i.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{i.execCommand("mceInsertContent",!1,"<hr>")},insertText:(e,t,o)=>{sk(i,i.dom.encode(o))},insertHTML:(e,t,o)=>{sk(i,o)},mceInsertContent:(e,t,o)=>{sk(i,o)},mceSetContent:(e,t,o)=>{i.setContent(o)},mceReplaceContent:(e,t,o)=>{i.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,i.selection.getContent({format:"text"})))},mceNewDocument:()=>{i.setContent(Zl(i))}}),m=(e,t,o)=>{var o=R(o)?{href:o}:o,r=A.dom.getParent(A.selection.getNode(),"a");v(o)&&R(o.href)&&(o.href=o.href.replace(/ /g,"%20"),r&&o.href||A.formatter.remove("link"),o.href)&&A.formatter.apply("link",o,r)},(A=e).editorCommands.addCommands({unlink:()=>{var e;A.selection.isEditable()&&(A.selection.isCollapsed()?(e=A.dom.getParent(A.selection.getStart(),"a"))&&A.dom.remove(e,!0):A.formatter.remove("link"))},mceInsertLink:m,createLink:m}),(t=e).editorCommands.addCommands({Indent:()=>{var e;e=t,$x(e,"indent")},Outdent:()=>{e2(t)}}),t.editorCommands.addCommands({Outdent:()=>Yx(t)},"state"),(a=e).editorCommands.addCommands({insertParagraph:()=>{$y(Uy,a)},mceInsertNewLine:(e,t,o)=>{eC(a,o)},InsertLineBreak:(e,t,o)=>{$y(Ny,a)}}),(r=g=e).editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":e=>{r.getDoc().execCommand(e);var t,o=r.dom.getParent(r.selection.getNode(),"ol,ul");if(o){let e=o.parentNode;e&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(e.nodeName)&&(t=r.selection.getBookmark(),r.dom.split(e,o),r.selection.moveToBookmark(t))}}}),(o=g).editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":e=>{var t=o.dom.getParent(o.selection.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state");var n,o,r,a,t,A,i,s,l,d,c,u,g,m=e;{var p=m;let r=(e,t)=>{p.formatter.toggle(e,t),p.nodeChanged()};p.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{r(e)},"ForeColor,HiliteColor":(e,t,o)=>{r(e,{value:o})},BackColor:(e,t,o)=>{r("hilitecolor",{value:o})},FontName:(e,t,o)=>{var r=p;o=hk(r,o),r.formatter.toggle("fontname",{value:(e=>{e=e.split(/\s*,\s*/);return f(e,e=>-1===e.indexOf(" ")||lt(e,'"')||lt(e,"'")?e:`'${e}'`).join(",")})(o)}),r.nodeChanged()},FontSize:(e,t,o)=>{var r;o=o,(r=p).formatter.toggle("fontsize",{value:hk(r,o)}),r.nodeChanged()},LineHeight:(e,t,o)=>{var r;(r=p).formatter.toggle("lineheight",{value:String(o)}),r.nodeChanged()},Lang:(e,t,o)=>{r(e,{value:o.code,customValue:null!=(e=o.customCode)?e:null})},RemoveFormat:e=>{p.formatter.remove(e)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(e,t,o)=>{r(R(o)?o:"p")},mceToggleFormat:(e,t,o)=>{r(o)}})}{var h=m;let t=e=>h.formatter.match(e);h.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),h.editorCommands.addQueryValueHandler("FontName",()=>{return t=h,pk(t,e=>gk(t.getBody(),e.dom)).getOr("");var t}),h.editorCommands.addQueryValueHandler("FontSize",()=>{return t=h,pk(t,e=>uk(t.getBody(),e.dom)).getOr("");var t}),h.editorCommands.addQueryValueHandler("LineHeight",()=>{return t=h,pk(t,o=>{var e=J(t.getBody());return pf(o,e=>Br(e,"line-height"),w(I,e)).getOrThunk(()=>{var e=parseFloat(wr(o,"line-height")),t=parseFloat(wr(o,"font-size"));return String(e/t)})}).getOr("");var t})}(n=e).editorCommands.addCommands({mceRemoveNode:(e,t,o)=>{o=null!=o?o:n.selection.getNode();if(o!==n.getBody()){let e=n.selection.getBookmark();n.dom.remove(o,!0),n.selection.moveToBookmark(e)}},mcePrint:()=>{n.getWin().print()},mceFocus:(e,t,o)=>{var r;(r=n).removed||(!0===o?Bm:t=>{var e=t.selection,o=t.getBody();let r=e.getRng();t.quirks.refreshContentEditable(),P(t.bookmark)&&!xm(t)&&lm(t).each(e=>{t.selection.setRng(e),r=e});n=t,e=e.getNode();var n,e=n.dom.getParent(e,e=>"true"===n.dom.getContentEditable(e));e&&t.dom.isChildOf(e,o)?(wm(e),vm(t,r)):(t.inline||(L.browser.isOpera()||wm(o),t.getWin().focus()),(L.browser.isFirefox()||t.inline)&&(wm(o),vm(t,r))),Bm(t)})(r)},mceToggleVisualAid:()=>{n.hasVisual=!n.hasVisual,n.addVisual()}})},bk=["toggleview"],vk=e=>K(bk,e.toLowerCase());class wk{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,o,r){var n,a=this.editor,A=e.toLowerCase(),r=null==r?void 0:r.skip_focus;return!(a.removed||("mcefocus"!==A&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(A)||r?(n=a,lm(n).each(e=>n.selection.setRng(e))):a.focus()),a.dispatch("BeforeExecCommand",{command:e,ui:t,value:o}).isDefaultPrevented())||(r=this.commands.exec[A],!V(r))||(r(A,t,o),a.dispatch("ExecCommand",{command:e,ui:t,value:o}),0))}queryCommandState(e){var t;return!(!vk(e)&&this.editor.quirks.isHidden()||this.editor.removed||(e=e.toLowerCase(),t=this.commands.state[e],!V(t)))&&t(e)}queryCommandValue(e){var t;return!(!vk(e)&&this.editor.quirks.isHidden()||this.editor.removed)&&(e=e.toLowerCase(),t=this.commands.value[e],V(t))?t(e):""}addCommands(e,o="exec"){let r=this.commands;W(e,(t,e)=>{j(e.toLowerCase().split(","),e=>{r[o][e]=t})})}addCommand(e,r,n){e=e.toLowerCase();this.commands.exec[e]=(e,t,o)=>r.call(null!=n?n:this.editor,t,o)}queryCommandSupported(e){e=e.toLowerCase();return!!this.commands.exec[e]}addQueryStateHandler(e,t,o){this.commands.state[e.toLowerCase()]=()=>t.call(null!=o?o:this.editor)}addQueryValueHandler(e,t,o){this.commands.value[e.toLowerCase()]=()=>t.call(null!=o?o:this.editor)}}let xk="data-mce-contenteditable",Bk=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch(e){}},yk=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Ck=e=>e.readonly,_k=t=>{t.parser.addAttributeFilter("contenteditable",e=>{Ck(t)&&j(e,e=>{e.attr(xk,e.attr("contenteditable")),e.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(xk,e=>{Ck(t)&&j(e,e=>{e.attr("contenteditable",e.attr(xk))})}),t.serializer.addTempAttr(xk)},kk=["copy"],Ek=T.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Fk{static isNative(e){return!!Ek[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||g}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){var o=e.toLowerCase(),r=wA(o,null!=t?t:{},this.scope),n=(this.settings.beforeFire&&this.settings.beforeFire(r),this.bindings[o]);if(n)for(let t=0,e=n.length;t<e;t++){let e=n[t];if(!e.removed){if(e.once&&this.off(o,e.func),r.isImmediatePropagationStopped())return r;if(!1===e.func.call(this.scope,r))return r.preventDefault(),r}}return r}on(e,t,r,n){if(t=!1===t?g:t){var a={func:t,removed:!1},A=(n&&T.extend(a,n),e.toLowerCase().split(" "));let o=A.length;for(;o--;){let e=A[o],t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=r?[a,...t]:[...t,a],this.bindings[e]=t}}return this}off(o,r){if(o){var n=o.toLowerCase().split(" ");let e=n.length;for(;e--;){var a=n[e];let t=this.bindings[a];if(!a)return W(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]}),this;if(t){if(r){let e=fe(t,e=>e.func===r);t=e.fail,this.bindings[a]=t,j(e.pass,e=>{e.removed=!0})}else t.length=0;t.length||(this.toggleEvent(o,!1),delete this.bindings[a])}}}else W(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,o){return this.on(e,t,o,{once:!0})}has(e){e=e.toLowerCase();e=this.bindings[e];return!(!e||0===e.length)}}let Sk=o=>(o._eventDispatcher||(o._eventDispatcher=new Fk({scope:o,toggleEvent:(e,t)=>{Fk.isNative(e)&&o.toggleNativeEvent&&o.toggleNativeEvent(e,t)}})),o._eventDispatcher),Qk={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(t,e,o){if(this.removed&&"remove"!==t&&"detach"!==t)return wA(t.toLowerCase(),null!=e?e:{},this);var r=Sk(this).dispatch(t,e);if(!1!==o&&this.parent){let e=this.parent();for(;e&&!r.isPropagationStopped();)e.dispatch(t,r,!1),e=e.parent?e.parent():void 0}return r},on(e,t,o){return Sk(this).on(e,t,o)},off(e,t){return Sk(this).off(e,t)},once(e,t){return Sk(this).once(e,t)},hasEventListeners(e){return Sk(this).has(e)}},Uk=oe.DOM,Ik,Tk=(e,t)=>"selectionchange"===t?e.getDoc():!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t)?e.getDoc().documentElement:(t=Al(e))?(e.eventRoot||(e.eventRoot=Uk.select(t)[0]),e.eventRoot):e.getBody(),Mk=(e,t,o)=>{var r,n,a,A,i;(i=e).hidden||Ck(i)?Ck(e)&&(r=e,"click"!==(n=o).type||N.metaKeyPressed(n)?(a=n,K(kk,a.type)&&r.dispatch(n.type,n)):(a=J(n.target),A=r,i=a,gr(i,"a",e=>I(e,J(A.getBody()))).bind(e=>go(e,"href")).each(t=>{if(n.preventDefault(),/^#/.test(t)){let e=r.dom.select(`${t},[name="${it(t,"#")}"]`);e.length&&r.selection.scrollIntoView(e[0],!0)}else window.open(t,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):e.dispatch(t,o)},Hk=(a,A)=>{var e,t;a.delegates||(a.delegates={}),a.delegates[A]||a.removed||(e=Tk(a,A),Al(a)?(Ik||(Ik={},a.editorManager.on("removeEditor",()=>{a.editorManager.activeEditor||Ik&&(W(Ik,(e,t)=>{a.dom.unbind(Tk(a,t))}),Ik=null)})),Ik[A]||(t=t=>{var o=t.target,r=a.editorManager.get();let n=r.length;for(;n--;){let e=r[n].getBody();e!==o&&!Uk.isChildOf(o,e)||Mk(r[n],A,t)}},Ik[A]=t,Uk.bind(e,A,t))):(t=e=>{Mk(a,A,e)},Uk.bind(e,A,t),a.delegates[A]=t))},Dk={...Qk,bindPendingEventDelegates(){let t=this;T.each(t._pendingNativeEvents,e=>{Hk(t,e)})},toggleNativeEvent(e,t){var o=this;"focus"===e||"blur"===e||o.removed||(t?o.initialized?Hk(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Tk(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){let o=this,e=o.getBody(),t=o.dom;o.delegates&&(W(o.delegates,(e,t)=>{o.dom.unbind(Tk(o,t),t,e)}),delete o.delegates),!o.inline&&e&&t&&(e.onload=null,t.unbind(o.getWin()),t.unbind(o.getDoc())),t&&(t.unbind(e),t.unbind(o.getContainer()))}},Ok=e=>R(e)?{value:e.split(/[ ,]/),valid:!0}:D(e,R)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Lk=(e,t)=>e+(ht(t.message)?"":". "+t.message),Nk=e=>e.valid,Rk=(e,t,o="")=>{t=t(e);return _(t)?t?{value:e,valid:!0}:{valid:!1,message:o}:t},Pk=["design","readonly"],Vk=(e,t,o,r)=>{var n,a,A,i,s,l=o[t.get()],o=o[r];try{o.activate()}catch(e){return void console.error(`problem while activating editor mode ${r}:`,e)}l.deactivate(),l.editorReadOnly!==o.editorReadOnly&&(l=e,o=o.editorReadOnly,s=J(l.getBody()),a=s,A="mce-content-readonly",i=o,_o(a,A)&&!i?Co(a,A):i&&Bo(a,A),o?(l.selection.controlSelection.hideResizeRect(),l._selectionOverrides.hideFakeCaret(),i=l,Q.from(i.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")}),l.readonly=!0,yk(s,!1),j(Gr(s,'*[contenteditable="true"]'),e=>{lo(e,xk,"true"),yk(e,!1)})):(l.readonly=!1,l.hasEditableRoot()&&yk(s,!0),j(Gr(s,`*[${xk}="true"]`),e=>{po(e,xk),yk(e,!0)}),Bk(l,"StyleWithCSS",!1),Bk(l,"enableInlineTableEditing",!1),Bk(l,"enableObjectResizing",!1),a=l,(xm(a)||(n=a,a=$o(J(n.getElement())),tm(a).filter(e=>!mm(e.dom)&&pm(n,e.dom)).isSome()))&&l.focus(),l.selection.setRng(l.selection.getRng()),l.nodeChanged())),t.set(r),e.dispatch("SwitchMode",{mode:r})},zk=T.each,Kk=T.explode,Zk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Gk=T.makeMap("alt,ctrl,shift,meta,access"),jk=e=>{let t={},o=L.os.isMacOS()||L.os.isiOS();zk(Kk(e.toLowerCase(),"+"),e=>{e in Gk?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=Zk[e]||e.toUpperCase().charCodeAt(0))});var r=[t.keyCode];let n;for(n in Gk)t[n]?r.push(n):t[n]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class Wk{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;let o=this;e.on("keyup keypress keydown",t=>{!o.hasModifier(t)&&!o.isFunctionKey(t)||t.isDefaultPrevented()||(zk(o.shortcuts,e=>{o.matchShortcut(t,e)&&(o.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type)&&o.executeShortcutAction(e)}),o.matchShortcut(t,o.pendingPatterns[0])&&(1===o.pendingPatterns.length&&"keydown"===t.type&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(e,t,o,r){let n=this,a=n.normalizeCommandFunc(o);return zk(Kk(T.trim(e)),e=>{e=n.createShortcut(e,t,a,r);n.shortcuts[e.id]=e}),!0}remove(e){e=this.createShortcut(e);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)}normalizeCommandFunc(e){let t=this,o=e;return"string"==typeof o?()=>{t.editor.execCommand(o,!1,null)}:T.isArray(o)?()=>{t.editor.execCommand(o[0],o[1],o[2])}:o}createShortcut(e,t,o,r){e=T.map(Kk(e,">"),jk);return e[e.length-1]=T.extend(e[e.length-1],{func:o,scope:r||this.editor}),T.extend(e[0],{desc:this.editor.translate(t),subpatterns:e.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}let Xk=oe.DOM,Yk=T.extend,Jk=T.each;class qk{constructor(e,t,o){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=o,this.documentBaseUrl=o.documentBaseURL,Yk(this,Dk);var r=this,e=(this.id=e,this.hidden=!1,e=o.defaultOptions,a=t,Ak(ok||rk,ok,a,e,a));this.options=(a=>{let A={},i={},s=(e,t,o)=>{t=Rk(t,o);return Nk(t)?(i[e]=t.value,!0):(console.warn(Lk(`Invalid value passed for the ${e} option`,t)),!1)},r=e=>X(A,e);return{register:(t,e)=>{n=e;let o=R(n.processor)?(t=>{let o=(()=>{switch(t){case"array":return re;case"boolean":return _;case"function":return V;case"number":return S;case"object":return v;case"string":return R;case"string[]":return Ok;case"object[]":return e=>D(e,v);case"regexp":return e=>b(e,RegExp);default:return de}})();return e=>Rk(e,o,`The value must be a ${t}.`)})(e.processor):e.processor,r=((e,t,o)=>{if(!F(t)){t=Rk(t,o);if(Nk(t))return t.value;console.error(Lk(`Invalid default value passed for the "${e}" option`,t))}})(t,e.default,o);var n;A[t]={...e,default:r,processor:o},x(i,t).orThunk(()=>x(a,t)).each(e=>s(t,e,o))},isRegistered:r,get:e=>x(i,e).orThunk(()=>x(A,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{var o;return r(e)?(o=A[e]).immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):s(e,t,o.processor):(console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1)},unset:e=>{var t=r(e);return t&&delete i[e],t},isSet:e=>X(i,e)}})(e);{var n=r;let e=n.options.register;e("id",{processor:"string",default:n.id}),e("selector",{processor:"string"}),e("target",{processor:"object"}),e("suffix",{processor:"string"}),e("cache_suffix",{processor:"string"}),e("base_url",{processor:"string"}),e("referrer_policy",{processor:"string",default:""}),e("language_load",{processor:"boolean",default:!0}),e("inline",{processor:"boolean",default:!1}),e("iframe_attrs",{processor:"object",default:{}}),e("doctype",{processor:"string",default:"<!DOCTYPE html>"}),e("document_base_url",{processor:"string",default:n.documentBaseUrl}),e("body_id",{processor:Bs(n,"tinymce"),default:"tinymce"}),e("body_class",{processor:Bs(n),default:""}),e("content_security_policy",{processor:"string",default:""}),e("br_in_pre",{processor:"boolean",default:!0}),e("forced_root_block",{processor:e=>{var t=R(e)&&pt(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),e("forced_root_block_attrs",{processor:"object",default:{}}),e("newline_behavior",{processor:e=>{var t=K(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),e("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),e("no_newline_selector",{processor:"string",default:""}),e("keep_styles",{processor:"boolean",default:!0}),e("end_container_on_empty_block",{processor:e=>_(e)||R(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),e("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),e("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),e("font_size_classes",{processor:"string",default:""}),e("automatic_uploads",{processor:"boolean",default:!0}),e("images_reuse_filename",{processor:"boolean",default:!1}),e("images_replace_blob_uris",{processor:"boolean",default:!0}),e("icons",{processor:"string",default:""}),e("icons_url",{processor:"string",default:""}),e("images_upload_url",{processor:"string",default:""}),e("images_upload_base_path",{processor:"string",default:""}),e("images_upload_credentials",{processor:"boolean",default:!1}),e("images_upload_handler",{processor:"function"}),e("language",{processor:"string",default:"en"}),e("language_url",{processor:"string",default:""}),e("entity_encoding",{processor:"string",default:"named"}),e("indent",{processor:"boolean",default:!0}),e("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),e("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),e("indent_use_margin",{processor:"boolean",default:!1}),e("indentation",{processor:"string",default:"40px"}),e("content_css",{processor:e=>{var t=!1===e||R(e)||D(e,R);return t?R(e)?{value:f(e.split(","),ut),valid:t}:!re(e)&&!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:bl(n)?[]:["default"]}),e("content_style",{processor:"string"}),e("content_css_cors",{processor:"boolean",default:!1}),e("font_css",{processor:e=>{var t=R(e)||D(e,R);return t?{value:re(e)?e:f(e.split(","),ut),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),e("inline_boundaries",{processor:"boolean",default:!0}),e("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),e("object_resizing",{processor:e=>{var t=_(e)||R(e);return t?!1===e||fs.isiPhone()||fs.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!bs}),e("resize_img_proportional",{processor:"boolean",default:!0}),e("event_root",{processor:"object"}),e("service_message",{processor:"string"}),e("theme",{processor:e=>!1===e||R(e)||V(e),default:"silver"}),e("theme_url",{processor:"string"}),e("formats",{processor:"object"}),e("format_empty_lines",{processor:"boolean",default:!1}),e("format_noneditable_selector",{processor:"string",default:""}),e("preview_styles",{processor:e=>{var t=!1===e||R(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),e("custom_ui_selector",{processor:"string",default:""}),e("hidden_input",{processor:"boolean",default:!0}),e("submit_patch",{processor:"boolean",default:!0}),e("encoding",{processor:"string"}),e("add_form_submit_trigger",{processor:"boolean",default:!0}),e("add_unload_trigger",{processor:"boolean",default:!0}),e("custom_undo_redo_levels",{processor:"number",default:0}),e("disable_nodechange",{processor:"boolean",default:!1}),e("readonly",{processor:"boolean",default:!1}),e("editable_root",{processor:"boolean",default:!0}),e("plugins",{processor:"string[]",default:[]}),e("external_plugins",{processor:"object"}),e("forced_plugins",{processor:"string[]"}),e("model",{processor:"string",default:n.hasPlugin("rtc")?"plugin":"dom"}),e("model_url",{processor:"string"}),e("block_unsupported_drop",{processor:"boolean",default:!0}),e("visual",{processor:"boolean",default:!0}),e("visual_table_class",{processor:"string",default:"mce-item-table"}),e("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),e("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),e("setup",{processor:"function"}),e("init_instance_callback",{processor:"function"}),e("url_converter",{processor:"function",default:n.convertURL}),e("url_converter_scope",{processor:"object",default:n}),e("urlconverter_callback",{processor:"function"}),e("allow_conditional_comments",{processor:"boolean",default:!1}),e("allow_html_data_urls",{processor:"boolean",default:!1}),e("allow_svg_data_urls",{processor:"boolean"}),e("allow_html_in_named_anchor",{processor:"boolean",default:!1}),e("allow_script_urls",{processor:"boolean",default:!1}),e("allow_unsafe_link_target",{processor:"boolean",default:!1}),e("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),e("fix_list_elements",{processor:"boolean",default:!1}),e("preserve_cdata",{processor:"boolean",default:!1}),e("remove_trailing_brs",{processor:"boolean",default:!0}),e("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),e("element_format",{processor:"string",default:"html"}),e("entities",{processor:"string"}),e("schema",{processor:"string",default:"html5"}),e("convert_urls",{processor:"boolean",default:!0}),e("relative_urls",{processor:"boolean",default:!0}),e("remove_script_host",{processor:"boolean",default:!0}),e("custom_elements",{processor:"string"}),e("extended_valid_elements",{processor:"string"}),e("invalid_elements",{processor:"string"}),e("invalid_styles",{processor:xs}),e("valid_children",{processor:"string"}),e("valid_classes",{processor:xs}),e("valid_elements",{processor:"string"}),e("valid_styles",{processor:xs}),e("verify_html",{processor:"boolean",default:!0}),e("auto_focus",{processor:e=>R(e)||!0===e}),e("browser_spellcheck",{processor:"boolean",default:!1}),e("protect",{processor:"array"}),e("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),e("deprecation_warnings",{processor:"boolean",default:!0}),e("a11y_advanced_options",{processor:"boolean",default:!1}),e("api_key",{processor:"string"}),e("paste_block_drop",{processor:"boolean",default:!1}),e("paste_data_images",{processor:"boolean",default:!0}),e("paste_preprocess",{processor:"function"}),e("paste_postprocess",{processor:"function"}),e("paste_webkit_styles",{processor:"string",default:"none"}),e("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),e("paste_merge_formats",{processor:"boolean",default:!0}),e("smart_paste",{processor:"boolean",default:!0}),e("paste_as_text",{processor:"boolean",default:!1}),e("paste_tab_spaces",{processor:"number",default:4}),e("text_patterns",{processor:e=>D(e,v)||!1===e?{value:hs(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"}]}),e("text_patterns_lookup",{processor:e=>{return V(e)?{value:(t=e,e=>{e=t(e);return hs(e)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),e("noneditable_class",{processor:"string",default:"mceNonEditable"}),e("editable_class",{processor:"string",default:"mceEditable"}),e("noneditable_regexp",{processor:e=>D(e,ws)?{value:e,valid:!0}:ws(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),e("table_tab_navigation",{processor:"boolean",default:!0}),e("highlight_on_focus",{processor:"boolean",default:!1}),e("xss_sanitization",{processor:"boolean",default:!0}),e("details_initial_state",{processor:e=>{var t=K(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),e("details_serialized_state",{processor:e=>{var t=K(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),e("init_content_sync",{processor:"boolean",default:!1}),e("newdocument_content",{processor:"string",default:""}),n.on("ScriptsLoaded",()=>{e("directionality",{processor:"string",default:PA.isRtl()?"rtl":void 0}),e("placeholder",{processor:"string",default:vs.getAttrib(n.getElement(),"placeholder")})})}var a=this.options.get;if(a("deprecation_warnings")){var A=t,i=e,s=(A=A,s=Xb(A,Zb),!1!==(A=A.forced_root_block)&&""!==A||s.push("forced_root_block (false only)"),Se(s)),l=(A=i,Yb(A,jb)),d=0<l.length,c=0<s.length,u="mobile"===i.theme;if(d||c||u){let e="\n- ",t=u?`

Themes:
- mobile`:"",o=d?`

Plugins:
- `+l.join(e):"",r=c?`

Options:
- `+s.join(e):"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+o+r)}var g=t,m=e,A=(g=g,Xb(g,Gb)),i=(g=m,Yb(g,Wb.map(e=>e.name))),u=0<i.length,d=0<A.length;if(u||d){let e="\n- ",t=u?`

Plugins:
- `+i.map(Jb).join(e):"",o=d?`

Options:
- `+A.join(e):"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+o)}}l=a("suffix"),l&&(o.suffix=l),this.suffix=o.suffix,c=a("base_url"),c&&o._setBaseUrl(c),this.baseUri=o.baseURI,s=js(r),s&&(DA.ScriptLoader._setReferrerPolicy(s),oe.DOM.styleSheetLoader._setReferrerPolicy(s)),t=El(r),P(t)&&oe.DOM.styleSheetLoader._setContentCssCors(t),VA.languageLoad=a("language_load"),VA.baseURL=o.baseURL,this.setDirty(!1),this.documentBaseURI=new P0(_s(r),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=bl(r),this.hasVisual=Ul(r),this.shortcuts=new Wk(this),this.editorCommands=new wk(this),fk(this),e=a("cache_suffix"),e&&(L.cacheSuffix=e.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(m=(()=>{let e={},t={},o={},r={},n={},a={},A={},i={},s=(o,r)=>(e,t)=>{o[e.toLowerCase()]={...t,type:r}};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(o,"autocompleter"),addContextMenu:s(n,"contextmenu"),addContextToolbar:s(a,"contexttoolbar"),addContextForm:s(a,"contextform"),addSidebar:s(A,"sidebar"),addView:s(i,"views"),addIcon:(e,t)=>r[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:r,popups:o,contextMenus:n,contextToolbars:a,sidebars:A,views:i})}})()).addAutocompleter,addButton:m.addButton,addContextForm:m.addContextForm,addContextMenu:m.addContextMenu,addContextToolbar:m.addContextToolbar,addIcon:m.addIcon,addMenuButton:m.addMenuButton,addMenuItem:m.addMenuItem,addNestedMenuItem:m.addNestedMenuItem,addSidebar:m.addSidebar,addSplitButton:m.addSplitButton,addToggleButton:m.addToggleButton,addGroupToolbarButton:m.addGroupToolbarButton,addToggleMenuItem:m.addToggleMenuItem,addView:m.addView,getAll:m.getAll},styleSheetLoader:void 0,show:z,hide:z,setEnabled:z,isEnabled:de},this.mode=(a=>{let A=OA("design"),i=OA({design:{activate:z,deactivate:z,editorReadOnly:!1},readonly:{activate:z,deactivate:z,editorReadOnly:!0}});return(e=a).serializer?_k(e):e.on("PreInit",()=>{_k(e)}),(t=a).on("ShowCaret",e=>{Ck(t)&&e.preventDefault()}),t.on("ObjectSelected",e=>{Ck(t)&&e.preventDefault()}),{isReadOnly:()=>Ck(a),set:e=>{var t=a,o=i.get(),r=A,n=e;if(n!==r.get()){if(!X(o,n))throw new Error(`Editor mode '${n}' is invalid`);t.initialized?Vk(t,r,o,n):t.on("init",()=>Vk(t,r,o,n))}},get:()=>A.get(),register:(e,t)=>{i.set(((e,t,o)=>{if(K(Pk,t))throw new Error("Cannot override default mode "+t);return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(i.get(),e,t))}};var t,e})(r),o.dispatch("SetupEditor",{editor:this}),g=Hl(r);V(g)&&g.call(r,r)}render(){{var r=this,n,a,A=r.id;PA.setCode(Ws(r));let e=()=>{J4.unbind(window,"ready",e),r.render()};if(_A.Event.domLoaded){if(r.getElement()){let t=J(r.getElement()),e=ho(t);r.on("remove",()=>{he(t.dom.attributes,e=>po(t,e.name)),co(t,e)}),r.ui.styleSheetLoader=(n=t,a=r,Ra.forElement(n,{contentCssCors:El(a),referrerPolicy:js(a)})),bl(r)?r.inline=!0:(r.orgVisibility=r.getElement().style.visibility,r.getElement().style.visibility="hidden");let o=r.getElement().form||J4.getParent(A,"form");o&&(r.formElement=o,vl(r)&&!nn(r.getElement())&&(J4.insertAfter(J4.create("input",{type:"hidden",name:A}),A),r.hasHiddenInput=!0),r.formEventDelegate=e=>{r.dispatch(e.type,e)},J4.bind(o,"submit reset",r.formEventDelegate),r.on("reset",()=>{r.resetContent()}),!wl(r)||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=()=>(r.editorManager.triggerSave(),r.setDirty(!1),o._mceOldSubmit(o)))),r.windowManager=cv(r),r.notificationManager=sv(r),"xml"===r.options.get("encoding")&&r.on("GetContent",e=>{e.save&&(e.content=J4.encode(e.content))}),xl(r)&&r.on("submit",()=>{r.initialized&&r.save()}),Bl(r)&&(r._beforeUnload=()=>{!r.initialized||r.destroyed||r.isHidden()||r.save({format:"raw",no_events:!0,set_dirty:!1})},r.editorManager.on("BeforeUnload",r._beforeUnload)),r.editorManager.add(r),ek(r,r.suffix)}}else J4.bind(window,"ready",e)}}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return xm(this)}translate(e){return PA.translate(e)}getParam(e,t,o){var r=this.options;return r.isRegistered(e)||(P(o)?r.register(e,{processor:o,default:t}):r.register(e,{processor:de,default:t})),r.isSet(e)||F(t)?r.get(e):t}hasPlugin(e,t){return!(!K(Fl(this),e)||t&&void 0===lv.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,o){this.editorCommands.addCommand(e,t,o)}addQueryStateHandler(e,t,o){this.editorCommands.addQueryStateHandler(e,t,o)}addQueryValueHandler(e,t,o){this.editorCommands.addQueryValueHandler(e,t,o)}addShortcut(e,t,o,r){this.shortcuts.add(e,t,o,r)}execCommand(e,t,o,r){return this.editorCommands.execCommand(e,t,o,r)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Xk.show(this.getContainer()),Xk.hide(this.id)),this.load(),this.dispatch("show"))}hide(){var e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(Xk.hide(e.getContainer()),Xk.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){var t,o=this.getElement();return!this.removed&&o?(e={...e,load:!0},t=nn(o)?o.value:o.innerHTML,t=this.setContent(t,e),e.no_events||this.dispatch("LoadContent",{...e,element:o}),t):""}save(t={}){let o=this,r=o.getElement();if(!r||!o.initialized||o.removed)return"";let e={...t,save:!0,element:r},n=o.getContent(e);var a={...e,content:n};if(a.no_events||o.dispatch("SaveContent",a),"raw"===a.format&&o.dispatch("RawSaveContent",a),n=a.content,nn(r))r.value=n;else{!t.is_removing&&o.inline||(r.innerHTML=n);let e=Xk.getParent(o.id,"form");e&&Jk(e.elements,e=>e.name!==o.id||(e.value=n,!1))}return a.element=e.element=r=null,!1!==a.set_dirty&&o.setDirty(!1),n}setContent(e,t){return Kb(this,e,t)}getContent(e){return[r,e={}]=[this,e],t=e.format||"html",e={...e,format:t,get:!0,getInner:!0},ob(r,e).fold(O,e=>{o=r,t=e;var t,o=Mb(o).editor.getContent(t);return rb(r,o,e)});var r,t}insertContent(e,t){t&&(e=Yk({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?Kb(this,this.startContent,{format:"raw"}):Kb(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){return this.container||(this.container=this.editorContainer||Xk.get(this.id+"_parent")),this.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Xk.get(this.id)),this.targetElm}getWin(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow}getDoc(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument}getBody(){var e,t=this.getDoc();return null!=(e=null!=(e=this.bodyElement)?e:null==t?void 0:t.body)?e:null}convertURL(e,t,o){var r=this.options.get,n=Ol(this);return V(n)?n.call(this,e,o,!0,t):!r("convert_urls")||"link"===o||v(o)&&"LINK"===o.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?this.documentBaseURI.toRelative(e):this.documentBaseURI.toAbsolute(e,r("remove_script_host"))}addVisual(e){var t;t=t=this,e=e,h(t).editor.addVisual(e)}setEditableRoot(e){var t;e=e,(t=this)._editableRoot!==e&&(t._editableRoot=e,t.readonly||(t.getBody().contentEditable=String(t.hasEditableRoot()),t.nodeChanged()),t.dispatch("EditableRootStateChange",{state:e}))}hasEditableRoot(){return this._editableRoot}remove(){var e,t,o,r,n;(e=this).removed||({_selectionOverrides:t,editorUpload:o}=e,r=e.getBody(),n=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&P(null==n?void 0:n.nextSibling)&&qb.remove(n.nextSibling),e.dispatch("remove"),e.editorManager.remove(e),!e.inline&&r&&(n=e,qb.setStyle(n.id,"display",n.orgDisplay)),e.dispatch("detach"),qb.remove(e.getContainer()),$b(t),$b(o),e.destroy())}destroy(e){var t=this,{selection:o,dom:r}=t;if(!t.destroyed)if(e||t.removed){e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),$b(o),$b(r)),(o=(e=t).formElement)&&(o._mceOldSubmit&&(o.submit=o._mceOldSubmit,delete o._mceOldSubmit),qb.unbind(o,"submit reset",e.formEventDelegate));var n=t;if((r=n).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,o=n.selection){let e=o.dom;r.selection=o.win=o.dom=e.doc=null}t.destroyed=!0}else t.remove()}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}let $k=oe.DOM,e3=T.each,t3,o3=!1,r3=[],n3=t=>{let o=t.type;e3(s3.get(),e=>{switch(o){case"scroll":e.dispatch("ScrollWindow",t);break;case"resize":e.dispatch("ResizeWindow",t)}})},a3=e=>{var t;e!==o3&&(t=oe.DOM,e?(t.bind(window,"resize",n3),t.bind(window,"scroll",n3)):(t.unbind(window,"resize",n3),t.unbind(window,"scroll",n3)),o3=e)},A3=t=>{var e=r3;return r3=U(r3,e=>t!==e),s3.activeEditor===t&&(s3.activeEditor=0<r3.length?r3[0]:null),s3.focusedEditor===t&&(s3.focusedEditor=null),e.length!==r3.length},i3="CSS1Compat"!==document.compatMode,s3={...Qk,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"6.0",releaseDate:"2023-07-12",i18n:PA,activeEditor:null,focusedEditor:null,setup(){let e=this,r="",n="",t=P0.getDocumentBaseUrl(document.location),o=(/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),window.tinymce||window.tinyMCEPreInit);if(o)r=o.base||o.baseURL,n=o.suffix;else{let o=document.getElementsByTagName("script");for(let e=0;e<o.length;e++){let t=o[e].src||"";if(""!==t){let e=t.substring(t.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(t)){-1!==e.indexOf(".min")&&(n=".min"),r=t.substring(0,t.lastIndexOf("/"));break}}}if(!r&&document.currentScript){let e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),r=e.substring(0,e.lastIndexOf("/"))}}var a;e.baseURL=new P0(t).toAbsolute(r),e.documentBaseURL=t,e.baseURI=new P0(e.baseURL),e.suffix=n,(a=e).on("AddEditor",w(fm,a)),a.on("RemoveEditor",w(bm,a))},overrideDefaults(e){var t=e.base_url,t=(t&&this._setBaseUrl(t),e.suffix),t=(t&&(this.suffix=t),(this.defaultOptions=e).plugin_base_urls);void 0!==t&&W(t,(e,t)=>{VA.PluginManager.urls[t]=e})},init(A){let i=this,o,s=T.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=e=>{o=e},t=()=>{let r=0,n=[],a;var e;$k.unbind(window,"ready",t),(e=A.onpageload)&&e.apply(i,[]),a=(o=>{let r=[],n=V(void 0)?t=>G(r,e=>(void 0)(e,t)):e=>K(r,e);for(let e=0,t=o.length;e<t;e++){var a=o[e];n(a)||r.push(a)}return r})((e=A,L.browser.isIE()||L.browser.isEdge()?(hv("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):i3?(hv("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):R(e.selector)?$k.select(e.selector):P(e.target)?[e.target]:[])),T.each(a,e=>{(e=i.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(A3(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)}),0===(a=T.grep(a,e=>!i.get(e.id))).length?l([]):e3(a,e=>{{var t;(o=e,A.inline&&o.tagName.toLowerCase()in s)?hv("Could not initialize inline editor on invalid inline target element",e):(o=(e=>{let t=e.id;return t||(t=x(e,"name").filter(e=>!$k.get(e)).getOrThunk($k.uniqueId),e.setAttribute("id",t)),t})(e),t=A,o=new qk(o,t,i),n.push(o),o.on("init",()=>{++r===a.length&&l(n)}),o.targetElm=o.targetElm||e,o.render())}var o})};return $k.bind(window,"ready",t),new Promise(t=>{o?t(o):l=e=>{t(e)}})},get(t){return 0===arguments.length?r3.slice(0):R(t)?xe(r3,e=>e.id===t).getOr(null):S(t)&&r3[t]?r3[t]:null},add(e){let o=this,t=o.get(e.id);return t===e||(null===t&&r3.push(e),a3(!0),o.activeEditor=e,o.dispatch("AddEditor",{editor:e}),t3)||(t3=e=>{var t=o.dispatch("BeforeUnload");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener("beforeunload",t3)),e},createEditor(e,t){return this.add(new qk(e,t,this))},remove(e){let t=this,o;if(e){if(!R(e))return o=e,H(t.get(o.id))?null:(A3(o)&&t.dispatch("RemoveEditor",{editor:o}),0===r3.length&&window.removeEventListener("beforeunload",t3),o.remove(),a3(0<r3.length),o);e3($k.select(e),e=>{(o=t.get(e.id))&&t.remove(o)})}else for(let e=r3.length-1;0<=e;e--)t.remove(r3[e])},execCommand(e,t,o){var r,n=v(o)?null!=(r=o.id)?r:o.index:o;switch(e){case"mceAddEditor":if(!this.get(n)){let e=o.options;new qk(n,e,this).render()}return!0;case"mceRemoveEditor":{let e=this.get(n);return e&&e.remove(),!0}case"mceToggleEditor":{let e=this.get(n);return e?e.isHidden()?e.show():e.hide():this.execCommand("mceAddEditor",!1,o),!0}}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,o)},triggerSave:()=>{e3(r3,e=>{e.save()})},addI18n:(e,t)=>{PA.add(e,t)},translate:e=>PA.translate(e),setActive(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new P0(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new P0(this.baseURL)}},l3=(s3.setup(),(()=>{let t=KA();return{FakeClipboardItem:t=>({items:t,types:De(t),getType:e=>x(t,e).getOrUndefined()}),write:e=>{t.set(e)},read:()=>t.get().getOrUndefined(),clear:t.clear}})()),d3=Math.min,c3=Math.max,u3=Math.round,g3=(e,t,o)=>{let r=t.x,n=t.y;var a=e.w,e=e.h,A=t.w,t=t.h,o=(o||"").split("");return"b"===o[0]&&(n+=t),"r"===o[1]&&(r+=A),"c"===o[0]&&(n+=u3(t/2)),"c"===o[1]&&(r+=u3(A/2)),"b"===o[3]&&(n-=e),"r"===o[4]&&(r-=a),"c"===o[3]&&(n-=u3(e/2)),"c"===o[4]&&(r-=u3(a/2)),m3(r,n,a,e)},m3=(e,t,o,r)=>({x:e,y:t,w:o,h:r}),p3={inflate:(e,t,o)=>m3(e.x-t,e.y-o,e.w+2*t,e.h+2*o),relativePosition:g3,findBestRelativePosition:(t,o,r,n)=>{for(let e=0;e<n.length;e++){var a=g3(t,o,n[e]);if(a.x>=r.x&&a.x+a.w<=r.w+r.x&&a.y>=r.y&&a.y+a.h<=r.h+r.y)return n[e]}return null},intersect:(e,t)=>{var o=c3(e.x,t.x),r=c3(e.y,t.y),n=d3(e.x+e.w,t.x+t.w),e=d3(e.y+e.h,t.y+t.h);return n-o<0||e-r<0?null:m3(o,r,n-o,e-r)},clamp:(e,t,o)=>{let r=e.x,n=e.y,a=e.x+e.w,A=e.y+e.h;var e=t.x+t.w,i=t.y+t.h,s=c3(0,t.x-r),t=c3(0,t.y-n),e=c3(0,a-e),i=c3(0,A-i);return r+=s,n+=t,o&&(a+=s,A+=t,r-=e,n-=i),a-=e,A-=i,m3(r,n,a-r,A-n)},create:m3,fromClientRect:e=>m3(e.left,e.top,e.width,e.height)},h3=(()=>{let a={},i={};return{load:(t,o)=>{let r=`Script at URL "${o}" failed to load`,n=`Script at URL "${o}" did not call \`tinymce.Resource.add('${t}', data)\` within 1 second`;var e;return void 0!==a[t]?a[t]:(e=new Promise((a,A)=>{let e=(()=>{let o=!1,r=null,e=t=>(...e)=>{o||(o=!0,null!==r&&(clearTimeout(r),r=null),t.apply(null,e))},t=e(a),n=e(A);return{start:(...e)=>{o||null!==r||(r=setTimeout(()=>n.apply(null,e),1e3))},resolve:t,reject:n}})();i[t]=e.resolve,DA.ScriptLoader.loadScript(o).then(()=>e.start(n),()=>e.reject(r))}),a[t]=e)},add:(e,t)=>{void 0!==i[e]&&(i[e](t),delete i[e]),a[e]=Promise.resolve(t)},unload:e=>{delete a[e]}}})(),f3;try{let e="__storage_test__";(f3=window.localStorage).setItem(e,e),f3.removeItem(e)}catch(r){f3=(()=>{let o={},r=[];var e={getItem:e=>o[e]||null,setItem:(e,t)=>{r.push(e),o[e]=String(t)},key:e=>r[e],removeItem:t=>{r=r.filter(e=>e===t),delete o[t]},clear:()=>{r=[],o={}},length:0};return Object.defineProperty(e,"length",{get:()=>r.length,configurable:!1,enumerable:!1}),e})()}var uy={geom:{Rect:p3},util:{Delay:cm,Tools:T,VK:N,URI:P0,EventDispatcher:Fk,Observable:Qk,I18n:PA,LocalStorage:f3,ImageUploader:o=>{let e=vv(),r=yv(o,e);return{upload:(e,t=!0)=>r.upload(e,t?Bv(o):void 0)}}},dom:{EventUtils:_A,TreeWalker:Wr,TextSeeker:ci,DOMUtils:oe,ScriptLoader:DA,RangeUtils:Ig,Serializer:zb,StyleSheetLoader:Na,ControlSelection:ag,BookmarkManager:ju,Selection:Rb,Event:_A.Event},html:{Styles:fA,Entities:rA,Node:Dm,Schema:hA,DomParser:eb,Writer:Zm,Serializer:Gm},Env:L,AddOnManager:VA,Annotator:Gu,Formatter:Hv,UndoManager:Ov,EditorCommands:wk,WindowManager:cv,NotificationManager:sv,EditorObservable:Dk,Shortcuts:Wk,Editor:qk,FocusManager:dm,EditorManager:s3,DOM:oe.DOM,ScriptLoader:DA.ScriptLoader,PluginManager:lv,ThemeManager:dv,ModelManager:tv,IconManager:ev,Resource:h3,FakeClipboard:l3,trim:T.trim,isArray:T.isArray,is:T.is,toArray:T.toArray,makeMap:T.makeMap,each:T.each,map:T.map,grep:T.grep,inArray:T.inArray,extend:T.extend,walk:T.walk,resolve:T.resolve,explode:T.explode,_addCacheSuffix:T._addCacheSuffix},J1=T.extend(s3,uy),b3=(t=J1,window.tinymce=t,window.tinyMCE=t,J1);if("object"==typeof module)try{module.exports=b3}catch(b3){}})(),(()=>{let o=Object.getPrototypeOf,r=(e,t,o)=>!!o(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name,t=o=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&r(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===o;var t},n=t=>e=>typeof e===t,s=t=>e=>t===e,f=t("string"),b=t("object"),g=e=>{return e=e,t=Object,b(e)&&r(e,t,(e,t)=>o(e)===t);var t},m=t("array"),p=s(null),G=n("boolean"),j=s(void 0),W=e=>null==e,X=e=>!W(e),Y=n("function"),J=n("number"),q=(o,r)=>{if(m(o)){for(let e=0,t=o.length;e<t;++e)if(!r(o[e]))return!1;return!0}return!1},B=()=>{},$=e=>()=>e(),ee=(t,o)=>(...e)=>t(o.apply(null,e)),E=e=>()=>e,v=e=>e,te=(e,t)=>e===t;function oe(t,...o){return(...e)=>{e=o.concat(e);return t.apply(null,e)}}let re=t=>e=>!t(e),ne=e=>()=>{throw new Error(e)},ae=e=>e(),Ae=E(!1),ie=E(!0);class Q{constructor(e,t){this.tag=e,this.value=t}static some(e){return new Q(!0,e)}static none(){return Q.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?Q.some(e(this.value)):Q.none()}bind(e){return this.tag?e(this.value):Q.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:Q.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return X(e)?Q.some(e):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);let se=Array.prototype.slice,le=Array.prototype.indexOf,de=Array.prototype.push,ce=(e,t)=>le.call(e,t),ue=(e,t)=>{e=ce(e,t);return-1===e?Q.none():Q.some(e)},ge=(e,t)=>-1<ce(e,t),me=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return!0;return!1},pe=(t,o)=>{var r=[];for(let e=0;e<t;e++)r.push(o(e));return r},he=(t,o)=>{var r=[];for(let e=0;e<t.length;e+=o){var n=se.call(t,e,e+o);r.push(n)}return r},y=(o,r)=>{let e=o.length,n=new Array(e);for(let t=0;t<e;t++){let e=o[t];n[t]=r(e,t)}return n},U=(o,r)=>{for(let e=0,t=o.length;e<t;e++)r(o[e],e)},fe=(o,r)=>{var n=[],a=[];for(let e=0,t=o.length;e<t;e++){var A=o[e];(r(A,e)?n:a).push(A)}return{pass:n,fail:a}},be=(o,r)=>{var n=[];for(let e=0,t=o.length;e<t;e++){var a=o[e];r(a,e)&&n.push(a)}return n},ve=(e,t,o)=>{var r,n,a=e;for(let e=a.length-1;0<=e;e--)r=a[e],n=e,o=t(o,r,n);return o},we=(e,o,r)=>(U(e,(e,t)=>{r=o(r,e,t)}),r),xe=(e,t)=>{var o=e,r=t,n=Ae;for(let e=0,t=o.length;e<t;e++){var a=o[e];if(r(a,e))return Q.some(a);if(n(a,e))break}return Q.none()},Be=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return Q.some(e);return Q.none()},ye=o=>{var r=[];for(let e=0,t=o.length;e<t;++e){if(!m(o[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+o);de.apply(r,o[e])}return r},Ce=(e,t)=>ye(y(e,t)),_e=(o,r)=>{for(let e=0,t=o.length;e<t;++e)if(!0!==r(o[e],e))return!1;return!0},ke=e=>{e=se.call(e,0);return e.reverse(),e},Ee=(e,t)=>be(e,e=>!ge(t,e)),Fe=(o,r)=>{var n={};for(let e=0,t=o.length;e<t;e++){var a=o[e];n[String(a)]=r(a,e)}return n},Se=e=>[e],Qe=(e,t)=>{e=se.call(e,0);return e.sort(t),e},Ue=(e,t)=>0<=t&&t<e.length?Q.some(e[t]):Q.none(),Ie=e=>Ue(e,0),Te=e=>Ue(e,e.length-1),Me=Y(Array.from)?Array.from:e=>se.call(e),He=(t,o)=>{for(let e=0;e<t.length;e++){var r=o(t[e],e);if(r.isSome())return r}return Q.none()},De=Object.keys,Oe=Object.hasOwnProperty,Le=(o,r)=>{var n=De(o);for(let e=0,t=n.length;e<t;e++){var a=n[e];r(o[a],a)}},Ne=(e,o)=>Re(e,(e,t)=>({k:t,v:o(e,t)})),Re=(e,o)=>{let r={};return Le(e,(e,t)=>{e=o(e,t);r[e.k]=e.v}),r},Pe=o=>(e,t)=>{o[t]=e},Ve=(e,o,r,n)=>{Le(e,(e,t)=>{(o(e,t)?r:n)(e,t)})},ze=(e,t)=>{var o={};return Ve(e,t,Pe(o),B),o},Ke=(e,o)=>{let r=[];return Le(e,(e,t)=>{r.push(o(e,t))}),r},Ze=(o,r)=>{var n=De(o);for(let e=0,t=n.length;e<t;e++){var a=n[e],A=o[a];if(r(A,a,o))return Q.some(A)}return Q.none()},Ge=e=>Ke(e,v),C=(e,t)=>je(e,t)?Q.from(e[t]):Q.none(),je=(e,t)=>Oe.call(e,t),We=(e,t)=>je(e,t)&&null!=e[t],Xe=(e,t,o=te)=>e.exists(e=>o(e,t)),Ye=t=>{let o=[],r=e=>{o.push(e)};for(let e=0;e<t.length;e++)t[e].each(r);return o},Je=(e,t,o)=>e.isSome()&&t.isSome()?Q.some(o(e.getOrDie(),t.getOrDie())):Q.none(),qe=(e,t)=>null!=e?Q.some(t(e)):Q.none(),$e=(e,t)=>e?Q.some(t):Q.none(),et=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,tt=(e,t)=>rt(e,t)?(t=t.length,e.substring(t)):e,ot=(e,t,o=0,r)=>{e=e.indexOf(t,o);return-1!==e&&(!!j(r)||e+t.length<=r)},rt=(e,t)=>et(e,t,0),nt=(e,t)=>et(e,t,e.length-t.length),at=(zo=/^\s+|\s+$/g,e=>e.replace(zo,"")),At=e=>0<e.length,it=e=>void 0!==e.style&&Y(e.style.getPropertyValue),st=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},lt=(t,e)=>{e=(e||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||1<e.childNodes.length){let e="HTML does not have a single root node";throw console.error(e,t),new Error(e)}return st(e.childNodes[0])},dt=(e,t)=>{t=(t||document).createElement(e);return st(t)},ct=(e,t)=>{t=(t||document).createTextNode(e);return st(t)},I=st,ut="undefined"!=typeof window?window:Function("return this;")(),gt=(e,o)=>{{var r=e.split(".");let t=null!=o?o:ut;for(let e=0;e<r.length&&null!=t;++e)t=t[r[e]];return t}},mt=Object.getPrototypeOf,pt=e=>{var t=gt("ownerDocument.defaultView",e);return b(e)&&((e=>{var t="HTMLElement";if(e=e,null==(e=gt("HTMLElement",e)))throw new Error(t+" not available on this browser");return e})(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(mt(e).constructor.name))},ht=e=>e.dom.nodeName.toLowerCase(),ft=t=>e=>e.dom.nodeType===t,bt=e=>vt(e)&&pt(e.dom),vt=ft(1),wt=ft(3),xt=ft(9),Bt=ft(11),yt=t=>e=>vt(e)&&ht(e)===t,Ct=(e,t)=>{var o=e.dom;if(1!==o.nodeType)return!1;{let e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},_t=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,kt=(e,t)=>e.dom===t.dom,Et=(e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)},Ft=e=>I(e.dom.ownerDocument),St=e=>xt(e)?e:Ft(e),Qt=e=>I(St(e).dom.documentElement),Ut=e=>I(St(e).dom.defaultView),It=e=>Q.from(e.dom.parentNode).map(I),Tt=e=>Q.from(e.dom.parentElement).map(I),Mt=e=>Q.from(e.dom.offsetParent).map(I),Ht=e=>y(e.dom.childNodes,I),Dt=(e,t)=>{e=e.dom.childNodes;return Q.from(e[t]).map(I)},Ot=e=>Dt(e,0),Lt=(e,t)=>({element:e,offset:t}),Nt=(e,t)=>{var o=Ht(e);return 0<o.length&&t<o.length?Lt(o[t],0):Lt(e,t)},Rt=e=>Bt(e)&&X(e.dom.host),Pt=Y(Element.prototype.attachShadow)&&Y(Node.prototype.getRootNode),Vt=E(Pt),zt=Pt?e=>I(e.dom.getRootNode()):St,Kt=e=>Rt(e)?e:I(St(e).dom.body),Zt=e=>{e=zt(e);return Rt(e)?Q.some(e):Q.none()},Gt=e=>I(e.dom.host),jt=e=>{let t=wt(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let o=t.ownerDocument;return Zt(I(t)).fold(()=>o.body.contains(t),(r=jt,n=Gt,e=>r(n(e))));var r,n},Wt=()=>Xt(I(document)),Xt=e=>{e=e.dom.body;if(null==e)throw new Error("Body is not available yet");return I(e)},Yt=(e,t,o)=>{if(!(f(o)||G(o)||J(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},x=(e,t,o)=>{Yt(e.dom,t,o)},Jt=(e,t)=>{let o=e.dom;Le(t,(e,t)=>{Yt(o,t,e)})},qt=(e,t)=>{e=e.dom.getAttribute(t);return null===e?void 0:e},$t=(e,t)=>Q.from(qt(e,t)),eo=(e,t)=>{e=e.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(t)},to=(e,t)=>{e.dom.removeAttribute(t)},oo=(e,t,o)=>{if(!f(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);it(e)&&e.style.setProperty(t,o)},ro=(e,t)=>{it(e)&&e.style.removeProperty(t)},T=(e,t,o)=>{e=e.dom;oo(e,t,o)},no=(e,t)=>{let o=e.dom;Le(t,(e,t)=>{oo(o,t,e)})},ao=(e,t)=>{let o=e.dom;Le(t,(e,t)=>{e.fold(()=>{ro(o,t)},e=>{oo(o,t,e)})})},Ao=(e,t)=>{var o=e.dom,r=window.getComputedStyle(o).getPropertyValue(t);return""!==r||jt(e)?r:io(o,t)},io=(e,t)=>it(e)?e.style.getPropertyValue(t):"",so=(e,t)=>{e=e.dom,e=io(e,t);return Q.from(e).filter(e=>0<e.length)},lo=e=>{var t={},o=e.dom;if(it(o))for(let e=0;e<o.style.length;e++){var r=o.style.item(e);t[r]=o.style[r]}return t},co=(e,t,o)=>{e=dt(e);return T(e,t,o),so(e,t).isSome()},uo=(e,t)=>{var o=e.dom;ro(o,t),Xe($t(e,"style").map(at),"")&&to(e,"style")},go=e=>e.dom.offsetWidth,mo=(o,r)=>{let e=t=>{var e=r(t);if(e<=0||null===e){let e=Ao(t,o);return parseFloat(e)||0}return e},n=(o,e)=>we(e,(e,t)=>{t=Ao(o,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0);return{set:(e,t)=>{if(!J(t)&&!t.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+t);e=e.dom;it(e)&&(e.style[o]=t+"px")},get:e,getOuter:e,aggregate:n,max:(e,t,o)=>{e=n(e,o);return e<t?t-e:0}}},po=mo("height",e=>{var t=e.dom;return jt(e)?t.getBoundingClientRect().height:t.offsetHeight}),ho=e=>po.get(e),fo=e=>po.getOuter(e),bo=(o,r)=>({left:o,top:r,translate:(e,t)=>bo(o+e,r+t)}),vo=bo,wo=(e,t)=>void 0!==e?e:void 0!==t?t:0,xo=e=>{var t,o,r=e.dom.ownerDocument,n=r.body,a=r.defaultView,r=r.documentElement;return n===e.dom?vo(n.offsetLeft,n.offsetTop):(t=wo(null==a?void 0:a.pageYOffset,r.scrollTop),a=wo(null==a?void 0:a.pageXOffset,r.scrollLeft),o=wo(r.clientTop,n.clientTop),r=wo(r.clientLeft,n.clientLeft),Bo(e).translate(a-r,t-o))},Bo=e=>{var t=e.dom,o=t.ownerDocument.body;return o===t?vo(o.offsetLeft,o.offsetTop):jt(e)?(o=t.getBoundingClientRect(),vo(o.left,o.top)):vo(0,0)},yo=mo("width",e=>e.dom.offsetWidth),Co=e=>yo.get(e),_o=e=>yo.getOuter(e),ko=t=>{let o,r=!1;return(...e)=>(r||(r=!0,o=t.apply(null,e)),o)},Eo=()=>Fo(0,0),Fo=(e,t)=>({major:e,minor:t}),So={nu:Fo,detect:(e,o)=>{var o=String(o).toLowerCase();if(0===e.length)return Eo();{var r=o;let t=((t,o)=>{for(let e=0;e<t.length;e++){var r=t[e];if(r.test(o))return r}})(e,r);return t?(o=e=>Number(r.replace(t,"$"+e)),Fo(o(1),o(2))):{major:0,minor:0}}},unknown:Eo},Qo=(e,t)=>{let o=String(t).toLowerCase();return xe(e,e=>e.search(o))},Uo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Io=t=>e=>ot(e,t),To=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ot(e,"edge/")&&ot(e,"chrome")&&ot(e,"safari")&&ot(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Uo],search:e=>ot(e,"chrome")&&!ot(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ot(e,"msie")||ot(e,"trident")},{name:"Opera",versionRegexes:[Uo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Io("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Io("firefox")},{name:"Safari",versionRegexes:[Uo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ot(e,"safari")||ot(e,"mobile/"))&&ot(e,"applewebkit")}],Mo=[{name:"Windows",search:Io("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ot(e,"iphone")||ot(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Io("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Io("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Io("linux"),versionRegexes:[]},{name:"Solaris",search:Io("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Io("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Io("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ho={browsers:E(To),oses:E(Mo)},Do=e=>{let t=e.current,o=e.version,r=e=>()=>t===e;return{current:t,version:o,isEdge:r("Edge"),isChromium:r("Chromium"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Oo=()=>Do({current:void 0,version:So.unknown()}),Lo=Do,No=(E("Edge"),E("Chromium"),E("IE"),E("Opera"),E("Firefox"),E("Safari"),e=>{let t=e.current,o=e.version,r=e=>()=>t===e;return{current:t,version:o,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isMacOS:r("macOS"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}}),Ro=()=>No({current:void 0,version:So.unknown()}),Po=No,Vo=(E("Windows"),E("iOS"),E("Android"),E("Linux"),E("macOS"),E("Solaris"),E("FreeBSD"),E("ChromeOS"),e=>window.matchMedia(e).matches);var zo;let Ko=ko(()=>{{var a=navigator.userAgent,A=Q.from(navigator.userAgentData),i=Vo,s,l,d,c,u,g,m;let t=Ho.browsers(),e=Ho.oses(),o=A.bind(e=>{return r=t,e=e,He(e.brands,t=>{let o=t.brand.toLowerCase();return xe(r,e=>o===(null==(e=e.brand)?void 0:e.toLowerCase())).map(e=>({current:e.name,version:So.nu(parseInt(t.version,10),0)}))});var r}).orThunk(()=>{return e=t,o=a,Qo(e,o).map(e=>{var t=So.detect(e.versionRegexes,o);return{current:e.name,version:t}});var e,o}).fold(Oo,Lo),r=(A=e,m=a,Qo(A,m).map(e=>{var t=So.detect(e.versionRegexes,m);return{current:e.name,version:t}}).fold(Ro,Po)),n=(A=o,l=a,i=i,d=(s=r).isiOS()&&!0===/ipad/i.test(l),c=s.isiOS()&&!d,u=s.isiOS()||s.isAndroid(),g=u||i("(pointer:coarse)"),i=d||!c&&u&&i("(min-device-width:768px)"),u=c||u&&!i,A=A.isSafari()&&s.isiOS()&&!1===/safari/i.test(l),l=!u&&!i&&!A,{isiPad:E(d),isiPhone:E(c),isTablet:E(i),isPhone:E(u),isTouch:E(g),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:E(A),isDesktop:E(l)});return{browser:o,os:r,deviceType:n}}}),Zo=()=>Ko(),Go=e=>{var t,o=I((e=>{if(Vt()&&X(e.target)){var t=I(e.target);if(vt(t)&&(t=t,X(t.dom.shadowRoot))&&e.composed&&e.composedPath){t=e.composedPath();if(t)return Ie(t)}}return Q.from(e.target)})(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),a=ee(n,r);return t=e.clientX,{target:o,x:t,y:e.clientY,stop:r,prevent:n,kill:a,raw:e}},jo=(e,t,o,r,n)=>{a=o,A=r;var a,A,o=e=>{a(e)&&A(Go(e))};return e.dom.addEventListener(t,o,n),{unbind:oe(Wo,e,t,o,n)}},Wo=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},Xo=(t,o)=>{It(t).each(e=>{e.dom.insertBefore(o.dom,t.dom)})},Yo=(e,t)=>{var o;o=e,Q.from(o.dom.nextSibling).map(I).fold(()=>{It(e).each(e=>{qo(e,t)})},e=>{Xo(e,t)})},Jo=(t,o)=>{Ot(t).fold(()=>{qo(t,o)},e=>{t.dom.insertBefore(o.dom,e.dom)})},qo=(e,t)=>{e.dom.appendChild(t.dom)},$o=(t,e)=>{U(e,e=>{qo(t,e)})},er=e=>{e.dom.textContent="",U(Ht(e),e=>{tr(e)})},tr=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},or=e=>{var e=void 0!==e?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop;return vo(t,e)},rr=(e,t,o)=>{o=(void 0!==o?o.dom:document).defaultView;o&&o.scrollTo(e,t)},nr=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),ar=e=>{let o=void 0===e?window:e,t=o.document,r=or(I(t));return(e=>{e=void 0===e?window:e;return Zo().browser.isFirefox()?Q.none():Q.from(e.visualViewport)})(o).fold(()=>{var e=o.document.documentElement,t=e.clientWidth,e=e.clientHeight;return nr(r.left,r.top,t,e)},e=>nr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height))},Ar=()=>I(document),ir=(o,e)=>o.view(e).fold(E([]),e=>{var t=o.owner(e),t=ir(o,t);return[e].concat(t)});var sr,lr=Object.freeze({__proto__:null,view:e=>(e.dom===document?Q.none():Q.from(null==(e=e.dom.defaultView)?void 0:e.frameElement)).map(I),owner:e=>Ft(e)});let dr=o=>{let e=Ar(),r=or(e),t=(a=(n=lr).owner(o),n=ir(n,a),Q.some(n));var n,a;return t.fold(oe(xo,o),e=>{var t=Bo(o),e=ve(e,(e,t)=>{t=Bo(t);return{left:e.left+t.left,top:e.top+t.top}},{left:0,top:0});return vo(e.left+t.left+r.left,e.top+t.top+r.top)})},cr=(e,t,o,r)=>({x:e,y:t,width:o,height:r,right:e+o,bottom:t+r}),ur=e=>{var t=xo(e),o=_o(e),e=fo(e);return cr(t.left,t.top,o,e)},gr=e=>{var t=dr(e),o=_o(e),e=fo(e);return cr(t.left,t.top,o,e)},mr=(e,t)=>{var o=Math.max(e.x,t.x),r=Math.max(e.y,t.y),n=Math.min(e.right,t.right),e=Math.min(e.bottom,t.bottom);return cr(o,r,n-o,e-r)},pr=()=>ar(window),hr=tinymce.util.Tools.resolve("tinymce.ThemeManager"),fr=o=>{let e=e=>e(o),t=E(o),r=()=>n,n={tag:!0,inner:o,fold:(e,t)=>t(o),isValue:ie,isError:Ae,map:e=>M.value(e(o)),mapError:r,bind:e,exists:e,forall:e,getOr:t,or:r,getOrThunk:t,orThunk:r,getOrDie:t,each:e=>{e(o)},toOptional:()=>Q.some(o)};return n},br=o=>{let e=()=>t,t={tag:!1,inner:o,fold:(e,t)=>e(o),isValue:Ae,isError:ie,map:e,mapError:e=>M.error(e(o)),bind:e,exists:Ae,forall:ie,getOr:v,or:v,getOrThunk:ae,orThunk:ae,getOrDie:ne(String(o)),each:B,toOptional:Q.none};return t},M={value:fr,error:br,fromOption:(e,t)=>e.fold(()=>br(t),fr)},vr=((rc=sr=sr||{})[rc.Error=0]="Error",rc[rc.Value=1]="Value",(e,t,o)=>e.stype===sr.Error?t(e.serror):o(e.svalue)),wr=e=>({stype:sr.Value,svalue:e}),xr=e=>({stype:sr.Error,serror:e}),Br=wr,yr=xr,Cr=vr,_r=(e,t,o,r)=>({tag:"field",key:e,newKey:t,presence:o,prop:r}),kr=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},Er=n=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");var o={};for(let e=0;e<t.length;e++){var r=t[e];for(let e in r)je(r,e)&&(o[e]=n(o[e],r[e]))}return o},Fr=Er((e,t)=>g(e)&&g(t)?Fr(e,t):t),Sr=Er((e,t)=>t),Qr=e=>({tag:"defaultedThunk",process:e}),Ur=e=>Qr(E(e)),Ir=e=>({tag:"mergeWithThunk",process:e}),Tr=e=>{var t,e=(e=>{let t=[],o=[];return U(e,e=>{vr(e,e=>o.push(e),e=>t.push(e))}),{values:t,errors:o}})(e);return 0<e.errors.length?(t=e.errors,ee(yr,ye)(t)):Br(e.values)},Mr=e=>b(e)&&100<De(e).length?" removed due to size":JSON.stringify(e,null,2),Hr=(e,t)=>yr([{path:e,getErrorInfo:t}]),Dr=r=>({extract:(e,t)=>{return(t=r(t)).stype===sr.Error?(o=t.serror,e=e,o=o,Hr(e,E(o))):t;var o},toString:E("val")}),Or=Dr(Br),Lr=(e,t,o,r)=>r(C(e,t).getOrThunk(()=>o(e))),Nr=(t,o,r,n,a)=>{let A=e=>a.extract(o.concat([n]),e),e=e=>e.fold(()=>Br(Q.none()),e=>{return e=a.extract(o.concat([n]),e),t=Q.some,e.stype===sr.Value?{stype:sr.Value,svalue:t(e.svalue)}:e;var t});switch(t.tag){case"required":return d=o,c=r,u=n,g=A,C(c,u).fold(()=>{return e=d,t=u,o=c,Hr(e,()=>'Could not find valid *required* value for "'+t+'" in '+Mr(o));var e,t,o},g);case"defaultedThunk":return Lr(r,n,t.process,A);case"option":return g=r,l=n,e(C(g,l));case"defaultedOptionThunk":return i=r,l=n,s=t.process,e(C(i,l).map(e=>!0===e?s(i):e));case"mergeWithThunk":return Lr(r,n,E({}),e=>{e=Fr(t.process(r),e);return A(e)})}var i,s,l,d,c,u,g},Rr=o=>({extract:(e,t)=>o().extract(e,t),toString:()=>o().toString()}),Pr=e=>De(ze(e,X)),Vr=e=>{let n=A(e),a=ve(e,(t,e)=>kr(e,e=>Fr(t,{[e]:!0}),E(t)),{});return{extract:(e,t)=>{var o,r=G(t)?[]:Pr(t),r=be(r,e=>!We(a,e));return 0===r.length?n.extract(e,t):(t=e,o=r,Hr(t,()=>"There are unsupported fields: ["+o.join(", ")+"] specified"))},toString:n.toString}},A=r=>({extract:(e,t)=>{{var A=e,i=t,o;let n={},a=[];for(o of r)kr(o,(e,t,o,r)=>{o=Nr(o,A,i,e,r);Cr(o,e=>{a.push(...e)},e=>{n[t]=e})},(e,t)=>{n[e]=t(i)});return 0<a.length?yr(a):Br(n)}},toString:()=>"obj{\n"+y(r,e=>kr(e,(e,t,o,r)=>e+" -> "+r.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}),zr=r=>({extract:(o,e)=>{e=y(e,(e,t)=>r.extract(o.concat(["["+t+"]"]),e));return Tr(e)},toString:()=>"array("+r.toString()+")"}),Kr=(e,t)=>{let a=void 0!==t?t:v;return{extract:(t,o)=>{var r,n=[];for(r of e){let e=r.extract(t,o);if(e.stype===sr.Value)return{stype:sr.Value,svalue:a(e.svalue)};n.push(e)}return Tr(n)},toString:()=>"oneOf("+y(e,e=>e.toString()).join(", ")+")"}},Zr=(n,a)=>({extract:(o,r)=>{var e=De(r),t=(t=o,e=e,zr(Dr(n)).extract(t,e));return(e=t).stype===sr.Value?(e=>{const t=y(e,e=>_r(e,e,{tag:"required",process:{}},a));return A(t).extract(o,r)})(e.svalue):e},toString:()=>"setOf("+a.toString()+")"}),Gr=ee(zr,A),jr=E(Or),Wr=(o,r)=>Dr(e=>{var t=typeof e;return o(e)?Br(e):yr(`Expected type: ${r} but got: `+t)}),Xr=Wr(J,"number"),Yr=Wr(f,"string"),Jr=Wr(G,"boolean"),qr=Wr(Y,"function"),$r=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(e=>$r(t[e]));default:return!1}},en=Dr(e=>$r(e)?Br(e):yr("Expected value to be acceptable for sending via postMessage")),tn=(r,i)=>({extract:(o,A)=>C(A,r).fold(()=>{return e=o,t=r,Hr(e,()=>'Choice schema did not contain choice key: "'+t+'"');var e,t},e=>{return r=o,t=A,n=i,a=e,C(n,a).fold(()=>{return e=r,t=n,o=a,Hr(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Mr(t));var e,t,o},e=>e.extract(r.concat(["branch: "+a]),t));var r,t,n,a}),toString:()=>"chooseOn("+r+"). Possible values: "+De(i)}),on=t=>Dr(e=>t(e).fold(yr,Br)),rn=(t,e)=>Zr(e=>t(e).fold(xr,wr),e),nn=(e,t,o)=>(o=o,o=(t=t.extract([e],o)).stype===sr.Error?{stype:sr.Error,serror:(e=t.serror,{input:o,errors:e})}:t,vr(o,M.error,M.value)),an=e=>e.fold(e=>{throw new Error(sn(e))},v),An=(e,t,o)=>an(nn(e,t,o)),sn=e=>"Errors: \n"+(e=>{e=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:E("... (only showing first ten failures)")}]):e;return y(e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())})(e.errors).join("\n")+"\n\nInput object: "+Mr(e.input),ln=(e,t)=>tn(e,Ne(t,A)),dn=(e,t)=>{{let o=ko(t);return{extract:(e,t)=>o().extract(e,t),toString:()=>o().toString()}}},cn=_r,un=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),gn=t=>on(e=>ge(t,e)?M.value(e):M.error(`Unsupported value: "${e}", choose one of "${t.join(", ")}".`)),a=e=>cn(e,e,{tag:"required",process:{}},jr()),mn=(e,t)=>cn(e,e,{tag:"required",process:{}},t),pn=e=>mn(e,Yr),hn=(e,t)=>cn(e,e,{tag:"required",process:{}},gn(t)),fn=e=>mn(e,qr),bn=(e,t)=>cn(e,e,{tag:"required",process:{}},A(t)),vn=(e,t)=>cn(e,e,{tag:"required",process:{}},Gr(t)),wn=(e,t)=>cn(e,e,{tag:"required",process:{}},zr(t)),i=e=>cn(e,e,{tag:"option",process:{}},jr()),xn=(e,t)=>cn(e,e,{tag:"option",process:{}},t),Bn=e=>xn(e,Xr),yn=e=>xn(e,Yr),Cn=(e,t)=>xn(e,gn(t)),_n=e=>xn(e,qr),kn=(e,t)=>xn(e,zr(t)),En=(e,t)=>xn(e,A(t)),l=(e,t)=>cn(e,e,Ur(t),jr()),Fn=(e,t,o)=>cn(e,e,Ur(t),o),Sn=(e,t)=>Fn(e,t,Xr),Qn=(e,t)=>Fn(e,t,Yr),Un=(e,t,o)=>Fn(e,t,gn(o)),In=(e,t)=>Fn(e,t,Jr),Tn=(e,t)=>Fn(e,t,qr),Mn=(e,t,o)=>Fn(e,t,zr(o)),Hn=(e,t,o)=>Fn(e,t,A(o)),H=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Dn=a=>{if(!m(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");let A=[],i={};return U(a,(e,t)=>{var o=De(e);if(1!==o.length)throw new Error("one and only one name per case");let r=o[0],n=e[r];if(void 0!==i[r])throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!m(n))throw new Error("case arguments must be an array");A.push(r),i[r]=(...o)=>{var e=o.length;if(e!==n.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+n.length+" ("+n+"), got "+e);return{fold:(...e)=>{if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[t].apply(null,o)},match:e=>{let t=De(e);if(A.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+A.join(",")+"\nActual: "+t.join(","));if(_e(A,e=>ge(t,e)))return e[r].apply(null,o);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+A.join(", "))},log:e=>{console.log(e,{constructors:A,constructor:r,params:o})}}}}),i},On=(Dn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),(e,t)=>({[e]:t})),Ln=e=>{{let t={};return U(e,e=>{t[e.key]=e.value}),t}},Nn=e=>Y(e)?e:Ae,Rn=(e,o,t)=>{let r=e.dom;for(var n=Nn(t);r.parentNode;){r=r.parentNode;let e=I(r),t=o(e);if(t.isSome())return t;if(n(e))break}return Q.none()},Pn=(e,t,o)=>{let r=t(e),n=Nn(o);return r.orThunk(()=>n(e)?Q.none():Rn(e,t,n))},Vn=(e,t)=>kt(e.element,t.event.target),zn={can:ie,abort:Ae,run:B},Kn=e=>{if(We(e,"can")||We(e,"abort")||We(e,"run"))return{...zn,...e};throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")},Zn=E,Gn=Zn("touchstart"),jn=Zn("touchmove"),Wn=Zn("touchend"),Xn=Zn("touchcancel"),Yn=Zn("mousedown"),Jn=Zn("mousemove"),qn=Zn("mouseout"),$n=Zn("mouseup"),ea=Zn("mouseover"),ta=Zn("focusin"),oa=Zn("focusout"),ra=Zn("keydown"),na=Zn("keyup"),aa=Zn("input"),Aa=Zn("change"),ia=Zn("click"),sa=Zn("transitioncancel"),la=Zn("transitionend"),da=Zn("transitionstart"),ca=Zn("selectstart"),ua=e=>E("alloy."+e),ga={tap:ua("tap")},ma=ua("focus"),pa=ua("blur.post"),ha=ua("paste.post"),fa=ua("receive"),ba=ua("execute"),va=ua("focus.item"),wa=ga.tap,xa=ua("longpress"),Ba=ua("sandbox.close"),ya=ua("typeahead.cancel"),Ca=ua("system.init"),_a=ua("system.touchmove"),ka=ua("system.touchend"),Ea=ua("system.scroll"),Fa=ua("system.resize"),Sa=ua("system.attached"),Qa=ua("system.detached"),Ua=ua("system.dismissRequested"),Ia=ua("system.repositionRequested"),Ta=ua("focusmanager.shifted"),Ma=ua("slotcontainer.visibility"),Ha=ua("system.external.element.scroll"),Da=ua("change.tab"),Oa=ua("dismiss.tab"),La=ua("highlight"),Na=ua("dehighlight"),_=(e,t)=>{Va(e,e.element,t,{})},k=(e,t,o)=>{Va(e,e.element,t,o)},Ra=e=>{_(e,ba())},Pa=(e,t,o)=>{Va(e,t,o,{})},Va=(e,t,o,r)=>{r={target:t,...r};e.getSystem().triggerEvent(o,t,r)},za=(e,t,o,r)=>{e.getSystem().triggerEvent(o,t,r.event)},Ka=e=>Ln(e),Za=(e,t)=>({key:e,value:Kn({abort:t})}),Ga=e=>({key:e,value:Kn({run:(e,t)=>{t.event.prevent()}})}),D=(e,t)=>({key:e,value:Kn({run:t})}),ja=(e,o,r)=>({key:e,value:Kn({run:(e,t)=>{o.apply(void 0,[e,t].concat(r))}})}),Wa=e=>o=>({key:e,value:Kn({run:(e,t)=>{Vn(e,t)&&o(e,t)}})}),Xa=(e,t,o)=>{return r=e,n=t.partUids[o],D(r,(e,t)=>{e.getSystem().getByUid(n).each(e=>{za(e,e.element,r,t)})});var r,n},Ya=(e,n)=>D(e,(t,e)=>{let o=e.event,r=t.getSystem().getByDom(o.target).getOrThunk(()=>Pn(o.target,e=>t.getSystem().getByDom(e).toOptional(),Ae).getOr(t));n(t,r,e)}),Ja=e=>D(e,(e,t)=>{t.cut()}),qa=(e,t)=>Wa(e)(t),$a=Wa(Sa()),eA=Wa(Qa()),tA=Wa(Ca()),oA=(sA=ba(),e=>D(sA,e)),rA=e=>e.dom.innerHTML,nA=(e,t)=>{let o=Ft(e).dom,r=I(o.createDocumentFragment()),n=(t=t,(a=(o||document).createElement("div")).innerHTML=t,Ht(I(a)));var a;$o(r,n),er(e),qo(e,r)},aA=e=>{return Rt(e)?"#shadow-root":(e=e,e=I(e.dom.cloneNode(!1)),t=dt("div"),e=I(e.dom.cloneNode(!0)),qo(t,e),rA(t));var t},AA=e=>aA(e),iA=Ka([{key:ma(),value:Kn({can:(e,t)=>{var o,r,t=t.event,n=t.originator,t=t.target;return e=e,o=n,r=t,!(kt(o,e.element)&&!kt(o,r)&&(console.warn(ma()+" did not get interpreted by the desired target. \nOriginator: "+AA(n)+"\nTarget: "+AA(t)+"\nCheck the "+ma()+" event handlers"),1))}})}]);var sA,lA=Object.freeze({__proto__:null,events:iA});let dA=0,F=e=>{var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++dA+String(t)},cA=E("alloy-id-"),uA=E("data-alloy-id"),gA=cA(),mA=uA(),pA=(e,t)=>{Object.defineProperty(e.dom,mA,{value:t,writable:!0})},hA=e=>{e=vt(e)?e.dom[mA]:null;return Q.from(e)},fA=e=>F(e),bA=v,vA=t=>{let o=e=>"The component must be in a context to execute: "+e+(t?"\n"+AA(t().element)+" is not in context.":""),e=e=>()=>{throw new Error(o(e))},r=e=>()=>{console.warn(o(e))};return{debugInfo:E("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),build:e("build"),buildOrPatch:e("buildOrPatch"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),isConnected:Ae}},wA=vA(),xA=e=>y(e,e=>nt(e,"/*")?e.substring(0,e.length-2):e),BA=(e,t)=>{let o=e.toString(),r=o.indexOf(")")+1,n=o.indexOf("("),a=o.substring(n+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:xA(a)}),e},yA=F("alloy-premade"),CA=e=>(Object.defineProperty(e.element.dom,yA,{value:e.uid,writable:!0}),On(yA,e)),_A=e=>C(e,yA),kA=n=>{{var a=(e,...t)=>n(e.getApis(),e,...t);let e=n.toString(),t=e.indexOf(")")+1,o=e.indexOf("("),r=e.substring(o+1,t-1).split(/,\s*/);return a.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:xA(r.slice(1))}),a}},EA={init:()=>FA({readState:E("No State required")})},FA=e=>e,SA=(e,n)=>{let a={};return Le(e,(e,r)=>{Le(e,(e,t)=>{var o=C(a,t).getOr([]);a[t]=o.concat([n(r,e)])})}),a},QA=e=>({classes:j(e.classes)?[]:e.classes,attributes:j(e.attributes)?{}:e.attributes,styles:j(e.styles)?{}:e.styles}),UA=e=>e.cHandler,IA=(e,t)=>({name:e,handler:t}),TA=(e,t)=>{let o={};return U(e,e=>{o[e.name()]=e.handlers(t)}),o},MA=(e,t,o)=>{var t=t[o];return t?((n,e,a)=>{try{var t=Qe(e,(e,t)=>{var e=e.name,t=t.name,o=a.indexOf(e),r=a.indexOf(t);if(-1===o)throw new Error("The ordering for "+n+" does not have an entry for "+e+".\nOrder specified: "+JSON.stringify(a,null,2));if(-1===r)throw new Error("The ordering for "+n+" does not have an entry for "+t+".\nOrder specified: "+JSON.stringify(a,null,2));return o<r?-1:r<o?1:0});return M.value(t)}catch(n){return M.error([n])}})("Event: "+o,e,t).map(e=>{return o=y(e,e=>e.handler),t=r=o,{can:(...o)=>we(r,(e,t)=>e&&t.can.apply(void 0,o),!0),abort:(...o)=>we(t,(e,t)=>e||t.abort.apply(void 0,o),!1),run:(...t)=>{U(o,e=>{e.run.apply(void 0,t)})}};var o,t,r}):(t=o,o=e,M.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(y(o,e=>e.name),null,2)]))},HA=(e,a)=>{return 0<(e=(e=>{let t=[],o=[];return U(e,e=>{e.fold(e=>{t.push(e)},e=>{o.push(e)})}),{errors:t,values:o}})(Ke(e,(r,n)=>(1===r.length?M.value(r[0].handler):MA(r,a,n)).map(e=>{const t=(e=>{const n=(e=>Y(e)?{can:ie,abort:Ae,run:e}:e)(e);return(e,t,...o)=>{const r=[e,t].concat(o);n.abort.apply(void 0,r)?t.stop():n.can.apply(void 0,r)&&n.run.apply(void 0,r)}})(e),o=r.length>1?be(a[n],t=>me(r,e=>e.name===t)).join(" > "):r[0].name;return On(n,((e,t)=>({handler:e,purpose:t}))(t,o))})))).errors.length?(t=e.errors,M.error(ye(t))):(t=e.values,e={},0===t.length?M.value(e):M.value(Fr(e,Sr.apply(void 0,t))));var t},DA="alloy.base.behaviour",OA=A([cn("dom","dom",{tag:"required",process:{}},A([a("tag"),l("styles",{}),l("classes",[]),l("attributes",{}),i("value"),i("innerHtml")])),a("components"),a("uid"),l("events",{}),l("apis",{}),cn("eventOrder","eventOrder",(rc={[ba()]:["disabling",DA,"toggling","typeaheadevents"],[ma()]:[DA,"focusing","keying"],[Ca()]:[DA,"disabling","toggling","representing"],[aa()]:[DA,"representing","streaming","invalidating"],[Qa()]:[DA,"representing","item-events","tooltipping"],[Yn()]:["focusing",DA,"item-type-events"],[Gn()]:["focusing",DA,"item-type-events"],[ea()]:["item-type-events","tooltipping"],[fa()]:["receiving","reflecting","tooltipping"]},Ir(E(rc))),jr()),i("domModification")]),LA=e=>e.events,NA=(e,t)=>{e=qt(e,t);return void 0===e||""===e?[]:e.split(" ")},RA=e=>void 0!==e.dom.classList,PA=e=>NA(e,"class"),VA=(e,t)=>{RA(e)?e.dom.classList.add(t):(e=e,t=t,t=NA(e,"class").concat([t]),x(e,"class",t.join(" ")))},zA=(e,t)=>{var o,r;RA(e)?e.dom.classList.remove(t):(o=e,r=t,0<(t=be(NA(o,"class"),e=>e!==r)).length?x(o,"class",t.join(" ")):to(o,"class")),t=e,0===(RA(t)?t.dom.classList:PA(t)).length&&to(t,"class")},KA=(e,t)=>RA(e)&&e.dom.classList.contains(t),ZA=(t,e)=>{U(e,e=>{VA(t,e)})},GA=(t,e)=>{U(e,e=>{zA(t,e)})},jA=(t,e)=>_e(e,e=>KA(t,e)),WA=e=>e.dom.value,XA=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},YA=(e,t,o)=>{o.fold(()=>qo(e,t),e=>{kt(e,t)||(Xo(e,t),tr(e))})},JA=(e,t,o)=>{t=y(t,o),o=Ht(e);return U(o.slice(t.length),tr),t},qA=(e,t,o,r)=>{var n,a=Dt(e,t),r=r(o,a),a=(o=e,t=t,n=a,Dt(o,t).map(t=>{var e;return n.exists(e=>!kt(e,t))?(e=n.map(ht).getOr("span"),e=dt(e),Xo(t,e),e):t}));return YA(e,r.element,a),r},$A=(e,o)=>{var t,r=De(e),n=De(o),n=Ee(n,r);return r=e,e={},t={},Ve(r,(e,t)=>!je(o,t)||e!==o[t],Pe(e),Pe(t)),{toRemove:n,toSet:e}},ei=(t,r)=>{g=r;let{class:e,style:o,...n}=we(g.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),{toSet:a,toRemove:A}=$A(t.attributes,n),i=lo(r),{toSet:s,toRemove:l}=$A(t.styles,i),d=(e=>{if(RA(e)){var t=e.dom.classList,o=new Array(t.length);for(let e=0;e<t.length;e++){var r=t.item(e);null!==r&&(o[e]=r)}return o}return PA(e)})(r),c=Ee(d,t.classes),u=Ee(t.classes,d);var g,m;return U(A,e=>to(r,e)),Jt(r,a),ZA(r,u),GA(r,c),U(l,e=>uo(r,e)),no(r,s),t.innerHtml.fold(()=>{var o,e=t.domChildren;o=r,e=e,JA(o,e,(e,t)=>{t=Dt(o,t);return YA(o,e,t),e})},e=>{nA(r,e)}),g=r,(m=t.value.getOrUndefined())!==WA(g)&&XA(g,null!=m?m:""),r},ti=e=>{var t,o=(e=>{let t=C(e,"behaviours").getOr({});return Ce(De(t),e=>{e=t[e];return X(e)?[e.me]:[]})})(e);return t=e,e=o,o=y(e,e=>En(e.name(),[a("config"),l("state",EA)])),o=nn("component.behaviours",A(o),t.behaviours).fold(e=>{throw new Error(sn(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))},v),{list:e,data:Ne(o,e=>{e=e.map(e=>({config:e.config,state:e.state.init(e.config)}));return E(e)})}},oi=(o,e)=>{let t=()=>u,r=H(wA),n=an((f=o,nn("custom.definition",OA,f))),a=ti(o),A=a.list,i=a.data,s=((e,t,o)=>{var r={...(r=e).dom,uid:r.uid,domChildren:y(r.components,e=>e.element)};let n=e.domModification.fold(()=>QA({}),QA),i={"alloy.base.modification":n},a=0<t.length?((t,e,o)=>{let r={...i};U(e,e=>{r[e.name()]=e.exhibit(t,o)});var e=SA(r,(e,t)=>({name:e,modification:t})),n=e=>ve(e,(e,t)=>({...t.modification,...e}),{}),a=ve(e.classes,(e,t)=>t.modification.concat(e),[]),A=n(e.attributes),n=n(e.styles);return QA({classes:a,attributes:A,styles:n})})(o,t,r):n;return e=a,{...o=r,attributes:{...o.attributes,...e.attributes},styles:{...o.styles,...e.styles},classes:o.classes.concat(e.classes)}})(n,A,i),l=(h=s,f=e.filter(e=>{return!(ht(e)!==h.tag||(t=h).innerHtml.isSome()&&0<t.domChildren.length||(t=e,je(t.dom,yA)));var t}).bind(e=>{var t=h;try{var o=ei(t,e);return Q.some(o)}catch(t){return Q.none()}}).getOrThunk(()=>{{var e=h;let t=dt(e.tag);Jt(t,e.attributes),ZA(t,e.classes),no(t,e.styles),e.innerHtml.each(e=>nA(t,e));var o=e.domChildren;return $o(t,o),e.value.each(e=>{XA(t,e)}),t}}),pA(f,h.uid),f),d=(e=n,f=A,g=i,p={"alloy.base.behaviour":LA(e)},e=e.eventOrder,m=p,p=((e,t)=>{t={...m,...TA(t,e)};return SA(t,IA)})(g,f),HA(p,e).getOrDie()),c=H(n.components),u={uid:o.uid,getSystem:r.get,config:e=>{var t=i;return(Y(t[e.name()])?t[e.name()]:()=>{throw new Error("Could not find "+e.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:e=>Y(i[e.name()]),spec:o,readState:e=>i[e]().map(e=>e.state.readState()).getOr("not enabled"),getApis:()=>n.apis,connect:e=>{r.set(e)},disconnect:()=>{r.set(vA(t))},element:l,syncComponents:()=>{var e=Ht(l),e=Ce(e,e=>r.get().getByDom(e).fold(()=>[],Se));c.set(e)},components:c.get,events:d};var g,m,p,h,f;return u},ri=e=>{e=ct(e);return ni({element:e})},ni=e=>{let t=An("external.component",Vr([a("element"),i("uid")]),e),o=H(vA()),r=t.uid.getOrThunk(()=>fA("external")),n=(pA(t.element,r),{uid:r,getSystem:o.get,config:Q.none,hasConfigured:Ae,connect:e=>{o.set(e)},disconnect:()=>{o.set(vA(()=>n))},getApis:()=>({}),element:t.element,spec:e,readState:E("No state"),syncComponents:B,components:E([]),events:{}});return CA(n)},ai=fA,Ai=(t,o)=>_A(t).getOrThunk(()=>{return((e,t)=>{let{events:o,...r}=bA(e),n=((e,t)=>{let r=C(e,"components").getOr([]);return t.fold(()=>y(r,ii),o=>y(r,(e,t)=>Ai(e,Dt(o,t))))})(r,t),a={...r,events:{...lA,...o},components:n};return M.value(oi(a,t))})((e=t,je(e,"uid")?t:{uid:ai(""),...t}),o).getOrDie();var e}),ii=e=>Ai(e,Q.none()),si=CA;var li,di,ci=(e,t,o,r,n)=>e(o,r)?Q.some(o):Y(n)&&n(o)?Q.none():t(o,r,n);let ui=(e,t,o)=>{let r=e.dom;for(var n=Y(o)?o:Ae;r.parentNode;){r=r.parentNode;let e=I(r);if(t(e))return Q.some(e);if(n(e))break}return Q.none()},gi=(e,t,o)=>ci((e,t)=>t(e),ui,e,t,o),mi=(e,t,o)=>gi(e,t,o).isSome(),pi=(e,t,o)=>ui(e,e=>Ct(e,t),o),hi=(e,t)=>(e=e,xe(e.dom.childNodes,e=>(e=I(e),Ct(e,t))).map(I)),fi=(e,t)=>(t=t,e=void 0===e?document:e.dom,_t(e)?Q.none():Q.from(e.querySelector(t)).map(I)),bi=(e,t,o)=>ci((e,t)=>Ct(e,t),pi,e,t,o),vi="aria-controls",wi=()=>{let t=F(vi);return{id:t,link:e=>{x(e,vi,t)},unlink:e=>{to(e,vi)}}},xi=(t,e)=>{return mi(e,e=>kt(e,t.element),Ae)||(o=t,e=e,gi(e,e=>!!vt(e)&&void 0!==(e=qt(e,"id"))&&-1<e.indexOf(vi)).bind(e=>{var t=qt(e,"id"),e=zt(e);return fi(e,`[${vi}="${t}"]`)}).exists(e=>xi(o,e)));var o},Bi=((rc=li=li||{})[rc.STOP=0]="STOP",rc[rc.NORMAL=1]="NORMAL",rc[rc.LOGGING=2]="LOGGING",H({})),yi=["alloy/data/Fields","alloy/debugging/Debugging"],Ci=(e,t,o)=>{var r=e,n=t,a=o;switch(C(Bi.get(),r).orThunk(()=>{var e=De(Bi.get());return He(e,e=>-1<r.indexOf(e)?Q.some(Bi.get()[e]):Q.none())}).getOr(li.NORMAL)){case li.NORMAL:return a(_i());case li.LOGGING:var A=((t,o)=>{let r=[],n=(new Date).getTime();return{logEventCut:(e,t,o)=>{r.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{r.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{r.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{r.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{r.push({outcome:"response",purpose:o,target:t})},write:()=>{var e=(new Date).getTime();ge(["mousemove","mouseover","mouseout",Ca()],t)||console.log(t,{event:t,time:e-n,target:o.dom,sequence:y(r,e=>ge(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+AA(e.target)+")":e.outcome)})}}})(r,n),i=a(A);return A.write(),i;case li.STOP:return!0}},_i=E({logEventCut:B,logEventStopped:B,logNoParent:B,logEventNoHandlers:B,logEventResponse:B,write:B}),ki=E([a("menu"),a("selectedMenu")]),Ei=E([a("item"),a("selectedItem")]),Fi=(E(A(Ei().concat(ki()))),E(A(Ei()))),Si=bn("initSize",[a("numColumns"),a("numRows")]),Qi=()=>bn("markers",[a("backgroundMenu")].concat(ki()).concat(Ei())),Ui=e=>bn("markers",y(e,a)),Ii=(e,t,o)=>{return void 0!==(r=new Error).stack&&(r=r.stack.split("\n"),xe(r,t=>0<t.indexOf("alloy")&&!me(yi,e=>-1<t.indexOf(e))).getOr("unknown")),cn(t,t,o,on(t=>M.value((...e)=>t.apply(void 0,e))));var r},e=e=>Ii(0,e,Ur(B)),Ti=e=>Ii(0,e,Ur(Q.none)),Mi=e=>Ii(0,e,{tag:"required",process:{}}),Hi=e=>Ii(0,e,{tag:"required",process:{}}),Di=(e,t)=>un(e,E(t)),Oi=e=>un(e,v),Li=E(Si),Ni=(e,t,o,r,n,a,A,i=!1)=>({x:e,y:t,bubble:o,direction:r,placement:n,restriction:a,label:A+"-"+n,alwaysFit:i}),Ri=Dn([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Pi=Ri.southeast,Vi=Ri.southwest,zi=Ri.northeast,Ki=Ri.northwest,Zi=Ri.south,Gi=Ri.north,ji=Ri.east,Wi=Ri.west,Xi=(e,t,o,r)=>{e+=t;return r<e?o:e<o?r:e},Yi=(e,t,o)=>Math.min(Math.max(e,t),o),Ji=(o,t)=>Fe(["left","right","top","bottom"],e=>C(t,e).map(e=>{var t=o;switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}})),qi="layout",$i=e=>e.x,es=(e,t)=>e.x+e.width/2-t.width/2,ts=(e,t)=>e.x+e.width-t.width,os=(e,t)=>e.y-t.height,rs=e=>e.y+e.height,ns=(e,t)=>e.y+e.height/2-t.height/2,as=(e,t,o)=>Ni($i(e),rs(e),o.southeast(),Pi(),"southeast",Ji(e,{left:1,top:3}),qi),As=(e,t,o)=>Ni(ts(e,t),rs(e),o.southwest(),Vi(),"southwest",Ji(e,{right:0,top:3}),qi),is=(e,t,o)=>Ni($i(e),os(e,t),o.northeast(),zi(),"northeast",Ji(e,{left:1,bottom:2}),qi),ss=(e,t,o)=>Ni(ts(e,t),os(e,t),o.northwest(),Ki(),"northwest",Ji(e,{right:0,bottom:2}),qi),ls=(e,t,o)=>Ni(es(e,t),os(e,t),o.north(),Gi(),"north",Ji(e,{bottom:2}),qi),ds=(e,t,o)=>Ni(es(e,t),rs(e),o.south(),Zi(),"south",Ji(e,{top:3}),qi),cs=(e,t,o)=>Ni(e.x+e.width,ns(e,t),o.east(),ji(),"east",Ji(e,{left:0}),qi),us=(e,t,o)=>Ni(e.x-t.width,ns(e,t),o.west(),Wi(),"west",Ji(e,{right:1}),qi),gs=()=>[as,As,is,ss,ds,ls,cs,us],ms=()=>[As,as,ss,is,ds,ls,cs,us],ps=()=>[is,ss,as,As,ls,ds],hs=()=>[ss,is,As,as,ls,ds],fs=()=>[as,As,is,ss,ds,ls],bs=()=>[As,as,ss,is,ds,ls],vs=Object.freeze({__proto__:null,events:i=>Ka([D(fa(),(r,e)=>{let n=i.channels,t=De(n),a=e,o=(e=t,(A=a).universal?e:be(e,e=>ge(A.channels,e)));var A;U(o,e=>{var t=n[e],o=t.schema,e=An("channel["+e+"] data\nReceiver: "+AA(r.element),o,a.data);t.onReceive(r,e)})})])}),ws=[mn("channels",rn(M.value,Vr([Mi("onReceive"),l("schema",jr())])))],xs=(o,r,n)=>tA((e,t)=>{n(e,o,r)}),Bs=e=>({key:e,value:void 0}),ys=(o,e,r,t,n,a,A)=>{let i=e=>We(e,r)?e[r]():Q.none(),s=Ne(n,(n,e)=>{var a=r,A=n,i=e;{var n=(o,...e)=>{let r=[o].concat(e);return o.config({name:E(a)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+a+". Using API: "+i)},e=>{var t=Array.prototype.slice.call(r,1);return A.apply(void 0,[o,e.config,e.state].concat(t))})},s=i;let e=A.toString(),t=e.indexOf(")")+1,o=e.indexOf("("),r=e.substring(o+1,t-1).split(/,\s*/);return n.toFunctionAnnotation=()=>({name:s,parameters:xA(r.slice(0,1).concat(r.slice(3)))}),n}}),l={...Ne(a,(e,t)=>BA(e,t)),...s,revoke:oe(Bs,r),config:e=>{var t=An(r+"-config",o,e);return{key:r,value:{config:t,me:l,configAsRaw:ko(()=>An(r+"-config",o,e)),initialConfig:e,state:A}}},schema:E(e),exhibit:(e,o)=>Je(i(e),C(t,"exhibit"),(e,t)=>t(o,e.config,e.state)).getOrThunk(()=>QA({})),name:E(r),handlers:e=>i(e).map(e=>C(t,"events").getOr(()=>({}))(e.config,e.state)).getOr({})};return l},O=e=>Ln(e),Cs=Vr([a("fields"),a("name"),l("active",{}),l("apis",{}),l("state",EA),l("extra",{})]),_s=e=>{var t,o,r,n,a,A,e=An("Creating behaviour: "+e.name,Cs,e);return t=e.fields,o=e.name,r=e.active,n=e.apis,a=e.extra,e=e.state,A=Vr(t),t=En(o,[(t=t,xn("config",Vr(t)))]),ys(A,t,o,r,n,a,e)},ks=Vr([a("branchKey"),a("branches"),a("name"),l("active",{}),l("apis",{}),l("state",EA),l("extra",{})]),Es=e=>{var t,o,r,n,a,A,e=An("Creating behaviour: "+e.name,ks,e);return t=ln(e.branchKey,e.branches),o=e.name,r=e.active,n=e.apis,a=e.extra,e=e.state,A=t,t=En(o,[xn("config",t)]),ys(A,t,o,r,n,a,e)},Fs=E(void 0),Ss=_s({fields:ws,name:"receiving",active:vs}),Qs=Object.freeze({__proto__:null,exhibit:(e,t)=>QA({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}),Us=e=>e.dom.focus(),Is=e=>e.dom.blur(),Ts=e=>{var t=zt(e).dom;return e.dom===t.activeElement},Ms=(e=Ar())=>Q.from(e.dom.activeElement).map(I),Hs=t=>Ms(zt(t)).filter(e=>t.dom.contains(e.dom)),Ds=(e,o)=>{let r=zt(o),t=Ms(r).bind(t=>{var e=e=>kt(t,e);if(e(o))return Q.some(o);{var n=e;let r=t=>{for(let e=0;e<t.childNodes.length;e++){var o=I(t.childNodes[e]);if(n(o))return Q.some(o);o=r(t.childNodes[e]);if(o.isSome())return o}return Q.none()};return r(o.dom)}}),n=e(o);return t.each(t=>{Ms(r).filter(e=>kt(e,t)).fold(()=>{Us(t)},B)}),n},Os=(e,t,o,r,n)=>{var a=e=>e+"px";return{position:e,left:t.map(a),top:o.map(a),right:r.map(a),bottom:n.map(a)}},Ls=(e,t)=>{ao(e,{...e=t,position:Q.some(e.position)})},Ns=Dn([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Rs=(e,t,o,r,n,a)=>{let A=t.rect,i=A.x-o,s=A.y-r,l=n-(i+A.width),d=a-(s+A.height),c=Q.some(i),u=Q.some(s),g=Q.some(l),m=Q.some(d),p=Q.none();return t.direction.fold(()=>Os(e,c,u,p,p),()=>Os(e,p,u,g,p),()=>Os(e,c,p,p,m),()=>Os(e,p,p,g,m),()=>Os(e,c,u,p,p),()=>Os(e,c,p,p,m),()=>Os(e,c,u,p,p),()=>Os(e,p,u,g,p))},Ps=(e,n)=>e.fold(()=>{var e=n.rect;return Os("absolute",Q.some(e.x),Q.some(e.y),Q.none(),Q.none())},(e,t,o,r)=>Rs("absolute",n,e,t,o,r),(e,t,o,r)=>Rs("fixed",n,e,t,o,r)),Vs=(e,t)=>{var o=oe(dr,t),e=e.fold(o,o,()=>{var e=or();return dr(t).translate(-e.left,-e.top)}),o=_o(t),r=fo(t);return cr(e.left,e.top,o,r)},zs=(e,t,o)=>{let r=vo(t,o);return e.fold(E(r),E(r),()=>{var e=or();return r.translate(-e.left,-e.top)})},Ks=(Ns.none,Ns.relative),Zs=Ns.fixed,Gs="data-alloy-placement",js=e=>$t(e,Gs),Ws=Dn([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Xs=(e,t,o,r)=>{let n=e.bubble,a=n.offset,d=(w=r,x=e.restriction,B=a,C=(y=(r,n)=>x[r].map(e=>{var t="top"===r||"bottom"===r,o=t?B.top:B.left,e=("left"===r||"top"===r?Math.max:Math.min)(e,n)+o;return t?Yi(e,w.y,w.bottom):Yi(e,w.x,w.right)}).getOr(n))("left",w.x),_=y("top",w.y),k=y("right",w.right),y=y("bottom",w.bottom),cr(C,_,k-C,y-_)),A=e.x+a.left,i=e.y+a.top,s=cr(A,i,t,o),{originInBounds:l,sizeInBounds:c,visibleW:u,visibleH:g}=(e=>{var{x:t,y:o,right:r,bottom:n}=d,{x:e,y:a,right:A,bottom:i,width:s,height:l}=e;return{originInBounds:t<=e&&e<=r&&o<=a&&a<=n,sizeInBounds:A<=r&&t<=A&&i<=n&&o<=i,visibleW:Math.min(s,t<=e?r-e:A-t),visibleH:Math.min(l,o<=a?n-a:i-o)}})(s),m=l&&c,p=m?s:(e=>{var{x:t,y:o,right:r,bottom:n}=d,{x:e,y:a,width:A,height:i}=e,s=Math.max(t,r-A),l=Math.max(o,n-i),e=Yi(e,t,s),t=Yi(a,o,l),s=Math.min(e+A,r)-e,a=Math.min(t+i,n)-t;return cr(e,t,s,a)})(s),h=0<p.width&&0<p.height,{maxWidth:f,maxHeight:b}=((e,t,o)=>{let r=E(t.bottom-o.y),n=E(o.bottom-t.y),a=(l=n,e.fold(l,l,r,r,l,r,n,n)),A=E(t.right-o.x),i=E(o.right-t.x),s=(l=i,e.fold(l,A,l,A,i,i,l,A));var l;return{maxWidth:s,maxHeight:a}})(e.direction,p,r),v={rect:p,maxHeight:b,maxWidth:f,direction:e.direction,placement:e.placement,classes:{on:n.classesOn,off:n.classesOff},layout:e.label,testY:i};var w,x,B,y,C,_,k;return m||e.alwaysFit?Ws.fit(v):Ws.nofit(v,u,g,h)},Ys=e=>{let t=H(Q.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(Q.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(Q.some(e))}}},Js=()=>Ys(e=>e.unbind()),qs=()=>{let t=Ys(B);return{...t,on:e=>t.get().each(e)}},$s=ie,el=(e,t,o)=>{return e=e,t=t,r=$s,o=o,jo(e,t,r,o,!1);var r},tl=(e,t,o)=>{return e=e,t=t,r=$s,o=o,jo(e,t,r,o,!0);var r},ol=Go,rl=["top","bottom","right","left"],nl="data-alloy-transition-timer",al=(r,n,a,A,i,e)=>{o=A,s=i;var o,s,l=e.exists(e=>{var t=o.mode;return"all"===t||e[t]!==s[t]});if(l||(e=r,c=A,jA(e,c.classes))){T(r,"position",a.position);let e=Vs(n,r),t=Ps(n,{...i,rect:e}),o=Fe(rl,e=>t[e]);if(((r,e)=>{let n=e=>parseFloat(e).toFixed(3);return Ze(e,(e,t)=>{return t=r[t].map(n),e=e.map(n),o=te,!Je(t,e,o).getOr(t.isNone()&&e.isNone());var o}).isSome()})(a,o)){if(ao(r,o),l){var d=r,c=A;ZA(d,c.classes),$t(d,nl).each(e=>{clearTimeout(parseInt(e,10)),to(d,nl)});{var u=d,g=c;let o=Js(),r=Js(),n,a=e=>{var t=null!=(t=e.raw.pseudoElement)?t:"";return kt(e.target,u)&&!At(t)&&ge(rl,e.raw.propertyName)},t=t=>{if(W(t)||a(t)){o.clear(),r.clear();let e=null==t?void 0:t.raw.type;!W(e)&&e!==la()||(clearTimeout(n),to(u,nl),GA(u,g.classes))}},A=el(u,da(),e=>{a(e)&&(A.unbind(),o.set(el(u,la(),t)),r.set(el(u,sa(),t)))}),e=(t=>{let e=e=>{e=Ao(t,e).split(/\s*,\s*/);return be(e,At)},r=e=>{var t;return f(e)&&/^[\d.]+/.test(e)?(t=parseFloat(e),nt(e,"ms")?t:1e3*t):0},n=e("transition-delay"),o=e("transition-duration");return we(o,(e,t,o)=>{o=r(n[o])+r(t);return Math.max(e,o)},0)})(u);requestAnimationFrame(()=>{n=setTimeout(t,e+17),x(u,nl,n)})}}go(r)}}else GA(r,A.classes)},Al=(e,t)=>{t=Math.floor(t);t=po.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]),T(e,"max-height",t+"px")},il=E((e,t)=>{Al(e,t),no(e,{"overflow-x":"hidden","overflow-y":"auto"})}),sl=E((e,t)=>{Al(e,t)}),ll=(e,t,o)=>void 0===e[t]?o:e[t],dl=(e,o,t,r)=>{var n,e=((e,t,a,A)=>{uo(t,"max-height"),uo(t,"max-width");var i={width:_o(i=t),height:fo(i)};{var l=t,d=(t=A.preference,e),c=i,u=a,g=A.bounds;let o=c.width,r=c.height,n=(e,n,a,A,i)=>{let t=e(d,c,u,l,g),s=Xs(t,o,r,g);return s.fold(E(s),(e,t,o,r)=>(i===r?A<o||a<t:!i&&r)?s:Ws.nofit(n,a,A,i))};return we(t,(e,t)=>{t=oe(n,t);return e.fold(E(e),t)},Ws.nofit({rect:d,maxHeight:c.height,maxWidth:c.width,direction:Pi(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:d.y},-1,-1,!1)).fold(v,v)}})(e,o,t,r);{var a=o,A=e,i=r;let t=Ps(i.origin,A);i.transition.each(e=>{al(a,i.origin,t,e,A,i.lastPlacement)}),Ls(a,t)}return t=o,n=e.placement,x(t,Gs,n),t=o,n=e.classes,GA(t,n.off),ZA(t,n.on),(0,r.maxHeightFunction)(o,e.maxHeight),(0,r.maxWidthFunction)(o,e.maxWidth),{layout:e.layout,placement:e.placement}},cl=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ul=(e,t,o,r=1)=>{let n=e*r,a=t*r,A=e=>C(o,e).getOr([]),i=(e,t,o)=>{var r=Ee(cl,o);return{offset:vo(e,t),classesOn:Ce(o,A),classesOff:Ce(r,A)}};return{southeast:()=>i(-e,t,["top","alignLeft"]),southwest:()=>i(e,t,["top","alignRight"]),south:()=>i(-e/2,t,["top","alignCentre"]),northeast:()=>i(-e,-t,["bottom","alignLeft"]),northwest:()=>i(e,-t,["bottom","alignRight"]),north:()=>i(-e/2,-t,["bottom","alignCentre"]),east:()=>i(e,-t/2,["valignCentre","left"]),west:()=>i(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>i(n,a,["top","alignLeft","inset"]),insetNorthwest:()=>i(-n,a,["top","alignRight","inset"]),insetNorth:()=>i(-n/2,a,["top","alignCentre","inset"]),insetSoutheast:()=>i(n,-a,["bottom","alignLeft","inset"]),insetSouthwest:()=>i(-n,-a,["bottom","alignRight","inset"]),insetSouth:()=>i(-n/2,-a,["bottom","alignCentre","inset"]),insetEast:()=>i(-n,-a/2,["valignCentre","right","inset"]),insetWest:()=>i(n,-a/2,["valignCentre","left","inset"])}},gl=()=>ul(0,0,{}),ml=v,pl=(t,o)=>e=>"rtl"===hl(e)?o:t,hl=e=>"rtl"===Ao(e,"direction")?"rtl":"ltr",fl=((rc=di=di||{}).TopToBottom="toptobottom",rc.BottomToTop="bottomtotop","data-alloy-vertical-dir"),bl=e=>mi(e,e=>vt(e)&&qt(e,"data-alloy-vertical-dir")===di.BottomToTop),vl=()=>En("layouts",[a("onLtr"),a("onRtl"),i("onBottomLtr"),i("onBottomRtl")]),wl=(t,e,o,r,n,a,A)=>{var A=A.map(bl).getOr(!1),i=e.layouts.map(e=>e.onLtr(t)),s=e.layouts.map(e=>e.onRtl(t)),n=A?e.layouts.bind(e=>e.onBottomLtr.map(e=>e(t))).or(i).getOr(n):i.getOr(o),i=A?e.layouts.bind(e=>e.onBottomRtl.map(e=>e(t))).or(s).getOr(a):s.getOr(r);return pl(n,i)(t)},xl=[a("hotspot"),i("bubble"),l("overrides",{}),vl(),Di("placement",(e,t,o)=>{var r=t.hotspot,o=Vs(o,r.element),r=wl(e.element,t,fs(),bs(),ps(),hs(),Q.some(t.hotspot.element));return Q.some(ml({anchorBox:o,bubble:t.bubble.getOr(gl()),overrides:t.overrides,layouts:r}))})],Bl=[a("x"),a("y"),l("height",0),l("width",0),l("bubble",gl()),l("overrides",{}),vl(),Di("placement",(e,t,o)=>{o=zs(o,t.x,t.y),o=cr(o.left,o.top,t.width,t.height),e=wl(e.element,t,gs(),ms(),gs(),ms(),Q.none());return Q.some(ml({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:e}))})],yl=Dn([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Cl=e=>e.fold(v,(e,t,o)=>e.translate(-t,-o)),_l=e=>e.fold(v,v),kl=e=>we(e,(e,t)=>e.translate(t.left,t.top),vo(0,0)),El=e=>{e=y(e,_l);return kl(e)},Fl=yl.screen,Sl=yl.absolute,Ql=(e,t,o)=>{var r=Ft(e.element),r=or(r),e=((o,e)=>{e=Ut(e.root).dom;return Q.from(e.frameElement).map(I).filter(e=>{var e=Ft(e),t=Ft(o.element);return kt(e,t)}).map(xo)})(e,o).getOr(r);return Sl(e,r.left,r.top)},Ul=(e,t,o,r)=>{e=Fl(vo(e,t));return Q.some({point:e,width:o,height:r})},Il=(e,a,A,i,s)=>e.map(e=>{let t=[a,e.point],o=i.fold(()=>El(t),()=>El(t),()=>{var e=t;return e=y(e,Cl),kl(e)});var e={x:o.left,y:o.top,width:e.width,height:e.height},r=(A.showAbove?ps:fs)(),n=(A.showAbove?hs:bs)(),r=wl(s,A,r,n,r,n,Q.none());return ml({anchorBox:e,bubble:A.bubble.getOr(gl()),overrides:A.overrides,layouts:r})}),Tl=[a("node"),a("root"),i("bubble"),vl(),l("overrides",{}),l("showAbove",!1),Di("placement",(o,r,n)=>{let a=Ql(o,0,r);return r.node.filter(jt).bind(e=>{var e=e.dom.getBoundingClientRect(),e=Ul(e.left,e.top,e.width,e.height),t=r.node.getOr(o.element);return Il(e,a,r,n,t)})})],Ml=(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r}),Hl=Dn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dl=(Hl.before,Dn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),Ol={domRange:Dl.domRange,relative:Dl.relative,exact:Dl.exact,exactFromRange:e=>Dl.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{e=e.match({domRange:e=>I(e.startContainer),relative:(e,t)=>e.fold(v,v,v),exact:(e,t,o,r)=>e});return Ut(e)},range:Ml},Ll=(e,t,o)=>{var r,e=e.document.createRange(),n=e;return t.fold(e=>{n.setStartBefore(e.dom)},(e,t)=>{n.setStart(e.dom,t)},e=>{n.setStartAfter(e.dom)}),r=e,o.fold(e=>{r.setEndBefore(e.dom)},(e,t)=>{r.setEnd(e.dom,t)},e=>{r.setEndAfter(e.dom)}),e},Nl=(e,t,o,r,n)=>{e=e.document.createRange();return e.setStart(t.dom,o),e.setEnd(r.dom,n),e},Rl=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Pl=Dn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Vl=(e,t,o)=>t(I(o.startContainer),o.startOffset,I(o.endContainer),o.endOffset),zl=(a,e)=>(t=>{n=a;var n,t=t.match({domRange:e=>({ltr:E(e),rtl:Q.none}),relative:(e,t)=>({ltr:ko(()=>Ll(n,e,t)),rtl:ko(()=>Q.some(Ll(n,t,e)))}),exact:(e,t,o,r)=>({ltr:ko(()=>Nl(n,e,t,o,r)),rtl:ko(()=>Q.some(Nl(n,o,r,e,t)))})});{let e=t.ltr();return e.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>Pl.rtl(I(e.endContainer),e.endOffset,I(e.startContainer),e.startOffset)).getOrThunk(()=>Vl(0,Pl.ltr,e)):Vl(0,Pl.ltr,e)}})(e).match({ltr:(e,t,o,r)=>{var n=a.document.createRange();return n.setStart(e.dom,t),n.setEnd(o.dom,r),n},rtl:(e,t,o,r)=>{var n=a.document.createRange();return n.setStart(o.dom,r),n.setEnd(e.dom,t),n}}),Kl=(Pl.ltr,Pl,(e,t,o)=>be(((e,t)=>{var o=Y(t)?t:Ae;let r=e.dom;for(var n=[];null!=r.parentNode;){let e=r.parentNode,t=I(e);if(n.push(t),!0===o(t))break;r=e}return n})(e,o),t)),Zl=(e,t)=>(t=t,e=void 0===e?document:e.dom,_t(e)?[]:y(e.querySelectorAll(t),I)),Gl=e=>{var t;return 0<e.rangeCount?(t=e.getRangeAt(0),e=e.getRangeAt(e.rangeCount-1),Q.some(Ml(I(t.startContainer),t.startOffset,I(e.endContainer),e.endOffset))):Q.none()},jl=e=>{var t,o,r,n,a,A,i,s,l,d,c;return null!==e.anchorNode&&null!==e.focusNode&&(t=I(e.anchorNode),o=I(e.focusNode),r=t,n=e.anchorOffset,d=r,c=n,i=a=o,s=A=e.focusOffset,(l=Ft(d).dom.createRange()).setStart(d.dom,c),l.setEnd(i.dom,s),d=l,c=kt(r,a)&&n===A,d.collapsed)&&!c?Q.some(Ml(t,e.anchorOffset,o,e.focusOffset)):Gl(e)},Wl=(e,t)=>(e=zl(e,t),0<(t=0<(t=e.getClientRects()).length?t[0]:e.getBoundingClientRect()).width||0<t.height?Q.some(t).map(Rl):Q.none()),Xl=(o=>{let t=e=>o(e)?Q.from(e.dom.nodeValue):Q.none();return{get:e=>{if(o(e))return t(e).getOr("");throw new Error("Can only get text value of a text node")},getOption:t,set:(e,t)=>{if(!o(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}}})(wt),Yl=(e,t)=>({element:e,offset:t}),Jl=(e,t)=>(wt(e)?Yl:(e,t)=>{var o=Ht(e);if(0===o.length)return Yl(e,t);if(t<o.length)return Yl(o[t],0);{let e=o[o.length-1],t=(wt(e)?(o=e,Xl.get(o)):Ht(e)).length;return Yl(e,t)}})(e,t),ql=e=>void 0!==e.foffset,$l=(t,e)=>e.getSelection.getOrThunk(()=>()=>{return e=t,Q.from(e.getSelection()).filter(e=>0<e.rangeCount).bind(jl);var e})().map(e=>{var t,o;return ql(e)?(t=Jl(e.start,e.soffset),o=Jl(e.finish,e.foffset),Ol.range(t.element,t.offset,o.element,o.offset)):e}),ed=[i("getSelection"),a("root"),i("bubble"),vl(),l("overrides",{}),l("showAbove",!1),Di("placement",(e,t,o)=>{let r=Ut(t.root).dom,n=Ql(e,0,t),a=$l(r,t).bind(o=>{var e,t;return ql(o)?(t=r,e=Ol.exactFromRange(o),(0<(t=zl(t,e).getBoundingClientRect()).width||0<t.height?Q.some(t).map(Rl):Q.none()).orThunk(()=>{var e=ct("\ufeff"),t=(Xo(o.start,e),Wl(r,Ol.exact(e,0,e,1)));return tr(e),t}).bind(e=>Ul(e.left,e.top,e.width,e.height))):(e=Ne(o,e=>e.dom.getBoundingClientRect()),t={left:Math.min(e.firstCell.left,e.lastCell.left),right:Math.max(e.firstCell.right,e.lastCell.right),top:Math.min(e.firstCell.top,e.lastCell.top),bottom:Math.max(e.firstCell.bottom,e.lastCell.bottom)},Ul(t.left,t.top,t.right-t.left,t.bottom-t.top))}),A=$l(r,t).bind(e=>ql(e)?vt(e.start)?Q.some(e.start):Tt(e.start):Q.some(e.firstCell)).getOr(e.element);return Il(a,n,t,o,A)})],td="link-layout",od=e=>e.x+e.width,rd=(e,t)=>e.x-t.width,nd=(e,t)=>e.y-t.height+e.height,ad=e=>e.y,Ad=(e,t,o)=>Ni(od(e),ad(e),o.southeast(),Pi(),"southeast",Ji(e,{left:0,top:2}),td),id=(e,t,o)=>Ni(rd(e,t),ad(e),o.southwest(),Vi(),"southwest",Ji(e,{right:1,top:2}),td),sd=(e,t,o)=>Ni(od(e),nd(e,t),o.northeast(),zi(),"northeast",Ji(e,{left:0,bottom:3}),td),ld=(e,t,o)=>Ni(rd(e,t),nd(e,t),o.northwest(),Ki(),"northwest",Ji(e,{right:1,bottom:3}),td),dd=()=>[Ad,id,sd,ld],cd=()=>[id,Ad,ld,sd],ud=[a("item"),vl(),l("overrides",{}),Di("placement",(e,t,o)=>{o=Vs(o,t.item.element),e=wl(e.element,t,dd(),cd(),dd(),cd(),Q.none());return Q.some(ml({anchorBox:o,bubble:gl(),overrides:t.overrides,layouts:e}))})],gd=ln("type",{selection:ed,node:Tl,hotspot:xl,submenu:ud,makeshift:Bl}),md=[wn("classes",Yr),Un("mode","all",["all","layout","placement"])],pd=[l("useFixed",Ae),i("getBounds")],hd=[mn("anchor",gd),En("transition",md)],fd=(r,u,g,m,e,p)=>{let h=An("placement.info",A(hd),e),n=h.anchor,a=m.element,f=g.get(m.uid);Ds(()=>{T(a,"position","fixed");var e,t,o=so(a,"visibility");T(a,"visibility","hidden");let c=u.useFixed()?(t=document.documentElement,Zs(0,0,t.clientWidth,t.clientHeight)):(t=r,e=xo(t.element),t=t.element.dom.getBoundingClientRect(),Ks(e.left,e.top,t.width,t.height));n.placement(r,n,c).each(e=>{var t,o,r,n,a,A,i,s,l=p.orThunk(()=>u.getBounds.map(ae)),d=(t=c,e=e,l=l,o=m,r=f,n=h.transition,d={anchorBox:d=e.anchorBox,origin:t},t=o.element,o=e.bubble,a=e.layouts,r=r,l=l,e=e.overrides,n=n,i=ll(e,"maxHeightFunction",il()),e=ll(e,"maxWidthFunction",B),s=d.anchorBox,l={bounds:(A=d=d.origin,l.fold(()=>A.fold(pr,pr,cr),t=>A.fold(E(t),E(t),()=>{var e=zs(A,t.x,t.y);return cr(e.left,e.top,t.width,t.height)}))),origin:d,preference:a,maxHeightFunction:i,maxWidthFunction:e,lastPlacement:r,transition:n},dl(s,t,o,l));g.set(m.uid,d)}),o.fold(()=>{uo(a,"visibility")},e=>{T(a,"visibility",e)}),so(a,"left").isNone()&&so(a,"top").isNone()&&so(a,"right").isNone()&&so(a,"bottom").isNone()&&Xe(so(a,"position"),"fixed")&&uo(a,"position")},a)},bd=Object.freeze({__proto__:null,position:(e,t,o,r,n)=>{var a=Q.none();fd(e,t,o,r,n,a)},positionWithinBounds:fd,getMode:(e,t,o)=>t.useFixed()?"fixed":"absolute",reset:(e,t,o,r)=>{let n=r.element;var a;U(["position","left","right","top","bottom"],e=>uo(n,e)),a=n,to(a,Gs),o.clear(r.uid)}}),vd=_s({fields:pd,name:"positioning",active:Qs,apis:bd,state:Object.freeze({__proto__:null,init:()=>{let o={};return FA({readState:()=>o,clear:e=>{X(e)?delete o[e]:o={}},set:(e,t)=>{o[e]=t},get:e=>C(o,e)})}})}),wd=e=>e.getSystem().isConnected(),xd=e=>{_(e,Qa());e=e.components();U(e,xd)},Bd=e=>{var t=e.components();U(t,Bd),_(e,Sa())},yd=(e,t)=>{e.getSystem().addToWorld(t),jt(e.element)&&Bd(t)},Cd=e=>{xd(e),e.getSystem().removeFromWorld(e)},_d=(e,t)=>{qo(e.element,t.element)},kd=(e,t)=>{Ed(e,t,qo)},Ed=(e,t,o)=>{e.getSystem().addToWorld(t),o(e.element,t.element),jt(e.element)&&Bd(t),e.syncComponents()},Fd=e=>{xd(e),tr(e.element),e.getSystem().removeFromWorld(e)},Sd=t=>{var e=It(t.element).bind(e=>t.getSystem().getByDom(e).toOptional());Fd(t),e.each(e=>{e.syncComponents()})},Qd=e=>{var t=e.components();U(t,Fd),er(e.element),e.syncComponents()},Ud=(e,t)=>{Td(e,t,qo)},Id=(e,t)=>{Td(e,t,Yo)},Td=(e,t,o)=>{o(e,t.element);o=Ht(t.element);U(o,e=>{t.getByDom(e).each(Bd)})},Md=t=>{var e=Ht(t.element);U(e,e=>{t.getByDom(e).each(xd)}),tr(t.element)},Hd=(t,e,o,r)=>{o.get().each(e=>{Qd(t)});e=e.getAttachPoint(t),kd(e,t),e=t.getSystem().build(r);return kd(t,e),o.set(e),e},Dd=(e,t,o,r)=>{o=Hd(e,t,o,r);return t.onOpen(e,o),o},Od=(t,o,r)=>{r.get().each(e=>{Qd(t),Sd(t),o.onClose(t,e),r.clear()})},Ld=(e,t,o)=>o.isOpen(),Nd=(e,t,o)=>{var r,n,a=t.getAttachPoint(e);T(e.element,"position",vd.getMode(a)),r=e,a="visibility",n=t.cloakVisibilityAttr,so(r.element,a).fold(()=>{to(r.element,n)},e=>{x(r.element,n,e)}),T(r.element,a,"hidden")},Rd=(e,t,o)=>{var r,n,a;a=e.element,me(["top","left","right","bottom"],e=>so(a,e).isSome())||uo(e.element,"position"),r=e,n="visibility",e=t.cloakVisibilityAttr,$t(r.element,e).fold(()=>uo(r.element,n),e=>T(r.element,n,e))},Pd=Object.freeze({__proto__:null,cloak:Nd,decloak:Rd,open:Dd,openWhileCloaked:(e,t,o,r,n)=>{Nd(e,t),Dd(e,t,o,r),n(),Rd(e,t)},close:Od,isOpen:Ld,isPartOf:(t,o,e,r)=>e.isOpen()&&e.get().exists(e=>o.isPartOf(t,e,r)),getState:(e,t,o)=>o.get(),setContent:(e,t,o,r)=>o.get().map(()=>Hd(e,t,o,r))}),Vd=Object.freeze({__proto__:null,events:(o,r)=>Ka([D(Ba(),(e,t)=>{Od(e,o,r)})])}),zd=[e("onOpen"),e("onClose"),a("isPartOf"),a("getAttachPoint"),l("cloakVisibilityAttr","data-precloak-visibility")],Kd=Object.freeze({__proto__:null,init:()=>{var e=qs(),t=E("not-implemented");return FA({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}}),u=_s({fields:zd,name:"sandboxing",active:Vd,apis:Pd,state:Kd}),Zd=E("dismiss.popups"),Gd=E("reposition.popups"),jd=E("mouse.released"),Wd=Vr([l("isExtraPart",Ae),En("fireEventInstead",[l("event",Ua())])]),Xd=e=>{let o=An("Dismissal",Wd,e);return{[Zd()]:{schema:Vr([a("target")]),onReceive:(t,e)=>{!u.isOpen(t)||u.isPartOf(t,e.target)||o.isExtraPart(t,e.target)||o.fireEventInstead.fold(()=>u.close(t),e=>_(t,e.event))}}}},Yd=Vr([En("fireEventInstead",[l("event",Ia())]),fn("doReposition")]),Jd=e=>{let o=An("Reposition",Yd,e);return{[Gd()]:{onReceive:t=>{u.isOpen(t)&&o.fireEventInstead.fold(()=>o.doReposition(t),e=>_(t,e.event))}}}},qd=(e,t,o)=>{t.store.manager.onLoad(e,t,o)},$d=(e,t,o)=>{t.store.manager.onUnload(e,t,o)},ec=Object.freeze({__proto__:null,onLoad:qd,onUnload:$d,setValue:(e,t,o,r)=>{t.store.manager.setValue(e,t,o,r)},getValue:(e,t,o)=>t.store.manager.getValue(e,t,o),getState:(e,t,o)=>o}),tc=Object.freeze({__proto__:null,events:(o,r)=>{var e=o.resetOnDom?[$a((e,t)=>{qd(e,o,r)}),eA((e,t)=>{$d(e,o,r)})]:[xs(o,r,qd)];return Ka(e)}});var oc,rc=()=>{let e=H(null);return FA({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},nc=()=>{let a=H({}),A=H({});return FA({readState:()=>({mode:"dataset",dataByValue:a.get(),dataByText:A.get()}),lookup:e=>C(a.get(),e).orThunk(()=>C(A.get(),e)),update:e=>{let t=a.get(),o=A.get(),r={},n={};U(e,t=>{r[t.value]=t,C(t,"meta").each(e=>{C(e,"text").each(e=>{n[e]=t})})}),a.set({...t,...r}),A.set({...o,...n})},clear:()=>{a.set({}),A.set({})}})},ac=Object.freeze({__proto__:null,memory:rc,dataset:nc,manual:()=>FA({readState:B}),init:e=>e.store.manager.state(e)});let Ac=(e,t,o,r)=>{var n=t.store;o.update([r]),n.setValue(e,r),t.onSetValue(e,r)},ic=[i("initialValue"),a("getFallbackEntry"),a("getDataKey"),a("setValue"),Di("manager",{setValue:Ac,getValue:(e,t,o)=>{let r=t.store,n=r.getDataKey(e);return o.lookup(n).getOrThunk(()=>r.getFallbackEntry(n))},onLoad:(t,o,r)=>{o.store.initialValue.each(e=>{Ac(t,o,r,e)})},onUnload:(e,t,o)=>{o.clear()},state:nc})],sc=[a("getValue"),l("setValue",B),i("initialValue"),Di("manager",{setValue:(e,t,o,r)=>{t.store.setValue(e,r),t.onSetValue(e,r)},getValue:(e,t,o)=>t.store.getValue(e),onLoad:(t,o,e)=>{o.store.initialValue.each(e=>{o.store.setValue(t,e)})},onUnload:B,state:EA.init})],lc=[i("initialValue"),Di("manager",{setValue:(e,t,o,r)=>{o.set(r),t.onSetValue(e,r)},getValue:(e,t,o)=>o.get(),onLoad:(e,t,o)=>{t.store.initialValue.each(e=>{o.isNotSet()&&o.set(e)})},onUnload:(e,t,o)=>{o.clear()},state:rc})],dc=[Fn("store",{mode:"memory"},ln("mode",{memory:lc,manual:sc,dataset:ic})),e("onSetValue"),l("resetOnDom",!1)],L=_s({fields:dc,name:"representing",active:tc,apis:ec,extra:{setValueFrom:(e,t)=>{t=L.getValue(t);L.setValue(e,t)}},state:ac}),cc=(r,e)=>Hn(r,{},y(e,e=>{return t=e.name(),o="Cannot configure "+e.name()+" for "+r,cn(t,t,{tag:"option",process:{}},Dr(e=>yr("The field: "+t+" is forbidden. "+o)));var t,o}).concat([un("dump",v)])),uc=(e,t)=>({...O(t),...e.dump}),gc=cc,mc=uc,pc="placeholder",hc=Dn([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),fc=e=>je(e,"uiType"),bc=(r,n,a,A)=>{return e=r,t=a,o=A,(fc(t)&&t.uiType===pc?(s=t,l=o,(i=e).exists(e=>e!==s.owner)?hc.single(!0,E(s)):C(l,s.name).fold(()=>{throw new Error("Unknown placeholder component: "+s.name+"\nKnown: ["+De(l)+"]\nNamespace: "+i.getOr("none")+"\nSpec: "+JSON.stringify(s,null,2))},e=>e.replace())):hc.single(!1,E(t))).fold((e,t)=>{var t=fc(a)?t(n,a.config,a.validated):t(n),o=C(t,"components").getOr([]),o=Ce(o,e=>bc(r,n,e,A));return[{...t,components:o}]},(e,t)=>{if(fc(a)){let e=t(n,a.config,a.validated);return a.validated.preprocess.getOr(v)(e)}return t(n)});var e,t,o,i,s,l},vc=hc.single,wc=hc.multiple,xc=E(pc),Bc=Dn([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),yc=l("factory",{sketch:v}),Cc=l("schema",[]),_c=a("name"),kc=cn("pname","pname",Qr(e=>"<alloy."+F(e.name)+">"),jr()),Ec=un("schema",()=>[i("preprocess")]),Fc=l("defaults",E({})),Sc=l("overrides",E({})),Qc=A([yc,Cc,_c,kc,Fc,Sc]),Uc=A([yc,Cc,_c,Fc,Sc]),Ic=A([yc,Cc,_c,kc,Fc,Sc]),Tc=A([yc,Ec,_c,a("unit"),kc,Fc,Sc]),Mc=e=>e.fold(Q.some,Q.none,Q.some,Q.some),Hc=e=>{var t=e=>e.name;return e.fold(t,t,t,t)},Dc=(t,o)=>e=>{e=An("Converting part type",o,e);return t(e)},Oc=Dc(Bc.required,Qc),Lc=Dc(Bc.external,Uc),Nc=Dc(Bc.optional,Ic),Rc=Dc(Bc.group,Tc),Pc=E("entirety"),Vc=Object.freeze({__proto__:null,required:Oc,external:Lc,optional:Nc,group:Rc,asNamedPart:Mc,name:Hc,asCommon:e=>e.fold(v,v,v,v),original:Pc}),zc=(e,t,o,r)=>Fr(t.defaults(e,o,r),o,{uid:e.partUids[t.name]},t.overrides(e,o,r)),Kc=(n,e)=>{let a={};return U(e,e=>{Mc(e).each(o=>{e=n,t=o.pname;let r={uiType:xc(),owner:e,name:t};var e,t;a[o.name]=e=>{var t=An("Part: "+o.name+" in "+n,A(o.schema),e);return{...r,config:e,validated:t}}})}),a},Zc=(e,t,o)=>({uiType:xc(),owner:e,name:t,config:o,validated:{}}),Gc=e=>Ce(e,e=>e.fold(Q.none,Q.some,Q.none,Q.none).map(e=>bn(e.name,e.schema.concat([Oi(Pc())]))).toArray()),jc=e=>y(e,Hc),Wc=(e,r,n)=>{{var a=r;r=n;let t={},o={};return U(r,e=>{e.fold(r=>{t[r.pname]=vc(!0,(e,t,o)=>r.factory.sketch(zc(e,r,t,o)))},e=>{var t=a.parts[e.name];o[e.name]=E(e.factory.sketch(zc(a,e,t[Pc()]),t))},r=>{t[r.pname]=vc(!1,(e,t,o)=>r.factory.sketch(zc(e,r,t,o)))},n=>{t[n.pname]=wc(!0,(t,e,o)=>{var r=t[n.name];return y(r,e=>n.factory.sketch(Fr(n.defaults(t,e,o),e,n.overrides(t,e))))})})}),{internals:E(t),externals:E(o)}}},Xc=(e,t,o)=>{return r=Q.some(e),e=(n=t).components,t=o,t=Ne(t,(t,o)=>{{var r=o,n=t;let e=!1;return{name:E(r),required:()=>n.fold((e,t)=>e,(e,t)=>e),used:()=>e,replace:()=>{if(e)throw new Error("Trying to use the same placeholder more than once: "+r);return e=!0,n}}}}),a=r,A=n,e=e,i=t,e=Ce(e,e=>bc(a,A,e,i)),Le(t,e=>{if(!1===e.used()&&e.required())throw new Error("Placeholder: "+e.name()+" was not found in components list\nNamespace: "+r.getOr("none")+"\nComponents: "+JSON.stringify(n.components,null,2))}),e;var r,n,a,A,i},Yc=(e,t,o)=>{t=t.partUids[o];return e.getSystem().getByUid(t).toOptional()},Jc=(e,t,o)=>Yc(e,t,o).getOrDie("Could not find part: "+o),qc=(e,t,o)=>{let r={},n=t.partUids,a=e.getSystem();return U(o,e=>{r[e]=E(a.getByUid(n[e]))}),r},$c=(e,t)=>{let o=e.getSystem();return Ne(t.partUids,(e,t)=>E(o.getByUid(e)))},eu=e=>De(e.partUids),tu=(e,t,o)=>{let r={},n=t.partUids,a=e.getSystem();return U(o,e=>{r[e]=E(a.getByUid(n[e]).getOrDie())}),r},ou=(t,e)=>{e=jc(e);return Ln(y(e,e=>({key:e,value:t+"-"+e})))},ru=t=>cn("partUids","partUids",Ir(e=>ou(e.uid,t)),jr()),nu=Object.freeze({__proto__:null,generate:Kc,generateOne:Zc,schemas:Gc,names:jc,substitutes:Wc,components:Xc,defaultUids:ou,defaultUidsSchema:ru,getAllParts:$c,getAllPartNames:eu,getPart:Yc,getPartOrDie:Jc,getParts:qc,getPartsOrDie:tu}),au=(e,t,o,r,n)=>{n=n;r=(0<(r=r).length?[bn("parts",r)]:[]).concat([a("uid"),l("dom",{}),l("components",[]),Oi("originalSpec"),l("debug.sketcher",{})]).concat(n);return An(e+" [SpecSchema]",Vr(r.concat(t)),o)},Au=(e,t,o,r,n)=>{var n=iu(n),a=Gc(o),A=ru(o),t=au(e,t,n,a,[A]),a=Wc(0,t,o);return r(t,Xc(e,t,a.internals()),n,a.externals())},iu=e=>{return t=e,je(t,"uid")?e:{...e,uid:fA("uid")};var t},su=Vr([a("name"),a("factory"),a("configFields"),l("apis",{}),l("extraApis",{})]),lu=Vr([a("name"),a("factory"),a("configFields"),a("partFields"),l("apis",{}),l("extraApis",{})]),du=e=>{let n=An("Sketcher for "+e.name,su,e),t=Ne(n.apis,kA),o=Ne(n.extraApis,(e,t)=>BA(e,t));return{name:n.name,configFields:n.configFields,sketch:e=>{var t=n.name,o=n.configFields,r=n.factory;return e=iu(e),r(au(t,o,e,[],[]),e)},...t,...o}},cu=e=>{let t=An("Sketcher for "+e.name,lu,e),o=Kc(t.name,t.partFields),r=Ne(t.apis,kA),n=Ne(t.extraApis,(e,t)=>BA(e,t));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>Au(t.name,t.configFields,t.partFields,t.factory,e),parts:o,...r,...n}},uu=e=>yt("input")(e)&&"radio"!==qt(e,"type")||yt("textarea")(e),gu=Object.freeze({__proto__:null,getCurrent:(e,t,o)=>t.find(e)}),mu=[a("find")],S=_s({fields:mu,name:"composing",apis:gu}),pu=["input","button","textarea","select"],hu=(e,t,o)=>{(t.disabled()?Bu:yu)(e,t)},fu=(e,t)=>!0===t.useNative&&ge(pu,ht(e.element)),bu=e=>{x(e.element,"disabled","disabled")},vu=e=>{to(e.element,"disabled")},wu=e=>{x(e.element,"aria-disabled","true")},xu=e=>{x(e.element,"aria-disabled","false")},Bu=(t,e,o)=>{e.disableClass.each(e=>{VA(t.element,e)}),(fu(t,e)?bu:wu)(t),e.onDisabled(t)},yu=(t,e,o)=>{e.disableClass.each(e=>{zA(t.element,e)}),(fu(t,e)?vu:xu)(t),e.onEnabled(t)},Cu=(e,t)=>fu(e,t)?(t=e,eo(t.element,"disabled")):(t=e,"true"===qt(t.element,"aria-disabled")),_u=Object.freeze({__proto__:null,enable:yu,disable:Bu,isDisabled:Cu,onLoad:hu,set:(e,t,o,r)=>{(r?Bu:yu)(e,t)}}),ku=Object.freeze({__proto__:null,exhibit:(e,t)=>QA({classes:t.disabled()?t.disableClass.toArray():[]}),events:(o,e)=>Ka([Za(ba(),(e,t)=>Cu(e,o)),xs(o,e,hu)])}),Eu=[Tn("disabled",Ae),l("useNative",!0),i("disableClass"),e("onDisabled"),e("onEnabled")],N=_s({fields:Eu,name:"disabling",active:ku,apis:_u}),Fu=(o,r,e,n)=>{var t=Zl(o.element,"."+r.highlightClass);U(t,t=>{me(n,e=>kt(e.element,t))||(zA(t,r.highlightClass),o.getSystem().getByDom(t).each(e=>{r.onDehighlight(o,e),_(e,Na())}))})},Su=(e,t,o,r)=>{Fu(e,t,0,[r]),Qu(0,t,0,r)||(VA(r.element,t.highlightClass),t.onHighlight(e,r),_(r,La()))},Qu=(e,t,o,r)=>KA(r.element,t.highlightClass),Uu=(t,e,o)=>fi(t.element,"."+e.itemClass).bind(e=>t.getSystem().getByDom(e).toOptional()),Iu=(t,e,o)=>{e=Zl(t.element,"."+e.itemClass);return(0<e.length?Q.some(e[e.length-1]):Q.none()).bind(e=>t.getSystem().getByDom(e).toOptional())},Tu=(t,o,e,r)=>{let n=Zl(t.element,"."+o.itemClass);return Be(n,e=>KA(e,o.highlightClass)).bind(e=>{e=Xi(e,r,0,n.length-1);return t.getSystem().getByDom(n[e]).toOptional()})},Mu=(t,e,o)=>{e=Zl(t.element,"."+e.itemClass);return Ye(y(e,e=>t.getSystem().getByDom(e).toOptional()))},Hu=Object.freeze({__proto__:null,dehighlightAll:(e,t,o)=>Fu(e,t,0,[]),dehighlight:(e,t,o,r)=>{Qu(0,t,0,r)&&(zA(r.element,t.highlightClass),t.onDehighlight(e,r),_(r,Na()))},highlight:Su,highlightFirst:(t,o,e)=>{Uu(t,o).each(e=>{Su(t,o,0,e)})},highlightLast:(t,o,e)=>{Iu(t,o).each(e=>{Su(t,o,0,e)})},highlightAt:(t,o,e,r)=>{((e,t,o)=>{t=Zl(e.element,"."+t.itemClass);return Q.from(t[o]).fold(()=>M.error(new Error("No element found with index "+o)),e.getSystem().getByDom)})(t,o,r).fold(e=>{throw e},e=>{Su(t,o,0,e)})},highlightBy:(t,o,e,r)=>{var n=Mu(t,o);xe(n,r).each(e=>{Su(t,o,0,e)})},isHighlighted:Qu,getHighlighted:(t,e,o)=>fi(t.element,"."+e.highlightClass).bind(e=>t.getSystem().getByDom(e).toOptional()),getFirst:Uu,getLast:Iu,getPrevious:(e,t,o)=>Tu(e,t,0,-1),getNext:(e,t,o)=>Tu(e,t,0,1),getCandidates:Mu}),Du=[a("highlightClass"),a("itemClass"),e("onHighlight"),e("onDehighlight")],w=_s({fields:Du,name:"highlighting",apis:Hu}),Ou=[8],Lu=[9],Nu=[13],Ru=[27],Pu=[32],Vu=[37],zu=[38],Ku=[39],Zu=[40],Gu=(e,t,o)=>{var r=ke(e.slice(0,t)),e=ke(e.slice(t+1));return xe(r.concat(e),o)},ju=(e,t,o)=>{e=ke(e.slice(0,t));return xe(e,o)},Wu=(e,t,o)=>{var r=e.slice(0,t),e=e.slice(t+1);return xe(e.concat(r),o)},Xu=(e,t,o)=>{e=e.slice(t+1);return xe(e,o)},d=t=>e=>{e=e.raw;return ge(t,e.which)},Yu=e=>t=>_e(e,e=>e(t)),Ju=e=>!0===e.raw.shiftKey,qu=e=>!0===e.raw.ctrlKey,$u=re(Ju),c=(e,t)=>({matches:e,classification:t}),eg=(e,t,o)=>{t.exists(t=>o.exists(e=>kt(e,t)))||k(e,Ta(),{prevFocus:t,newFocus:o})},tg=()=>{let r=e=>Hs(e.element);return{get:r,set:(e,t)=>{var o=r(e),t=(e.getSystem().triggerFocus(t,e.element),r(e));eg(e,o,t)}}},og=((nc=oc=oc||{}).OnFocusMode="onFocus",nc.OnEnterOrSpaceMode="onEnterOrSpace",nc.OnApiMode="onApi",(e,t,o,r,i)=>{let s=(t,o,e,r,n)=>{return e=e(t,o,r,n),a=o.event,xe(e,e=>e.matches(a)).map(e=>e.classification).bind(e=>e(t,o,r,n));var a},n={schema:()=>e.concat([l("focusManager",tg()),Fn("focusInside","onFocus",on(e=>ge(["onFocus","onEnterOrSpace","onApi"],e)?M.value(e):M.error("Invalid value for focusInside"))),Di("handler",n),Di("state",t),Di("sendFocusIn",i)]),processKey:s,toEvents:(a,A)=>{var e=a.focusInside!==oc.OnFocusMode?Q.none():i(a).map(o=>D(ma(),(e,t)=>{o(e,a,A),t.stop()})),t=[D(ra(),(r,n)=>{s(r,n,o,a,A).fold(()=>{var t,o,e;t=r,o=n,e=d(Pu.concat(Nu))(o.event),a.focusInside===oc.OnEnterOrSpaceMode&&e&&Vn(t,o)&&i(a).each(e=>{e(t,a,A),o.stop()})},e=>{n.stop()})}),D(na(),(e,t)=>{s(e,t,r,a,A).each(e=>{t.stop()})})];return Ka(e.toArray().concat(t))}};return n}),rg=e=>{let t=[i("onEscape"),i("onEnter"),l("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),l("firstTabstop",0),l("useTabstopAt",ie),i("visibilitySelector")].concat([e]),s=(e,t)=>{e=e.visibilitySelector.bind(e=>bi(t,e)).getOr(t);return 0<ho(e)},o=(t,o,e)=>{((e,t)=>{e=Zl(e.element,t.selector),e=be(e,e=>s(t,e));return Q.from(e[t.firstTabstop])})(t,o).each(e=>{o.focusManager.set(t,e)})},n=(n,e,a,A)=>{let i=Zl(n.element,a.selector);return(t=a).focusManager.get(n).bind(e=>bi(e,t.selector)).bind(e=>Be(i,oe(kt,e)).bind(e=>{return t=n,o=i,r=a,A(o,e,e=>{return t=r,e=e,s(t,e)&&t.useTabstopAt(e);var t}).fold(()=>r.cyclic?Q.some(!0):Q.none(),e=>(r.focusManager.set(t,e),Q.some(!0)));var t,o,r}));var t},r=E([c(Yu([Ju,d(Lu)]),(e,t,o)=>{var r=o.cyclic?Gu:ju;return n(e,0,o,r)}),c(d(Lu),(e,t,o)=>{var r=o.cyclic?Wu:Xu;return n(e,0,o,r)}),c(Yu([$u,d(Nu)]),(t,o,e)=>e.onEnter.bind(e=>e(t,o)))]),a=E([c(d(Ru),(t,o,e)=>e.onEscape.bind(e=>e(t,o)))]);return og(t,EA.init,r,a,()=>Q.some(o))},ng=rg(un("cyclic",Ae)),ag=rg(un("cyclic",ie)),Ag=(e,t,o)=>uu(o)&&d(Pu)(t.event)?Q.none():(t=e,e=o,Pa(t,e,ba()),Q.some(!0)),ig=(e,t)=>Q.some(!0),sg=[l("execute",Ag),l("useSpace",!1),l("useEnter",!0),l("useControlEnter",!1),l("useDown",!1)],lg=(e,t,o)=>o.execute(e,t,e.element),dg=og(sg,EA.init,(e,t,o,r)=>{var e=o.useSpace&&!uu(e.element)?Pu:[],n=o.useEnter?Nu:[],a=o.useDown?Zu:[],e=e.concat(n).concat(a);return[c(d(e),lg)].concat(o.useControlEnter?[c(Yu([qu,d(Nu)]),lg)]:[])},(e,t,o,r)=>o.useSpace&&!uu(e.element)?[c(d(Pu),ig)]:[],()=>Q.none()),cg=(rc=()=>{let o=qs();return FA({readState:()=>o.get().map(e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(e,t)=>{o.set({numRows:e,numColumns:t})},getNumRows:()=>o.get().map(e=>e.numRows),getNumColumns:()=>o.get().map(e=>e.numColumns)})},ac=Object.freeze({__proto__:null,flatgrid:rc,init:e=>e.state(e)}),a=>(e,t,o,r)=>{var n=a(e.element);return pg(n,e,t,o,r)}),ug=(e,t)=>{e=pl(e,t);return cg(e)},gg=(e,t)=>{t=pl(t,e);return cg(t)},mg=n=>(e,t,o,r)=>pg(n,e,t,o,r),pg=(t,o,e,r,n)=>r.focusManager.get(o).bind(e=>t(o.element,e,r,n)).map(e=>(r.focusManager.set(o,e),!0)),hg=mg,fg=mg,bg=mg,vg=e=>!((e=e.dom).offsetWidth<=0&&e.offsetHeight<=0),wg=(e,t,o)=>{var r,e=Zl(e,o);return r=be(e,vg),Be(r,e=>kt(e,t)).map(e=>({index:e,candidates:r}))},xg=(e,t)=>Be(e,e=>kt(t,e)),Bg=(t,e,o,r)=>r(Math.floor(e/o),e%o).bind(e=>{e=e.row*o+e.column;return 0<=e&&e<t.length?Q.some(t[e]):Q.none()}),yg=(r,e,n,a,A)=>Bg(r,e,a,(e,t)=>{var o=e===n-1?r.length-e*a:a,t=Xi(t,A,0,o-1);return Q.some({row:e,column:t})}),Cg=(r,e,n,a,A)=>Bg(r,e,a,(e,t)=>{var e=Xi(e,A,0,n-1),o=e===n-1?r.length-e*a:a,t=Yi(t,0,o-1);return Q.some({row:e,column:t})}),_g=[a("selector"),l("execute",Ag),Ti("onEscape"),l("captureTab",!1),Li()],kg=(t,o,e)=>{fi(t.element,o.selector).each(e=>{o.focusManager.set(t,e)})},Eg=n=>(e,t,o,r)=>wg(e,t,o.selector).bind(e=>n(e.candidates,e.index,r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns))),Fg=(e,t,o)=>o.captureTab?Q.some(!0):Q.none(),Sg=Eg((e,t,o,r)=>yg(e,t,o,r,-1)),Qg=Eg((e,t,o,r)=>yg(e,t,o,r,1)),Ug=Eg((e,t,o,r)=>Cg(e,t,o,r,-1)),Ig=Eg((e,t,o,r)=>Cg(e,t,o,r,1)),Tg=E([c(d(Vu),ug(Sg,Qg)),c(d(Ku),gg(Sg,Qg)),c(d(zu),hg(Ug)),c(d(Zu),fg(Ig)),c(Yu([Ju,d(Lu)]),Fg),c(Yu([$u,d(Lu)]),Fg),c(d(Pu.concat(Nu)),(t,o,r,e)=>{return(n=r).focusManager.get(t).bind(e=>bi(e,n.selector)).bind(e=>r.execute(t,o,e));var n})]),Mg=E([c(d(Ru),(e,t,o)=>o.onEscape(e,t)),c(d(Pu),ig)]),Hg=og(_g,rc,Tg,Mg,()=>Q.some(kg)),Dg=(e,t,o,n,a)=>{let A=(o,e,r)=>a(o,e,n,0,r.length-1,r[e],e=>{return t=r[e],"button"===ht(t)&&"disabled"===qt(t,"disabled")?A(o,e,r):Q.from(r[e]);var t});return wg(e,o,t).bind(e=>{var t=e.index,e=e.candidates;return A(t,t,e)})},Og=(e,t,o,r)=>Dg(e,t,o,r,(e,t,o,r,n,a,A)=>{t=Yi(t+o,r,n);return t===e?Q.from(a):A(t)}),Lg=(e,t,o,r)=>Dg(e,t,o,r,(e,t,o,r,n,a,A)=>{t=Xi(t,o,r,n);return t===e?Q.none():A(t)}),Ng=[a("selector"),l("getInitial",Q.none),l("execute",Ag),Ti("onEscape"),l("executeOnMove",!1),l("allowVertical",!0),l("allowHorizontal",!0),l("cycles",!0)],Rg=(t,o,r)=>{return(n=r).focusManager.get(t).bind(e=>bi(e,n.selector)).bind(e=>r.execute(t,o,e));var n},Pg=(t,o,e)=>{o.getInitial(t).orThunk(()=>fi(t.element,o.selector)).each(e=>{o.focusManager.set(t,e)})},Vg=(e,t,o)=>(o.cycles?Lg:Og)(e,o.selector,t,-1),zg=(e,t,o)=>(o.cycles?Lg:Og)(e,o.selector,t,1),Kg=n=>(e,t,o,r)=>n(e,t,o,r).bind(()=>o.executeOnMove?Rg(e,t,o):Q.some(!0)),Zg=E([c(d(Pu),ig),c(d(Ru),(e,t,o)=>o.onEscape(e,t))]),Gg=og(Ng,EA.init,(e,t,o,r)=>{var n=[...o.allowHorizontal?Vu:[]].concat(o.allowVertical?zu:[]),o=[...o.allowHorizontal?Ku:[]].concat(o.allowVertical?Zu:[]);return[c(d(n),Kg(ug(Vg,zg))),c(d(o),Kg(gg(Vg,zg))),c(d(Nu),Rg),c(d(Pu),Rg)]},Zg,()=>Q.some(Pg)),jg=(e,t,o)=>Q.from(e[t]).bind(e=>Q.from(e[o]).map(e=>({rowIndex:t,columnIndex:o,cell:e}))),Wg=(e,t,o,r)=>{var n=e[t].length,o=Xi(o,r,0,n-1);return jg(e,t,o)},Xg=(e,t,o,r)=>{o=Xi(o,r,0,e.length-1),r=e[o].length,t=Yi(t,0,r-1);return jg(e,o,t)},Yg=(e,t,o,r)=>{var n=e[t].length,o=Yi(o+r,0,n-1);return jg(e,t,o)},Jg=(e,t,o,r)=>{o=Yi(o+r,0,e.length-1),r=e[o].length,t=Yi(t,0,r-1);return jg(e,o,t)},qg=[bn("selectors",[a("row"),a("cell")]),l("cycles",!0),l("previousSelector",Q.none),l("execute",Ag)],$g=(t,o,e)=>{o.previousSelector(t).orThunk(()=>{var e=o.selectors;return fi(t.element,e.cell)}).each(e=>{o.focusManager.set(t,e)})},em=(e,t)=>(o,r,a)=>{let A=a.cycles?e:t;return bi(r,a.selectors.row).bind(e=>{var t=Zl(e,a.selectors.cell);return xg(t,r).bind(r=>{let n=Zl(o,a.selectors.row);return xg(n,e).bind(e=>{o=n,t=a;var t,o=y(o,e=>Zl(e,t.selectors.cell));return A(o,e,r).map(e=>e.cell)})})})},tm=em((e,t,o)=>Wg(e,t,o,-1),(e,t,o)=>Yg(e,t,o,-1)),om=em((e,t,o)=>Wg(e,t,o,1),(e,t,o)=>Yg(e,t,o,1)),rm=em((e,t,o)=>Xg(e,o,t,-1),(e,t,o)=>Jg(e,o,t,-1)),nm=em((e,t,o)=>Xg(e,o,t,1),(e,t,o)=>Jg(e,o,t,1)),am=E([c(d(Vu),ug(tm,om)),c(d(Ku),gg(tm,om)),c(d(zu),hg(rm)),c(d(Zu),fg(nm)),c(d(Pu.concat(Nu)),(t,o,r)=>Hs(t.element).bind(e=>r.execute(t,o,e)))]),Am=E([c(d(Pu),ig)]),im=og(qg,EA.init,am,Am,()=>Q.some($g)),sm=[a("selector"),l("execute",Ag),l("moveOnTab",!1)],lm=(t,o,r)=>r.focusManager.get(t).bind(e=>r.execute(t,o,e)),dm=(t,o,e)=>{fi(t.element,o.selector).each(e=>{o.focusManager.set(t,e)})},cm=(e,t,o)=>Lg(e,o.selector,t,-1),um=(e,t,o)=>Lg(e,o.selector,t,1),gm=E([c(d(zu),bg(cm)),c(d(Zu),bg(um)),c(Yu([Ju,d(Lu)]),(e,t,o,r)=>o.moveOnTab?bg(cm)(e,t,o,r):Q.none()),c(Yu([$u,d(Lu)]),(e,t,o,r)=>o.moveOnTab?bg(um)(e,t,o,r):Q.none()),c(d(Nu),lm),c(d(Pu),lm)]),mm=E([c(d(Pu),ig)]),pm=og(sm,EA.init,gm,mm,()=>Q.some(dm));var hm,nc=[Ti("onSpace"),Ti("onEnter"),Ti("onShiftEnter"),Ti("onLeft"),Ti("onRight"),Ti("onTab"),Ti("onShiftTab"),Ti("onUp"),Ti("onDown"),Ti("onEscape"),l("stopSpaceKeyup",!1),i("focusIn")],rc=og(nc,EA.init,(e,t,o)=>[c(d(Pu),o.onSpace),c(Yu([$u,d(Nu)]),o.onEnter),c(Yu([Ju,d(Nu)]),o.onShiftEnter),c(Yu([Ju,d(Lu)]),o.onShiftTab),c(Yu([$u,d(Lu)]),o.onTab),c(d(zu),o.onUp),c(d(Zu),o.onDown),c(d(Vu),o.onLeft),c(d(Ku),o.onRight),c(d(Pu),o.onSpace)],(e,t,o)=>[...o.stopSpaceKeyup?[c(d(Pu),ig)]:[],c(d(Ru),o.onEscape)],e=>e.focusIn);let fm=ng.schema(),bm=ag.schema(),vm=Gg.schema(),wm=Hg.schema(),xm=im.schema(),Bm=dg.schema(),ym=pm.schema(),Cm=rc.schema(),R=Es({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:fm,cyclic:bm,flow:vm,flatgrid:wm,matrix:xm,execution:Bm,menu:ym,special:Cm}),name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(t,o,r)=>{o.sendFocusIn(o).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},e=>{e(t,o,r)})},setGridSize:(e,t,o,r,n)=>{var a;a=o,We(a,"setGridSize")?o.setGridSize(r,n):console.error("Layout does not support setGridSize")}},state:ac}),_m=(r,n)=>{Ds(()=>{var t,e,o;e=(t=r).components(),o=t,U(o.components(),e=>tr(e.element)),er(o.element),o.syncComponents(),o=y(n,r.getSystem().build),e=Ee(e,o),U(e,e=>{xd(e),t.getSystem().removeFromWorld(e)}),U(o,e=>{wd(e)?_d(t,e):(t.getSystem().addToWorld(e),_d(t,e),jt(t.element)&&Bd(e))}),t.syncComponents()},r.element)},km=(i,s)=>{Ds(()=>{{var o=i,r=s;let e=o.components(),t=Ce(r,e=>_A(e).toArray());U(e,e=>{ge(t,e)||Cd(e)}),n=i.element,r=s,a=i.getSystem().buildOrPatch;var n,a,r=JA(n,r,(e,t)=>qA(n,t,e,a)),A=Ee(e,r);U(A,e=>{wd(e)&&Cd(e)}),U(r,e=>{wd(e)||yd(o,e)}),o.syncComponents()}},i.element)},Em=(e,t,o,r)=>{Cd(t);t=qA(e.element,o,r,e.getSystem().buildOrPatch);yd(e,t),e.syncComponents()},Fm=(e,t,o)=>{o=e.getSystem().build(o);Ed(e,o,t)},Sm=(e,t,n,o)=>{Sd(t),Fm(e,(e,t)=>{var o,r;o=e,r=t,e=n,Dt(o,e).fold(()=>{qo(o,r)},e=>{Xo(e,r)})},o)},Qm=(e,t)=>e.components(),Um=(o,r,e,n,a)=>{var t=Qm(o);return Q.from(t[n]).map(t=>(a.fold(()=>Sd(t),e=>{(r.reuseDom?Em:Sm)(o,t,n,e)}),t))},Im=Object.freeze({__proto__:null,append:(e,t,o,r)=>{Fm(e,qo,r)},prepend:(e,t,o,r)=>{Fm(e,Jo,r)},remove:(e,t,o,r)=>{e=Qm(e);xe(e,e=>kt(r.element,e.element)).each(Sd)},replaceAt:Um,replaceBy:(t,o,e,r,n)=>{var a=Qm(t);return Be(a,r).bind(e=>Um(t,o,0,e,n))},set:(e,t,o,r)=>(t.reuseDom?km:_m)(e,r),contents:Qm}),P=_s({fields:[In("reuseDom",!0)],name:"replacing",apis:Im}),V=(e,t)=>({key:e,value:{config:{},me:((e,t)=>{t=Ka(t);return _s({fields:[a("enabled")],name:e,active:{events:E(t)}})})(e,t),configAsRaw:E({}),initialConfig:{},state:EA}}),Tm=(e,t)=>{t.ignore||(Us(e.element),t.onFocus(e))},Mm=Object.freeze({__proto__:null,focus:Tm,blur:(e,t)=>{t.ignore||Is(e.element)},isFocused:e=>Ts(e.element)}),Hm=Object.freeze({__proto__:null,exhibit:(e,t)=>{t=t.ignore?{}:{attributes:{tabindex:"-1"}};return QA(t)},events:o=>Ka([D(ma(),(e,t)=>{Tm(e,o),t.stop()})].concat(o.stopMousedown?[D(Yn(),(e,t)=>{t.event.prevent()})]:[]))}),Dm=[e("onFocus"),l("stopMousedown",!1),l("ignore",!1)],z=_s({fields:Dm,name:"focusing",active:Hm,apis:Mm}),Om=(e,t,o,r)=>{var n,a,A,i=o.get();o.set(r),a=e,A=o,t.toggleClass.each(e=>{(A.get()?VA:zA)(a.element,e)}),(n=t.aria).update(e,n,o.get()),i!==r&&t.onToggled(e,r)},Lm=(e,t,o)=>{Om(e,t,o,!o.get())},Nm=(e,t,o)=>{Om(e,t,o,t.selected)},Rm=Object.freeze({__proto__:null,onLoad:Nm,toggle:Lm,isOn:(e,t,o)=>o.get(),on:(e,t,o)=>{Om(e,t,o,!0)},off:(e,t,o)=>{Om(e,t,o,!1)},set:Om}),Pm=Object.freeze({__proto__:null,exhibit:()=>QA({}),events:(e,t)=>{o=e,r=t,n=Lm;var o,r,n,a=oA(e=>{n(e,o,r)}),t=xs(e,t,Nm);return Ka(ye([e.toggleOnExecute?[a]:[],[t]]))}}),Vm=(e,t,o)=>{x(e.element,"aria-expanded",o)},zm=[l("selected",!1),i("toggleClass"),l("toggleOnExecute",!0),e("onToggled"),Fn("aria",{mode:"none"},ln("mode",{pressed:[l("syncWithExpanded",!1),Di("update",(e,t,o)=>{x(e.element,"aria-pressed",o),t.syncWithExpanded&&Vm(e,0,o)})],checked:[Di("update",(e,t,o)=>{x(e.element,"aria-checked",o)})],expanded:[Di("update",Vm)],selected:[Di("update",(e,t,o)=>{x(e.element,"aria-selected",o)})],none:[Di("update",B)]}))],h=_s({fields:zm,name:"toggling",active:Pm,apis:Rm,state:{init:()=>{let t=H(!1);return{get:()=>t.get(),set:e=>t.set(e),clear:()=>t.set(!1),readState:()=>t.get()}}}}),Km=()=>{var e=(e,t)=>{t.stop(),Ra(e)};return[D(ia(),e),D(wa(),e),Ja(Gn()),Ja(Yn())]},Zm=e=>Ka(ye([e.map(o=>oA((e,t)=>{o(e),t.stop()})).toArray(),Km()])),Gm="alloy.item-hover",jm="alloy.item-focus",Wm="alloy.item-toggled",Xm=e=>{(Hs(e.element).isNone()||z.isFocused(e))&&(z.isFocused(e)||z.focus(e),k(e,Gm,{item:e}))},Ym=e=>{k(e,jm,{item:e})},Jm=E(Gm),qm=E(jm),$m=E(Wm),ep=[a("data"),a("components"),a("dom"),l("hasSubmenu",!1),i("toggling"),gc("itemBehaviours",[h,z,R,L]),l("ignoreFocus",!1),l("domModification",{}),Di("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:e.toggling.map(e=>e.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:mc(e.itemBehaviours,[e.toggling.fold(h.revoke,e=>{return h.config((o=e,{aria:{mode:"checked"},...ze(o,(e,t)=>"exclusive"!==t),onToggled:(e,t)=>{Y(o.onToggled)&&o.onToggled(e,t),e=e,t=t,k(e,Wm,{item:e,state:t})}}));var o}),z.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{Ym(e)}}),R.config({mode:"execution"}),L.config({store:{mode:"memory",initialValue:e.data}}),V("item-type-events",[...Km(),D(ea(),Xm),D(va(),z.focus)])]),components:e.components,eventOrder:e.eventOrder})),l("eventOrder",{})],tp=[a("dom"),a("components"),Di("builder",e=>({dom:e.dom,components:e.components,events:Ka([(e=va(),D(e,(e,t)=>{t.stop()}))])}))],op=E("item-widget"),rp=E([Oc({name:"widget",overrides:t=>({behaviours:O([L.config({store:{mode:"manual",getValue:e=>t.data,setValue:B}})])})})]),np=[a("uid"),a("data"),a("components"),a("dom"),l("autofocus",!1),l("ignoreFocus",!1),gc("widgetBehaviours",[L,z,R]),l("domModification",{}),ru(rp()),Di("builder",o=>{let e=Wc(op(),o,rp()),t=Xc(op(),o,e.internals()),r=e=>Yc(e,o,"widget").map(e=>(R.focusIn(e),e)),n=(e,t)=>(uu(t.event.target)||o.autofocus&&t.setSource(e.element),Q.none());return{dom:o.dom,components:t,domModification:o.domModification,events:Ka([oA((e,t)=>{r(e).each(e=>{t.stop()})}),D(ea(),Xm),D(va(),(e,t)=>{o.autofocus?r(e):z.focus(e)})]),behaviours:mc(o.widgetBehaviours,[L.config({store:{mode:"memory",initialValue:o.data}}),z.config({ignore:o.ignoreFocus,onFocus:e=>{Ym(e)}}),R.config({mode:"special",focusIn:o.autofocus?e=>{r(e)}:Fs(),onLeft:n,onRight:n,onEscape:(e,t)=>z.isFocused(e)||o.autofocus?(o.autofocus&&t.setSource(e.element),Q.none()):(z.focus(e),Q.some(!0))})])}})],ap=ln("type",{widget:np,item:ep,separator:tp}),Ap=E([Rc({factory:{sketch:e=>{e=An("menu.spec item",ap,e);return e.builder(e)}},name:"items",unit:"item",defaults:(e,t)=>je(t,"uid")?t:{...t,uid:fA("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),ip=E([a("value"),a("items"),a("dom"),a("components"),l("eventOrder",{}),cc("menuBehaviours",[w,L,S,R]),Fn("movement",{mode:"menu",moveOnTab:!0},ln("mode",{grid:[Li(),Di("config",(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}))],matrix:[Di("config",(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager})),a("rowSelector"),l("previousSelector",Q.none)],menu:[l("moveOnTab",!0),Di("config",(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}))]})),mn("markers",Fi()),l("fakeFocus",!1),l("focusManager",tg()),e("onHighlight"),e("onDehighlight")]),sp=E("alloy.menu-focus"),lp=cu({name:"Menu",configFields:ip(),partFields:Ap(),factory:(e,t,o,r)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:uc(e.menuBehaviours,[w.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),L.config({store:{mode:"memory",initialValue:e.value}}),S.config({find:Q.some}),R.config(e.movement.config(e,e.movement))]),events:Ka([D(qm(),(t,o)=>{var e=o.event;t.getSystem().getByDom(e.target).each(e=>{w.highlight(t,e),o.stop(),k(t,sp(),{menu:t,item:e})})}),D(Jm(),(e,t)=>{t=t.event.item;w.highlight(e,t)}),D($m(),(e,t)=>{var o,r,{item:t,state:n}=t.event;n&&"menuitemradio"===qt(t.element,"role")&&(o=e,r=t,n=Zl(o.element,'[role="menuitemradio"][aria-checked="true"]'),U(n,e=>{kt(e,r.element)||o.getSystem().getByDom(e).each(e=>{h.off(e)})}))})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),dp=(o,r,n,e)=>C(n,e).bind(e=>C(o,e).bind(e=>{var t=dp(o,r,n,e);return Q.some([e].concat(t))})).getOr([]),cp=e=>"prepared"===e.type?Q.some(e.menu):Q.none(),up=()=>{let i=H({}),n=H({}),s=H({}),l=qs(),a=H({}),d=e=>t(e).bind(cp),t=e=>C(n.get(),e),o=e=>C(i.get(),e);return{setMenuBuilt:(e,t)=>{n.set({...n.get(),[e]:{type:"prepared",menu:t}})},setContents:(e,t,o,r)=>{l.set(e),i.set(o),n.set(t),a.set(r);e=((e,t)=>{let o={},r=(Le(e,(e,t)=>{U(e,e=>{o[e]=t})}),t),n=Re(t,(e,t)=>({k:e,v:t})),a=Ne(n,(e,t)=>[t].concat(dp(o,r,n,t)));return Ne(o,e=>C(a,e).getOr([e]))})(r,o);s.set(e)},expand:o=>C(i.get(),o).map(e=>{var t=C(s.get(),o).getOr([]);return[e].concat(t)}),refresh:e=>C(s.get(),e),collapse:e=>C(s.get(),e).bind(e=>1<e.length?Q.some(e.slice(1)):Q.none()),lookupMenu:t,lookupItem:o,otherMenus:e=>{var t=a.get();return Ee(De(t),e)},getPrimary:()=>l.get().bind(d),getMenus:()=>n.get(),clear:()=>{i.set({}),n.set({}),s.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(e,A)=>{let a=be(o(e).toArray(),e=>d(e).isSome());return C(s.get(),e).bind(e=>{let o=ke(a.concat(e));var t=Ce(o,(e,t)=>{return r=e,n=A,a=o.slice(0,t+1),d(r).bind(t=>{return o=r,Ze(i.get(),(e,t)=>e===o).bind(e=>n(e).map(e=>({triggeredMenu:t,triggeringItem:e,triggeringPath:a})));var o}).fold(()=>Xe(l.get(),e)?[]:[Q.none()],e=>[Q.some(e)]);var r,n,a}),r=[];for(let e=0;e<t.length;e++){var n=t[e];if(!n.isSome())return Q.none();r.push(n.getOrDie())}return Q.some(r)})}}},gp=cp,mp=F("tiered-menu-item-highlight"),pp=F("tiered-menu-item-dehighlight"),hp=((nc=hm=hm||{})[nc.HighlightMenuAndItem=0]="HighlightMenuAndItem",nc[nc.HighlightJustMenu=1]="HighlightJustMenu",nc[nc.HighlightNone=2]="HighlightNone",E("collapse-item")),fp=du({name:"TieredMenu",configFields:[Hi("onExecute"),Hi("onEscape"),Mi("onOpenMenu"),Mi("onOpenSubmenu"),e("onRepositionMenu"),e("onCollapseMenu"),l("highlightOnOpen",hm.HighlightMenuAndItem),bn("data",[a("primary"),a("menus"),a("expansions")]),l("fakeFocus",!1),e("onHighlightItem"),e("onDehighlightItem"),e("onHover"),Qi(),a("dom"),l("navigateOnHover",!0),l("stayInDom",!1),cc("tmenuBehaviours",[R,w,S,P]),l("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(s,e)=>{let n=qs(),l=up(),d=e=>L.getValue(e).value,A=w.highlight,i=(t,o)=>{A(t,o),w.getHighlighted(o).orThunk(()=>w.getFirst(o)).each(e=>{s.fakeFocus?w.highlight(o,e):Pa(t,e.element,va())})},a=(t,e)=>Ye(y(e,e=>t.lookupMenu(e).bind(e=>"prepared"===e.type?Q.some(e.menu):Q.none()))),c=(t,e,o)=>{e=a(e,e.otherMenus(o));U(e,e=>{GA(e.element,[s.markers.backgroundMenu]),s.stayInDom||P.remove(t,e)})},u=(e,o)=>{r=e;var r,e=n.get().getOrThunk(()=>{let o={},e=Zl(r.element,"."+s.markers.item),t=be(e,e=>"true"===qt(e,"aria-haspopup"));return U(t,e=>{r.getSystem().getByDom(e).each(e=>{var t=d(e);o[t]=e})}),n.set(o),o});Le(e,(e,t)=>{t=ge(o,t);x(e.element,"aria-expanded",t)})},g=(o,r,n)=>Q.from(n[0]).bind(e=>r.lookupMenu(e).bind(e=>{var t;return"notbuilt"===e.type?Q.none():(e=e.menu,t=a(r,n.slice(1)),U(t,e=>{VA(e.element,s.markers.backgroundMenu)}),jt(e.element)||P.append(o,si(e)),GA(e.element,[s.markers.backgroundMenu]),i(o,e),c(o,r,n),Q.some(e))})),m;var t;(t=m=m||{})[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent";let p=(a,A,i=m.HighlightSubmenu)=>{var e;return A.hasConfigured(N)&&N.isDisabled(A)?Q.some(A):(e=d(A),l.expand(e).bind(n=>(u(a,n),Q.from(n[0]).bind(r=>l.lookupMenu(r).bind(e=>{t=a,o=r;var t,o="notbuilt"===(e=e).type?(t=t.getSystem().build(e.nbMenu()),l.setMenuBuilt(o,t),t):e.menu;return jt(o.element)||P.append(a,si(o)),s.onOpenSubmenu(a,A,o,ke(n)),i===m.HighlightSubmenu?(w.highlightFirst(o),g(a,l,n)):(w.dehighlightAll(o),Q.some(A))})))))},o=(t,o)=>{var e=d(o);return l.collapse(e).bind(e=>(u(t,e),g(t,l,e).map(e=>(s.onCollapseMenu(t,o,e),e))))},r=o=>(t,e)=>bi(e.getSource(),"."+s.markers.item).bind(e=>t.getSystem().getByDom(e).toOptional().bind(e=>o(t,e).map(ie))),h=Ka([D(sp(),(t,o)=>{var e=o.event.item;l.lookupItem(d(e)).each(()=>{var e=o.event.menu,e=(w.highlight(t,e),d(o.event.item));l.refresh(e).each(e=>c(t,l,e))})}),oA((t,e)=>{e=e.event.target;t.getSystem().getByDom(e).each(e=>{0===d(e).indexOf("collapse-item")&&o(t,e),p(t,e,m.HighlightSubmenu).fold(()=>{s.onExecute(t,e)},B)})}),$a((t,e)=>{var r,n,o,a;r=t,n=s.data.primary,o=s.data.menus,o=Ne(o,(e,t)=>{var o=()=>lp.sketch({...e,value:t,markers:s.markers,fakeFocus:s.fakeFocus,onHighlight:(e,t)=>{k(e,mp,{menuComp:e,itemComp:t})},onDehighlight:(e,t)=>{k(e,pp,{menuComp:e,itemComp:t})},focusManager:(s.fakeFocus?()=>{let r=e=>w.getHighlighted(e).map(e=>e.element);return{get:r,set:(t,e)=>{var o=r(t),e=(t.getSystem().getByDom(e).fold(B,e=>{w.highlight(t,e)}),r(t));eg(t,o,e)}}}:tg)()});return t===n?{type:"prepared",menu:r.getSystem().build(o())}:{type:"notbuilt",nbMenu:o}}),a=Ne(s.data.menus,(e,t)=>Ce(e.items,e=>"separator"===e.type?[]:[e.data.value])),l.setContents(s.data.primary,o,s.data.expansions,a),l.getPrimary().each(e=>{P.append(t,si(e)),s.onOpenMenu(t,e),s.highlightOnOpen===hm.HighlightMenuAndItem?i(t,e):s.highlightOnOpen===hm.HighlightJustMenu&&A(t,e)})}),D(mp,(e,t)=>{s.onHighlightItem(e,t.event.menuComp,t.event.itemComp)}),D(pp,(e,t)=>{s.onDehighlightItem(e,t.event.menuComp,t.event.itemComp)}),...s.navigateOnHover?[D(Jm(),(e,t)=>{var t=t.event.item,o=e,r=t;r=d(r),l.refresh(r).bind(e=>(u(o,e),g(o,l,e))),p(e,t,m.HighlightParent),s.onHover(e,t)})]:[]]),f=e=>w.getHighlighted(e).bind(w.getHighlighted),b={collapseMenu:t=>{f(t).each(e=>{o(t,e)})},highlightPrimary:t=>{l.getPrimary().each(e=>{i(t,e)})},repositionMenus:o=>{l.getPrimary().bind(t=>f(o).bind(e=>{let t=d(e),o=Ge(l.getMenus()),r=Ye(y(o,gp));return l.getTriggeringPath(t,e=>{return t=r,o=e,He(t,e=>e.getSystem().isConnected()?(e=w.getCandidates(e),xe(e,e=>d(e)===o)):Q.none());var t,o})}).map(e=>({primary:t,triggeringPath:e}))).fold(()=>{var e;e=o,Q.from(e.components()[0]).filter(e=>"menu"===qt(e.element,"role")).each(e=>{s.onRepositionMenu(o,e,[])})},({primary:e,triggeringPath:t})=>{s.onRepositionMenu(o,e,t)})}};return{uid:s.uid,dom:s.dom,markers:s.markers,behaviours:uc(s.tmenuBehaviours,[R.config({mode:"special",onRight:r((e,t)=>uu(t.element)?Q.none():p(e,t,m.HighlightSubmenu)),onLeft:r((e,t)=>uu(t.element)?Q.none():o(e,t)),onEscape:r((e,t)=>o(e,t).orThunk(()=>s.onEscape(e,t).map(()=>e))),focusIn:(t,e)=>{l.getPrimary().each(e=>{Pa(t,e.element,va())})}}),w.config({highlightClass:s.markers.selectedMenu,itemClass:s.markers.menu}),S.config({find:e=>w.getHighlighted(e)}),P.config({})]),eventOrder:s.eventOrder,apis:b,events:h}},extraApis:{tieredData:(e,t,o)=>({primary:e,menus:t,expansions:o}),singleData:(e,t)=>({primary:e,menus:On(e,t),expansions:{}}),collapseItem:e=>({value:F(hp()),meta:{text:e}})}}),bp=du({name:"InlineView",configFields:[a("lazySink"),e("onShow"),e("onHide"),_n("onEscape"),cc("inlineBehaviours",[u,L,Ss]),En("fireDismissalEventInstead",[l("event",Ua())]),En("fireRepositionEventInstead",[l("event",Ia())]),l("getRelated",Q.none),l("isExtraPart",Ae),l("eventOrder",Q.none)],factory:(a,e)=>{let n=(e,t,o,r)=>{let n=a.lazySink(e).getOrDie();u.openWhileCloaked(e,t,()=>vd.positionWithinBounds(n,e,o,r())),L.setValue(e,Q.some({mode:"position",config:o,getBounds:r}))},r=(e,t,o,r)=>{t=((e,t,n,o,a)=>{let A=()=>e.lazySink(t),r="horizontal"===o.type?{layouts:{onLtr:()=>fs(),onRtl:()=>bs()}}:{},i=e=>2===e.length?r:{};return fp.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(u.close(t),e.onEscape.map(e=>e(t)),Q.some(!0)),onExecute:()=>Q.some(!0),onOpenMenu:(e,t)=>{vd.positionWithinBounds(A().getOrDie(),t,n,a())},onOpenSubmenu:(e,t,o,r)=>{var n=A().getOrDie();vd.position(n,o,{anchor:{type:"submenu",item:t,...i(r)}})},onRepositionMenu:(e,t,o)=>{let r=A().getOrDie();vd.positionWithinBounds(r,t,n,a()),U(o,e=>{var t=i(e.triggeringPath);vd.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})})}})})(a,e,t,o,r);u.open(e,t),L.setValue(e,Q.some({mode:"menu",menu:t}))},t=o=>{u.isOpen(o)&&L.getValue(o).each(e=>{switch(e.mode){case"menu":u.getState(o).each(fp.repositionMenus);break;case"position":var t=a.lazySink(o).getOrDie();vd.positionWithinBounds(t,o,e.config,e.getBounds())}})},o={setContent:(e,t)=>{u.setContent(e,t)},showAt:(e,t,o)=>{var r=Q.none;n(e,t,o,r)},showWithinBounds:n,showMenuAt:(e,t,o)=>{r(e,t,o,Q.none)},showMenuWithinBounds:r,hide:e=>{u.isOpen(e)&&(L.setValue(e,Q.none()),u.close(e))},getContent:e=>u.getState(e),reposition:t,isOpen:u.isOpen};return{uid:a.uid,dom:a.dom,behaviours:uc(a.inlineBehaviours,[u.config({isPartOf:(e,t,o)=>{return xi(t,o)||(r=o,a.getRelated(e).exists(e=>xi(e,r)));var r},getAttachPoint:e=>a.lazySink(e).getOrDie(),onOpen:e=>{a.onShow(e)},onClose:e=>{a.onHide(e)}}),L.config({store:{mode:"memory",initialValue:Q.none()}}),Ss.config({channels:{...Xd({isExtraPart:e.isExtraPart,...a.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...Jd({...a.fireRepositionEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({}),doReposition:t})}})]),eventOrder:a.eventOrder,apis:o}},apis:{showAt:(e,t,o,r)=>{e.showAt(t,o,r)},showWithinBounds:(e,t,o,r,n)=>{e.showWithinBounds(t,o,r,n)},showMenuAt:(e,t,o,r)=>{e.showMenuAt(t,o,r)},showMenuWithinBounds:(e,t,o,r,n)=>{e.showMenuWithinBounds(t,o,r,n)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var vp=tinymce.util.Tools.resolve("tinymce.util.Delay");let wp=du({name:"Button",factory:e=>{var t=Zm(e.action),o=e.dom.tag,r=t=>C(e.dom,"attributes").bind(e=>C(e,t));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:mc(e.buttonBehaviours,[z.config({}),R.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===o?{type:r("type").getOr("button"),...r("role").map(e=>({role:e})).getOr({})}:{role:e.role.getOr(r("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[l("uid",void 0),a("dom"),l("components",[]),gc("buttonBehaviours",[z,R]),i("action"),i("role"),l("eventOrder",{})]}),K=e=>{let t=void 0!==e.uid&&We(e,"uid")?e.uid:fA("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var xp=tinymce.util.Tools.resolve("tinymce.util.I18n");let Bp={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},yp="temporary-placeholder",Cp=e=>()=>C(e,yp).getOr("!not found!"),_p=(e,t)=>{var o,r=e.toLowerCase();if(xp.isRtl()){o=r;let e=nt(o,"-rtl")?o:o+"-rtl";return je(t,e)?e:r}return r},kp=(e,t)=>C(t,_p(e,t)),Ep=(e,t)=>{t=t();return kp(e,t).getOrThunk(Cp(t))},Fp=()=>V("add-focusable",[$a(e=>{hi(e.element,"svg").each(e=>x(e,"focusable","false"))})]),Sp=(e,t,o,r)=>{n=t;var n=!!xp.isRtl()&&je(Bp,n)?["tox-icon--flip"]:[],t=C(o,_p(t,o)).or(r).getOrThunk(Cp(o));return{dom:{tag:e.tag,attributes:null!=(r=e.attributes)?r:{},classes:e.classes.concat(n),innerHtml:t},behaviours:O([...null!=(o=e.behaviours)?o:[],Fp()])}},Qp=(e,t,o,r=Q.none())=>Sp(t,e,o(),r),Up={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Ip=du({name:"Notification",factory:r=>{let o=K({dom:{tag:"p",innerHtml:r.translationProvider(r.text)},behaviours:O([P.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:e+"%"}}}),a=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}),A=K({dom:{tag:"div",classes:r.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},a(0)],behaviours:O([P.config({})])}),e={updateProgress:(e,t)=>{e.getSystem().isConnected()&&A.getOpt(e).each(e=>{P.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},a(t)])})},updateText:(e,t)=>{e.getSystem().isConnected()&&(e=o.get(e),P.set(e,[ri(t)]))}},t=ye([r.icon.toArray(),r.level.toArray(),r.level.bind(e=>Q.from(Up[e])).toArray()]),i=K(wp.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Qp("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":r.translationProvider("Close")}},r.iconProvider)],action:e=>{r.onAction(e)}})),s=(e=>{let t=(0,r.iconProvider)(),o=xe(e,e=>je(t,_p(e,t)));return Sp({tag:"div",classes:["tox-notification__icon"]},o.getOr(yp),t,Q.none())})(t),l=[s,{dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:O([P.config({})])}];return{uid:r.uid,dom:{tag:"div",attributes:{role:"alert"},classes:r.level.map(e=>["tox-notification","tox-notification--in","tox-notification--"+e]).getOr(["tox-notification","tox-notification--in"])},behaviours:O([z.config({}),V("notification-events",[D(ta(),e=>{i.getOpt(e).each(z.focus)})])]),components:l.concat(r.progress?[A.asSpec()]:[]).concat(r.closeButton?[i.asSpec()]:[]),apis:e}},configFields:[i("level"),a("progress"),i("icon"),a("onAction"),a("text"),a("iconProvider"),a("translationProvider"),In("closeButton",!0)],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var Tp,Mp,Hp=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Dp=tinymce.util.Tools.resolve("tinymce.EditorManager"),Op=tinymce.util.Tools.resolve("tinymce.Env");(rc=Tp=Tp||{}).default="wrap",rc.floating="floating",rc.sliding="sliding",rc.scrolling="scrolling",(ac=Mp=Mp||{}).auto="auto",ac.top="top",ac.bottom="bottom";let Lp=t=>e=>e.options.get(t),Np=t=>e=>Q.from(t(e)),Rp=e=>{let t=Op.deviceType.isPhone(),o=Op.deviceType.isTablet()||t,r=e.options.register,n=e=>f(e)||!1===e,a=e=>f(e)||J(e);r("skin",{processor:e=>f(e)||!1===e,default:"oxide"}),r("skin_url",{processor:"string"}),r("height",{processor:a,default:Math.max(e.getElement().offsetHeight,400)}),r("width",{processor:a,default:Hp.DOM.getStyle(e.getElement(),"width")}),r("min_height",{processor:"number",default:100}),r("min_width",{processor:"number"}),r("max_height",{processor:"number"}),r("max_width",{processor:"number"}),r("style_formats",{processor:"object[]"}),r("style_formats_merge",{processor:"boolean",default:!1}),r("style_formats_autohide",{processor:"boolean",default:!1}),r("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),r("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),r("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),r("font_size_input_default_unit",{processor:"string",default:"pt"}),r("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),r("content_langs",{processor:"object[]"}),r("removed_menuitems",{processor:"string",default:""}),r("menubar",{processor:e=>f(e)||G(e),default:!t}),r("menu",{processor:"object",default:{}}),r("toolbar",{processor:e=>G(e)||f(e)||m(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),pe(9,e=>{r("toolbar"+(e+1),{processor:"string"})}),r("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"}),r("toolbar_groups",{processor:"object",default:{}}),r("toolbar_location",{processor:"string",default:Mp.auto}),r("toolbar_persist",{processor:"boolean",default:!1}),r("toolbar_sticky",{processor:"boolean",default:e.inline}),r("toolbar_sticky_offset",{processor:"number",default:0}),r("fixed_toolbar_container",{processor:"string",default:""}),r("fixed_toolbar_container_target",{processor:"object"}),r("ui_mode",{processor:"string",default:"combined"}),r("file_picker_callback",{processor:"function"}),r("file_picker_validator_handler",{processor:"function"}),r("file_picker_types",{processor:"string"}),r("typeahead_urls",{processor:"boolean",default:!0}),r("anchor_top",{processor:n,default:"#top"}),r("anchor_bottom",{processor:n,default:"#bottom"}),r("draggable_modal",{processor:"boolean",default:!1}),r("statusbar",{processor:"boolean",default:!0}),r("elementpath",{processor:"boolean",default:!0}),r("branding",{processor:"boolean",default:!0}),r("promotion",{processor:"boolean",default:!0}),r("resize",{processor:e=>"both"===e||G(e),default:!Op.deviceType.isTouch()}),r("sidebar_show",{processor:"string"})},Pp=Lp("readonly"),Vp=Lp("height"),zp=Lp("width"),Kp=Np(Lp("min_width")),Zp=Np(Lp("min_height")),Gp=Np(Lp("max_width")),jp=Np(Lp("max_height")),Wp=Np(Lp("style_formats")),Xp=Lp("style_formats_merge"),Yp=Lp("style_formats_autohide"),Jp=Lp("content_langs"),qp=Lp("removed_menuitems"),$p=Lp("toolbar_mode"),eh=Lp("toolbar_groups"),th=Lp("toolbar_location"),oh=Lp("fixed_toolbar_container"),rh=Lp("fixed_toolbar_container_target"),nh=Lp("toolbar_persist"),ah=Lp("toolbar_sticky_offset"),Ah=Lp("menubar"),ih=Lp("toolbar"),sh=Lp("file_picker_callback"),lh=Lp("file_picker_validator_handler"),dh=Lp("font_size_input_default_unit"),ch=Lp("file_picker_types"),uh=Lp("typeahead_urls"),gh=Lp("anchor_top"),mh=Lp("anchor_bottom"),ph=Lp("draggable_modal"),hh=Lp("statusbar"),fh=Lp("elementpath"),bh=Lp("branding"),vh=Lp("resize"),wh=Lp("paste_as_text"),xh=Lp("sidebar_show"),Bh=Lp("promotion"),yh=e=>!1===e.options.get("skin"),Ch=e=>!1!==e.options.get("menubar"),_h=t=>{let e=t.options.get("skin_url");if(yh(t))return e;if(e)return t.documentBaseURI.toAbsolute(e);{let e=t.options.get("skin");return Dp.baseURL+"/skins/ui/"+e}},kh=e=>e.options.get("line_height_formats").split(" "),Eh=e=>{var t=ih(e),o=f(t),r=m(t)&&0<t.length;return!Sh(e)&&(r||o||!0===t)},Fh=t=>{var e=pe(9,e=>t.options.get("toolbar"+(e+1))),e=be(e,f);return $e(0<e.length,e)},Sh=t=>Fh(t).fold(()=>{var e=ih(t);return q(e,f)&&0<e.length},ie),Qh=e=>th(e)===Mp.bottom,Uh=e=>{var t;return e.inline?0<(t=null!=(t=oh(e))?t:"").length?fi(Wt(),t):(t=rh(e),X(t)?Q.some(I(t)):Q.none()):Q.none()},Ih=e=>e.inline&&Uh(e).isSome(),Th=e=>Uh(e).getOrThunk(()=>Kt(zt(I(e.getElement())))),Mh=e=>e.inline&&!Ch(e)&&!Eh(e)&&!Sh(e),Hh=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Ih(e)&&!Mh(e),Dh=e=>!Ih(e)&&"split"===e.options.get("ui_mode"),Oh=e=>{e=e.options.get("menu");return Ne(e,e=>({...e,items:e.items}))},Lh=Object.freeze({__proto__:null,get ToolbarMode(){return Tp},get ToolbarLocation(){return Mp},register:Rp,getSkinUrl:_h,isReadOnly:Pp,isSkinDisabled:yh,getHeightOption:Vp,getWidthOption:zp,getMinWidthOption:Kp,getMinHeightOption:Zp,getMaxWidthOption:Gp,getMaxHeightOption:jp,getUserStyleFormats:Wp,shouldMergeStyleFormats:Xp,shouldAutoHideStyleFormats:Yp,getLineHeightFormats:kh,getContentLanguages:Jp,getRemovedMenuItems:qp,isMenubarEnabled:Ch,isMultipleToolbars:Sh,isToolbarEnabled:Eh,isToolbarPersist:nh,getMultipleToolbarsOption:Fh,getUiContainer:Th,useFixedContainer:Ih,isSplitUiMode:Dh,getToolbarMode:$p,isDraggableModal:ph,isDistractionFree:Mh,isStickyToolbar:Hh,getStickyToolbarOffset:ah,getToolbarLocation:th,isToolbarLocationBottom:Qh,getToolbarGroups:eh,getMenus:Oh,getMenubar:Ah,getToolbar:ih,getFilePickerCallback:sh,getFilePickerTypes:ch,useTypeaheadUrls:uh,getAnchorTop:gh,getAnchorBottom:mh,getFilePickerValidatorHandler:lh,getFontSizeInputDefaultUnit:dh,useStatusBar:hh,useElementPath:fh,promotionEnabled:Bh,useBranding:bh,getResize:vh,getPasteAsText:wh,getSidebarShow:xh}),Nh="[data-mce-autocompleter]",Rh=e=>bi(e,Nh);(nc=m4=m4||{})[nc.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",nc[nc.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var Ph=m4;let Vh="tox-menu-nav__js",zh="tox-collection__item",Kh="tox-swatch",Zh={normal:Vh,color:Kh},Gh="tox-collection__item--enabled",jh="tox-collection__item-icon",Wh="tox-collection__item-label",Xh="tox-collection__item-caret",Yh="tox-collection__item--active",Jh="tox-collection__item-container",qh="tox-collection__item-container--row",$h=e=>C(Zh,e).getOr(Vh),ef=e=>"color"===e?"tox-swatches":"tox-menu",tf=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:ef(e),tieredMenu:"tox-tiered-menu"}),of=e=>{var t=tf(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:$h(e)}},rf=(e,t,o)=>{o=tf(o);return{tag:"div",classes:ye([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},nf=[lp.parts.items({})],af=(e,t,o)=>{var r=tf(o);return{dom:{tag:"div",classes:ye([[r.tieredMenu]])},markers:of(o)}},Af=E([i("data"),l("inputAttributes",{}),l("inputStyles",{}),l("tag","input"),l("inputClasses",[]),e("onSetValue"),l("styles",{}),l("eventOrder",{}),cc("inputBehaviours",[L,z]),l("selectOnFocus",!0)]),sf=e=>O([z.config({onFocus:e.selectOnFocus?e=>{var e=e.element,t=WA(e);e.dom.setSelectionRange(0,t.length)}:B})]),lf=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),df=du({name:"Input",configFields:Af(),factory:(e,t)=>{return{uid:e.uid,dom:lf(e),components:[],behaviours:(o=e,{...sf(o),...uc(o.inputBehaviours,[L.config({store:{mode:"manual",...o.data.map(e=>({initialValue:e})).getOr({}),getValue:e=>WA(e.element),setValue:(e,t)=>{WA(e.element)!==t&&XA(e.element,t)}},onSetValue:o.onSetValue})])}),eventOrder:e.eventOrder};var o}}),cf=F("refetch-trigger-event"),uf=F("redirect-menu-item-interaction"),gf="tox-menu__searcher",mf=t=>fi(t.element,"."+gf).bind(e=>t.getSystem().getByDom(e).toOptional()),pf=mf,hf=e=>({fetchPattern:L.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),ff=t=>{var e=(e,t)=>(t.cut(),Q.none()),o=(e,t)=>{t={interactionEvent:t.event,eventType:t.event.raw.type};return k(e,uf,t),Q.some(!0)},r="searcher-events";return{dom:{tag:"div",classes:[zh]},components:[df.sketch({inputClasses:[gf,"tox-textfield"],inputAttributes:{...t.placeholder.map(e=>({placeholder:t.i18n(e)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:O([V(r,[D(aa(),e=>{_(e,cf)}),D(ra(),(e,t)=>{"Escape"===t.event.raw.key&&t.stop()})]),R.config({mode:"special",onLeft:e,onRight:e,onSpace:e,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[r,R.name()]}})]}},bf="tox-collection--results__js",vf=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!=(t=e.dom.attributes)?t:{},id:F("aria-item-search-result-id"),"aria-selected":"false"}}}:e},wf=(t,o)=>e=>{e=he(e,o);return y(e,e=>({dom:t,components:e}))},xf=(e,o)=>{let r=[],n=[];return U(e,(e,t)=>{(!o(e,t)||(0<n.length&&r.push(n),n=[],je(e.dom,"innerHtml"))||e.components&&0<e.components.length)&&n.push(e)}),0<n.length&&r.push(n),y(r,e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e}))},Bf=(t,o,r)=>lp.parts.items({preprocess:e=>{e=y(e,r);return"auto"!==t&&1<t?wf({tag:"div",classes:["tox-collection__group"]},t)(e):xf(e,(e,t)=>"separator"===o[t].type)}}),yf=(e,t,o=0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Bf(e,t,v)]}),Cf=e=>me(e,e=>"icon"in e&&void 0!==e.icon),_f=e=>(console.error(sn(e)),console.log(e),Q.none()),kf=(e,t,o,r,n)=>{a=o;var a,A={dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[lp.parts.items({preprocess:e=>xf(e,(e,t)=>"separator"===a[t].type)})]};return{value:e,dom:A.dom,components:A.components,items:o}},Ef=(t,e,o,r,n)=>{if("color"===n.menuType){a=r;let e={dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[lp.parts.items({preprocess:"auto"!==a?wf({tag:"div",classes:["tox-swatches__row"]},a):v})]}]};return{value:t,dom:e.dom,components:e.components,items:o}}var a,A,i,s;if("normal"===n.menuType&&"auto"===r){let e=yf(r,o);return{value:t,dom:e.dom,components:e.components,items:o}}if("normal"===n.menuType||"searchable"===n.menuType){let e="searchable"!==n.menuType?yf(r,o):"search-with-field"===n.searchMode.searchMode?(a=r,A=o,i=n.searchMode,s=F("aria-controls-search-results"),{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===a?["tox-collection--list"]:["tox-collection--grid"])},components:[ff({i18n:xp.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...1===a?["tox-collection--list"]:["tox-collection--grid"],bf],attributes:{id:s}},components:[Bf(a,A,vf)]}]}):(i=r,s=o,A=F("aria-controls-search-results"),{dom:{tag:"div",classes:["tox-menu","tox-collection",bf].concat(1===i?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:A}},components:[Bf(i,s,vf)]});return{value:t,dom:e.dom,components:e.components,items:o}}if("listpreview"!==n.menuType||"auto"===r)return{value:t,dom:rf(e,r,n.menuType),components:nf,items:o};{n=r;let e={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[lp.parts.items({preprocess:wf({tag:"div",classes:["tox-collection__group"]},n)})]};return{value:t,dom:e.dom,components:e.components,items:o}}},Ff=pn("type"),Sf=pn("name"),Qf=pn("label"),Uf=pn("text"),If=pn("title"),Tf=pn("icon"),Mf=pn("value"),Hf=fn("fetch"),Df=fn("getSubmenuItems"),Of=fn("onAction"),Lf=fn("onItemAction"),Nf=Tn("onSetup",()=>B),Rf=yn("name"),Pf=yn("text"),Vf=yn("icon"),zf=yn("tooltip"),Kf=yn("label"),Zf=yn("shortcut"),Gf=_n("select"),jf=In("active",!1),Wf=In("borderless",!1),Xf=In("enabled",!0),Yf=In("primary",!1),Jf=e=>l("columns",e),qf=l("meta",{}),$f=Tn("onAction",B),e1=e=>Qn("type",e),t1=e=>cn("name","name",Qr(()=>F(e+"-name")),Yr),o1=A([Ff,Pf]),r1=A([e1("autocompleteitem"),jf,Xf,qf,Mf,Pf,Vf]),n1=[Xf,zf,Vf,Pf,Nf],a1=A([Ff,Of].concat(n1)),A1=e=>nn("toolbarbutton",a1,e),i1=[jf].concat(n1),s1=A(i1.concat([Ff,Of])),l1=e=>nn("ToggleButton",s1,e),d1=[Tn("predicate",Ae),Un("scope","node",["node","editor"]),Un("position","selection",["node","selection","line"])],c1=n1.concat([e1("contextformbutton"),Yf,Of,un("original",v)]),u1=i1.concat([e1("contextformbutton"),Yf,Of,un("original",v)]),g1=n1.concat([e1("contextformbutton")]),m1=i1.concat([e1("contextformtogglebutton")]),p1=ln("type",{contextformbutton:c1,contextformtogglebutton:u1}),h1=A([e1("contextform"),Tn("initValue",E("")),Kf,wn("commands",p1),xn("launch",ln("type",{contextformbutton:g1,contextformtogglebutton:m1}))].concat(d1)),f1=A([e1("contexttoolbar"),pn("items")].concat(d1)),b1=[Ff,pn("src"),yn("alt"),Mn("classes",[],Yr)],v1=A(b1),w1=[Ff,Uf,Rf,Mn("classes",["tox-collection__item-label"],Yr)],x1=A(w1),B1=Rr(()=>tn("type",{cardimage:v1,cardtext:x1,cardcontainer:y1})),y1=A([Ff,Qn("direction","horizontal"),Qn("align","left"),Qn("valign","middle"),wn("items",B1)]),C1=[Xf,Pf,Zf,cn("value","value",Qr(()=>F("menuitem-value")),jr()),qf],_1=A([Ff,Kf,wn("items",B1),Nf,$f].concat(C1)),k1=A([Ff,jf,Vf].concat(C1)),E1=[Ff,pn("fancytype"),$f],F1=[l("initData",{})].concat(E1),S1=[_n("select"),Hn("initData",{},[In("allowCustomColors",!0),Qn("storageKey","default"),kn("colors",jr())])].concat(E1),Q1=ln("fancytype",{inserttable:F1,colorswatch:S1}),U1=A([Ff,Nf,$f,Vf].concat(C1)),I1=A([Ff,Df,Nf,Vf].concat(C1)),T1=A([Ff,Vf,jf,Nf,Of].concat(C1)),M1=(e,o,t)=>{let r=Zl(e.element,"."+t);if(0<r.length){let e=Be(r,e=>{var e=e.dom.getBoundingClientRect().top,t=r[0].dom.getBoundingClientRect().top;return Math.abs(e-t)>o}).getOr(r.length);return Q.some({numColumns:e,numRows:Math.ceil(r.length/e)})}return Q.none()},H1=e=>{return t=F("unnamed-events"),e=e,O([V(t,e)]);var t},D1=F("tooltip.exclusive"),O1=F("tooltip.show"),L1=F("tooltip.hide"),N1=(e,t,o)=>{e.getSystem().broadcastOn([D1],{})},R1=Object.freeze({__proto__:null,hideAllExclusive:N1,setComponents:(e,t,o,r)=>{o.getTooltip().each(e=>{e.getSystem().isConnected()&&P.set(e,r)})}}),P1=Object.freeze({__proto__:null,events:(n,a)=>{let o=t=>{a.getTooltip().each(e=>{Sd(e),n.onHide(t,e),a.clearTooltip()}),a.clearTimer()};return Ka(ye([[D(O1,r=>{a.resetTimer(()=>{var t,e,o;t=r,a.isShowing()||(N1(t),e=n.lazySink(t).getOrDie(),o=t.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:Ka("normal"===n.mode?[D(ea(),e=>{_(t,O1)}),D(qn(),e=>{_(t,L1)})]:[]),behaviours:O([P.config({})])}),a.setTooltip(o),kd(e,o),n.onShow(t,o),vd.position(e,o,{anchor:n.anchor(t)}))},n.delay)}),D(L1,e=>{a.resetTimer(()=>{o(e)},n.delay)}),D(fa(),(e,t)=>{t.universal||ge(t.channels,D1)&&o(e)}),eA(e=>{o(e)})],"normal"===n.mode?[D(ta(),e=>{_(e,O1)}),D(pa(),e=>{_(e,L1)}),D(ea(),e=>{_(e,O1)}),D(qn(),e=>{_(e,L1)})]:[D(La(),(e,t)=>{_(e,O1)}),D(Na(),e=>{_(e,L1)})]]))}}),V1=[a("lazySink"),a("tooltipDom"),l("exclusive",!0),l("tooltipComponents",[]),l("delay",300),Un("mode","normal",["normal","follow-highlight"]),l("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:E([ds,ls,as,is,As,ss]),onRtl:E([ds,ls,as,is,As,ss])}})),e("onHide"),e("onShow")],z1=Object.freeze({__proto__:null,init:()=>{let o=qs(),e=qs(),r=()=>{o.on(clearTimeout)},t=E("not-implemented");return FA({getTooltip:e.get,isShowing:e.isSet,setTooltip:e.set,clearTooltip:e.clear,clearTimer:r,resetTimer:(e,t)=>{r(),o.set(setTimeout(e,t))},readState:t})}}),K1=_s({fields:V1,name:"tooltipping",active:P1,state:z1,apis:R1}),Z1="silver.readonly",G1=A([mn("readonly",Jr)]),j1=(e,t)=>{let o=e.mainUi.outerContainer.element,r=[e.mainUi.mothership,...e.uiMotherships];t&&U(r,e=>{e.broadcastOn([Zd()],{target:o})}),U(r,e=>{e.broadcastOn([Z1],{readonly:t})})},W1=(e,t)=>{e.on("init",()=>{e.mode.isReadOnly()&&j1(t,!0)}),e.on("SwitchMode",()=>j1(t,e.mode.isReadOnly())),Pp(e)&&e.mode.set("readonly")},X1=()=>Ss.config({channels:{[Z1]:{schema:G1,onReceive:(e,t)=>{N.set(e,t.readonly)}}}}),Y1=e=>N.config({disabled:e}),J1=e=>N.config({disabled:e,disableClass:"tox-tbtn--disabled"}),q1=e=>N.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),$1=(e,t)=>{let o=e.getApi(t);return e=>{e(o)}},e0=(t,o)=>$a(e=>{$1(t,e)(e=>{e=t.onSetup(e);Y(e)&&o.set(e)})}),t0=(t,o)=>eA(e=>$1(t,e)(o.get())),o0=(o,r)=>oA((e,t)=>{$1(o,e)(o.onAction),o.triggersSubmenu||r!==Ph.CLOSE_ON_EXECUTE||(e.getSystem().isConnected()&&_(e,Ba()),t.stop())}),r0={[ba()]:["disabling","alloy.base.behaviour","toggling","item-events"]},n0=Ye,a0=(e,t,o,r)=>{var n=H(B);return{type:"item",dom:t.dom,components:n0(t.optComponents),data:e.data,eventOrder:r0,hasSubmenu:e.triggersSubmenu,itemBehaviours:O([V("item-events",[o0(e,o),e0(e,n),t0(e,n)]),(t=()=>!e.enabled||r.isDisabled(),N.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})),X1(),P.config({})].concat(e.itemBehaviours))}},A0=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),i0=e=>{let t=Op.os.isMacOS()||Op.os.isiOS(),o=t?{alt:"โฅ",ctrl:"โ",shift:"โง",meta:"โ",access:"โโฅ"}:{meta:"Ctrl",access:"Shift+Alt"},r=e.split("+"),n=y(r,e=>{var t=e.toLowerCase().trim();return je(o,t)?o[t]:e});return t?n.join(""):n.join("+")},s0=(e,t,o=[jh])=>Qp(e,{tag:"div",classes:o},t),l0=e=>({dom:{tag:"div",classes:[Wh]},components:[ri(xp.translate(e))]}),d0=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),c0=(e,t)=>({dom:{tag:"div",classes:[Wh]},components:[{dom:{tag:e.tag,styles:e.styles},components:[ri(xp.translate(t))]}]}),u0=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[ri(i0(e))]}),g0=e=>s0("checkmark",e,["tox-collection__item-checkmark"]),m0=e=>{e=e.map(e=>({attributes:{title:xp.translate(e),id:F("menu-item")}})).getOr({});return{tag:"div",classes:[Vh,zh],...e}},p0=(a,A,i,s=Q.none())=>{if("color"===a.presets){var r=a,n=A,l=s;let e=r.ariaLabel,t=r.value,o=r.iconContent.map(e=>{var t=n.icons,o=l;return t=t(),kp(e,t).or(o).getOrThunk(Cp(t))});return{dom:(r=Kh,u=o.getOr(""),r={tag:"div",attributes:e.map(e=>({title:n.translate(e)})).getOr({}),classes:[r]},"custom"===t?{...r,tag:"button",classes:[...r.classes,"tox-swatches__picker-btn"],innerHtml:u}:"remove"===t?{...r,classes:[...r.classes,"tox-swatch--remove"],innerHtml:u}:X(t)?{...r,attributes:{...r.attributes,"data-mce-color":t},styles:{"background-color":t},innerHtml:u}:r),optComponents:[]}}{var d=a,c=A,u=i,g=s;let t={tag:"div",classes:[jh]},e=u?d.iconContent.map(e=>Qp(e,t,c.icons,g)).orThunk(()=>Q.some({dom:t})):Q.none(),o=d.checkMark,r=Q.from(d.meta).fold(()=>l0,e=>je(e,"style")?oe(c0,e.style):l0),n=d.htmlContent.fold(()=>d.textContent.map(r),e=>Q.some(d0(e,[Wh])));return{dom:m0(d.ariaLabel),optComponents:[e,n,d.shortcutContent.map(u0),o,d.caret]}}},h0=(e,t)=>C(e,"tooltipWorker").map(o=>[K1.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:sl}}),mode:"follow-highlight",onShow:(t,e)=>{o(e=>{K1.setComponents(t,[ni({element:I(e)})])})}})]).getOr([]),f0=(e,t)=>{e=xp.translate(e);var o=Hp.DOM.encode(e);if(0<t.length){let e=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return o.replace(e,e=>`<span class="tox-autocompleter-highlight">${e}</span>`)}return o},b0=(e,a)=>y(e,e=>{switch(e.type){case"cardcontainer":return t=e,o=b0(e.items,a),r="vertical"===t.direction?"tox-collection__item-container--column":qh,n="left"===t.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",{dom:{tag:"div",classes:[Jh,r,n,(()=>{switch(t.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:o};case"cardimage":return r=e.src,{dom:{tag:"img",classes:e.classes,attributes:{src:r,alt:e.alt.getOr("")}}};case"cardtext":n=e.name.exists(e=>ge(a.cardText.highlightOn,e))?Q.from(a.cardText.matchText).getOr(""):"";return d0(f0(e.text,n),e.classes)}var t,o,r,n}),v0=Kc(op(),rp()),w0=e=>({value:C0(e)}),x0=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,B0=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,y0=e=>x0.test(e)||B0.test(e),C0=e=>tt(e,"#").toUpperCase(),_0=e=>{e=e.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},k0=e=>{e=_0(e.red)+_0(e.green)+_0(e.blue);return w0(e)},E0=Math.min,F0=Math.max,S0=Math.round,Q0=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,U0=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,I0=(e,t,o,r)=>({red:e,green:t,blue:o,alpha:r}),T0=e=>{var t=parseInt(e,10);return t.toString()===e&&0<=t&&t<=255},M0=e=>{let t,o,r;var n=(e.hue||0)%360,a=e.saturation/100,e=e.value/100,a=F0(0,E0(a,1)),e=F0(0,E0(e,1));if(0===a)t=o=r=S0(255*e);else{var n=n/60,A=e*a,i=A*(1-Math.abs(n%2-1)),a=e-A;switch(Math.floor(n)){case 0:t=A,o=i,r=0;break;case 1:t=i,o=A,r=0;break;case 2:t=0,o=A,r=i;break;case 3:t=0,o=i,r=A;break;case 4:t=i,o=0,r=A;break;case 5:t=A,o=0,r=i;break;default:t=o=r=0}t=S0(255*(t+a)),o=S0(255*(o+a)),r=S0(255*(r+a))}return I0(t,o,r,1)},H0=e=>{var e=(e=>{e={value:e.value.replace(x0,(e,t,o,r)=>t+t+o+o+r+r)},e=B0.exec(e.value);return null===e?["FFFFFF","FF","FF","FF"]:e})(e),t=parseInt(e[1],16),o=parseInt(e[2],16),e=parseInt(e[3],16);return I0(t,o,e,1)},D0=(e,t,o,r)=>{e=parseInt(e,10),t=parseInt(t,10),o=parseInt(o,10),r=parseFloat(r);return I0(e,t,o,r)},O0=e=>{var t;return"transparent"===e?Q.some(I0(0,0,0,0)):null!==(t=Q0.exec(e))?Q.some(D0(t[1],t[2],t[3],"1")):null!==(t=U0.exec(e))?Q.some(D0(t[1],t[2],t[3],t[4])):Q.none()},L0=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,N0=I0(255,0,0,1),R0=(e,t)=>{e.dispatch("ResizeContent",t)},P0=(e,t)=>{e.dispatch("TextColorChange",t)},V0=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),z0=(e,t)=>()=>{e(),t()},K0=t=>G0(t,"NodeChange",e=>{e.setEnabled(t.selection.isEditable())}),Z0=(a,A)=>e=>{let t=K0(a)(e),o=(r=a,n=A,(t=>{let o=Js(),e=()=>{t.setActive(r.formatter.match(n));var e=r.formatter.formatChanged(n,t.setActive);o.set(e)};return r.initialized?e():r.once("init",e),()=>{r.off("init",e),o.clear()}})(e));var r,n;return()=>{t(),o()}},G0=(r,n,a)=>e=>{let t=()=>a(e),o=()=>{a(e),r.on(n,t)};return r.initialized?o():r.once("init",o),()=>{r.off("init",o),r.off(n,t)}},j0=t=>e=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,e.format)})},W0=(e,t)=>()=>e.execCommand(t);var X0,Y0=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");let J0={},q0=o=>C(J0,o).getOrThunk(()=>{var t="tinymce-custom-colors-"+o,e=Y0.getItem(t);if(W(e)){let e=Y0.getItem("tinymce-custom-colors");Y0.setItem(t,X(e)?e:"[]")}e=(t=>{let e=Y0.getItem(t),o=f(e)?JSON.parse(e):[],r=10-(n=o).length<0?n.slice(0,10):n;var n;let a=e=>{r.splice(e,1)};return{add:e=>{ue(r,e).each(a),r.unshift(e),10<r.length&&r.pop(),Y0.setItem(t,JSON.stringify(r))},state:()=>r.slice(0)}})(t);return J0[o]=e}),$0=(e,t)=>{q0(e).add(t)},eb=(e,t,o)=>({hue:e,saturation:t,value:o}),tb=e=>{let t,o,r=0;var n=e.red/255,a=e.green/255,e=e.blue/255,A=Math.min(n,Math.min(a,e)),i=Math.max(n,Math.max(a,e));return A===i?(r=A,eb(0,0,100*r)):(t=60*((n===A?3:e===A?1:5)-(n===A?a-e:e===A?n-a:e-n)/(i-A)),o=(i-A)/i,r=i,eb(Math.round(t),Math.round(100*o),Math.round(100*r)))},ob=e=>k0(M0(e)),rb=n=>{return e=n,(y0(e)?Q.some({value:C0(e)}):Q.none()).orThunk(()=>O0(n).map(k0)).getOrThunk(()=>{var e=document.createElement("canvas"),t=(e.height=1,e.width=1,e.getContext("2d")),e=(t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=n,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data),t=e[0],o=e[1],r=e[2],e=e[3];return k0(I0(t,o,r,e))});var e},nb="forecolor",ab="hilitecolor",Ab=e=>Math.max(5,Math.ceil(Math.sqrt(e))),ib=(e,t)=>{t=Ab(t),e=sb("color_cols")(e);return 5===t?e:t},sb=t=>e=>e.options.get(t),lb="#000000",db=(e,t)=>{e=e;t=((t=t)===nb?sb("color_cols_foreground"):t===ab?sb("color_cols_background"):sb("color_cols"))(e);return 0<t?t:5},cb=sb("custom_colors"),ub=(e,t)=>(t===nb&&e.options.isSet("color_map_foreground")?sb("color_map_foreground"):t===ab&&e.options.isSet("color_map_background")?sb("color_map_background"):sb("color_map"))(e),gb=sb("color_default_foreground"),mb=sb("color_default_background"),pb=(e,t)=>{e=I(e.selection.getStart()),t="hilitecolor"===t?Pn(e,e=>vt(e)?(e=Ao(e,"background-color"),$e(O0(e).exists(e=>0!==e.alpha),e)):Q.none()).getOr("rgba(0, 0, 0, 0)"):Ao(e,"color");return O0(t).map(e=>"#"+k0(e).value)},hb=e=>{var t="choiceitem",o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[o,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[o]},fb=(t,o,e,r)=>{"custom"===e?Cb(t)(e=>{e.each(e=>{$0(o,e),t.execCommand("mceApplyTextcolor",o,e),r(e)})},pb(t,o).getOr(lb)):"remove"===e?(r(""),t.execCommand("mceRemoveTextcolor",o)):(r(e),t.execCommand("mceApplyTextcolor",o,e))},bb=(e,t,o)=>e.concat((e=t,y(q0(e).state(),e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})).concat(hb(o)))),vb=(t,o,r)=>e=>{e(bb(t,o,r))},wb=(e,t,o)=>{e.setIconFill("forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",o)},xb=(o,r)=>e=>{var t=pb(o,r);return Xe(t,e.toUpperCase())},Bb=(o,r,n,e,a)=>{o.ui.registry.addSplitButton(r,{tooltip:e,presets:"color",icon:"forecolor"===r?"text-color":"highlight-bg-color",select:xb(o,n),columns:db(o,n),fetch:vb(ub(o,n),n,cb(o)),onAction:e=>{fb(o,n,a.get(),B)},onItemAction:(e,t)=>{fb(o,n,t,e=>{a.set(e),P0(o,{name:r,color:e})})},onSetup:t=>{wb(t,r,a.get());let e=e=>{e.name===r&&wb(t,e.name,e.color)};return o.on("TextColorChange",e),z0(K0(o)(t),()=>{o.off("TextColorChange",e)})}})},yb=(t,o,r,e,n)=>{t.ui.registry.addNestedMenuItem(o,{text:e,icon:"forecolor"===o?"text-color":"highlight-bg-color",onSetup:e=>(wb(e,o,n.get()),K0(t)(e)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:xb(t,r),initData:{storageKey:r},onAction:e=>{fb(t,r,e.value,e=>{n.set(e),P0(t,{name:o,color:e})})}}]})},Cb=n=>(o,e)=>{let r=!1;n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:e},onAction:(e,t)=>{"hex-valid"===t.name&&(r=t.value)},onSubmit:e=>{var t=e.getData().colorpicker;r?(o(Q.from(t)),e.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",t]))},onClose:B,onCancel:()=>{o(Q.none())}})},_b=(e,t,o,r,n,a,A,i)=>{var s,l,d,c,u,g,m,p=Cf(t),t=(s=t,l=o,d=r,c="color"!==n?"normal":"color",u=a,g=A,m=i,Ye(y(s,e=>"choiceitem"===e.type?(e=e,nn("choicemenuitem",k1,e).fold(_f,e=>Q.some(((t,e,o,r,n,a,A,i=!0)=>{o=p0({presets:o,textContent:e?t.text:Q.none(),htmlContent:Q.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:Q.none(),checkMark:e?Q.some(g0(A.icons)):Q.none(),caret:Q.none(),value:t.value},A,i);return Fr(a0({data:A0(t),enabled:t.enabled,getApi:t=>({setActive:e=>{h.set(t,e)},isActive:()=>h.isOn(t),isEnabled:()=>!N.isDisabled(t),setEnabled:e=>N.set(t,!e)}),onAction:e=>r(t.value),onSetup:e=>(e.setActive(n),B),triggersSubmenu:!1,itemBehaviours:[]},o,a,A),{toggling:{toggleClass:Gh,toggleOnExecute:!1,selected:t.active,exclusive:!0}})})(e,1===d,c,l,g(e.value),u,m,Cf(s))))):Q.none())));return Ef(e,p,t,r,{menuType:n})},kb=(e,t)=>{var o=of(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?fi(e.element,"[aria-checked=true]"):Q.none()}},Eb=F("cell-over"),Fb=F("cell-execute"),Sb=(e,t)=>ri(t+"x"+e),Qb={inserttable:n=>{let e=F("size-label"),i=(r=>{var e=[];for(let o=0;o<10;o++){let t=[];for(let e=0;e<10;e++)t.push(((t,o,e)=>{let r=e=>k(e,Fb,{row:t,col:o}),n=(e,t)=>{t.stop(),r(e)};return ii({dom:{tag:"div",attributes:{role:"button","aria-labelledby":e}},behaviours:O([V("insert-table-picker-cell",[D(ea(),z.focus),D(ba(),r),D(ia(),n),D(wa(),n)]),h.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),z.config({onFocus:e=>k(e,Eb,{row:t,col:o})})])})})(o,e,r));e.push(t)}return e})(e),t=Sb(0,0),s=K({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:e}},components:[t],behaviours:O([P.config({})])});return{type:"widget",data:{value:F("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[v0.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:(o=i,Ce(o,e=>y(e,si)).concat(s.asSpec())),behaviours:O([V("insert-table-picker",[$a(e=>{P.set(s.get(e),[t])}),Ya(Eb,(e,t,o)=>{var{row:o,col:r}=o.event,n=i,a=o,A=r;for(let t=0;t<10;t++)for(let e=0;e<10;e++)h.set(n[t][e],t<=a&&e<=A);P.set(s.get(e),[Sb(o+1,r+1)])}),Ya(Fb,(e,t,o)=>{var{row:o,col:r}=o.event;n.onAction({numRows:o+1,numColumns:r+1}),_(e,Ba())})]),R.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]};var o},colorswatch:(t,e)=>{var o=((e,t)=>{let o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>bb(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o),e=>e.concat(hb(o)))})(t,e),r=e.colorinput.getColorCols(t.initData.storageKey),o={..._b(F("menu-value"),o,e=>{t.onAction({value:e})},r,"color",Ph.CLOSE_ON_EXECUTE,t.select.getOr(Ae),e.shared.providers),markers:of("color"),movement:kb(r,"color")};return{type:"widget",data:{value:F("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[v0.widget(lp.sketch(o))]}}},Ub=e=>({type:"separator",dom:{tag:"div",classes:[zh,"tox-collection__group-heading"]},components:e.text.map(ri).toArray()}),Ib=Object.freeze({__proto__:null,getCoupled:(e,t,o,r)=>o.getOrCreate(e,t,r),getExistingCoupled:(e,t,o,r)=>o.getExisting(e,t,r)}),Tb=[mn("others",rn(M.value,jr()))],Mb=Object.freeze({__proto__:null,init:()=>{let n={},a=(e,t)=>{if(0===De(e.others).length)throw new Error("Cannot find any known coupled components");return C(n,t)},e=E({});return FA({readState:e,getExisting:(e,t,o)=>a(t,o).orThunk(()=>(C(t.others,o).getOrDie("No information found for coupled component: "+o),Q.none())),getOrCreate:(t,o,r)=>a(o,r).getOrThunk(()=>{var e=C(o.others,r).getOrDie("No information found for coupled component: "+r)(t),e=t.getSystem().build(e);return n[r]=e})})}}),Hb=_s({fields:Tb,name:"coupling",apis:Ib,state:Mb}),Db=e=>{let o=Q.none(),t=[],r=e=>{n()?a(e):t.push(e)},n=()=>o.isSome(),a=t=>{o.each(e=>{setTimeout(()=>{t(e)},0)})};return e(e=>{n()||(o=Q.some(e),U(t,a),t=[])}),{get:r,map:o=>Db(t=>{r(e=>{t(o(e))})}),isReady:n}},Ob={nu:Db,pure:t=>Db(e=>{e(t)})},Lb=e=>{setTimeout(()=>{throw e},0)},Nb=o=>{let e=e=>{o().then(e,Lb)};return{map:e=>Nb(()=>o().then(e)),bind:t=>Nb(()=>o().then(e=>t(e).toPromise())),anonBind:e=>Nb(()=>o().then(()=>e.toPromise())),toLazy:()=>Ob.nu(e),toCached:()=>{let e=null;return Nb(()=>e=null===e?o():e)},toPromise:o,get:e}},Rb=e=>Nb(()=>new Promise(e)),Pb=e=>Nb(()=>Promise.resolve(e)),Vb=E("sink"),zb=E(Nc({name:Vb(),overrides:E({dom:{tag:"div"},behaviours:O([vd.config({useFixed:ie})]),events:Ka([Ja(ra()),Ja(Yn()),Ja(ia())])})})),Kb=(e,t)=>{let o=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold(()=>({type:"hotspot",hotspot:o,overrides:r}),e=>({type:"hotspot",hotspot:o,overrides:r,layouts:e}))},Zb=(e,t,o,r,n,a,A)=>((e,t,n,o,a,r,A)=>{t=t;let i=(0,e.fetch)(o).map(t),s=Wb(o,e);return i.map(e=>e.bind(e=>Q.from(fp.sketch({...r.menu(),uid:fA(""),data:e,highlightOnOpen:A,onOpenMenu:(e,t)=>{var o=s().getOrDie();vd.position(o,t,{anchor:n}),u.decloak(a)},onOpenSubmenu:(e,t,o)=>{var r=s().getOrDie();vd.position(r,o,{anchor:{type:"submenu",item:t}}),u.decloak(a)},onRepositionMenu:(e,t,o)=>{let r=s().getOrDie();vd.position(r,t,{anchor:n}),U(o,e=>{vd.position(r,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})})},onEscape:()=>(z.focus(o),u.close(a),Q.some(!0))}))))})(e,t,Kb(e,o),o,r,n,A).map(e=>(e.fold(()=>{u.isOpen(r)&&u.close(r)},e=>{u.cloak(r),u.open(r,e),a(r)}),r)),Gb=(e,t,o,r,n,a,A)=>(u.close(r),Pb(r)),jb=(e,t,o,r,n,a)=>{var A=Hb.getCoupled(o,"sandbox");return(u.isOpen(A)?Gb:Zb)(e,t,o,A,r,n,a)},Wb=(t,e)=>t.getSystem().getByUid(e.uid+"-"+Vb()).map(e=>()=>M.value(e)).getOrThunk(()=>e.lazySink.fold(()=>()=>M.error(new Error("No internal sink is specified, nor could an external sink be found")),e=>()=>e(t))),Xb=e=>{u.getState(e).each(e=>{fp.repositionMenus(e)})},Yb=(A,i,s)=>{let l=wi(),e=Wb(i,A);return{dom:{tag:"div",classes:A.sandboxClasses,attributes:{id:l.id,role:"listbox"}},behaviours:mc(A.sandboxBehaviours,[L.config({store:{mode:"memory",initialValue:i}}),u.config({onOpen:(e,t)=>{var o,r,n,a=Kb(A,i);l.link(i.element),A.matchWidth&&(o=a.hotspot,r=t,n=A.useMinWidth,r=S.getCurrent(r).getOr(r),o=Co(o.element),n?T(r.element,"min-width",o+"px"):(n=r.element,r=o,yo.set(n,r))),A.onOpen(a,e,t),void 0!==s&&void 0!==s.onOpen&&s.onOpen(e,t)},onClose:(e,t)=>{l.unlink(i.element),void 0!==s&&void 0!==s.onClose&&s.onClose(e,t)},isPartOf:(e,t,o)=>xi(t,o)||xi(i,o),getAttachPoint:()=>e().getOrDie()}),S.config({find:e=>u.getState(e).bind(e=>S.getCurrent(e))}),Ss.config({channels:{...Xd({isExtraPart:Ae}),...Jd({doReposition:Xb})}})])}},Jb=e=>{e=Hb.getCoupled(e,"sandbox");Xb(e)},qb=()=>[l("sandboxClasses",[]),gc("sandboxBehaviours",[S,Ss,u,L])],$b=E([a("dom"),a("fetch"),e("onOpen"),Ti("onExecute"),l("getHotspot",Q.some),l("getAnchorOverrides",E({})),vl(),cc("dropdownBehaviours",[h,Hb,R,z]),a("toggleClass"),l("eventOrder",{}),i("lazySink"),l("matchWidth",!1),l("useMinWidth",!1),i("role")].concat(qb())),ev=E([Lc({schema:[Qi(),l("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),zb()]),tv=cu({name:"Dropdown",configFields:$b(),partFields:ev(),factory:(r,e,t,n)=>{let o=e=>{u.getState(e).each(e=>{fp.highlightPrimary(e)})},a=(e,t,o)=>jb(r,v,e,n,t,o),A={expand:e=>{h.isOn(e)||a(e,B,hm.HighlightNone).get(B)},open:e=>{h.isOn(e)||a(e,B,hm.HighlightMenuAndItem).get(B)},refetch:t=>Hb.getExistingCoupled(t,"sandbox").fold(()=>a(t,B,hm.HighlightMenuAndItem).map(B),e=>Zb(r,v,t,e,n,B,hm.HighlightMenuAndItem).map(B)),isOpen:h.isOn,close:e=>{h.isOn(e)&&a(e,B,hm.HighlightMenuAndItem).get(B)},repositionMenus:e=>{h.isOn(e)&&Jb(e)}},i=(e,t)=>(Ra(e),Q.some(!0));return{uid:r.uid,dom:r.dom,components:e,behaviours:uc(r.dropdownBehaviours,[h.config({toggleClass:r.toggleClass,aria:{mode:"expanded"}}),Hb.config({others:{sandbox:e=>Yb(r,e,{onOpen:()=>h.on(e),onClose:()=>h.off(e)})}}),R.config({mode:"special",onSpace:i,onEnter:i,onDown:(t,e)=>{if(tv.isOpen(t)){let e=Hb.getCoupled(t,"sandbox");o(e)}else tv.open(t);return Q.some(!0)},onEscape:(e,t)=>tv.isOpen(e)?(tv.close(e),Q.some(!0)):Q.none()}),z.config({})]),events:Zm(Q.some(e=>{a(e,o,hm.HighlightMenuAndItem).get(B)})),eventOrder:{...r.eventOrder,[ba()]:["disabling","toggling","alloy.base.behaviour"]},apis:A,domModification:{attributes:{"aria-haspopup":"true",...r.role.fold(()=>({}),e=>({role:e})),..."button"===r.dom.tag?{type:C(r.dom,"attributes").bind(e=>C(e,"type")).getOr("button")}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),ov=(e,r,n)=>{pf(e).each(t=>{var o,e;o=t,e=n,$t(e.element,"id").each(e=>x(o.element,"aria-activedescendant",e)),(KA((e=r).element,bf)?Q.some(e.element):fi(e.element,"."+bf)).each(e=>{$t(e,"id").each(e=>x(t.element,"aria-controls",e))})}),x(n.element,"aria-selected","true")},rv=(e,t,o)=>{x(o.element,"aria-selected","false")},nv=e=>Hb.getExistingCoupled(e,"sandbox").bind(mf).map(hf).map(e=>e.fetchPattern).getOr(""),av=((rc=X0=X0||{})[rc.ContentFocus=0]="ContentFocus",rc[rc.UiFocus=1]="UiFocus",(e,t,r,o,n)=>{let a=r.shared.providers,A=e=>n?{...e,shortcut:Q.none(),icon:e.text.isSome()?Q.none():e.icon}:e;switch(e.type){case"menuitem":return l=e,nn("menuitem",U1,l).fold(_f,e=>Q.some(((e,t,o,r=!0)=>{r=p0({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:Q.none(),ariaLabel:e.text,caret:Q.none(),checkMark:Q.none(),shortcutContent:e.shortcut},o,r);return a0({data:A0(e),getApi:t=>({isEnabled:()=>!N.isDisabled(t),setEnabled:e=>N.set(t,!e)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,o)})(A(e),t,a,o)));case"nestedmenuitem":return l=e,nn("nestedmenuitem",I1,l).fold(_f,e=>Q.some(((e,t,o,r=!0,n=!1)=>{n=n?(n=o.icons,s0("chevron-down",n,[Xh])):(n=o.icons,s0("chevron-right",n,[Xh])),n=p0({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:Q.none(),ariaLabel:e.text,caret:Q.some(n),checkMark:Q.none(),shortcutContent:e.shortcut},o,r);return a0({data:A0(e),getApi:o=>({isEnabled:()=>!N.isDisabled(o),setEnabled:e=>N.set(o,!e),setIconFill:(e,t)=>{fi(o.element,`svg path[class="${e}"], rect[class="${e}"]`).each(e=>{x(e,"fill",t)})}}),enabled:e.enabled,onAction:B,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},n,t,o)})(A(e),t,a,o,n)));case"togglemenuitem":return s=e,nn("togglemenuitem",T1,s).fold(_f,e=>Q.some(((e,t,o,r=!0)=>{r=p0({iconContent:e.icon,textContent:e.text,htmlContent:Q.none(),ariaLabel:e.text,checkMark:Q.some(g0(o.icons)),caret:Q.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,r);return Fr(a0({data:A0(e),enabled:e.enabled,getApi:t=>({setActive:e=>{h.set(t,e)},isActive:()=>h.isOn(t),isEnabled:()=>!N.isDisabled(t),setEnabled:e=>N.set(t,!e)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,o),{toggling:{toggleClass:Gh,toggleOnExecute:!1,selected:e.active}})})(A(e),t,a,o)));case"separator":return s=e,nn("separatormenuitem",o1,s).fold(_f,e=>Q.some(Ub(e)));case"fancymenuitem":return i=e,nn("fancymenuitem",Q1,i).fold(_f,e=>{return t=e,o=r,C(Qb,t.fancytype).map(e=>e(t,o));var t,o});default:return console.error("Unknown item in general menu",e),Q.none()}var i,s,l}),Av=(e,A,i,t,s,l,d)=>{let r=1===t,n=!r||Cf(e);return Ye(y(e,e=>{switch(e.type){case"separator":return o=e,nn("Autocompleter.Separator",o1,o).fold(_f,e=>Q.some(Ub(e)));case"cardmenuitem":return o=e,nn("cardmenuitem",_1,o).fold(_f,t=>{return Q.some((e={...t,onAction:e=>{t.onAction(e),i(t.value,t.meta)}},o=s,r=l,n={itemBehaviours:h0(t.meta,l),cardText:{matchText:A,highlightOn:d}},a={dom:m0(e.label),optComponents:[Q.some({dom:{tag:"div",classes:[Jh,qh]},components:b0(e.items,n)})]},a0({data:A0({text:Q.none(),...e}),enabled:e.enabled,getApi:o=>({isEnabled:()=>!N.isDisabled(o),setEnabled:t=>{N.set(o,!t),U(Zl(o.element,"*"),e=>{o.getSystem().getByDom(e).each(e=>{e.hasConfigured(N)&&N.set(e,!t)})})}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:Q.from(n.itemBehaviours).getOr([])},a,o,r.providers)));var e,o,r,n,a});default:return t=e,nn("Autocompleter.Item",r1,t).fold(_f,e=>Q.some(((t,o,e,r,n,a,A=!0)=>{e=p0({presets:"normal",textContent:Q.none(),htmlContent:e?t.text.map(e=>f0(e,o)):Q.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:Q.none(),checkMark:Q.none(),caret:Q.none(),value:t.value},a.providers,A,t.icon);return a0({data:A0(t),enabled:t.enabled,getApi:E({}),onAction:e=>r(t.value,t.meta),onSetup:E(B),triggersSubmenu:!1,itemBehaviours:h0(t.meta,a)},e,n,a.providers)})(e,A,r,i,s,l,n)))}var t,o}))},iv=(e,t,o,r,n,a)=>{let A=Cf(t),i=Ye(y(t,e=>{var t=e=>av(e,o,r,(e=e,n?!je(e,"text"):A),n);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?t({...e,enabled:!1}):t(e)})),s="no-search"===a.searchMode?{menuType:"normal"}:{menuType:"searchable",searchMode:a};return(n?kf:Ef)(e,A,i,1,s)},sv=e=>fp.singleData(e.value,e),lv=(A,n)=>{let i=H(!1),t=H(!1),a=ii(bp.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:O([V("dismissAutocompleter",[D(Ua(),()=>c())])]),lazySink:n.getSink})),e=()=>bp.isOpen(a),s=t.get,l=()=>{e()&&bp.hide(a)},d=()=>bp.getContent(a).bind(e=>Ue(e.components(),0)),c=()=>A.execCommand("mceAutocompleterClose"),o=e=>{var o,r,t=(e=>{let t=He(e,e=>Q.from(e.columns)).getOr(1);return Ce(e,a=>{var e=a.items;return Av(e,a.matchText,(o,r)=>{var n,e=A.selection.getRng();n=A.dom,e=e,Rh(I(e.startContainer)).map(e=>{var t=n.createRng();return t.selectNode(e.dom),t}).each(e=>{var t={hide:()=>c(),reload:e=>{l(),A.execCommand("mceAutocompleterReload",!1,{fetchOptions:e})}};i.set(!0),a.onAction(t,e,o,r),i.set(!1)})},t,Ph.BUBBLE_TO_SANDBOX,n,a.highlightOn)})})(e);0<t.length?(o=e,r=t,e=I(A.getBody()),fi(e,Nh).each(e=>{var t=He(o,e=>Q.from(e.columns)).getOr(1);bp.showMenuAt(a,{anchor:{type:"node",root:I(A.getBody()),node:Q.from(e)}},((e,t,o,r)=>{let n=kb(t,r),a=of(r);return{data:sv({...e,movement:n,menuBehaviours:H1("auto"!==t?[]:[$a((o,e)=>{M1(o,4,a.item).each(({numColumns:e,numRows:t})=>{R.setGridSize(o,t,e)})})])}),menu:{markers:of(r),fakeFocus:o===X0.ContentFocus}}})(Ef("autocompleter-value",!0,r,t,{menuType:"normal"}),t,X0.ContentFocus,"normal"))}),d().each(w.highlightFirst)):l()};A.on("AutocompleterStart",({lookupData:e})=>{t.set(!0),i.set(!1),o(e)}),A.on("AutocompleterUpdate",({lookupData:e})=>o(e)),A.on("AutocompleterEnd",()=>{l(),t.set(!1),i.set(!1)});{var u={cancelIfNecessary:c,isMenuOpen:e,isActive:s,isProcessingAction:i.get,getMenu:d},g=A;let o=(e,t)=>{k(e,ra(),{raw:t})},r=()=>u.getMenu().bind(w.getHighlighted);g.on("keydown",t=>{var e=t.which;u.isActive()&&(u.isMenuOpen()?13===e?(r().each(Ra),t.preventDefault()):40===e?(r().fold(()=>{u.getMenu().each(w.highlightFirst)},e=>{o(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==e&&38!==e&&39!==e||r().each(e=>{o(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==e&&38!==e&&40!==e||u.cancelIfNecessary())}),g.on("NodeChange",e=>{u.isActive()&&!u.isProcessingAction()&&Rh(I(e.element)).isNone()&&u.cancelIfNecessary()})}},dv=["visible","hidden"],cv=e=>!!bt(e)&&(e=Ao(e,"overflow"),0<at(e).length)&&!ge(dv,e),uv=(o,r)=>{if(Dh(o)){o=r;let e=Kl(o,cv),t=0===e.length?Zt(o).map(Gt).map(e=>Kl(e,cv)).getOr([]):e;return Ie(t).map(e=>({element:e,others:t.slice(1)}))}return Q.none()},gv=e=>{var t=[...y(e.others,ur),pr()];return e=ur(e.element),t=t,we(t,(e,t)=>mr(e,t),e)},mv=(e,t,o)=>bi(e,t,o).isSome(),pv=(t,o)=>{let r=null;return{cancel:()=>{null!==r&&(clearTimeout(r),r=null)},schedule:(...e)=>{r=setTimeout(()=>{t.apply(null,e),r=null},o)}}},hv=e=>{e=e.raw;return void 0===e.touches||1!==e.touches.length?Q.none():Q.some(e.touches[0])},fv=(t,e)=>{let o={stopBackspace:!0,...e},r=(o=>{let n=qs(),r=H(!1),a=pv(e=>{o.triggerEvent(xa(),e),r.set(!0)},400),A=Ln([{key:Gn(),value:t=>(hv(t).each(e=>{a.cancel();e={x:e.clientX,y:e.clientY,target:t.target};a.schedule(t),r.set(!1),n.set(e)}),Q.none())},{key:jn(),value:e=>(a.cancel(),hv(e).each(r=>{n.on(e=>{var t,o;t=r,e=e,o=Math.abs(t.clientX-e.x),t=Math.abs(t.clientY-e.y),(5<o||5<t)&&n.clear()})}),Q.none())},{key:Wn(),value:t=>(a.cancel(),n.get().filter(e=>kt(e.target,t.target)).map(e=>r.get()?(t.prevent(),!1):o.triggerEvent(wa(),t)))}]);return{fireIfReady:(t,e)=>C(A,e).bind(e=>e(t))}})(o),n=y(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),e=>el(t,e,t=>{r.fireIfReady(t,e).each(e=>{e&&t.kill()}),o.triggerEvent(e,t)&&t.kill()})),a=qs(),A=el(t,"paste",t=>{r.fireIfReady(t,"paste").each(e=>{e&&t.kill()}),o.triggerEvent("paste",t)&&t.kill(),a.set(setTimeout(()=>{o.triggerEvent(ha(),t)},0))}),i=el(t,"keydown",e=>{var t;o.triggerEvent("keydown",e)?e.kill():!o.stopBackspace||(t=e).raw.which!==Ou[0]||ge(["input","textarea"],ht(t.target))||mv(t.target,'[contenteditable="true"]')||e.prevent()}),s=el(t,"focusin",e=>{o.triggerEvent("focusin",e)&&e.kill()}),l=qs(),d=el(t,"focusout",e=>{o.triggerEvent("focusout",e)&&e.kill(),l.set(setTimeout(()=>{o.triggerEvent(pa(),e)},0))});return{unbind:()=>{U(n,e=>{e.unbind()}),i.unbind(),s.unbind(),d.unbind(),A.unbind(),a.on(clearTimeout),l.on(clearTimeout)}}},bv=(e,t)=>{e=C(e,"target").getOr(t);return H(e)},vv=Dn([{stopped:[]},{resume:["element"]},{complete:[]}]),wv=(e,r,t,o,n,a)=>{let A=e(r,o),i=((e,t)=>{let o=H(!1),r=H(!1);return{stop:()=>{o.set(!0)},cut:()=>{r.set(!0)},isStopped:o.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}})(t,n);return A.fold(()=>(a.logEventNoHandlers(r,o),vv.complete()),t=>{let o=t.descHandler;return UA(o)(i),i.isStopped()?(a.logEventStopped(r,t.element,o.purpose),vv.stopped()):i.isCut()?(a.logEventCut(r,t.element,o.purpose),vv.complete()):It(t.element).fold(()=>(a.logNoParent(r,t.element,o.purpose),vv.complete()),e=>(a.logEventResponse(r,t.element,o.purpose),vv.resume(e)))})},xv=(t,o,r,e,n,a)=>wv(t,o,r,e,n,a).fold(ie,e=>xv(t,o,r,e,n,a),Ae),Bv=(e,t,o,r,n)=>{var a=bv(o,r);return xv(e,t,o,r,a,n)},yv=()=>{let A=(()=>{let a={};return{registerId:(r,n,e)=>{Le(e,(e,t)=>{var o=void 0!==a[t]?a[t]:{};o[n]={cHandler:oe.apply(void 0,[(e=e).handler].concat(r)),purpose:e.purpose},a[t]=o})},unregisterId:o=>{Le(a,(e,t)=>{je(e,o)&&delete e[o]})},filterByType:e=>C(a,e).map(e=>Ke(e,(e,t)=>({id:t,descHandler:e}))).getOr([]),find:(e,t,o)=>C(a,t).bind(r=>Pn(o,e=>{return t=r,o=e,hA(o).bind(e=>C(t,e)).map(e=>({element:o,descHandler:e}));var t,o},e))}})(),i={},s=e=>{hA(e.element).each(e=>{delete i[e],A.unregisterId(e)})};return{find:(e,t,o)=>A.find(e,t,o),filter:e=>A.filterByType(e),register:e=>{t=(o=e).element;var o,t=hA(t).getOrThunk(()=>{return e=o.element,t=F(gA+"uid-"),pA(e,t),t;var e,t});if(We(i,t)){var r=e,n=t,a=i[n];if(a!==r)throw new Error('The tagId "'+n+'" is already used by: '+AA(a.element)+"\nCannot use it for: "+AA(r.element)+"\nThe conflicting element is"+(jt(a.element)?" ":" not ")+"already in the DOM");s(r)}n=[e];A.registerId(n,t,e.events),i[t]=e},unregister:s,getById:e=>C(i,e)}},Cv=du({name:"Container",factory:e=>{let{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:e.containerBehaviours.dump,events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[l("components",[]),cc("containerBehaviours",[]),l("events",{}),l("domModification",{}),l("eventOrder",{})]}),_v=o=>{let r=t=>It(o.element).fold(ie,e=>kt(t,e)),n=yv(),s=(e,t)=>n.find(r,e,t),e=fv(o.element,{triggerEvent:(n,a)=>Ci(n,a.target,e=>{return t=s,o=n,r=a,e=e,Bv(t,o,r,r.target,e);var t,o,r})}),a={debugInfo:E("real"),triggerEvent:(t,o,r)=>{Ci(t,o,e=>Bv(s,t,r,o,e))},triggerFocus:(A,i)=>{hA(A).fold(()=>{Us(A)},e=>{Ci(ma(),A,e=>{return t=s,o=ma(),r={originator:i,kill:B,prevent:B,target:A},n=A,e=e,a=bv(r,n),wv(t,o,r,n,a,e),!1;var t,o,r,n,a})})},triggerEscape:(e,t)=>{a.triggerEvent("keydown",e.element,t.event)},getByUid:e=>m(e),getByDom:e=>p(e),build:ii,buildOrPatch:Ai,addToGui:e=>{i(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{t(e)},removeFromWorld:e=>{A(e)},broadcast:e=>{c(e)},broadcastOn:(e,t)=>{u(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:ie},t=e=>{e.connect(a),wt(e.element)||(n.register(e),U(e.components(),t),a.triggerEvent(Ca(),e.element,{target:e.element}))},A=e=>{wt(e.element)||(U(e.components(),A),n.unregister(e)),e.disconnect()},i=e=>{kd(o,e)},l=e=>{Sd(e)},d=t=>{var e=n.filter(fa());U(e,e=>{e=e.descHandler;UA(e)(t)})},c=e=>{d({universal:!0,data:e})},u=(e,t)=>{d({universal:!1,channels:e,data:t})},g=(e,o)=>{{e=n.filter(e);let t=(e=>{let t=H(!1);return{stop:()=>{t.set(!0)},cut:B,isStopped:t.get,isCut:Ae,event:e,setSource:ne("Cannot set source of a broadcasted event"),getSource:ne("Cannot get source of a broadcasted event")}})(o);return U(e,e=>{e=e.descHandler;UA(e)(t)}),t.isStopped()}},m=e=>n.getById(e).fold(()=>M.error(new Error('Could not find component with uid: "'+e+'" in system.')),M.value),p=e=>{e=hA(e).getOr("not found");return m(e)};return t(o),{root:o,element:o.element,destroy:()=>{e.unbind(),tr(o.element)},add:i,remove:l,getByUid:m,getByDom:p,addToWorld:t,removeFromWorld:A,broadcast:c,broadcastOn:u,broadcastEvent:g}},kv=E([l("prefix","form-field"),cc("fieldBehaviours",[S,L])]),Ev=E([Nc({schema:[a("dom")],name:"label"}),Nc({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[a("text")],name:"aria-descriptor"}),Oc({factory:{sketch:e=>{var t=((e,o)=>{let r={};return Le(e,(e,t)=>{ge(o,t)||(r[t]=e)}),r})(e,["factory"]);return e.factory.sketch(t)}},schema:[a("factory")],name:"field"})]),Z=cu({name:"FormField",configFields:kv(),partFields:Ev(),factory:(n,e,t,o)=>{var r=uc(n.fieldBehaviours,[S.config({find:e=>Yc(e,n,"field")}),L.config({store:{mode:"manual",getValue:e=>S.getCurrent(e).bind(L.getValue),setValue:(e,t)=>{S.getCurrent(e).each(e=>{L.setValue(e,t)})}}})]),a=Ka([$a((e,t)=>{let r=qc(e,n,["label","field","aria-descriptor"]);r.field().each(o=>{let t=F(n.prefix);r.label().each(e=>{x(e.element,"for",t),x(o.element,"id",t)}),r["aria-descriptor"]().each(e=>{var t=F(n.prefix);x(e.element,"id",t),x(o.element,"aria-describedby",t)})})})]);return{uid:n.uid,dom:n.dom,components:e,behaviours:r,events:a,apis:{getField:e=>Yc(e,n,"field"),getLabel:e=>Yc(e,n,"label")}}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}}),Fv=Object.freeze({__proto__:null,exhibit:(e,t)=>QA({attributes:Ln([{key:t.tabAttr,value:"true"}])})}),Sv=[l("tabAttr","data-alloy-tabstop")],Qv=_s({fields:Sv,name:"tabstopping",active:Fv});var Uv=tinymce.util.Tools.resolve("tinymce.html.Entities");let Iv=(e,t,o,r)=>{e=e,t=t,o=o,r=r;o={dom:Tv(o),components:e.toArray().concat([t]),fieldBehaviours:O(r)};return Z.sketch(o)},Tv=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Mv=(e,t)=>Z.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ri(t.translate(e))]}),Hv=F("form-component-change"),Dv=F("form-close"),Ov=F("form-cancel"),Lv=F("form-action"),Nv=F("form-submit"),Rv=F("form-block"),Pv=F("form-unblock"),Vv=F("form-tabchange"),zv=F("form-resize"),Kv=["input","textarea"],Zv=e=>{e=ht(e);return ge(Kv,e)},Gv=(e,t)=>{var o=t.getRoot(e).getOr(e.element);zA(o,t.invalidClass),t.notify.each(t=>{Zv(e.element)&&x(e.element,"aria-invalid",!1),t.getContainer(e).each(e=>{nA(e,t.validHtml)}),t.onValid(e)})},jv=(t,e,o,r)=>{var n=e.getRoot(t).getOr(t.element);VA(n,e.invalidClass),e.notify.each(e=>{Zv(t.element)&&x(t.element,"aria-invalid",!0),e.getContainer(t).each(e=>{nA(e,r)}),e.onInvalid(t,r)})},Wv=(t,e,o)=>e.validator.fold(()=>Pb(M.value(!0)),e=>e.validate(t)),Xv=(t,o,e)=>(o.notify.each(e=>{e.onValidate(t)}),Wv(t,o).map(e=>t.getSystem().isConnected()?e.fold(e=>(jv(t,o,0,e),M.error(e)),e=>(Gv(t,o),M.value(e))):M.error("No longer in system"))),Yv=Object.freeze({__proto__:null,markValid:Gv,markInvalid:jv,query:Wv,run:Xv,isInvalid:(e,t)=>{e=t.getRoot(e).getOr(e.element);return KA(e,t.invalidClass)}}),Jv=Object.freeze({__proto__:null,events:(t,e)=>t.validator.map(e=>Ka([D(e.onEvent,e=>{Xv(e,t).get(v)})].concat(e.validateOnLoad?[$a(e=>{Xv(e,t).get(B)})]:[]))).getOr({})}),qv=[a("invalidClass"),l("getRoot",Q.none),En("notify",[l("aria","alert"),l("getContainer",Q.none),l("validHtml",""),e("onValid"),e("onInvalid"),e("onValidate")]),En("validator",[a("validate"),l("onEvent","input"),l("validateOnLoad",!0)])],$v=_s({fields:qv,name:"invalidating",active:Jv,apis:Yv,extra:{validation:t=>e=>{e=L.getValue(e);return Pb(t(e))}}}),ew=_s({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ka([Za(ca(),ie)]),exhibit:()=>QA({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),tw=F("color-input-change"),ow=F("color-swatch-change"),rw=F("color-picker-cancel"),nw=Nc({schema:[a("dom")],name:"label"}),aw=t=>Nc({name:t+"-edge",overrides:e=>e.model.manager.edgeActions[t].fold(()=>({}),r=>({events:Ka([ja(Gn(),(e,t,o)=>r(e,o),[e]),ja(Yn(),(e,t,o)=>r(e,o),[e]),ja(Jn(),(e,t,o)=>{o.mouseIsDown.get()&&r(e,o)},[e])])}))}),Aw=aw("top-left"),iw=aw("top"),sw=aw("top-right"),lw=aw("right"),dw=aw("bottom-right"),cw=aw("bottom"),uw=aw("bottom-left"),gw=[nw,aw("left"),lw,iw,cw,Aw,sw,uw,dw,Oc({name:"thumb",defaults:E({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ka([Xa(Gn(),e,"spectrum"),Xa(jn(),e,"spectrum"),Xa(Wn(),e,"spectrum"),Xa(Yn(),e,"spectrum"),Xa(Jn(),e,"spectrum"),Xa($n(),e,"spectrum")])})}),Oc({schema:[un("mouseIsDown",()=>H(!1))],name:"spectrum",overrides:o=>{let r=o.model.manager,n=(t,e)=>r.getValueFromEvent(e).map(e=>r.setValueFrom(t,o,e));return{behaviours:O([R.config({mode:"special",onLeft:e=>r.onLeft(e,o),onRight:e=>r.onRight(e,o),onUp:e=>r.onUp(e,o),onDown:e=>r.onDown(e,o)}),z.config({})]),events:Ka([D(Gn(),n),D(jn(),n),D(Yn(),n),D(Jn(),(e,t)=>{o.mouseIsDown.get()&&n(e,t)})])}}})],mw=E("slider.change.value"),pw=e=>{var t=e.event.raw;if(-1!==t.type.indexOf("touch")){let e=t;return void 0!==e.touches&&1===e.touches.length?Q.some(e.touches[0]).map(e=>vo(e.clientX,e.clientY)):Q.none()}{let e=t;return void 0!==e.clientX?Q.some(e).map(e=>vo(e.clientX,e.clientY)):Q.none()}},hw=e=>e.model.minX,fw=e=>e.model.minY,bw=e=>e.model.minX-1,vw=e=>e.model.minY-1,ww=e=>e.model.maxX,xw=e=>e.model.maxY,Bw=e=>e.model.maxX+1,yw=e=>e.model.maxY+1,Cw=(e,t,o)=>t(e)-o(e),_w=e=>Cw(e,ww,hw),kw=e=>Cw(e,xw,fw),Ew=e=>_w(e)/2,Fw=e=>kw(e)/2,Sw=e=>e.stepSize,Qw=e=>e.snapToGrid,Uw=e=>e.snapStart,Iw=e=>e.rounded,Tw=(e,t)=>void 0!==e[t+"-edge"],Mw=e=>Tw(e,"left"),Hw=e=>Tw(e,"right"),Dw=e=>Tw(e,"top"),Ow=e=>Tw(e,"bottom"),Lw=e=>e.model.value.get(),Nw=(e,t)=>({x:e,y:t}),Rw=(e,t)=>{k(e,mw(),{value:t})},Pw=(e,t,o,r)=>e<t?e:o<e?o:e===t?t-1:Math.max(t,e-r),Vw=(e,t,o,r)=>o<e?e:e<t?t:e===o?o+1:Math.min(o,e+r),zw=(e,t,o)=>Math.max(t,Math.min(o,e)),Kw=e=>{let{min:o,max:r,range:n,value:a,step:A,snap:i,snapStart:s,rounded:l,hasMinEdge:t,hasMaxEdge:d,minBound:c,maxBound:u,screenRange:g}=e,m=t?o-1:o,p=d?r+1:r;if(a<c)return m;if(u<a)return p;{w=c;let e=Math.min(u,Math.max(a,w))-w,t=zw(e/g*n+o,m,p);return i&&t>=o&&t<=r?(h=t,f=o,b=r,v=A,s.fold(()=>{var e=Math.round((h-f)/v)*v;return zw(f+e,f-1,b+1)},e=>{var t=Math.round((h-e)%v/v),o=Math.floor((h-e)/v),r=Math.floor((b-e)/v),r=e+Math.min(r,o+t)*v;return Math.max(e,r)})):l?Math.round(t):t}var h,f,b,v,w},Zw=e=>{var{min:e,max:t,range:o,value:r,hasMinEdge:n,hasMaxEdge:a,maxBound:A,maxOffset:i,centerMinEdge:s,centerMaxEdge:l}=e;return r<e?n?0:s:t<r?a?A:l:(r-e)/o*i},Gw="top",jw="right",Ww="bottom",Xw="left",Yw=e=>e.element.dom.getBoundingClientRect(),Jw=(e,t)=>e[t],qw=e=>{e=Yw(e);return Jw(e,Xw)},$w=e=>{e=Yw(e);return Jw(e,jw)},ex=e=>{e=Yw(e);return Jw(e,Gw)},tx=e=>{e=Yw(e);return Jw(e,Ww)},ox=e=>{e=Yw(e);return Jw(e,"width")},rx=e=>{e=Yw(e);return Jw(e,"height")},nx=(e,t,o)=>(e+t)/2-o,ax=(e,t)=>{var e=Yw(e),t=Yw(t),o=Jw(e,Xw),e=Jw(e,jw),t=Jw(t,Xw);return nx(o,e,t)},Ax=(e,t)=>{var e=Yw(e),t=Yw(t),o=Jw(e,Gw),e=Jw(e,Ww),t=Jw(t,Gw);return nx(o,e,t)},ix=(e,t)=>{k(e,mw(),{value:t})},sx=(e,t,o)=>{o={min:hw(t),max:ww(t),range:_w(t),value:o,step:Sw(t),snap:Qw(t),snapStart:Uw(t),rounded:Iw(t),hasMinEdge:Mw(t),hasMaxEdge:Hw(t),minBound:qw(e),maxBound:$w(e),screenRange:ox(e)};return Kw(o)},lx=o=>(e,t)=>((e,t)=>{t=(0<o?Vw:Pw)(Lw(t),hw(t),ww(t),Sw(t));return ix(e,t),Q.some(t)})(e,t).map(ie),dx=(e,t,o,r,n,a)=>{A=t,a=a,o=o,r=r,n=n,i=ox(A),r=r.bind(e=>Q.some(ax(e,A))).getOr(0),n=n.bind(e=>Q.some(ax(e,A))).getOr(i),o={min:hw(a),max:ww(a),range:_w(a),value:o,hasMinEdge:Mw(a),hasMaxEdge:Hw(a),minBound:qw(A),minOffset:0,maxBound:$w(A),maxOffset:i,centerMinEdge:r,centerMaxEdge:n};var A,i,a=Zw(o);return qw(t)-qw(e)+a},cx=lx(-1),ux=lx(1),gx=Q.none,mx=Q.none,px={"top-left":Q.none(),top:Q.none(),"top-right":Q.none(),right:Q.some((e,t)=>{Rw(e,Bw(t))}),"bottom-right":Q.none(),bottom:Q.none(),"bottom-left":Q.none(),left:Q.some((e,t)=>{Rw(e,bw(t))})},hx=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{t=sx(e,t,o);return ix(e,t),t},setToMin:(e,t)=>{t=hw(t);ix(e,t)},setToMax:(e,t)=>{t=ww(t);ix(e,t)},findValueOfOffset:sx,getValueFromEvent:e=>pw(e).map(e=>e.left),findPositionOfValue:dx,setPositionFromValue:(e,t,o,r)=>{var n=Lw(o),n=dx(e,r.getSpectrum(e),n,r.getLeftEdge(e),r.getRightEdge(e),o),r=Co(t.element)/2;T(t.element,"left",n-r+"px")},onLeft:cx,onRight:ux,onUp:gx,onDown:mx,edgeActions:px}),fx=(e,t)=>{k(e,mw(),{value:t})},bx=(e,t,o)=>{o={min:fw(t),max:xw(t),range:kw(t),value:o,step:Sw(t),snap:Qw(t),snapStart:Uw(t),rounded:Iw(t),hasMinEdge:Dw(t),hasMaxEdge:Ow(t),minBound:ex(e),maxBound:tx(e),screenRange:rx(e)};return Kw(o)},vx=o=>(e,t)=>((e,t)=>{t=(0<o?Vw:Pw)(Lw(t),fw(t),xw(t),Sw(t));return fx(e,t),Q.some(t)})(e,t).map(ie),wx=(e,t,o,r,n,a)=>{A=t,a=a,o=o,r=r,n=n,i=rx(A),r=r.bind(e=>Q.some(Ax(e,A))).getOr(0),n=n.bind(e=>Q.some(Ax(e,A))).getOr(i),o={min:fw(a),max:xw(a),range:kw(a),value:o,hasMinEdge:Dw(a),hasMaxEdge:Ow(a),minBound:ex(A),minOffset:0,maxBound:tx(A),maxOffset:i,centerMinEdge:r,centerMaxEdge:n};var A,i,a=Zw(o);return ex(t)-ex(e)+a},xx=Q.none,Bx=Q.none,yx=vx(-1),Cx=vx(1),_x={"top-left":Q.none(),top:Q.some((e,t)=>{Rw(e,vw(t))}),"top-right":Q.none(),right:Q.none(),"bottom-right":Q.none(),bottom:Q.some((e,t)=>{Rw(e,yw(t))}),"bottom-left":Q.none(),left:Q.none()},kx=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{t=bx(e,t,o);return fx(e,t),t},setToMin:(e,t)=>{t=fw(t);fx(e,t)},setToMax:(e,t)=>{t=xw(t);fx(e,t)},findValueOfOffset:bx,getValueFromEvent:e=>pw(e).map(e=>e.top),findPositionOfValue:wx,setPositionFromValue:(e,t,o,r)=>{var n=Lw(o),n=wx(e,r.getSpectrum(e),n,r.getTopEdge(e),r.getBottomEdge(e),o),r=ho(t.element)/2;T(t.element,"top",n-r+"px")},onLeft:xx,onRight:Bx,onUp:yx,onDown:Cx,edgeActions:_x}),Ex=(e,t)=>{k(e,mw(),{value:t})},Fx=(e,t)=>({x:e,y:t}),Sx=(a,A)=>(e,t)=>{return o=A,e=e,t=t,r=0<a?Vw:Pw,n=o?Lw(t).x:r(Lw(t).x,hw(t),ww(t),Sw(t)),o=o?r(Lw(t).y,fw(t),xw(t),Sw(t)):Lw(t).y,Ex(e,Fx(n,o)),Q.some(n).map(ie);var o,r,n},Qx=Sx(-1,!1),Ux=Sx(1,!1),Ix=Sx(-1,!0),Tx=Sx(1,!0),Mx={"top-left":Q.some((e,t)=>{Rw(e,Nw(bw(t),vw(t)))}),top:Q.some((e,t)=>{Rw(e,Nw(Ew(t),vw(t)))}),"top-right":Q.some((e,t)=>{Rw(e,Nw(Bw(t),vw(t)))}),right:Q.some((e,t)=>{Rw(e,Nw(Bw(t),Fw(t)))}),"bottom-right":Q.some((e,t)=>{Rw(e,Nw(Bw(t),yw(t)))}),bottom:Q.some((e,t)=>{Rw(e,Nw(Ew(t),yw(t)))}),"bottom-left":Q.some((e,t)=>{Rw(e,Nw(bw(t),yw(t)))}),left:Q.some((e,t)=>{Rw(e,Nw(bw(t),Fw(t)))})},Hx=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{var r=sx(e,t,o.left),t=bx(e,t,o.top),o=Fx(r,t);return Ex(e,o),o},setToMin:(e,t)=>{var o=hw(t),t=fw(t);Ex(e,Fx(o,t))},setToMax:(e,t)=>{var o=ww(t),t=xw(t);Ex(e,Fx(o,t))},getValueFromEvent:e=>pw(e),setPositionFromValue:(e,t,o,r)=>{var n=Lw(o),a=dx(e,r.getSpectrum(e),n.x,r.getLeftEdge(e),r.getRightEdge(e),o),n=wx(e,r.getSpectrum(e),n.y,r.getTopEdge(e),r.getBottomEdge(e),o),r=Co(t.element)/2,e=ho(t.element)/2;T(t.element,"left",a-r+"px"),T(t.element,"top",n-e+"px")},onLeft:Qx,onRight:Ux,onUp:Ix,onDown:Tx,edgeActions:Mx}),Dx=cu({name:"Slider",configFields:[l("stepSize",1),l("onChange",B),l("onChoose",B),l("onInit",B),l("onDragStart",B),l("onDragEnd",B),l("snapToGrid",!1),l("rounded",!0),i("snapStart"),mn("model",ln("mode",{x:[l("minX",0),l("maxX",100),un("value",e=>H(e.mode.minX)),a("getInitialValue"),Di("manager",hx)],y:[l("minY",0),l("maxY",100),un("value",e=>H(e.mode.minY)),a("getInitialValue"),Di("manager",kx)],xy:[l("minX",0),l("maxX",100),l("minY",0),l("maxY",100),un("value",e=>H({x:e.mode.minX,y:e.mode.minY})),a("getInitialValue"),Di("manager",Hx)]})),cc("sliderBehaviours",[R,L]),un("mouseIsDown",()=>H(!1))],partFields:gw,factory:(n,e,t,o)=>{let a=e=>Jc(e,n,"thumb"),A=e=>Jc(e,n,"spectrum"),r=e=>Yc(e,n,"left-edge"),i=e=>Yc(e,n,"right-edge"),s=e=>Yc(e,n,"top-edge"),l=e=>Yc(e,n,"bottom-edge"),d=n.model,c=d.manager,u=(e,t)=>{c.setPositionFromValue(e,t,n,{getLeftEdge:r,getRightEdge:i,getTopEdge:s,getBottomEdge:l,getSpectrum:A})},g=(e,t)=>{d.value.set(t);t=a(e);u(e,t)},m=o=>{var e=n.mouseIsDown.get();n.mouseIsDown.set(!1),e&&Yc(o,n,"thumb").each(e=>{var t=d.value.get();n.onChoose(o,e,t)})},p=(e,t)=>{t.stop(),n.mouseIsDown.set(!0),n.onDragStart(e,a(e))},h=(e,t)=>{t.stop(),n.onDragEnd(e,a(e)),m(e)};return{uid:n.uid,dom:n.dom,components:e,behaviours:uc(n.sliderBehaviours,[R.config({mode:"special",focusIn:e=>Yc(e,n,"spectrum").map(R.focusIn).map(ie)}),L.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:g}}),Ss.config({channels:{[jd()]:{onReceive:m}}})]),events:Ka([D(mw(),(e,t)=>{var o;e=e,t=t.event.value,g(e,t),o=a(e),n.onChange(e,o,t),Q.some(!0)}),$a((e,t)=>{var o=d.getInitialValue(),o=(d.value.set(o),a(e)),r=(u(e,o),A(e));n.onInit(e,o,r,d.value.get())}),D(Gn(),p),D(Wn(),h),D(Yn(),p),D($n(),h)]),apis:{resetToMin:e=>{c.setToMin(e,n)},resetToMax:e=>{c.setToMax(e,n)},setValue:g,refresh:u},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),Ox=F("rgb-hex-update"),Lx=F("slider-update"),Nx=F("palette-update"),Rx=[cc("formBehaviours",[L])],Px=e=>"<alloy.field."+e+">",Vx=(r,e)=>({uid:r.uid,dom:r.dom,components:e,behaviours:uc(r.formBehaviours,[L.config({store:{mode:"manual",getValue:e=>{e=$c(e,r);return Ne(e,(e,r)=>e().bind(e=>{return t=S.getCurrent(e),o=new Error(`Cannot find a current component to extract the value from for form part '${r}': `+AA(e.element)),t.fold(()=>M.error(o),M.value);var t,o}).map(L.getValue))},setValue:(o,e)=>{Le(e,(t,e)=>{Yc(o,r,e).each(e=>{S.getCurrent(e).each(e=>{L.setValue(e,t)})})})}}})]),apis:{getField:(e,t)=>Yc(e,r,t).bind(S.getCurrent)}}),zx={getField:kA((e,t,o)=>e.getField(t,o)),sketch:e=>{var t=(()=>{let o=[];return{field:(e,t)=>(o.push(e),Zc("form",Px(e),t)),record:E(o)}})(),e=e(t),t=t.record(),t=y(t,e=>Oc({name:e,pname:Px(e)}));return Au("form",Rx,t,Vx,e)}},Kx=F("valid-input"),Zx=F("invalid-input"),Gx=F("validating-input"),jx="colorcustom.rgb.",Wx=(c,u,g,m)=>{let p=(e,t,o,r,n)=>{var a,A,i=c(jx+"range"),r=[Z.parts.label({dom:{tag:"label",attributes:{"aria-label":r}},components:[ri(o)]}),Z.parts.field({data:n,factory:df,inputAttributes:{type:"text",..."hex"===t?{"aria-live":"polite"}:{}},inputClasses:[u("textfield")],inputBehaviours:O([(a=t,A=e,$v.config({invalidClass:u("invalid"),notify:{onValidate:e=>{k(e,Gx,{type:a})},onValid:e=>{k(e,Kx,{type:a,value:L.getValue(e)})},onInvalid:e=>{k(e,Zx,{type:a,value:L.getValue(e)})}},validator:{validate:e=>{e=L.getValue(e),e=A(e)?M.value(!0):M.error(c("aria.input.invalid"));return Pb(e)},validateOnLoad:!1}})),Qv.config({})]),onSetValue:e=>{$v.isInvalid(e)&&$v.run(e).get(B)}})],o="hex"!==t?[Z.parts["aria-descriptor"]({text:i})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:r.concat(o)}},h=(e,t)=>{var o=t.red,r=t.green,t=t.blue;L.setValue(e,{red:o,green:r,blue:t})},f=K({dom:{tag:"div",classes:[u("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),b=(e,t)=>{f.getOpt(e).each(e=>{T(e.element,"background-color","#"+t.value)})},e=du({factory:()=>{let o={red:H(Q.some(255)),green:H(Q.some(255)),blue:H(Q.some(255)),hex:H(Q.some("ffffff"))},A=e=>o[e].get(),i=(e,t)=>{o[e].set(t)},s=e=>{var t=e.red,o=e.green,e=e.blue;i("red",Q.some(t)),i("green",Q.some(o)),i("blue",Q.some(e))},t=(e,t)=>{t=t.event;"hex"!==t.type?i(t.type,Q.none()):m(e)},r=(e,t)=>{var o,t=t.event;{var r,n,a;"hex"===t.type?(a=e,o=t.value,g(a),o=w0(o),i("hex",Q.some(o.value)),n=H0(o),h(a,n),s(n),k(a,Ox,{hex:o}),b(a,o)):(r=e,n=t.type,a=t.value,a=parseInt(a,10),i(n,Q.some(a)),A("red").bind(o=>A("green").bind(t=>A("blue").map(e=>I0(o,t,e,1)))).each(e=>{e=((t,e)=>{let o=k0(e);return zx.getField(t,"hex").each(e=>{z.isFocused(e)||L.setValue(t,{hex:o.value})}),o})(r,e);k(r,Ox,{hex:e}),b(r,e)}))}},e=e=>({label:c(jx+e+".label"),description:c(jx+e+".description")}),n=e("red"),a=e("green"),l=e("blue"),d=e("hex");return Fr(zx.sketch(e=>({dom:{tag:"form",classes:[u("rgb-form")],attributes:{"aria-label":c("aria.color.picker")}},components:[e.field("red",Z.sketch(p(T0,"red",n.label,n.description,255))),e.field("green",Z.sketch(p(T0,"green",a.label,a.description,255))),e.field("blue",Z.sketch(p(T0,"blue",l.label,l.description,255))),e.field("hex",Z.sketch(p(y0,"hex",d.label,d.description,"ffffff"))),f.asSpec()],formBehaviours:O([$v.config({invalidClass:u("form-invalid")}),V("rgb-form-events",[D(Kx,r),D(Zx,t),D(Gx,t)])])})),{apis:{updateHex:(e,t)=>{L.setValue(e,{hex:t.value});var o=e,r=t;r=H0(r),h(o,r),s(r),b(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}});return e},Xx=(p,h)=>du({name:"ColourPicker",configFields:[a("dom"),l("onValidHex",B),l("onInvalidHex",B)],factory:e=>{let o=Wx(p,h,e.onValidHex,e.onInvalidHex),r=(r=>{let n=Dx.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),a=Dx.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:`<div class=${r("sv-palette-inner-thumb")} role="presentation"></div>`}}),A=(e,t)=>{var{width:o,height:r}=e,e=e.getContext("2d");null!==e&&(e.fillStyle=t,e.fillRect(0,0,o,r),(t=e.createLinearGradient(0,0,o,0)).addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=t,e.fillRect(0,0,o,r),(t=e.createLinearGradient(0,0,0,r)).addColorStop(0,"rgba(0,0,0,0)"),t.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=t,e.fillRect(0,0,o,r))};return du({factory:e=>{var t=E({x:0,y:0}),o=O([S.config({find:Q.some}),z.config({})]);return Dx.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:t},rounded:!1,components:[n,a],onChange:(e,t,o)=>{k(e,Nx,{value:o})},onInit:(e,t,o,r)=>{A(o.element.dom,L0(N0))},sliderBehaviours:o})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,o)=>{o=o,t=t.components()[0].element.dom,o=eb(o,100,100),o=M0(o),A(t,L0(o))},setThumb:(e,t,o)=>{o=tb(H0(o)),Dx.setValue(t,{x:o.saturation,y:100-o.value})}},extraApis:{}})})(h),A={paletteRgba:H(N0),paletteHue:H(0)},n=K((u=h,g=Dx.parts.spectrum({dom:{tag:"div",classes:[u("hue-slider-spectrum")],attributes:{role:"presentation"}}}),m=Dx.parts.thumb({dom:{tag:"div",classes:[u("hue-slider-thumb")],attributes:{role:"presentation"}}}),Dx.sketch({dom:{tag:"div",classes:[u("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:E(0)},components:[g,m],sliderBehaviours:O([z.config({})]),onChange:(e,t,o)=>{k(e,Lx,{value:o})}}))),a=K(r.sketch({})),i=K(o.sketch({})),t=(e,t,o)=>{a.getOpt(e).each(e=>{r.setHue(e,o)})},s=(e,t)=>{i.getOpt(e).each(e=>{o.updateHex(e,t)})},l=(e,t,o)=>{n.getOpt(e).each(e=>{Dx.setValue(e,100-o/360*100)})},d=(e,t)=>{a.getOpt(e).each(e=>{r.setThumb(e,t)})},c=(t,o,r,e)=>{var n=o,a=r;n=H0(n),A.paletteRgba.set(n),A.paletteHue.set(a),U(e,e=>{e(t,o,r)})};var u,g,m;return{uid:e.uid,dom:e.dom,components:[a.asSpec(),n.asSpec(),i.asSpec()],behaviours:O([V("colour-picker-events",[D(Ox,(()=>{let r=[t,l,d];return(e,t)=>{var t=t.event.hex,o=(o=t,tb(H0(o)));c(e,t,o.hue,r)}})()),D(Nx,(()=>{let r=[s];return(e,t)=>{var t=t.event.value,o=A.paletteHue.get(),t=eb(o,t.x,100-t.y),t=ob(t);c(e,t,o,r)}})()),D(Lx,(()=>{let r=[t,s];return(e,t)=>{var t=(100-t.event.value)/100*360,o=A.paletteRgba.get(),o=tb(o),o=eb(t,o.saturation,o.value),o=ob(o);c(e,o,t,r)}})())]),S.config({find:e=>i.getOpt(e)}),R.config({mode:"acyclic"})])}}}),Yx=()=>S.config({find:Q.some}),Jx=e=>S.config({find:t=>Dt(t.element,e).bind(e=>t.getSystem().getByDom(e).toOptional())}),qx=A([l("preprocess",v),l("postprocess",v)]),$x=(e,t,o)=>L.config({store:{mode:"manual",...e.map(e=>({initialValue:e})).getOr({}),getValue:t,setValue:o}}),e2=(e,t,o)=>$x(e,e=>t(e.element),(e,t)=>o(e.element,t)),t2=(o,e)=>{let r=An("RepresentingConfigs.memento processors",qx,e);return L.config({store:{mode:"manual",getValue:e=>{e=o.get(e),e=L.getValue(e);return r.postprocess(e)},setValue:(e,t)=>{t=r.preprocess(t),e=o.get(e);L.setValue(e,t)}}})},o2=e2,r2=$x,n2=e=>L.config({store:{mode:"memory",initialValue:e}}),a2={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var A2=tinymce.util.Tools.resolve("tinymce.Resource"),i2=tinymce.util.Tools.resolve("tinymce.util.Tools");let s2=F("alloy-fake-before-tabstop"),l2=F("alloy-fake-after-tabstop"),d2=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:O([z.config({ignore:!0}),Qv.config({})])}),c2=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[d2([s2]),e,d2([l2])],behaviours:O([Jx(1)])}),u2=(e,t)=>{k(e,ra(),{raw:{which:9,shiftKey:t}})},g2=(e,t)=>{t=t.element;KA(t,s2)?u2(e,!0):KA(t,l2)&&u2(e,!1)},m2=e=>mv(e,["."+s2,"."+l2].join(","),Ae),p2=F("toolbar.button.execute"),h2=F("common-button-display-events"),f2={[ba()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Sa()]:["toolbar-button-events",h2],[Yn()]:["focusing","alloy.base.behaviour",h2]},b2=e=>T(e.element,"width",Ao(e.element,"width")),v2=(e,t,o)=>Qp(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t),w2=(e,t)=>v2(e,t,[]),x2=(e,t)=>v2(e,t,[P.config({})]),B2=(e,t,o)=>({dom:{tag:"span",classes:[t+"__select-label"]},components:[ri(o.translate(e))],behaviours:O([P.config({})])}),y2=F("update-menu-text"),C2=F("update-menu-icon"),_2=(r,t,n)=>{let e=H(B),a=r.text.map(e=>K(B2(e,t,n.providers))),A=r.icon.map(e=>K(x2(e,n.providers.icons))),o=(e,t)=>{e=L.getValue(e);return z.focus(e),k(e,"keydown",{raw:t.event.raw}),tv.close(e),Q.some(!0)},i=r.role.fold(()=>({}),e=>({role:e})),s=r.tooltip.fold(()=>({}),e=>{e=n.providers.translate(e);return{title:e,"aria-label":e}}),l=Qp("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},n.providers.icons),d=F("common-button-display-events"),c=K(tv.sketch({...r.uid?{uid:r.uid}:{},...i,dom:{tag:"button",classes:[t,t+"--select"].concat(y(r.classes,e=>t+"--"+e)),attributes:{...s}},components:n0([A.map(e=>e.asSpec()),a.map(e=>e.asSpec()),Q.some(l)]),matchWidth:!0,useMinWidth:!0,onOpen:(e,t,o)=>{r.searchable&&(o=o,pf(o).each(e=>z.focus(e)))},dropdownBehaviours:O([...r.dropdownBehaviours,Y1(()=>r.disabled||n.providers.isDisabled()),X1(),ew.config({}),P.config({}),V("dropdown-events",[e0(r,e),t0(r,e)]),V(d,[$a((e,t)=>b2(e))]),V("menubutton-update-display-text",[D(y2,(t,o)=>{a.bind(e=>e.getOpt(t)).each(e=>{P.set(e,[ri(n.providers.translate(o.event.text))])})}),D(C2,(t,o)=>{A.bind(e=>e.getOpt(t)).each(e=>{P.set(e,[x2(o.event.icon,n.providers.icons)])})})])]),eventOrder:Fr(f2,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Sa()]:["toolbar-button-events","dropdown-events",d]}),sandboxBehaviours:O([R.config({mode:"special",onLeft:o,onRight:o}),V("dropdown-sandbox-events",[D(cf,(e,t)=>{{let t=L.getValue(e),o=mf(e).map(hf);tv.refetch(t).get(()=>{let e=Hb.getCoupled(t,"sandbox");o.each(o=>mf(e).each(e=>{return e=e,t=o,L.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,void(e.element.dom.selectionEnd=t.selectionEnd);var t}))})}t.stop()}),D(uf,(e,t)=>{var n,a;a=t,e=n=e,u.getState(e).bind(w.getHighlighted).bind(w.getHighlighted).each(e=>{var t,o,r;t=n,e=e.element,o=a.event.eventType,r={...a.event.interactionEvent,target:e},t.getSystem().triggerEvent(o,e,r)}),t.stop()})])]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:{...af(0,r.columns,r.presets),fakeFocus:r.searchable,onHighlightItem:ov,onCollapseMenu:(t,e,o)=>{w.getHighlighted(o).each(e=>{ov(t,o,e)})},onDehighlightItem:rv}},fetch:e=>Rb(oe(r.fetch,e))}));return c.asSpec()},k2=e=>"separator"===e.type,E2={type:"separator"},F2=(e,a)=>{e=((e,r)=>{e=we(e,(e,t)=>{return o=t,f(o)?""===t?e:"|"===t?0<e.length&&!k2(e[e.length-1])?e.concat([E2]):e:je(r,t.toLowerCase())?e.concat([r[t.toLowerCase()]]):e:e.concat([t]);var o},[]);return 0<e.length&&k2(e[e.length-1])&&e.pop(),e})(f(e)?e.split(" "):e,a);return ve(e,(e,t)=>{var o,r,n;return n=t,je(n,"getSubmenuItems")?(n=t,r=C(n,"value").getOrThunk(()=>F("generated-menu-item")),r=Fr({value:r},n),n=a,o=(r=r).getSubmenuItems(),o=F2(o,n),n={item:r,menus:Fr(o.menus,{[r.value]:o.items}),expansions:Fr(o.expansions,{[r.value]:r.value})},{menus:Fr(e.menus,n.menus),items:[n.item,...e.items],expansions:Fr(e.expansions,n.expansions)}):{...e,items:[t,...e.items]}},{menus:{},expansions:{},items:[]})},S2=(e,o,r,t)=>{var n=F("primary-menu"),e=F2(e,r.shared.providers.menuItems());if(0===e.items.length)return Q.none();let a=t.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-field",placeholder:e.placeholder})),A=iv(n,e.items,o,r,t.isHorizontalMenu,a),i=t.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-results"})),s=Ne(e.menus,(e,t)=>iv(t,e,o,r,!1,i)),l=Fr(s,On(n,A));return Q.from(fp.tieredData(n,l,e.expansions))},Q2=e=>!je(e,"items"),U2="data-value",I2=(t,o,e,r)=>y(e,e=>Q2(e)?{type:"togglemenuitem",text:e.text,value:e.value,active:e.value===r,onAction:()=>{L.setValue(t,e.value),k(t,Hv,{name:o}),z.focus(t)}}:{type:"nestedmenuitem",text:e.text,getSubmenuItems:()=>I2(t,o,e.items,r)}),T2=(e,t)=>He(e,e=>Q2(e)?$e(e.value===t,e):T2(e.items,t)),M2=du({name:"HtmlSelect",configFields:[a("options"),cc("selectBehaviours",[z,L]),l("selectClasses",[]),l("selectAttributes",{}),i("data")],factory:(r,e)=>{var t=y(r.options,e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}})),o=r.data.map(e=>On("initialValue",e)).getOr({});return{uid:r.uid,dom:{tag:"select",classes:r.selectClasses,attributes:r.selectAttributes},components:t,behaviours:uc(r.selectBehaviours,[z.config({}),L.config({store:{mode:"manual",getValue:e=>WA(e.element),setValue:(t,o)=>{var e=Ie(r.options);xe(r.options,e=>e.value===o).isSome()?XA(t.element,o):-1===t.element.dom.selectedIndex&&""===o&&e.each(e=>XA(t.element,e.value))},...o}})])}}}),H2=E([l("field1Name","field1"),l("field2Name","field2"),Mi("onLockedChange"),Ui(["lockClass"]),l("locked",!1),gc("coupledFieldBehaviours",[S,L])]),D2=(e,a)=>Oc({factory:Z,name:e,overrides:n=>({fieldBehaviours:O([V("coupled-input-behaviour",[D(aa(),o=>{var e,t,r;e=o,t=n,r=a,Yc(e,t,r).bind(S.getCurrent).each(t=>{Yc(o,n,"lock").each(e=>{h.isOn(e)&&n.onLockedChange(o,t,e)})})})])])})}),O2=E([D2("field1","field2"),D2("field2","field1"),Oc({factory:wp,schema:[a("dom")],name:"lock",overrides:e=>({buttonBehaviours:O([h.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),L2=cu({name:"FormCoupledInputs",configFields:H2(),partFields:O2(),factory:(o,e,t,r)=>({uid:o.uid,dom:o.dom,components:e,behaviours:mc(o.coupledFieldBehaviours,[S.config({find:Q.some}),L.config({store:{mode:"manual",getValue:e=>{e=tu(e,o,["field1","field2"]);return{[o.field1Name]:L.getValue(e.field1()),[o.field2Name]:L.getValue(e.field2())}},setValue:(e,t)=>{e=tu(e,o,["field1","field2"]);We(t,o.field1Name)&&L.setValue(e.field1(),t[o.field1Name]),We(t,o.field2Name)&&L.setValue(e.field2(),t[o.field2Name])}}})]),apis:{getField1:e=>Yc(e,o,"field1"),getField2:e=>Yc(e,o,"field2"),getLock:e=>Yc(e,o,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),N2=e=>{var o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null===o)return M.error(e);{let e=parseFloat(o[1]),t=o[2];return M.value({value:e,unit:t})}},R2=(e,t)=>{let o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=e=>je(o,e);return e.unit===t?Q.some(e.value):r(e.unit)&&r(t)?o[e.unit]===o[t]?Q.some(e.value):Q.some(e.value/o[e.unit]*o[t]):Q.none()},P2=e=>Q.none(),V2=(o,t)=>{var e=o.label.map(e=>Mv(e,t)),r=[N.config({disabled:()=>o.disabled||t.isDisabled()}),X1(),R.config({mode:"execution",useEnter:!0!==o.multiline,useControlEnter:!0===o.multiline,execute:e=>(_(e,Nv),Q.some(!0))}),V("textfield-change",[D(aa(),(e,t)=>{k(e,Hv,{name:o.name})}),D(ha(),(e,t)=>{k(e,Hv,{name:o.name})})]),Qv.config({})],n=o.validation.map(o=>$v.config({getRoot:e=>Tt(e.element),invalidClass:"tox-invalid",validator:{validate:e=>{var e=L.getValue(e),t=o.validator(e);return Pb(!0===t?M.value(e):M.error(t))},validateOnLoad:o.validateOnLoad}})).toArray(),a={...o.placeholder.fold(E({}),e=>({placeholder:t.translate(e)})),...o.inputMode.fold(E({}),e=>({inputmode:e}))},a=Z.parts.field({tag:!0===o.multiline?"textarea":"input",...o.data.map(e=>({data:e})).getOr({}),inputAttributes:a,inputClasses:[o.classname],inputBehaviours:O(ye([r,n])),selectOnFocus:!1,factory:df}),r=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[a]}:a,n=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),a=[N.config({disabled:()=>o.disabled||t.isDisabled(),onDisabled:e=>{Z.getField(e).each(N.disable)},onEnabled:e=>{Z.getField(e).each(N.enable)}}),X1()];return Iv(e,r,n,a)},z2=(t,e)=>e.getAnimationRoot.fold(()=>t.element,e=>e(t)),K2=e=>e.dimension.property,Z2=(e,t)=>e.dimension.getDimension(t),G2=(e,t)=>{e=z2(e,t);GA(e,[t.shrinkingClass,t.growingClass])},j2=(e,t)=>{zA(e.element,t.openClass),VA(e.element,t.closedClass),T(e.element,K2(t),"0px"),go(e.element)},W2=(e,t)=>{zA(e.element,t.closedClass),VA(e.element,t.openClass),uo(e.element,K2(t))},X2=(e,t,o,r)=>{o.setCollapsed(),T(e.element,K2(t),Z2(t,e.element)),G2(e,t),j2(e,t),t.onStartShrink(e),t.onShrunk(e)},Y2=(e,t,o,r)=>{r=r.getOrThunk(()=>Z2(t,e.element)),o.setCollapsed(),T(e.element,K2(t),r),go(e.element),o=z2(e,t);zA(o,t.growingClass),VA(o,t.shrinkingClass),j2(e,t),t.onStartShrink(e)},J2=(e,t,o)=>{var r=Z2(t,e.element);("0px"===r?X2:Y2)(e,t,o,Q.some(r))},q2=(e,t,o)=>{let r=z2(e,t),n=KA(r,t.shrinkingClass),a=Z2(t,e.element);W2(e,t);var A=Z2(t,e.element);(n?()=>{T(e.element,K2(t),a),go(e.element)}:()=>{j2(e,t)})(),zA(r,t.shrinkingClass),VA(r,t.growingClass),W2(e,t),T(e.element,K2(t),A),o.setExpanded(),t.onStartGrow(e)},$2=(e,t,o)=>{e=z2(e,t);return!0===KA(e,t.growingClass)},eB=(e,t,o)=>{e=z2(e,t);return!0===KA(e,t.shrinkingClass)},tB=Object.freeze({__proto__:null,refresh:(t,o,e)=>{if(e.isExpanded()){uo(t.element,K2(o));let e=Z2(o,t.element);T(t.element,K2(o),e)}},grow:(e,t,o)=>{o.isExpanded()||q2(e,t,o)},shrink:(e,t,o)=>{o.isExpanded()&&J2(e,t,o)},immediateShrink:(e,t,o)=>{o.isExpanded()&&X2(e,t,o)},hasGrown:(e,t,o)=>o.isExpanded(),hasShrunk:(e,t,o)=>o.isCollapsed(),isGrowing:$2,isShrinking:eB,isTransitioning:(e,t,o)=>$2(e,t)||eB(e,t),toggleGrow:(e,t,o)=>{(o.isExpanded()?J2:q2)(e,t,o)},disableTransitions:G2,immediateGrow:(e,t,o)=>{o.isExpanded()||(W2(e,t),T(e.element,K2(t),Z2(t,e.element)),G2(e,t),o.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),oB=Object.freeze({__proto__:null,exhibit:(e,t,o)=>{var r=t.expanded;return QA(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:On(t.dimension.property,"0px")})},events:(o,r)=>Ka([qa(la(),(e,t)=>{t.event.raw.propertyName===o.dimension.property&&(G2(e,o),r.isExpanded()&&uo(e.element,o.dimension.property),(r.isExpanded()?o.onGrown:o.onShrunk)(e))})])}),rB=[a("closedClass"),a("openClass"),a("shrinkingClass"),a("growingClass"),i("getAnimationRoot"),e("onShrunk"),e("onStartShrink"),e("onGrown"),e("onStartGrow"),l("expanded",!1),mn("dimension",ln("property",{width:[Di("property","width"),Di("getDimension",e=>Co(e)+"px")],height:[Di("property","height"),Di("getDimension",e=>ho(e)+"px")]}))],nB=_s({fields:rB,name:"sliding",active:oB,apis:tB,state:Object.freeze({__proto__:null,init:e=>{let t=H(e.expanded);return FA({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:oe(t.set,!1),setExpanded:oe(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),aB=o=>({isEnabled:()=>!N.isDisabled(o),setEnabled:e=>N.set(o,!e),setActive:e=>{var t=o.element;e?(VA(t,"tox-tbtn--enabled"),x(t,"aria-pressed",!0)):(zA(t,"tox-tbtn--enabled"),to(t,"aria-pressed"))},isActive:()=>KA(o.element,"tox-tbtn--enabled"),setText:e=>{k(o,y2,{text:e})},setIcon:e=>k(o,C2,{icon:e})}),AB=(r,e,n,t,o=!0)=>_2({text:r.text,icon:r.icon,tooltip:r.tooltip,searchable:r.search.isSome(),role:t,fetch:(e,t)=>{var o={pattern:r.search.isSome()?nv(e):""};r.fetch(e=>{t(S2(e,Ph.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:r.search}))},o,aB(e))},onSetup:r.onSetup,getApi:aB,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...o?[Qv.config({})]:[]]},e,n.shared),iB=(t,n,a)=>e=>{e(y(t,e=>{var t,o,r=e.text.fold(()=>({}),e=>({text:e}));return{type:e.type,active:!1,...r,onAction:e=>{var t=!e.isActive();e.setActive(t),o.storage.set(t),a.shared.getSink().each(e=>{n().getOpt(e).each(e=>{Us(e.element),k(e,Lv,{name:o.name,value:o.storage.get()})})})},onSetup:(t=o=e,e=>{e.setActive(t.storage.get())})}}))},sB=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[ri(e)]}),lB=F("leaf-label-event-id"),dB=({leaf:o,onLeafAction:t,visible:r,treeId:n,selectedId:a,backstage:A})=>{let e=o.menu.map(e=>AB(e,"tox-mbtn",A,Q.none(),r)),i=[sB(o.title)];return e.each(e=>i.push(e)),wp.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(r?["tox-tree--leaf__label--visible"]:[])},components:i,role:"treeitem",action:e=>{t(o.id),e.getSystem().broadcastOn(["update-active-item-"+n],{value:o.id})},eventOrder:{[ra()]:[lB,"keying"]},buttonBehaviours:O([...r?[Qv.config({})]:[],h.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ss.config({channels:{["update-active-item-"+n]:{onReceive:(e,t)=>{(t.value===o.id?h.on:h.off)(e)}}}}),V(lB,[$a((t,e)=>{a.each(e=>{(e===o.id?h.on:h.off)(t)})}),D(ra(),(t,e)=>{var o="ArrowLeft"===e.event.raw.code,r="ArrowRight"===e.event.raw.code;o?(pi(t.element,".tox-tree--directory").each(e=>{t.getSystem().getByDom(e).each(t=>{hi(e,".tox-tree--directory__label").each(e=>{t.getSystem().getByDom(e).each(z.focus)})})}),e.stop()):r&&e.stop()})])])})},cB=F("directory-label-event-id"),uB=({directory:r,visible:e,noChildren:t,backstage:o})=>{let n=r.menu.map(e=>AB(e,"tox-mbtn",o,Q.none())),a=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(A=o.shared.providers.icons,A=A,Qp("chevron-right",{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},A))]},sB(r.title)];var A;n.each(e=>{a.push(e)});let i=o=>{pi(o.element,".tox-tree--directory").each(e=>{o.getSystem().getByDom(e).each(e=>{var t=!h.isOn(e);h.toggle(e),k(o,"expand-tree-node",{expanded:t,node:r.id})})})};return wp.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(e?["tox-tree--directory__label--visible"]:[])},components:a,action:i,eventOrder:{[ra()]:[cB,"keying"]},buttonBehaviours:O([...e?[Qv.config({})]:[],V(cB,[D(ra(),(o,r)=>{let n="ArrowRight"===r.event.raw.code,a="ArrowLeft"===r.event.raw.code;n&&t&&r.stop(),(n||a)&&pi(o.element,".tox-tree--directory").each(e=>{o.getSystem().getByDom(e).each(t=>{!h.isOn(t)&&n||h.isOn(t)&&a?(i(o),r.stop()):a&&!h.isOn(t)&&(pi(t.element,".tox-tree--directory").each(e=>{hi(e,".tox-tree--directory__label").each(e=>{t.getSystem().getByDom(e).each(z.focus)})}),r.stop())})})})])])})},gB=({children:e,onLeafAction:t,visible:o,treeId:r,expandedIds:n,selectedId:a,backstage:A})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(e=>"leaf"===e.type?dB({leaf:e,selectedId:a,onLeafAction:t,visible:o,treeId:r,backstage:A}):pB({directory:e,expandedIds:n,selectedId:a,onLeafAction:t,labelTabstopping:o,treeId:r,backstage:A})),behaviours:O([nB.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:o}),P.config({})])}),mB=F("directory-event-id"),pB=({directory:e,onLeafAction:n,labelTabstopping:t,treeId:a,backstage:A,expandedIds:o,selectedId:i})=>{let s=e.children,l=H(o),r=o.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[uB({directory:e,visible:t,noChildren:0===e.children.length,backstage:A}),gB({children:s,expandedIds:o,selectedId:i,onLeafAction:n,visible:r,treeId:a,backstage:A})],behaviours:O([V(mB,[$a((e,t)=>{h.set(e,r)}),D("expand-tree-node",(e,t)=>{let{expanded:o,node:r}=t.event;l.set(o?[...l.get(),r]:l.get().filter(e=>e!==r))})]),h.config({...0<e.children.length?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,t)=>{var o,e=e.components()[1],r=(o=t,s.map(e=>"leaf"===e.type?dB({leaf:e,selectedId:i,onLeafAction:n,visible:o,treeId:a,backstage:A}):pB({directory:e,expandedIds:l.get(),selectedId:i,onLeafAction:n,labelTabstopping:o,treeId:a,backstage:A})));t?nB.grow(e):nB.shrink(e),P.set(e,r)}})])}},hB=F("tree-event-id"),fB=Object.freeze({__proto__:null,events:(e,t)=>{var o=e.stream.streams.setup(e,t);return Ka([D(e.event,o),eA(()=>t.cancel())].concat(e.cancelEvent.map(e=>[D(e,()=>t.cancel())]).getOr([])))}}),bB=(t,o)=>{let r=null,n=()=>{p(r)||(clearTimeout(r),r=null)};return{cancel:n,throttle:(...e)=>{n(),r=setTimeout(()=>{r=null,t.apply(null,e)},o)}}},vB=e=>{let t=H(null);return FA({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{var e=t.get();null!==e&&e.cancel()}})},wB=Object.freeze({__proto__:null,throttle:vB,init:e=>e.stream.streams.state(e)}),xB=[mn("stream",ln("mode",{throttle:[a("delay"),l("stopEvent",!0),Di("streams",{setup:(e,t)=>{let o=e.stream,r=bB(e.onStream,o.delay);return t.setTimer(r),(e,t)=>{r.throttle(e,t),o.stopEvent&&t.stop()}},state:vB})]})),l("event","input"),i("cancelEvent"),Mi("onStream")],BB=_s({fields:xB,name:"streaming",active:fB,state:wB}),yB=(e,t,o)=>{o=L.getValue(o);L.setValue(t,o),_B(t)},CB=(e,t)=>{var e=e.element,o=WA(e),r=e.dom;"number"!==qt(e,"type")&&t(r,o)},_B=e=>{CB(e,(e,t)=>e.setSelectionRange(t.length,t.length))},kB=E("alloy.typeahead.itemexecute"),EB=E([i("lazySink"),a("fetch"),l("minChars",5),l("responseTime",1e3),e("onOpen"),l("getHotspot",Q.some),l("getAnchorOverrides",E({})),l("layouts",Q.none()),l("eventOrder",{}),Hn("model",{},[l("getDisplayText",e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value),l("selectsOver",!0),l("populateFromBrowse",!0)]),e("onSetValue"),Ti("onExecute"),e("onItemExecute"),l("inputClasses",[]),l("inputAttributes",{}),l("inputStyles",{}),l("matchWidth",!0),l("useMinWidth",!1),l("dismissOnBlur",!0),Ui(["openClass"]),i("initialData"),cc("typeaheadBehaviours",[z,L,BB,R,h,Hb]),un("lazyTypeaheadComp",()=>H(Q.none)),un("previewing",()=>H(!0))].concat(Af()).concat(qb())),FB=E([Lc({schema:[Qi()],name:"menu",overrides:r=>({fakeFocus:!0,onHighlightItem:(e,t,o)=>{r.previewing.get()?r.lazyTypeaheadComp.get().each(e=>{((r,n,a)=>{if(r.selectsOver){let e=L.getValue(n),t=r.getDisplayText(e),o=L.getValue(a);return 0===r.getDisplayText(o).indexOf(t)?Q.some(()=>{var e,o;yB(0,n,a),e=n,o=t.length,CB(e,(e,t)=>e.setSelectionRange(o,t.length))}):Q.none()}return Q.none()})(r.model,e,o).fold(()=>{r.model.selectsOver?(w.dehighlight(t,o),r.previewing.set(!0)):r.previewing.set(!1)},e=>{e(),r.previewing.set(!1)})}):r.lazyTypeaheadComp.get().each(t=>{r.model.populateFromBrowse&&yB(r.model,t,o),$t(o.element,"id").each(e=>x(t.element,"aria-activedescendant",e))})},onExecute:(e,t)=>r.lazyTypeaheadComp.get().map(e=>(k(e,kB(),{item:t}),!0)),onHover:(e,t)=>{r.previewing.set(!1),r.lazyTypeaheadComp.get().each(e=>{r.model.populateFromBrowse&&yB(r.model,e,t)})}})})]),SB=cu({name:"Typeahead",configFields:EB(),partFields:FB(),factory:(a,e,t,A)=>{let o=(t,o,r)=>{a.previewing.set(!1);let n=Hb.getCoupled(t,"sandbox");if(u.isOpen(n))S.getCurrent(n).each(e=>{w.getHighlighted(e).fold(()=>{r(e)},()=>{za(n,e.element,"keydown",o)})});else{let e=e=>{S.getCurrent(e).each(r)};Zb(a,i(t),t,n,A,e,hm.HighlightMenuAndItem).get(B)}},r=sf(a),i=o=>e=>e.map(e=>{var t=Ge(e.menus),t=Ce(t,e=>be(e.items,e=>"item"===e.type));return L.getState(o).update(y(t,e=>e.data)),e}),n=e=>S.getCurrent(e),s="typeaheadevents",l=[z.config({}),L.config({onSetValue:a.onSetValue,store:{mode:"dataset",getDataKey:e=>WA(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(e,t)=>{XA(e.element,a.model.getDisplayText(t))},...a.initialData.map(e=>On("initialValue",e)).getOr({})}}),BB.config({stream:{mode:"throttle",delay:a.responseTime,stopEvent:!1},onStream:(e,t)=>{let o=Hb.getCoupled(e,"sandbox");if(z.isFocused(e)&&WA(e.element).length>=a.minChars){let t=n(o).bind(e=>w.getHighlighted(e).map(L.getValue));a.previewing.set(!0);Zb(a,i(e),e,o,A,e=>{n(o).each(e=>{t.fold(()=>{a.model.selectsOver&&w.highlightFirst(e)},t=>{w.highlightBy(e,e=>L.getValue(e).value===t.value),w.getHighlighted(e).orThunk(()=>(w.highlightFirst(e),Q.none()))})})},hm.HighlightJustMenu).get(B)}},cancelEvent:ya()}),R.config({mode:"special",onDown:(e,t)=>(o(e,t,w.highlightFirst),Q.some(!0)),onEscape:e=>{e=Hb.getCoupled(e,"sandbox");return u.isOpen(e)?(u.close(e),Q.some(!0)):Q.none()},onUp:(e,t)=>(o(e,t,w.highlightLast),Q.some(!0)),onEnter:t=>{var e,o=Hb.getCoupled(t,"sandbox"),r=u.isOpen(o);return r&&!a.previewing.get()?n(o).bind(e=>w.getHighlighted(e)).map(e=>(k(t,kB(),{item:e}),!0)):(e=L.getValue(t),_(t,ya()),a.onExecute(o,t,e),r&&u.close(o),Q.some(!0))}}),h.config({toggleClass:a.markers.openClass,aria:{mode:"expanded"}}),Hb.config({others:{sandbox:e=>Yb(a,e,{onOpen:()=>h.on(e),onClose:()=>{a.lazyTypeaheadComp.get().each(e=>to(e.element,"aria-activedescendant")),h.off(e)}})}}),V(s,[$a(e=>{a.lazyTypeaheadComp.set(Q.some(e))}),eA(e=>{a.lazyTypeaheadComp.set(Q.none())}),oA(e=>{var t=B;jb(a,i(e),e,A,t,hm.HighlightMenuAndItem).get(B)}),D(kB(),(e,t)=>{var o=Hb.getCoupled(e,"sandbox");yB(a.model,e,t.event.item),_(e,ya()),a.onItemExecute(e,o,t.event.item,L.getValue(e)),u.close(o),_B(e)})].concat(a.dismissOnBlur?[D(pa(),e=>{e=Hb.getCoupled(e,"sandbox");Hs(e.element).isNone()&&u.close(e)})]:[]))],d={[Qa()]:[L.name(),BB.name(),s],...a.eventOrder};return{uid:a.uid,dom:lf(Fr(a,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...uc(a.typeaheadBehaviours,l)},eventOrder:d}}}),QB=a=>({...a,toCached:()=>QB(a.toCached()),bindFuture:t=>QB(a.bind(e=>e.fold(e=>Pb(M.error(e)),e=>t(e)))),bindResult:t=>QB(a.map(e=>e.bind(t))),mapResult:t=>QB(a.map(e=>e.map(t))),mapError:t=>QB(a.map(e=>e.mapError(t))),foldResult:(t,o)=>a.map(e=>e.fold(t,o)),withTimeout:(e,n)=>QB(Rb(t=>{let o=!1,r=setTimeout(()=>{o=!0,t(M.error(n()))},e);a.get(e=>{o||(clearTimeout(r),t(e))})}))}),UB=(e,t,o=[],r,n,a)=>{t=t.fold(()=>({}),e=>({action:e})),o={buttonBehaviours:O([Y1(()=>!e.enabled||a.isDisabled()),X1(),Qv.config({}),V("button press",[Ga("click"),Ga("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...t},t=Fr(o,{dom:r});return Fr(t,{components:n})},IB=(e,t,o,r=[])=>{var n={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map(e=>({"aria-label":o.translate(e),title:o.translate(e)})).getOr({})},a=e.icon.map(e=>w2(e,o.icons)),a=n0([a]);return UB(e,t,r,n,a,o)},TB=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},MB=(e,t,o,r=[],n=[])=>{let a=o.translate(e.text),A=e.icon.map(e=>w2(e,o.icons)),i=[A.getOrThunk(()=>ri(a))],s=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),l=[...TB(s),...A.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...n];return UB(e,t,r,{tag:"button",classes:l,attributes:{title:a}},i,o)},HB=(e,t,o,r=[],n=[])=>{e=MB(e,Q.some(t),o,r,n);return wp.sketch(e)},DB=(t,o)=>e=>{"custom"===o?k(e,Lv,{name:t,value:{}}):"submit"===o?_(e,Nv):"cancel"===o?_(e,Ov):console.error("Unknown button type: ",o)},OB=(g,e,m)=>{if("menu"===e){let e=()=>r,t=g,o={...g,type:"menubutton",search:Q.none(),onSetup:e=>(e.setEnabled(g.enabled),B),fetch:iB(t.items,e,m)},r=K(AB(o,"tox-tbtn",m,Q.none()));return r.asSpec()}var t,o;if("custom"===e||"cancel"===e||"submit"===e)return t=DB(g.name,e),o={...g,borderless:!1},HB(o,t,m.shared.providers,[]);if("togglebutton"!==e)throw console.error("Unknown footer button type: ",e),new Error("Unknown footer button type");{var p=g,h=m.shared.providers;let e,t,r=p.icon.map(e=>x2(e,h.icons)).map(K),o=p.buttonType.getOr(p.primary?"primary":"secondary"),n={...p,name:null!=(e=p.name)?e:"",primary:"primary"===o,tooltip:Q.from(p.tooltip),enabled:null!=(t=p.enabled)&&t,borderless:!1},a=n.tooltip.map(e=>({"aria-label":h.translate(e),title:h.translate(e)})).getOr({}),A=TB(null!=o?o:"secondary"),i=p.icon.isSome()&&p.text.isSome(),s={tag:"button",classes:[...A.concat(p.icon.isSome()?["tox-button--icon"]:[]),...p.active?["tox-button--enabled"]:[],...i?["tox-button--icon-and-text"]:[]],attributes:a},l=h.translate(p.text.getOr("")),d=ri(l),c=[...n0([r.map(e=>e.asSpec())]),...p.text.isSome()?[d]:[]],u=UB(n,Q.some(o=>{k(o,Lv,{name:p.name,value:{setIcon:t=>{r.map(e=>e.getOpt(o).each(e=>{P.set(e,[x2(t,h.icons)])}))}}})}),[],s,c,h);return wp.sketch(u)}},LB={type:"separator"},NB=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:B}),RB=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:B}),PB=(e,t)=>{return o=e,e=t,t=be(e,e=>e.type===o),y(t,NB);var o},VB=(e,t)=>{let o=e.toLowerCase();return be(t,e=>{var t=(void 0!==e.meta&&void 0!==e.meta.text?e.meta:e).text,e=null!=(e=e.value)?e:"";return ot(t.toLowerCase(),o)||ot(e.toLowerCase(),o)})},zB=F("aria-invalid"),KB=(e,t)=>{e.dom.checked=t},ZB=e=>e.dom.checked,GB=a=>(t,o,r,n)=>C(o,"name").fold(()=>a(o,n,Q.none()),e=>t.field(e,a(o,n,C(r,e)))),jB={bar:GB((e,t)=>(e=e,t=t.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:y(e.items,t.interpreter)})),collection:GB((A,i,s)=>{{var l=A,d=i.shared.providers;A=s;let e=l.label.map(e=>Mv(e,d)),t=r=>(t,o)=>{bi(o.event.target,"[data-collection-item-value]").each(e=>{r(t,o,e,qt(e,"data-collection-item-value"))})},o=t((e,t,o,r)=>{t.stop(),d.isDisabled()||k(e,Lv,{name:l.name,value:r})}),r=[D(ea(),t((e,t,o)=>{Us(o)})),D(ia(),o),D(wa(),o),D(ta(),t((e,t,o)=>{fi(e.element,"."+Yh).each(e=>{zA(e,Yh)}),VA(o,Yh)})),D(oa(),t(e=>{fi(e.element,"."+Yh).each(e=>{zA(e,Yh)})})),oA(t((e,t,o,r)=>{k(e,Lv,{name:l.name,value:r})}))],n=(e,t)=>y(Zl(e.element,".tox-collection__item"),t),a=Z.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==l.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:v},behaviours:O([N.config({disabled:d.isDisabled,onDisabled:e=>{n(e,e=>{VA(e,"tox-collection__item--state-disabled"),x(e,"aria-disabled",!0)})},onEnabled:e=>{n(e,e=>{zA(e,"tox-collection__item--state-disabled"),to(e,"aria-disabled")})}}),X1(),P.config({}),L.config({store:{mode:"memory",initialValue:A.getOr([])},onSetValue:(o,e)=>{var t=o;e=y(e,e=>{let t=xp.translate(e.text),o=1===l.columns?`<div class="tox-collection__item-label">${t}</div>`:"",r=`<div class="tox-collection__item-icon">${e.icon}</div>`,n={_:" "," - ":" ","-":" "},a=t.replace(/\_| \- |\-/g,e=>n[e]);return`<div class="tox-collection__item${d.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${Uv.encodeAllRaw(e.value)}" title="${a}" aria-label="${a}">${r}${o}</div>`}),e="auto"!==l.columns&&1<l.columns?he(e,l.columns):[e],e=y(e,e=>`<div class="tox-collection__group">${e.join("")}</div>`),nA(t.element,e.join("")),"auto"===l.columns&&M1(o,5,"tox-collection__item").each(({numRows:e,numColumns:t})=>{R.setGridSize(o,e,t)}),_(o,zv)}}),Qv.config({}),R.config(1===(A=l.columns)?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===A?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:"."+zh}}),V("collection-events",r)]),eventOrder:{[ba()]:["disabling","alloy.base.behaviour","collection-events"]}});return Iv(e,a,["tox-form__group--collection"],[])}}),alertbanner:GB((e,t)=>{return o=e,e=t.shared.providers,t=Ep(o.icon,e.icons),Cv.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+o.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:o.url?void 0:t},components:o.url?[wp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:t,attributes:{title:e.translate(o.iconTooltip)}},action:e=>k(e,Lv,{name:"alert-banner",value:o.url}),buttonBehaviours:O([Fp()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(o.text)}}]});var o}),input:GB((e,t,o)=>(e=e,t=t.shared.providers,o=o,V2({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:Q.none(),maximized:e.maximized,data:o},t))),textarea:GB((e,t,o)=>(e=e,t=t.shared.providers,o=o,V2({name:e.name,multiline:!0,label:e.label,inputMode:Q.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:Q.none(),maximized:e.maximized,data:o},t))),label:GB((e,t)=>{return e=e,t=t.shared,{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[o="tox-label",..."center"===e.align?[o+"--center"]:[],..."end"===e.align?[o+"--end"]:[]]},components:[ri(t.providers.translate(e.label))]},...y(e.items,t.interpreter)],behaviours:O([Yx(),P.config({}),(o=Q.none(),e2(o,rA,nA)),R.config({mode:"acyclic"})])};var o}),iframe:(uC=(i,s,l)=>{{var d=s.shared.providers,c=l;let t="tox-dialog__iframe",o=i.border?[t+"--bordered"]:[],r=i.transparent?[]:[t+"--opaque"],n={...i.label.map(e=>({title:e})).getOr({}),...c.map(e=>({srcdoc:e})).getOr({}),...i.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},a=((e,r)=>{let t=H(e.getOr(""));return{getValue:e=>t.get(),setValue:(o,n)=>{if(t.get()!==n){let e=o.element,t=()=>x(e,"srcdoc",n);if(r){let r=e.dom;Q.from(r.contentDocument).fold(t,e=>{var t=Q.from(e.documentElement).forall(({scrollTop:e,scrollHeight:t,clientHeight:o})=>Math.ceil(e)+o>=t),o=(e.open(),e.write(n),e.close(),r.contentWindow),e=e.body;t&&X(o)&&X(e)&&o.scrollTo(0,e.scrollHeight)})}else t()}t.set(n)}}})(c,i.streamContent),e=i.label.map(e=>Mv(e,d)),A=Z.parts.field({factory:{sketch:e=>c2({uid:e.uid,dom:{tag:"iframe",attributes:n,classes:[t,...o,...r]},behaviours:O([Qv.config({}),z.config({}),r2(c,a.getValue,a.setValue)])})}});return Iv(e,A,["tox-form__group--stretched"],[])}},(e,t,o,r)=>{t=Fr(t,{source:"dynamic"});return GB(uC)(e,t,o,r)}),button:GB((e,t)=>{return e=e,t=t.shared.providers,o=DB(e.name,"custom"),r=Q.none(),e=Z.parts.field({factory:wp,...MB(e,Q.some(o),t,[n2(""),Yx()])}),Iv(r,e,[],[]);var o,r}),checkbox:GB((e,t,o)=>{return r=e,n=t.shared.providers,e=o,t=e=>(e.element.dom.click(),Q.some(!0)),e=Z.parts.field({factory:{sketch:v},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:O([Yx(),N.config({disabled:()=>!r.enabled||n.isDisabled(),onDisabled:e=>{Tt(e.element).each(e=>VA(e,"tox-checkbox--disabled"))},onEnabled:e=>{Tt(e.element).each(e=>zA(e,"tox-checkbox--disabled"))}}),Qv.config({}),z.config({}),o2(e,ZB,KB),R.config({mode:"special",onEnter:t,onSpace:t,stopSpaceKeyup:!0}),V("checkbox-events",[D(Aa(),(e,t)=>{k(e,Hv,{name:r.name})})])])}),t=Z.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[ri(n.translate(r.label))],behaviours:O([ew.config({})])}),o=e=>Qp("checked"===e?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},n.icons),o=K({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[o("checked"),o("unchecked")]}),Z.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[e,o.asSpec(),t],fieldBehaviours:O([N.config({disabled:()=>!r.enabled||n.isDisabled()}),X1()])});var r,n}),colorinput:GB((o,a,A)=>{{var i=o,s=a.shared,l=a.colorinput,d,c;o=A;let e=Z.parts.field({factory:df,inputClasses:["tox-textfield"],data:o,onSetValue:e=>$v.run(e).get(B),inputBehaviours:O([N.config({disabled:s.providers.isDisabled}),X1(),Qv.config({}),$v.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>Tt(e.element),notify:{onValid:e=>{var t=L.getValue(e);k(e,tw,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{let t=L.getValue(e);if(0===t.length)return Pb(M.value(!0));{let e=dt("span");T(e,"background-color",t);var o=so(e,"background-color").fold(()=>M.error("blah"),e=>M.value(t));return Pb(o)}}}})]),selectOnFocus:!1}),t=i.label.map(e=>Mv(e,s.providers)),r=(e,t)=>{k(e,ow,{value:t})},n=K((d={dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[As,as,ds],onLtr:()=>[as,As,ds]},components:[],fetch:vb(l.getColors(i.storageKey),i.storageKey,l.hasCustomColors()),columns:l.getColorCols(i.storageKey),presets:"color",onItemAction:(e,o)=>{n.getOpt(e).each(t=>{"custom"===o?l.colorPicker(e=>{e.fold(()=>_(t,rw),e=>{r(t,e),$0(i.storageKey,e)})},"#ffffff"):r(t,"remove"===o?"":o)})}},c=s,tv.sketch({dom:d.dom,components:d.components,toggleClass:"mce-active",dropdownBehaviours:O([Y1(c.providers.isDisabled),X1(),ew.config({}),Qv.config({})]),layouts:d.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:c.getSink,fetch:t=>Rb(e=>d.fetch(e)).map(e=>Q.from(sv(Fr(_b(F("menu-value"),e,e=>{d.onItemAction(t,e)},d.columns,d.presets,Ph.CLOSE_ON_EXECUTE,Ae,c.providers),{movement:kb(d.columns,d.presets)})))),parts:{menu:af(0,0,d.presets)}})));return Z.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:t.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[e,n.asSpec()]}]),fieldBehaviours:O([V("form-field-events",[D(tw,(e,t)=>{n.getOpt(e).each(e=>{T(e.element,"background-color",t.event.color)}),k(e,Hv,{name:i.name})}),D(ow,(t,o)=>{Z.getField(t).each(e=>{L.setValue(e,o.event.value),S.getCurrent(t).each(z.focus)})}),D(rw,(t,e)=>{Z.getField(t).each(e=>{S.getCurrent(t).each(z.focus)})})])])})}}),colorpicker:GB((e,o,r)=>{{o=o.shared.providers;let e=e=>"tox-"+e,t=Xx((a=o,e=>a.translate(a2[e])),e),n=K(t.sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:e=>{k(e,Lv,{name:"hex-valid",value:!0})},onInvalidHex:e=>{k(e,Lv,{name:"hex-valid",value:!1})}}));var a;return{dom:{tag:"div"},components:[n.asSpec()],behaviours:O([r2(r,e=>{e=n.get(e);return S.getCurrent(e).bind(e=>L.getValue(e).hex).map(e=>"#"+tt(e,"#")).getOr("")},(e,t)=>{let o=Q.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind(e=>Ue(e,1)),r=n.get(e);S.getCurrent(r).fold(()=>{console.log("Can not find form")},e=>{L.setValue(e,{hex:o.getOr("")}),zx.getField(e,"hex").each(e=>{_(e,aa())})})}),Yx()])}}}),dropzone:GB((s,l,d)=>{{var c=s,u=l.shared.providers,g=d;let t=(e,t)=>{t.stop()},o=e=>(t,o)=>{U(e,e=>{e(t,o)})},r=(e,t)=>{N.isDisabled(e)||(t=t.event.raw,a(e,null==(e=t.dataTransfer)?void 0:e.files))},n=(e,t)=>{t=t.event.raw.target;a(e,t.files)},a=(e,t)=>{t&&(L.setValue(e,((e,t)=>{let o=i2.explode(t.getOption("images_file_types"));return be(Me(e),t=>me(o,e=>nt(t.name.toLowerCase(),"."+e.toLowerCase())))})(t,u)),k(e,Hv,{name:c.name}))},A=K({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:O([V("input-file-events",[Ja(ia()),Ja(wa())])])}),e=c.label.map(e=>Mv(e,u)),i=Z.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:O([n2(g.getOr([])),Yx(),N.config({}),h.config({toggleClass:"dragenter",toggleOnExecute:!1}),V("dropzone-events",[D("dragenter",o([t,h.toggle])),D("dragleave",o([t,h.toggle])),D("dragover",t),D("drop",o([t,r])),D(Aa(),n)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[ri(u.translate("Drop an image here"))]},wp.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[ri(u.translate("Browse for an image")),A.asSpec()],action:e=>{A.get(e).element.dom.click()},buttonBehaviours:O([Qv.config({}),Y1(u.isDisabled),X1()])})]}]})}});return Iv(e,i,["tox-form__group--stretched"],[])}}),grid:GB((e,t)=>(e=e,t=t.shared,{dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:y(e.items,t.interpreter)})),listbox:GB((a,A,i)=>{{var s=a,l=A;a=i;let t=l.shared.providers,o=a.bind(e=>T2(s.items,e)).orThunk(()=>Ie(s.items).filter(Q2)),e=s.label.map(e=>Mv(e,t)),r=Z.parts.field({dom:{},factory:{sketch:e=>_2({uid:e.uid,text:o.map(e=>e.text),icon:Q.none(),tooltip:s.label,role:Q.none(),fetch:(e,t)=>{e=I2(e,s.name,s.items,L.getValue(e));t(S2(e,Ph.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:Q.none()}))},onSetup:E(B),getApi:E({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Qv.config({}),r2(o.map(e=>e.value),e=>qt(e.element,U2),(t,e)=>{T2(s.items,e).each(e=>{x(t.element,U2,e.value),k(t,y2,{text:e.text})})})]},"tox-listbox",l.shared)}}),n={dom:{tag:"div",classes:["tox-listboxfield"]},components:[r]};return Z.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ye([e.toArray(),[n]]),fieldBehaviours:O([N.config({disabled:E(!s.enabled),onDisabled:e=>{Z.getField(e).each(N.disable)},onEnabled:e=>{Z.getField(e).each(N.enable)}})])})}}),selectbox:GB((e,t,o)=>{return r=e,n=t.shared.providers,e=o,t=y(r.items,e=>({text:n.translate(e.text),value:e.value})),o=r.label.map(e=>Mv(e,n)),e=Z.parts.field({dom:{},...e.map(e=>({data:e})).getOr({}),selectAttributes:{size:r.size},options:t,factory:M2,selectBehaviours:O([N.config({disabled:()=>!r.enabled||n.isDisabled()}),Qv.config({}),V("selectbox-change",[D(Aa(),(e,t)=>{k(e,Hv,{name:r.name})})])])}),t=1<r.size?Q.none():Q.some(Qp("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},n.icons)),e={dom:{tag:"div",classes:["tox-selectfield"]},components:ye([[e],t.toArray()])},Z.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ye([o.toArray(),[e]]),fieldBehaviours:O([N.config({disabled:()=>!r.enabled||n.isDisabled(),onDisabled:e=>{Z.getField(e).each(N.disable)},onEnabled:e=>{Z.getField(e).each(N.enable)}}),X1()])});var r,n}),sizeinput:GB((l,d)=>{{var c=l,u=d.shared.providers;let r=P2,n=F("ratio-event"),e=e=>Qp(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},u.icons),t=L2.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:u.translate(c.label.getOr("Constrain proportions"))}},components:[e("lock"),e("unlock")],buttonBehaviours:O([N.config({disabled:()=>!c.enabled||u.isDisabled()}),X1(),Qv.config({})])}),o=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),a=o=>Z.parts.field({factory:df,inputClasses:["tox-textfield"],inputBehaviours:O([N.config({disabled:()=>!c.enabled||u.isDisabled()}),X1(),Qv.config({}),V("size-input-events",[D(ta(),(e,t)=>{k(e,n,{isField1:o})}),D(Aa(),(e,t)=>{k(e,Hv,{name:c.name})})])]),selectOnFocus:!1}),A=e=>({dom:{tag:"label",classes:["tox-label"]},components:[ri(u.translate(e))]}),i=L2.parts.field1(o([Z.parts.label(A("Width")),a(!0)])),s=L2.parts.field2(o([Z.parts.label(A("Height")),a(!1)]));return L2.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[i,s,o([A("ย"),t])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{N2(L.getValue(e)).each(e=>{r(e).each(e=>{L.setValue(t,(e=>{var t,o={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let r=e.value.toFixed((t=e.unit)in o?o[t]:1);return(r=-1!==r.indexOf(".")?r.replace(/\.?0*$/,""):r)+e.unit})(e))})})},coupledFieldBehaviours:O([N.config({disabled:()=>!c.enabled||u.isDisabled(),onDisabled:e=>{L2.getField1(e).bind(Z.getField).each(N.disable),L2.getField2(e).bind(Z.getField).each(N.disable),L2.getLock(e).each(N.disable)},onEnabled:e=>{L2.getField1(e).bind(Z.getField).each(N.enable),L2.getField2(e).bind(Z.getField).each(N.enable),L2.getLock(e).each(N.enable)}}),X1(),V("size-input-events2",[D(n,(e,t)=>{var t=t.event.isField1,o=t?L2.getField1(e):L2.getField2(e),t=t?L2.getField2(e):L2.getField1(e),e=o.map(L.getValue).getOr(""),o=t.map(L.getValue).getOr("");r=((e,t)=>{e=N2(e).toOptional(),t=N2(t).toOptional();return Je(e,t,(e,r)=>R2(e,r.unit).map(e=>r.value/e).map(e=>{return t=e,o=r.unit,e=>R2(e,o).map(e=>({value:e*t,unit:o}));var t,o}).getOr(P2)).getOr(P2)})(e,o)})])])})}}),slider:GB((e,t,o)=>{return r=e,e=t.shared.providers,t=o,e=Dx.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[ri(e.translate(r.label))]}),o=Dx.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),n=Dx.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}}),Dx.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r.min,maxX:r.max,getInitialValue:E(t.getOrThunk(()=>(Math.abs(r.max)-Math.abs(r.min))/2))},components:[e,o,n],sliderBehaviours:O([Yx(),z.config({})]),onChoose:(e,t,o)=>{k(e,Hv,{name:r.name,value:o})}});var r,n}),urlinput:GB((c,u,g)=>{{var m=c,p=u,h=u.urlinput;c=g;let n=p.shared.providers,a=e=>{e=L.getValue(e);h.addToHistory(e.value,m.filetype)},e={...c.map(e=>({initialData:e})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":zB,type:"url"},minChars:0,responseTime:0,fetch:e=>{e=((r,e,n)=>{let t,o,a=L.getValue(e),A=null!=(o=null==(t=null==a?void 0:a.meta)?void 0:t.text)?o:a.value;return n.getLinkInformation().fold(()=>[],e=>{var t,o=VB(A,(o=n.getHistory(r),y(o,e=>RB(e,e))));return"file"===r?(e=[o,VB(A,(t=e,PB("header",t.targets))),VB(A,ye([(t=e,Q.from(t.anchorTop).map(e=>RB("<top>",e)).toArray()),(t=e,PB("anchor",t.targets)),(t=e,Q.from(t.anchorBottom).map(e=>RB("<bottom>",e)).toArray())]))],we(e,(e,t)=>0===e.length||0===t.length?e.concat(t):e.concat(LB,t),[])):o})})(m.filetype,e,h),e=S2(e,Ph.BUBBLE_TO_SANDBOX,p,{isHorizontalMenu:!1,search:Q.none()});return Pb(e)},getHotspot:e=>l.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured($v)&&$v.run(e).get(B)},typeaheadBehaviours:O([...h.getValidationHandler().map(r=>$v.config({getRoot:e=>Tt(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{A.getOpt(e).each(e=>{x(e.element,"title",n.translate(t))})}},validator:{validate:e=>{let t=L.getValue(e);return QB(Rb(o=>{r({type:m.filetype,url:t.value},e=>{var t;"invalid"===e.status?(t=M.error(e.message),o(t)):(t=M.value(e.message),o(t))})}))},validateOnLoad:!1}})).toArray(),N.config({disabled:()=>!m.enabled||n.isDisabled()}),Qv.config({}),V("urlinput-events",[D(aa(),e=>{var t=WA(e.element),o=t.trim();o!==t&&XA(e.element,o),"file"===m.filetype&&k(e,Hv,{name:m.name})}),D(Aa(),e=>{k(e,Hv,{name:m.name}),a(e)}),D(ha(),e=>{k(e,Hv,{name:m.name}),a(e)})])]),eventOrder:{[aa()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:p.shared.getSink,parts:{menu:af(0,0,"normal")},onExecute:(e,t,o)=>{k(t,Nv,{})},onItemExecute:(e,t,o,r)=>{a(e),k(e,Hv,{name:m.name})}},t=Z.parts.field({...e,factory:SB}),o=m.label.map(e=>Mv(e,n)),A=K(((e,t,o=e)=>Qp("warning",{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:n.translate("invalid"),"aria-live":"polite",...t.fold(()=>({}),e=>({id:e}))}},n.icons))("invalid",Q.some(zB))),r=K({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[A.asSpec()]}),i=h.getUrlPicker(m.filetype),s=F("browser.url.event"),l=K({dom:{tag:"div",classes:["tox-control-wrap"]},components:[t,r.asSpec()],behaviours:O([N.config({disabled:()=>!m.enabled||n.isDisabled()})])}),d=K(HB({name:m.name,icon:Q.some("browse"),text:m.label.getOr(""),enabled:m.enabled,primary:!1,buttonType:Q.none(),borderless:!0},e=>_(e,s),n,[],["tox-browse-url"]));return Z.sketch({dom:Tv([]),components:o.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ye([[l.asSpec()],i.map(()=>d.asSpec()).toArray()])}]),fieldBehaviours:O([N.config({disabled:()=>!m.enabled||n.isDisabled(),onDisabled:e=>{Z.getField(e).each(N.disable),d.getOpt(e).each(N.disable)},onEnabled:e=>{Z.getField(e).each(N.enable),d.getOpt(e).each(N.enable)}}),X1(),V("url-input-events",[D(s,r=>{S.getCurrent(r).each(t=>{let e=L.getValue(t),o={fieldname:m.name,...e};i.each(e=>{e(o).get(e=>{L.setValue(t,e),k(r,Hv,{name:m.name})})})})})])])})}}),customeditor:GB(o=>{let r=qs(),t=K({dom:{tag:o.tag}}),n=qs();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:O([V("custom-editor-events",[$a(e=>{t.getOpt(e).each(t=>{var e;e=o,(je(e,"init")?o.init(t.element.dom):A2.load(o.scriptId,o.scriptUrl).then(e=>e(t.element.dom,o.settings))).then(t=>{n.on(e=>{t.setValue(e)}),n.clear(),r.set(t)})})})]),r2(Q.none(),()=>r.get().fold(()=>n.get().getOr(""),e=>e.getValue()),(e,t)=>{r.get().fold(()=>n.set(t),e=>e.setValue(t))}),Yx()]),components:[t.asSpec()]}}),htmlpanel:GB(e=>"presentation"===e.presets?Cv.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Cv.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:O([Qv.config({}),z.config({})])})),imagepreview:GB((o,e,n)=>{{let e=H(n.getOr({url:""})),r=K({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:n.map(e=>({src:e.url})).getOr({})}}),d=K({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[r.asSpec()]}),t={};return o.height.each(e=>t.height=e),o=n.map(e=>({url:e.url,zoom:Q.from(e.zoom),cachedWidth:Q.from(e.cachedWidth),cachedHeight:Q.from(e.cachedHeight)})),{dom:{tag:"div",classes:["tox-imagepreview"],styles:t,attributes:{role:"presentation"}},components:[d.asSpec()],behaviours:O([Yx(),r2(o,()=>e.get(),(s,t)=>{let l={url:t.url},o=(t.zoom.each(e=>l.zoom=e),t.cachedWidth.each(e=>l.cachedWidth=e),t.cachedHeight.each(e=>l.cachedHeight=e),e.set(l),()=>{let{cachedWidth:o,cachedHeight:r,zoom:e}=l;if(!j(o)&&!j(r)){if(j(e)){n=s.element,a=o,A=r,i=Co(n),n=ho(n);let e=Math.min(i/a,n/A,1);l.zoom=e}let t=((e,t,o,r,n)=>{o*=n,r*=n,n=Math.max(0,e/2-o/2),e=Math.max(0,t/2-r/2);return{left:n.toString()+"px",top:e.toString()+"px",width:o.toString()+"px",height:r.toString()+"px"}})(Co(s.element),ho(s.element),o,r,l.zoom);d.getOpt(s).each(e=>{no(e.element,t)})}var n,a,A,i});r.getOpt(s).each(e=>{var a,e=e.element;t.url!==qt(e,"src")&&(x(e,"src",t.url),zA(s.element,"tox-imagepreview__loaded")),o(),a=e,new Promise((e,t)=>{let o=()=>{n(),e(a)},r=[el(a,"load",o),el(a,"error",()=>{n(),t("Unable to load data from image: "+a.dom.src)})],n=()=>U(r,e=>e.unbind());a.dom.complete&&o()}).then(e=>{s.getSystem().isConnected()&&(VA(s.element,"tox-imagepreview__loaded"),l.cachedWidth=e.dom.naturalWidth,l.cachedHeight=e.dom.naturalHeight,o())})})})])}}}),table:GB((e,o)=>{{var r=o.shared.providers;let t=e=>({dom:{tag:"td",innerHtml:r.translate(e)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:y(o,e=>({dom:{tag:"th",innerHtml:r.translate(e)}}))}]}),(o=e.cells,{dom:{tag:"tbody"},components:y(o,e=>({dom:{tag:"tr"},components:y(e,t)}))})],behaviours:O([Qv.config({}),z.config({})])}}}),tree:GB((t,s)=>{{var l=t,d=s;let r=l.onLeafAction.getOr(B),n=l.onToggleExpand.getOr(B),e=l.defaultExpandedIds,a=H(e),o=H(l.defaultSelectedId),A=F("tree-id"),i=(t,o)=>l.items.map(e=>"leaf"===e.type?dB({leaf:e,selectedId:t,onLeafAction:r,visible:!0,treeId:A,backstage:d}):pB({directory:e,selectedId:t,onLeafAction:r,expandedIds:o,labelTabstopping:!0,treeId:A,backstage:d}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(o.get(),a.get()),behaviours:O([R.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),V(hB,[D("expand-tree-node",(e,t)=>{let{expanded:o,node:r}=t.event;a.set(o?[...a.get(),r]:a.get().filter(e=>e!==r)),n(a.get(),{expanded:o,node:r})})]),Ss.config({channels:{["update-active-item-"+A]:{onReceive:(e,t)=>{o.set(Q.some(t.value)),P.set(e,i(Q.some(t.value),a.get()))}}}}),P.config({})])}}}),panel:GB((e,t)=>(t=t,{dom:{tag:"div",classes:(e=e).classes},components:y(e.items,t.shared.interpreter)}))},WB={field:(e,t)=>t,record:E([])},XB=(t,e,o,r)=>{let n=Fr(r,{shared:{interpreter:e=>YB(t,e,o,n)}});return YB(t,e,o,n)},YB=(t,o,r,n)=>C(jB,o.type).fold(()=>(console.error(`Unknown factory type "${o.type}", defaulting to container: `,o),o),e=>e(t,o,r,n)),JB=(e,t,o)=>YB(WB,e,t,o),qB="layout-inset",$B=e=>e.x,ey=(e,t)=>e.x+e.width/2-t.width/2,ty=(e,t)=>e.x+e.width-t.width,oy=(e,t)=>e.y+e.height-t.height,ry=(e,t)=>e.y+e.height/2-t.height/2,ny=(e,t,o)=>Ni(ty(e,t),oy(e,t),o.insetSouthwest(),Ki(),"southwest",Ji(e,{right:0,bottom:3}),qB),ay=(e,t,o)=>Ni($B(e),oy(e,t),o.insetSoutheast(),zi(),"southeast",Ji(e,{left:1,bottom:3}),qB),Ay=(e,t,o)=>Ni(ty(e,t),e.y,o.insetNorthwest(),Vi(),"northwest",Ji(e,{right:0,top:2}),qB),iy=(e,t,o)=>Ni($B(e),e.y,o.insetNortheast(),Pi(),"northeast",Ji(e,{left:1,top:2}),qB),sy=(e,t,o)=>Ni(ey(e,t),e.y,o.insetNorth(),Zi(),"north",Ji(e,{top:2}),qB),ly=(e,t,o)=>Ni(ey(e,t),oy(e,t),o.insetSouth(),Gi(),"south",Ji(e,{bottom:3}),qB),dy=(e,t,o)=>Ni(ty(e,t),ry(e,t),o.insetEast(),Wi(),"east",Ji(e,{right:0}),qB),cy=(e,t,o)=>Ni($B(e),ry(e,t),o.insetWest(),ji(),"west",Ji(e,{left:1}),qB),uy=e=>{switch(e){case"north":return sy;case"northeast":return iy;case"northwest":return Ay;case"south":return ly;case"southeast":return ay;case"southwest":return ny;case"east":return dy;case"west":return cy}},gy=(e,t,o,r,n)=>js(r).map(uy).getOr(sy)(e,t,o,r,n),my=e=>{switch(e){case"north":return ly;case"northeast":return ay;case"northwest":return ny;case"south":return sy;case"southeast":return iy;case"southwest":return Ay;case"east":return cy;case"west":return dy}},py=(e,t,o,r,n)=>js(r).map(my).getOr(sy)(e,t,o,r,n),hy={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},fy=(e,t,o)=>{let r={maxHeightFunction:sl()};return()=>o()?{type:"node",root:Kt(zt(e())),node:Q.from(e()),bubble:ul(12,12,hy),layouts:{onRtl:()=>[iy],onLtr:()=>[Ay]},overrides:r}:{type:"hotspot",hotspot:t(),bubble:ul(-12,12,hy),layouts:{onRtl:()=>[as,As,ds],onLtr:()=>[As,as,ds]},overrides:r}},by=(e,t,o,r)=>{let n={maxHeightFunction:sl()};return()=>r()?{type:"node",root:Kt(zt(t())),node:Q.from(t()),bubble:ul(12,12,hy),layouts:{onRtl:()=>[sy],onLtr:()=>[sy]},overrides:n}:e?{type:"node",root:Kt(zt(t())),node:Q.from(t()),bubble:ul(0,-fo(t()),hy),layouts:{onRtl:()=>[ls],onLtr:()=>[ls]},overrides:n}:{type:"hotspot",hotspot:o(),bubble:ul(0,0,hy),layouts:{onRtl:()=>[ls],onLtr:()=>[ls]},overrides:n}},vy=(e,t,o)=>()=>o()?{type:"node",root:Kt(zt(e())),node:Q.from(e()),layouts:{onRtl:()=>[sy],onLtr:()=>[sy]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[ds],onLtr:()=>[ds]}},wy=(t,e)=>()=>({type:"selection",root:e(),getSelection:()=>{let e=t.selection.getRng(),r=t.model.table.getSelectedCells();if(1<r.length){let e=r[0],t=r[r.length-1],o={firstCell:I(e),lastCell:I(t)};return Q.some(o)}return Q.some(Ol.range(I(e.startContainer),e.startOffset,I(e.endContainer),e.endOffset))}}),xy=t=>e=>({type:"node",root:t(),node:e}),By=e=>We(e,"items"),yy=e=>We(e,"format"),Cy=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],_y=e=>we(e,(e,t)=>{var o,r;return je(t,"items")?(r=_y(t.items),{customFormats:e.customFormats.concat(r.customFormats),formats:e.formats.concat([{title:t.title,items:r.formats}])}):je(t,"inline")||(r=t,je(r,"block"))||(o=t,je(o,"selector"))?(o="custom-"+(f(t.name)?t.name:t.title.toLowerCase()),{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}):{...e,formats:e.formats.concat(t)}},{customFormats:[],formats:[]}),ky=t=>Wp(t).map(e=>{e=((t,e)=>{let o=_y(e),r=e=>{U(e,e=>{t.formatter.has(e.name)||t.formatter.register(e.name,e.format)})};return t.formatter?r(o.customFormats):t.on("init",()=>{r(o.customFormats)}),o.formats})(t,e);return Xp(t)?Cy.concat(e):e}).getOr(Cy),Ey=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)}),Fy=(n,e,a,A)=>{let i=e=>y(e,e=>{return By(e)?(o=e,r=i(o.items),{...o,type:"submenu",getStyleItems:E(r)}):yy(e)?(o=e,Ey(o,a,A)):(e=>{e=De(e);return 1===e.length&&ge(e,"title")})(e)?{...e,type:"separator"}:(r=e,e=f(r.name)?r.name:F(r.title),t="custom-"+e,r={...r,type:"formatter",format:t,isSelected:a(t),getStylePreview:A(t)},n.formatter.register(e,r),r);var t,o,r});return i(e)},Sy=i2.trim,Qy=o=>e=>{if(t=e,X(t)&&1===t.nodeType){if(e.contentEditable===o)return!0;if(e.getAttribute("data-mce-contenteditable")===o)return!0}var t;return!1},Uy=Qy("true"),Iy=Qy("false"),Ty=(e,t,o,r,n)=>({type:e,title:t,url:o,level:r,attach:n}),My=e=>e.innerText||e.textContent,Hy=e=>e&&"A"===e.nodeName&&void 0!==(e.id||e.name)&&Oy(e),Dy=e=>e&&/^(H[1-6])$/.test(e.nodeName),Oy=e=>(e=>{let t=e;for(;t=t.parentNode;){let e=t.contentEditable;if(e&&"inherit"!==e)return Uy(t)}return!1})(e)&&!Iy(e),Ly=e=>Dy(e)&&Oy(e),Ny=e=>{let t,o=e.id||F("h");var r;return Ty("header",null!=(t=My(e))?t:"","#"+o,(r=e,Dy(r)?parseInt(r.nodeName.substr(1),10):0),()=>{e.id=o})},Ry=e=>{var t=e.id||e.name,e=My(e);return Ty("anchor",e||"#"+t,"#"+t,0,B)},Py=e=>0<Sy(e.title).length,Vy=e=>{e=e;var t,e=y(Zl(I(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),e=>e.dom);return be((t=e,y(be(t,Ly),Ny).concat((t=e,y(be(t,Hy),Ry)))),Py)},zy="tinymce-url-history",Ky=e=>f(e)&&/^https?/.test(e),Zy=e=>b(e)&&Ze(e,e=>!(m(e=e)&&e.length<=5&&_e(e,Ky))).isNone(),Gy=()=>{var e=Y0.getItem(zy);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+zy+" was not valid JSON",e),{};throw e}return Zy(t)?t:(console.log("Local storage "+zy+" was not valid format",t),{})},jy=e=>{var t=Gy();return C(t,e).getOr([])},Wy=(t,e)=>{if(Ky(t)){var o=Gy(),r=C(o,e).getOr([]),r=be(r,e=>e!==t),e=(o[e]=[t].concat(r).slice(0,5),o);if(!Zy(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Y0.setItem(zy,JSON.stringify(e))}},Xy=e=>!!e,Yy=e=>Ne(i2.makeMap(e,/[, ]/),Xy),Jy=e=>Q.from(sh(e)),qy=e=>Q.from(e).filter(f).getOrUndefined(),$y=r=>({getHistory:jy,addToHistory:Wy,getLinkInformation:()=>{return e=r,uh(e)?Q.some({targets:Vy(e.getBody()),anchorTop:qy(gh(e)),anchorBottom:qy(mh(e))}):Q.none();var e},getValidationHandler:()=>{return e=r,Q.from(lh(e));var e},getUrlPicker:e=>{return e=a=e,o=(e=>{let t=Q.from(ch(e)).filter(Xy).map(Yy);return Jy(e).fold(Ae,e=>t.fold(ie,e=>0<De(e).length&&e))})(t=n=r),(G(o)?o?Jy(t):Q.none():o[e]?Jy(t):Q.none()).map(r=>t=>Rb(o=>{var e={filetype:a,fieldname:t.fieldname,...Q.from(t.meta).getOr({})};r.call(n,(e,t)=>{if(!f(e))throw new Error("Expected value to be string");if(void 0!==t&&!b(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})},t.value,e)}));var n,a,t,o}}),eC=nu,tC=Vc,oC=E([l("shell",!1),a("makeItem"),l("setupItem",B),gc("listBehaviours",[P])]),rC=Nc({name:"items",overrides:()=>({behaviours:O([P.config({})])})}),nC=E([rC]),aC=cu({name:E("CustomList")(),configFields:oC(),partFields:nC(),factory:(A,e,t,o)=>{e=A.shell?{behaviours:[P.config({})],components:[]}:{behaviours:[],components:e};return{uid:A.uid,dom:A.dom,components:e.components,behaviours:uc(A.listBehaviours,e.behaviours),apis:{setItems:(n,a)=>{var e=n;(A.shell?Q.some(e):Yc(e,A,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},t=>{var e=P.contents(t),o=a.length,r=o-e.length,r=0<r?pe(r,()=>A.makeItem()):[],e=e.slice(o),o=(U(e,e=>P.remove(t,e)),U(r,e=>P.append(t,e)),P.contents(t));U(o,(e,t)=>{A.setupItem(n,e,a[t],t)})})}}}},apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}}),AC=E([a("dom"),l("shell",!0),cc("toolbarBehaviours",[P])]),iC=E([Nc({name:"groups",overrides:()=>({behaviours:O([P.config({})])})})]),sC=cu({name:"Toolbar",configFields:AC(),partFields:iC(),factory:(o,e,t,r)=>{e=o.shell?{behaviours:[P.config({})],components:[]}:{behaviours:[],components:e};return{uid:o.uid,dom:o.dom,components:e.components,behaviours:uc(o.toolbarBehaviours,e.behaviours),apis:{setGroups:(e,t)=>{(o.shell?Q.some(e):Yc(e,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},e=>{P.set(e,t)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}}),lC=B,dC=Ae,cC=E([]);var uC,gC=Object.freeze({__proto__:null,setup:lC,isDocked:dC,getBehaviours:cC});let mC=e=>(Xe(so(e,"position"),"fixed")?Q.none():Mt(e)).orThunk(()=>{let t=dt("span");return It(e).bind(e=>{qo(e,t);e=Mt(t);return tr(t),e})}),pC=e=>mC(e).map(xo).getOrThunk(()=>vo(0,0)),hC=(e,t)=>{var o=e.element;VA(o,t.transitionClass),zA(o,t.fadeOutClass),VA(o,t.fadeInClass),t.onShow(e)},fC=(e,t)=>{var o=e.element;VA(o,t.transitionClass),zA(o,t.fadeInClass),VA(o,t.fadeOutClass),t.onHide(e)},bC=(e,t)=>e.y>=t.y,vC=(e,t)=>e.bottom<=t.bottom,wC=(e,t,o)=>({location:"top",leftX:t,topY:o.bounds.y-e.y}),xC=(e,t,o)=>({location:"bottom",leftX:t,bottomY:e.bottom-o.bounds.bottom}),BC=e=>e.box.x-e.win.x,yC=(r,n,e)=>e.getInitialPos().map(e=>{t=e,o=n.optScrollEnv.fold(E(t.bounds.y),e=>e.scrollElmTop+(t.bounds.y-e.currentScrollTop));var t,o=vo(t.bounds.x,o);return{box:cr(o.left,o.top,Co(r),ho(r)),location:e.location}}),CC=(e,t,o,r,n)=>{a=t,o=o.optScrollEnv.fold(E(a.y),e=>a.y+e.currentScrollTop-e.scrollElmTop);var a,o=vo(a.x,o),o=cr(o.left,o.top,t.width,t.height);r.setInitialPos({style:lo(e),position:Ao(e,"position")||"static",bounds:o,location:n.location})},_C=(a,A,e)=>e.getInitialPos().bind(r=>{var n;switch(e.clearInitialPos(),r.position){case"static":return Q.some({morph:"static"});case"absolute":let e=mC(a).getOr(Wt()),t=ur(e),o=null!=(n=e.dom.scrollTop)?n:0;return Q.some({morph:"absolute",positionCss:Os("absolute",C(r.style,"left").map(e=>A.x-t.x),C(r.style,"top").map(e=>A.y-t.y+o),C(r.style,"right").map(e=>t.right-A.right),C(r.style,"bottom").map(e=>t.bottom-A.bottom))});default:return Q.none()}}),kC=e=>{switch(e.location){case"top":return Q.some({morph:"fixed",positionCss:Os("fixed",Q.some(e.leftX),Q.some(e.topY),Q.none(),Q.none())});case"bottom":return Q.some({morph:"fixed",positionCss:Os("fixed",Q.some(e.leftX),Q.none(),Q.none(),Q.some(e.bottomY))});default:return Q.none()}},EC=(e,t,o)=>{var r,n,a,A,i,s,l,d,e=e.element;return Xe(so(e,"position"),"fixed")?(s=a=e,l=A=t,d=i=o,yC(s,l,d).filter(({box:e})=>{return t=d.getModes(),o=e,r=l,_e(t,e=>{switch(e){case"bottom":return vC(o,r.bounds);case"top":return bC(o,r.bounds)}});var t,o,r}).bind(({box:e})=>_C(s,e,d)).orThunk(()=>A.optScrollEnv.bind(e=>yC(a,A,i)).bind(({box:e,location:t})=>{var o=pr(),e=BC({win:o,box:e}),t=("top"===t?wC:xC)(o,e,A);return kC(t)}))):(e=e,t=t,o=o,r=ur(e),n=pr(),"top"===(n=((e,t,o)=>{let r=t.win,n=t.box,a=BC(t);return He(e,e=>{switch(e){case"bottom":return vC(n,o.bounds)?Q.none():Q.some(xC(r,a,o));case"top":return bC(n,o.bounds)?Q.none():Q.some(wC(r,a,o));default:return Q.none()}}).getOr({location:"no-dock"})})(o.getModes(),{win:n,box:r},t)).location||"bottom"===n.location?(CC(e,r,t,o,n),kC(n)):Q.none())},FC=(t,e,o)=>{o.setDocked(!1),U(["left","right","top","bottom","position"],e=>uo(t.element,e)),e.onUndocked(t)},SC=(e,t,o,r)=>{var n="fixed"===r.position;o.setDocked(n),Ls(e.element,r),(n?t.onDocked:t.onUndocked)(e)},QC=(r,e,n,a,A=!1)=>{e.contextual.each(o=>{o.lazyContext(r).each(e=>{t=a.bounds;var t,e=e.y<t.bottom&&e.bottom>t.y;e!==n.isVisible()&&(n.setVisible(e),A&&!e?(ZA(r.element,[o.fadeOutClass]),o.onHide(r)):(e?hC:fC)(r,o))})})},UC=(e,t,o,r,n)=>{QC(e,t,o,r,!0),SC(e,t,o,n.positionCss)},IC=(e,t,o)=>{if(e.getSystem().isConnected()){var i=e,s=t,l=o;let A=s.lazyViewport(i);QC(i,s,l,A),EC(i,A,l).each(e=>{var t=i,o=s,r=l,n=A,a=e;switch(a.morph){case"static":return void FC(t,o,r);case"absolute":return void SC(t,o,r,a.positionCss);case"fixed":UC(t,o,r,n,a)}})}},TC=(e,o,r)=>{if(r.isDocked()){var n=e,a=o,A=r;let t=n.element;A.setDocked(!1),((e,t)=>{let o=n.element;return yC(o,e,t).bind(({box:e})=>_C(o,e,t))})(a.lazyViewport(n),A).each(e=>{switch(e.morph){case"static":FC(n,a,A);break;case"absolute":SC(n,a,A,e.positionCss)}}),A.setVisible(!0),a.contextual.each(e=>{GA(t,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(n)}),IC(n,a,A)}},MC=p=>(t,o,r)=>{let n=o.lazyViewport(t);var e,a,A,i,s,l,d,c,u,g,m;e=t.element,a=n,A=r,i=p,g=ur(e),m=pr(),("bottom"===(i=i(m,BC({win:m,box:g}),a)).location||"top"===i.location?(s=e,l=g,d=a,u=i,(c=A).getInitialPos().fold(()=>CC(s,l,d,c,u),()=>B),kC(i)):Q.none()).each(e=>{UC(t,o,r,n,e)})},HC=MC(wC),DC=MC(xC),OC=Object.freeze({__proto__:null,refresh:IC,reset:TC,isDocked:(e,t,o)=>o.isDocked(),getModes:(e,t,o)=>o.getModes(),setModes:(e,t,o,r)=>o.setModes(r),forceDockToTop:HC,forceDockToBottom:DC}),LC=Object.freeze({__proto__:null,events:(r,n)=>Ka([qa(la(),(t,o)=>{r.contextual.each(e=>{KA(t.element,e.transitionClass)&&(GA(t.element,[e.transitionClass,e.fadeInClass]),(n.isVisible()?e.onShown:e.onHidden)(t)),o.stop()})}),D(Ea(),(e,t)=>{IC(e,r,n)}),D(Ha(),(e,t)=>{IC(e,r,n)}),D(Fa(),(e,t)=>{TC(e,r,n)})])}),NC=[En("contextual",[pn("fadeInClass"),pn("fadeOutClass"),pn("transitionClass"),fn("lazyContext"),e("onShow"),e("onShown"),e("onHide"),e("onHidden")]),Tn("lazyViewport",()=>({bounds:pr(),optScrollEnv:Q.none()})),Mn("modes",["top","bottom"],Yr),e("onDocked"),e("onUndocked")],RC=_s({fields:NC,name:"docking",active:LC,apis:OC,state:Object.freeze({__proto__:null,init:e=>{let t=H(!1),o=H(!0),r=qs(),n=H(e.modes);return FA({isDocked:t.get,setDocked:t.set,getInitialPos:r.get,setInitialPos:r.set,clearInitialPos:r.clear,isVisible:o.get,setVisible:o.set,getModes:n.get,setModes:n.set,readState:()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: `+n.get().join(",")})}})}),PC=E(F("toolbar-height-change")),VC={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},zC="tox-tinymce--toolbar-sticky-on",KC="tox-tinymce--toolbar-sticky-off",ZC=(e,t)=>ge(RC.getModes(e),t),GC=e=>{let n=e.element;Tt(n).each(t=>{var o,r="padding-"+RC.getModes(e)[0];if(RC.isDocked(e)){let e=Co(t);T(n,"width",e+"px"),T(t,r,(o=n,fo(o)+(parseInt(Ao(o,"margin-top"),10)||0)+(parseInt(Ao(o,"margin-bottom"),10)||0)+"px"))}else uo(n,"width"),uo(t,r)})},jC=(e,t)=>{t?(zA(e,VC.fadeOutClass),ZA(e,[VC.transitionClass,VC.fadeInClass])):(zA(e,VC.fadeInClass),ZA(e,[VC.fadeOutClass,VC.transitionClass]))},WC=(e,t)=>{e=I(e.getContainer());t?(VA(e,zC),zA(e,KC)):(VA(e,KC),zA(e,zC))},XC=(a,e)=>{let A=qs(),o=e.getSink,r=t=>{o().each(e=>t(e.element))},t=e=>{a.inline||GC(e),WC(a,RC.isDocked(e)),e.getSystem().broadcastOn([Gd()],{}),o().each(e=>e.getSystem().broadcastOn([Gd()],{}))},n=a.inline?[]:[Ss.config({channels:{[PC()]:{onReceive:GC}}})];return[z.config({}),RC.config({contextual:{lazyContext:r=>{let n=fo(r.element),e=a.inline?a.getContentAreaContainer():a.getContainer();return Q.from(e).map(e=>{let o=ur(I(e));return uv(a,r.element).fold(()=>{var e=o.height-n,t=o.y+(ZC(r,"top")?0:n);return cr(o.x,t,o.width,e)},e=>{var e=mr(o,gv(e)),t=ZC(r,"top")?e.y:e.y+n;return cr(e.x,t,e.width,e.height-n)})})},onShow:()=>{r(e=>jC(e,!0))},onShown:n=>{r(e=>GA(e,[VC.transitionClass,VC.fadeInClass])),A.get().each(e=>{{var o=n.element,r=e;let t=Ft(r);Ms(t).filter(e=>!kt(r,e)).filter(e=>kt(e,I(t.dom.body))||Et(o,e)).each(()=>Us(r))}A.clear()})},onHide:e=>{var t;e=e.element,t=o,Hs(e).orThunk(()=>t().toOptional().bind(e=>Hs(e.element))).fold(A.clear,A.set),r(e=>jC(e,!1))},onHidden:()=>{r(e=>GA(e,[VC.transitionClass]))},...VC},lazyViewport:r=>uv(a,r.element).fold(()=>{var e=pr(),t=ah(a),o=e.y+(ZC(r,"top")?t:0),t=e.height-(ZC(r,"bottom")?t:0);return{bounds:cr(e.x,o,e.width,t),optScrollEnv:Q.none()}},e=>({bounds:gv(e),optScrollEnv:Q.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:xo(e.element).top})})),modes:[e.header.getDockingMode()],onDocked:t,onUndocked:t}),...n]};var YC=Object.freeze({__proto__:null,setup:(e,t,o)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{o().each(RC.reset)}),e.on("ResizeWindow ResizeEditor",()=>{o().each(GC)}),e.on("SkinLoaded",()=>{o().each(e=>{RC.isDocked(e)?RC.reset(e):RC.refresh(e)})}),e.on("FullscreenStateChanged",()=>{o().each(RC.reset)})),e.on("AfterScrollIntoView",c=>{o().each(t=>{RC.refresh(t);t=t.element;if(vg(t)){var e=c,o=Ft(t),r=Ut(t).dom.innerHeight,n=or(o),e=I(e.elm),a=gr(e),A=ho(e),e=(a=a.y)+A,i=xo(t),t=ho(t),s=(i=i.top)+t,l=Math.abs(i-n.top)<2,d=Math.abs(s-(n.top+r))<2;if(l&&a<s)rr(n.left,a-t,o);else if(d&&i<e){let e=a-r+A+t;rr(n.left,e,o)}}})}),e.on("PostRender",()=>{WC(e,!1)})},isDocked:e=>e().map(RC.isDocked).getOr(!1),getBehaviours:XC});let JC=A([Ff,mn("items",Kr([Gr([Sf,wn("items",Yr)]),Yr]))].concat(n1)),qC=[yn("text"),yn("tooltip"),yn("icon"),Fn("search",!1,Kr([Jr,A([yn("placeholder")])],e=>G(e)?e?Q.some({placeholder:Q.none()}):Q.none():Q.some(e))),fn("fetch"),Tn("onSetup",()=>B)],$C=A([Ff,...qC]),e_=e=>nn("menubutton",$C,e),t_=A([Ff,zf,Vf,Pf,Gf,Hf,Nf,Un("presets","normal",["normal","color","listpreview"]),Jf(1),Of,Lf]);var o_=du({factory:(t,o)=>{var e={focus:R.focusIn,setMenus:(e,t)=>{t=y(t,t=>{var e={type:"menubutton",text:t.text,fetch:e=>{e(t.getItems())}},e=e_(e).mapError(e=>sn(e)).getOrDie();return AB(e,"tox-mbtn",o.backstage,Q.some("menuitem"))});P.set(e,t)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:O([P.config({}),V("menubar-events",[$a(e=>{t.onSetup(e)}),D(ea(),(o,e)=>{fi(o.element,".tox-mbtn--active").each(t=>{bi(e.event.target,".tox-mbtn").each(e=>{kt(t,e)||o.getSystem().getByDom(t).each(t=>{o.getSystem().getByDom(e).each(e=>{tv.expand(e),tv.close(t),z.focus(e)})})})})}),D(Ta(),(o,e)=>{e.event.prevFocus.bind(e=>o.getSystem().getByDom(e).toOptional()).each(t=>{e.event.newFocus.bind(e=>o.getSystem().getByDom(e).toOptional()).each(e=>{tv.isOpen(t)&&(tv.expand(e),tv.close(t))})})})]),R.config({mode:"flow",selector:".tox-mbtn",onEscape:e=>(t.onEscape(e),Q.some(!0))}),Qv.config({})]),apis:e,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[a("dom"),a("uid"),a("onEscape"),a("backstage"),l("onSetup",B)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});let r_=[cc("slotBehaviours",[])],n_=e=>"<alloy.field."+e+">",a_=(n,e)=>{let t=e=>eu(n),o=(o,r)=>(e,t)=>Yc(e,n,t).map(e=>o(e,t)).getOr(r),r=(e,t)=>"true"!==qt(e.element,"aria-hidden"),a=o(r,!1),A=o((e,t)=>{var o;r(e)&&(o=e.element,T(o,"display","none"),x(o,"aria-hidden","true"),k(e,Ma(),{name:t,visible:!1}))}),i=(t,e)=>{U(e,e=>d(t,e))},s=o((e,t)=>{var o;r(e)||(o=e.element,uo(o,"display"),to(o,"aria-hidden"),k(e,Ma(),{name:t,visible:!0}))}),l={getSlotNames:t,getSlot:(e,t)=>Yc(e,n,t),isShowing:a,hideSlot:d=A,hideAllSlots:e=>i(e,t()),showSlot:s};var d;return{uid:n.uid,dom:n.dom,components:e,behaviours:n.slotBehaviours.dump,apis:l}},A_=Ne({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},e=>kA(e)),i_={...A_,sketch:e=>{var t=(()=>{let o=[];return{slot:(e,t)=>(o.push(e),Zc("container",n_(e),t)),record:E(o)}})(),e=e(t),t=t.record(),t=y(t,e=>Oc({name:e,pname:n_(e)}));return Au("container",r_,t,a_,e)}},s_=A([Vf,zf,Tn("onShow",B),Tn("onHide",B),Nf]),l_=e=>({element:()=>e.element.dom}),d_=t=>i_.sketch(e=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:((o,r)=>{let n=y(De(r),e=>{var t=r[e],t=an((t=t,nn("sidebar",s_,t)));return{name:e,getApi:l_,onSetup:t.onSetup,onShow:t.onShow,onHide:t.onHide}});return y(n,e=>{var t=H(B);return o.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:H1([e0(e,t),t0(e,t),D(Ma(),(t,e)=>{let o=e.event,r=xe(n,e=>e.name===o.name);r.each(e=>{(o.visible?e.onShow:e.onHide)(e.getApi(t))})})])})})})(e,t),slotBehaviours:H1([$a(e=>i_.hideAllSlots(e))])})),c_=(e,t)=>{x(e,"role",t)},u_=e=>S.getCurrent(e).bind(e=>nB.isGrowing(e)||nB.hasGrown(e)?S.getCurrent(e).bind(t=>xe(i_.getSlotNames(t),e=>i_.isShowing(t,e))):Q.none()),g_=F("FixSizeEvent"),m_=F("AutoSizeEvent"),p_=Object.freeze({__proto__:null,block:(e,t,o,r)=>{x(e.element,"aria-busy",!0);let n=t.getRoot(e).getOr(e),a=O([R.config({mode:"special",onTab:()=>Q.some(!0),onShiftTab:()=>Q.some(!0)}),z.config({})]),A=r(n,a),i=n.getSystem().build(A);P.append(n,si(i)),i.hasConfigured(R)&&t.focus&&R.focusIn(i),o.isBlocked()||t.onBlock(e),o.blockWith(()=>P.remove(n,i))},unblock:(e,t,o)=>{to(e.element,"aria-busy"),o.isBlocked()&&t.onUnblock(e),o.clear()},isBlocked:(e,t,o)=>o.isBlocked()}),h_=[Tn("getRoot",Q.none),In("focus",!0),e("onBlock"),e("onUnblock")],f_=_s({fields:h_,name:"blocking",apis:p_,state:Object.freeze({__proto__:null,init:()=>{let t=Ys(e=>e.destroy());return FA({readState:t.isSet,blockWith:e=>{t.set({destroy:e})},clear:t.clear,isBlocked:t.isSet})}})}),b_=e=>{let t=lt(e),o=Ht(t),r=(e=void 0!==t.dom.attributes?t.dom.attributes:[],we(e,(e,t)=>"class"===t.name?e:{...e,[t.name]:t.value},{})),n=(e=t,Array.prototype.slice.call(e.dom.classList,0)),a=0===o.length?{}:{innerHtml:rA(t)};return{tag:ht(t),classes:n,attributes:r,...a}},v_=e=>S.getCurrent(e).each(e=>Us(e.element)),w_=(l,d,c)=>{let u=H(!1),o=qs(),t=e=>{var t;!u.get()||"focusin"===(t=e).type&&(t.composed?Ie(t.composedPath()):Q.from(t.target)).map(I).filter(vt).exists(e=>KA(e,"mce-pastebin"))||(e.preventDefault(),v_(d()),l.editorManager.setActive(l))},r=(l.inline||l.on("PreInit",()=>{l.dom.bind(l.getWin(),"focusin",t),l.on("BeforeExecCommand",e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&t(e)})}),e=>{if(e!==u.get()){u.set(e);var o,t=l,r=d(),n=e,a=c.providers,A=r.element;{var i=t,s=n;let o="tabindex",r="data-mce-"+o;Q.from(i.iframeElement).map(I).each(t=>{s?($t(t,o).each(e=>x(t,r,e)),x(t,o,-1)):(to(t,o),$t(t,r).each(e=>{x(t,o,e),to(t,r)}))})}if(n)f_.block(r,(o=a,(e,t)=>({dom:{tag:"div",attributes:{"aria-label":o.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:b_('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))),uo(A,"display"),to(A,"aria-hidden"),t.hasFocus()&&v_(r);else{let e=S.getCurrent(r).exists(e=>Ts(e.element));f_.unblock(r),T(A,"display","none"),x(A,"aria-hidden","true"),e&&t.focus()}l.dispatch("AfterProgressState",{state:e})}});l.on("ProgressState",e=>{var t;o.on(clearTimeout),J(e.time)?(t=vp.setEditorTimeout(l,()=>r(e.state),e.time),o.set(t)):(r(e.state),o.clear())})},x_=(e,t,o)=>({within:e,extra:t,withinWidth:o}),B_=(e,t,n)=>{var e=we(e,(t,e)=>{return e=e,o=t.len,r=n(e),Q.some({element:e,start:o,finish:o+r,width:r}).fold(E(t),e=>({len:e.finish,list:t.list.concat([e])}));var o,r},{len:0,list:[]}).list,o=be(e,e=>e.finish<=t),r=ve(o,(e,t)=>e+t.width,0);return{within:o,extra:e.slice(o.length),withinWidth:r}},y_=e=>y(e,e=>e.element),C_=(e,t)=>{t=y(t,e=>si(e));sC.setGroups(e,t)},__=(e,t,o)=>{var r,n,a,A,i,s,l,d,c,u,g=t.builtGroups.get();0!==g.length&&(r=Jc(e,t,"primary"),e=Hb.getCoupled(e,"overflowGroup"),T(r.element,"visibility","hidden"),g=g.concat([e]),n=He(g,t=>Hs(t.element).bind(e=>t.getSystem().getByDom(e).toOptional())),o([]),C_(r,g),a=Co(r.element),A=t.builtGroups.get(),s=e,g=((e,t,o)=>{t=B_(t,e,o);return 0===t.extra.length?Q.some(t):Q.none()})(a,A,i=e=>Co(e.element)).getOrThunk(()=>B_(A,a-i(s),i)),t=g.within,u=g.extra,g=g.withinWidth,0===(g=1===u.length&&u[0].width<=i(s)?(d=t,l=u,c=g,d=y_(d.concat(l)),x_(d,[],c)):1<=u.length?(l=t,d=u,c=s,u=g,l=y_(l).concat([c]),x_(l,y_(d),u)):(u=t,t=g,x_(y_(u),[],t))).extra.length?(P.remove(r,e),o([])):(C_(r,g.within),o(g.extra)),uo(r.element,"visibility"),go(r.element),n.each(z.focus))},k_=E([cc("splitToolbarBehaviours",[Hb]),un("builtGroups",()=>H([]))]),E_=E([Ui(["overflowToggledClass"]),_n("getOverflowBounds"),a("lazySink"),un("overflowGroups",()=>H([])),e("onOpened"),e("onClosed")].concat(k_())),F_=E([Oc({factory:sC,schema:AC(),name:"primary"}),Lc({schema:AC(),name:"overflow"}),Lc({name:"overflow-button"}),Lc({name:"overflow-group"})]),S_=E((e,t)=>{t=Math.floor(t);t=yo.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]),T(e,"max-width",t+"px")}),Q_=E([Ui(["toggledClass"]),a("lazySink"),fn("fetch"),_n("getBounds"),En("fireDismissalEventInstead",[l("event",Ua())]),vl(),e("onToggled")]),U_=E([Lc({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:O([h.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Lc({factory:sC,schema:AC(),name:"toolbar",overrides:t=>({toolbarBehaviours:O([R.config({mode:"cyclic",onEscape:e=>(Yc(e,t,"button").each(z.focus),Q.none())})])})})]),I_=qs(),T_=(e,t)=>{e=Hb.getCoupled(e,"toolbarSandbox");u.isOpen(e)?u.close(e):u.open(e,t.toolbar())},M_=(e,t,o,r)=>{var n=o.getBounds.map(e=>e()),o=o.lazySink(e).getOrDie();vd.positionWithinBounds(o,t,{anchor:{type:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:S_()}}},n)},H_=(e,t,o,r,n)=>{sC.setGroups(t,n),M_(e,t,o,r),h.on(e)},D_=cu({name:"FloatingToolbarButton",factory:(i,e,s,o)=>({...wp.sketch({...o.button(),action:e=>{T_(e,o)},buttonBehaviours:mc({dump:o.button().buttonBehaviours},[Hb.config({others:{toolbarSandbox:e=>{{var n=e,a=s,A=i;let r=wi();return{dom:{tag:"div",attributes:{id:r.id}},behaviours:O([R.config({mode:"special",onEscape:e=>(u.close(e),Q.some(!0))}),u.config({onOpen:(e,t)=>{let o=I_.get().getOr(!1);A.fetch().get(e=>{H_(n,t,A,a.layouts,e),r.link(n.element),o||R.focusIn(t)})},onClose:()=>{h.off(n),I_.get().getOr(!1)||z.focus(n),r.unlink(n.element)},isPartOf:(e,t,o)=>xi(t,o)||xi(n,o),getAttachPoint:()=>A.lazySink(n).getOrDie()}),Ss.config({channels:{...Xd({isExtraPart:Ae,...A.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...Jd({doReposition:()=>{u.getState(Hb.getCoupled(n,"toolbarSandbox")).each(e=>{M_(n,e,A,a.layouts)})}})}})])}}}}})])}),apis:{setGroups:(t,o)=>{u.getState(Hb.getCoupled(t,"toolbarSandbox")).each(e=>{H_(t,e,i,s.layouts,o)})},reposition:t=>{u.getState(Hb.getCoupled(t,"toolbarSandbox")).each(e=>{M_(t,e,i,s.layouts)})},toggle:e=>{T_(e,o)},toggleWithoutFocusing:e=>{var t;e=e,t=o,I_.set(!0),T_(e,t),I_.clear()},getToolbar:e=>u.getState(Hb.getCoupled(e,"toolbarSandbox")),isOpen:e=>u.isOpen(Hb.getCoupled(e,"toolbarSandbox"))}}),configFields:Q_(),partFields:U_(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),O_=E([a("items"),Ui(["itemSelector"]),cc("tgroupBehaviours",[R])]),L_=E([Rc({name:"items",unit:"item"})]),N_=cu({name:"ToolbarGroup",configFields:O_(),partFields:L_(),factory:(e,t,o,r)=>({uid:e.uid,dom:e.dom,components:t,behaviours:uc(e.tgroupBehaviours,[R.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),R_=e=>y(e,e=>si(e)),P_=(e,o,r)=>{__(e,r,t=>{r.overflowGroups.set(t),o.getOpt(e).each(e=>{D_.setGroups(e,R_(t))})})},V_=cu({name:"SplitFloatingToolbar",configFields:E_(),partFields:F_(),factory:(o,e,t,r)=>{let n=K(D_.sketch({fetch:()=>Rb(e=>{e(R_(o.overflowGroups.get()))}),layouts:{onLtr:()=>[As,as],onRtl:()=>[as,As],onBottomLtr:()=>[ss,is],onBottomRtl:()=>[is,ss]},getBounds:t.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()},onToggled:(e,t)=>o[t?"onOpened":"onClosed"](e)}));return{uid:o.uid,dom:o.dom,components:e,behaviours:uc(o.splitToolbarBehaviours,[Hb.config({others:{overflowGroup:()=>N_.sketch({...r["overflow-group"](),items:[n.asSpec()]})}})]),apis:{setGroups:(e,t)=>{o.builtGroups.set(y(t,e.getSystem().build)),P_(e,n,o)},refresh:e=>P_(e,n,o),toggle:e=>{n.getOpt(e).each(e=>{D_.toggle(e)})},toggleWithoutFocusing:e=>{n.getOpt(e).each(D_.toggleWithoutFocusing)},isOpen:e=>n.getOpt(e).map(D_.isOpen).getOr(!1),reposition:e=>{n.getOpt(e).each(e=>{D_.reposition(e)})},getOverflow:e=>n.getOpt(e).bind(D_.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),z_=E([Ui(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),e("onOpened"),e("onClosed")].concat(k_())),K_=E([Oc({factory:sC,schema:AC(),name:"primary"}),Oc({factory:sC,schema:AC(),name:"overflow",overrides:t=>({toolbarBehaviours:O([nB.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:e=>{Yc(e,t,"overflow-button").each(e=>{h.off(e),z.focus(e)}),t.onClosed(e)},onGrown:e=>{R.focusIn(e),t.onOpened(e)},onStartGrow:e=>{Yc(e,t,"overflow-button").each(h.on)}}),R.config({mode:"acyclic",onEscape:e=>(Yc(e,t,"overflow-button").each(z.focus),Q.some(!0))})])})}),Lc({name:"overflow-button",overrides:e=>({buttonBehaviours:O([h.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Lc({name:"overflow-group"})]),Z_=(t,o)=>{Yc(t,o,"overflow-button").bind(()=>Yc(t,o,"overflow")).each(e=>{G_(t,o),nB.toggleGrow(e)})},G_=(e,o)=>{Yc(e,o,"overflow").each(t=>{__(e,o,e=>{e=y(e,e=>si(e));sC.setGroups(t,e)}),Yc(e,o,"overflow-button").each(e=>{nB.hasGrown(t)&&h.on(e)}),nB.refresh(t)})},j_=cu({name:"SplitSlidingToolbar",configFields:z_(),partFields:K_(),factory:(r,e,t,o)=>{let n="alloy.toolbar.toggle";return{uid:r.uid,dom:r.dom,components:e,behaviours:uc(r.splitToolbarBehaviours,[Hb.config({others:{overflowGroup:t=>N_.sketch({...o["overflow-group"](),items:[wp.sketch({...o["overflow-button"](),action:e=>{_(t,n)}})]})}}),V("toolbar-toggle-events",[D(n,e=>{Z_(e,r)})])]),apis:{setGroups:(e,t)=>{var o=e;t=y(t,o.getSystem().build),r.builtGroups.set(t),G_(e,r)},refresh:e=>G_(e,r),toggle:e=>Z_(e,r),isOpen:e=>{return e=e,t=r,Yc(e,t,"overflow").map(nB.hasGrown).getOr(!1);var t}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),W_=e=>({dom:{tag:"div",classes:["tox-toolbar__group"],...e.title.fold(()=>({}),e=>({attributes:{title:e}}))},components:[N_.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:O([Qv.config({}),z.config({})])}),X_=e=>N_.sketch(W_(e)),Y_=(o,e)=>{var t=$a(e=>{var t=y(o.initGroups,X_);sC.setGroups(e,t)});return O([q1(o.providers.isDisabled),X1(),R.config({mode:e,onEscape:o.onEscape,selector:".tox-toolbar__group"}),V("toolbar-events",[t])])},J_=e=>{var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":W_({title:Q.none(),items:[]}),"overflow-button":IB({name:"more",icon:Q.some("more-drawer"),enabled:!0,tooltip:Q.some("More..."),primary:!1,buttonType:Q.none(),borderless:!1},Q.none(),e.providers)},splitToolbarBehaviours:Y_(e,t)}},q_=e=>{var t=e.cyclicKeying?"cyclic":"acyclic";return sC.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Tp.scrolling?["tox-toolbar--scrolling"]:[])},components:[sC.parts.groups({})],toolbarBehaviours:Y_(e,t)})},$_=[Pf,Vf,yn("tooltip"),Un("buttonType","secondary",["primary","secondary"]),In("borderless",!1),fn("onAction")],e4={button:[...$_,Uf,hn("type",["button"])],togglebutton:[...$_,In("active",!1),hn("type",["togglebutton"])]},t4=[hn("type",["group"]),Mn("buttons",[],ln("type",e4))],o4=ln("type",{...e4,group:t4}),r4=A([Mn("buttons",[],o4),fn("onShow"),fn("onHide")]),n4=(m,p)=>{{var h=m,f=p;let e,t,r="togglebutton"===h.type,n=h.icon.map(e=>x2(e,f.icons)).map(K),o={...h,name:r?h.text.getOr(h.icon.getOr("")):null!=(e=h.text)?e:h.icon.getOr(""),primary:"primary"===h.buttonType,buttonType:Q.from(h.buttonType),tooltip:h.tooltip,icon:h.icon,enabled:!0,borderless:h.borderless},a=TB(null!=(t=h.buttonType)?t:"secondary"),A=r?h.text.map(f.translate):Q.some(f.translate(h.text)),i=A.map(ri),s=o.tooltip.or(A).map(e=>({"aria-label":f.translate(e),title:f.translate(e)})).getOr({}),l=n.map(e=>e.asSpec()),d=n0([l,i]),c=h.icon.isSome()&&i.isSome(),u={tag:"button",classes:a.concat(...h.icon.isSome()&&!c?["tox-button--icon"]:[]).concat(...c?["tox-button--icon-and-text"]:[]).concat(...h.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===h.type&&h.active?["tox-button--enabled"]:[]),attributes:s},g=UB(o,Q.some(o=>{var e=t=>{n.map(e=>e.getOpt(o).each(e=>{P.set(e,[x2(t,f.icons)])}))};return r?h.onAction({setIcon:e,setActive:e=>{var t=o.element;e?(VA(t,"tox-button--enabled"),x(t,"aria-pressed",!0)):(zA(t,"tox-button--enabled"),to(t,"aria-pressed"))},isActive:()=>KA(o.element,"tox-button--enabled")}):"button"===h.type?h.onAction({setIcon:e}):void 0}),[],u,d,f);return wp.sketch(g)}},a4=Zo().deviceType,A4=a4.isPhone(),i4=a4.isTablet();var s4=cu({name:"silver.View",configFields:[a("viewConfig")],partFields:[Nc({factory:{sketch:r=>{let n=!1;var e=y(r.buttons,e=>{return"group"===e.type?(n=!0,t=e,o=r.providers,{dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:y(t.buttons,e=>n4(e,o))}):n4(e,r.providers);var t,o});return{uid:r.uid,dom:{tag:"div",classes:[n?"tox-view__toolbar":"tox-view__header",...A4||i4?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:O([z.config({}),R.config({mode:"flow",selector:"button, .tox-button",focusInside:oc.OnEnterOrSpaceMode})]),components:n?e:[Cv.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cv.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:e})]}}},schema:[a("buttons"),a("providers")],name:"header"}),Nc({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(t,e,o,r)=>({uid:t.uid,dom:t.dom,components:e,apis:{getPane:e=>eC.getPart(e,t,"pane"),getOnShow:e=>t.viewConfig.onShow,getOnHide:e=>t.viewConfig.onHide}}),apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});let l4=(t,n)=>i_.sketch(e=>{return{dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:(o=e,e=t,r=n,Ke(e,(e,t)=>{e=an(nn("view",r4,e));return o.slot(t,s4.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:e,components:[...0<e.buttons.length?[s4.parts.header({buttons:e.buttons,providers:r})]:[],s4.parts.pane({})]}))})),slotBehaviours:H1([$a(e=>i_.hideAllSlots(e))])};var o,r}),d4=t=>xe(i_.getSlotNames(t),e=>i_.isShowing(t,e)),c4=(e,t,o)=>{i_.getSlot(e,t).each(t=>{s4.getPane(t).each(e=>{o(t)((e=e.element.dom,{getContainer:E(e)}))})})};var u4,g4=du({factory:(e,o)=>{var t={setViews:(e,t)=>{P.set(e,[l4(t,o.backstage.shared.providers)])},whichView:e=>S.getCurrent(e).bind(d4),toggleView:(a,A,i,s)=>S.getCurrent(a).exists(o=>{var e,t=d4(o),r=t.exists(e=>s===e),n=i_.getSlot(o,s).isSome();return n&&(i_.hideAllSlots(o),r?(r=a.element,T(r,"display","none"),x(r,"aria-hidden","true"),A()):(i(),r=a.element,uo(r,"display"),to(r,"aria-hidden"),i_.showSlot(o,s),r=o,e=s,c4(r,e,s4.getOnShow)),t.each(e=>{return t=o,e=e,c4(t,e,s4.getOnHide);var t})),n})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:O([P.config({}),S.config({find:e=>{e=P.contents(e);return Ie(e)}})]),apis:t}},name:"silver.ViewWrapper",configFields:[a("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,r,n)=>e.toggleView(t,o,r,n),whichView:(e,t)=>e.whichView(t)}}),ac=tC.optional({factory:o_,name:"menubar",schema:[a("backstage")]}),nc=tC.optional({factory:{sketch:e=>aC.sketch({uid:e.uid,dom:e.dom,listBehaviours:O([R.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>q_({type:e.type,uid:F("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),Q.some(!0))}),setupItem:(e,t,o,r)=>{sC.setGroups(t,o)},shell:!0})},name:"multiple-toolbar",schema:[a("dom"),a("onEscape")]}),m4=tC.optional({factory:{sketch:o=>(o.type===Tp.sliding?t=>{var e=j_.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=j_.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=J_(t);return j_.sketch({...r,components:[e,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:e=>{e.getSystem().broadcastOn([PC()],{type:"opened"}),t.onToggled(e,!0)},onClosed:e=>{e.getSystem().broadcastOn([PC()],{type:"closed"}),t.onToggled(e,!1)}})}:o.type===Tp.floating?r=>{var e=J_(r),t=V_.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return V_.sketch({...e,lazySink:r.getSink,getOverflowBounds:()=>{var e=r.moreDrawerData.lazyHeader().element,t=gr(e),e=Qt(e),o=gr(e),e=Math.max(e.dom.scrollHeight,o.height);return cr(t.x+4,o.y,t.width-8,e)},parts:{...e.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r.attributes}}},components:[t],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:e=>r.onToggled(e,!0),onClosed:e=>r.onToggled(e,!1)})}:q_)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),Q.some(!0)),onToggled:(e,t)=>o.onToolbarToggled(t),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})},name:"toolbar",schema:[a("dom"),a("onEscape"),a("getSink")]}),rc=tC.optional({factory:{sketch:e=>{var t=e.editor,o=e.sticky?XC:cC;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:O(o(t,e.sharedBackstage))}}},name:"header",schema:[a("dom")]}),p4=tC.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"โก๏ธUpgrade"}}]})},name:"promotion",schema:[a("dom")]}),h4=tC.optional({name:"socket",schema:[a("dom")]}),f4=tC.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:O([Qv.config({}),z.config({}),nB.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{S.getCurrent(e).each(i_.hideAllSlots),_(e,m_)},onGrown:e=>{_(e,m_)},onStartGrow:e=>{k(e,g_,{width:so(e.element,"width").getOr("")})},onStartShrink:e=>{k(e,g_,{width:Co(e.element)+"px"})}}),P.config({}),S.config({find:e=>{e=P.contents(e);return Ie(e)}})])}],behaviours:O([Jx(0),V("sidebar-sliding-events",[D(g_,(e,t)=>{T(e.element,"width",t.event.width)}),D(m_,(e,t)=>{uo(e.element,"width")})])])})},name:"sidebar",schema:[a("dom")]}),b4=tC.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:O([P.config({}),f_.config({focus:!1}),S.config({find:e=>Ie(e.components())})]),components:[]})},name:"throbber",schema:[a("dom")]}),v4=tC.optional({factory:g4,name:"viewWrapper",schema:[a("backstage")]}),w4=tC.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]}),x4=cu({name:"OuterContainer",factory:(r,e,t)=>{let o=!1,n={getSocket:e=>eC.getPart(e,r,"socket"),setSidebar:(e,t,o)=>{eC.getPart(e,r,"sidebar").each(e=>{var r,n,a;r=e,n=t,a=o,S.getCurrent(r).each(t=>{P.set(t,[d_(n)]);let o=null==a?void 0:a.toLowerCase();f(o)&&je(n,o)&&S.getCurrent(t).each(e=>{i_.showSlot(e,o),nB.immediateGrow(t),uo(t.element,"width"),c_(r.element,"region")})})})},toggleSidebar:(e,t)=>{eC.getPart(e,r,"sidebar").each(e=>{var o,r;o=e,r=t,S.getCurrent(o).each(t=>{S.getCurrent(t).each(e=>{nB.hasGrown(t)?i_.isShowing(e,r)?(nB.shrink(t),c_(o.element,"presentation")):(i_.hideAllSlots(e),i_.showSlot(e,r),c_(o.element,"region")):(i_.hideAllSlots(e),i_.showSlot(e,r),nB.grow(t),c_(o.element,"region"))})})})},whichSidebar:e=>eC.getPart(e,r,"sidebar").bind(u_).getOrNull(),getHeader:e=>eC.getPart(e,r,"header"),getToolbar:e=>eC.getPart(e,r,"toolbar"),setToolbar:(e,o)=>{eC.getPart(e,r,"toolbar").each(e=>{var t=y(o,X_);e.getApis().setGroups(e,t)})},setToolbars:(e,o)=>{eC.getPart(e,r,"multiple-toolbar").each(e=>{var t=y(o,e=>y(e,X_));aC.setItems(e,t)})},refreshToolbar:e=>{eC.getPart(e,r,"toolbar").each(e=>e.getApis().refresh(e))},toggleToolbarDrawer:e=>{eC.getPart(e,r,"toolbar").each(t=>{qe(t.getApis().toggle,e=>e(t))})},toggleToolbarDrawerWithoutFocusing:e=>{eC.getPart(e,r,"toolbar").each(t=>{qe(t.getApis().toggleWithoutFocusing,e=>e(t))})},isToolbarDrawerToggled:e=>eC.getPart(e,r,"toolbar").bind(t=>Q.from(t.getApis().isOpen).map(e=>e(t))).getOr(!1),getThrobber:e=>eC.getPart(e,r,"throbber"),focusToolbar:e=>{eC.getPart(e,r,"toolbar").orThunk(()=>eC.getPart(e,r,"multiple-toolbar")).each(e=>{R.focusIn(e)})},setMenubar:(e,t)=>{eC.getPart(e,r,"menubar").each(e=>{o_.setMenus(e,t)})},focusMenubar:e=>{eC.getPart(e,r,"menubar").each(e=>{o_.focus(e)})},setViews:(e,t)=>{eC.getPart(e,r,"viewWrapper").each(e=>{g4.setViews(e,t)})},toggleView:(t,o)=>eC.getPart(t,r,"viewWrapper").exists(e=>g4.toggleView(e,()=>n.showMainView(t),()=>n.hideMainView(t),o)),whichView:e=>eC.getPart(e,r,"viewWrapper").bind(g4.whichView).getOrNull(),hideMainView:e=>{(o=n.isToolbarDrawerToggled(e))&&n.toggleToolbarDrawer(e),eC.getPart(e,r,"editorContainer").each(e=>{e=e.element;T(e,"display","none"),x(e,"aria-hidden","true")})},showMainView:e=>{o&&n.toggleToolbarDrawer(e),eC.getPart(e,r,"editorContainer").each(e=>{e=e.element;uo(e,"display"),to(e,"aria-hidden")})}};return{uid:r.uid,dom:r.dom,components:e,apis:n,behaviours:r.behaviours}},configFields:[a("dom"),a("behaviours")],partFields:[rc,ac,m4,nc,h4,f4,p4,b4,v4,w4],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,r)=>{e.setSidebar(t,o,r)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});let B4={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},y4=e=>e.split(" "),C4=(n,a)=>{let o={...B4,...a.menus},r=0<De(a.menus).length,e=void 0===a.menubar||!0===a.menubar?y4("file edit view insert format tools table help"):y4(!1===a.menubar?"":a.menubar),t=be(e,e=>{var t=je(B4,e);return r?t||C(a.menus,e).exists(e=>je(e,"items")):t}),A=y(t,e=>{e=o[e];{var t={title:e.title,items:y4(e.items)},r=a;e=n;let o=qp(e).split(/[ ,]/);return{text:t.title,getItems:()=>Ce(t.items,e=>{let t=e.toLowerCase();return 0===t.trim().length||me(o,e=>e===t)?[]:"separator"===t||"|"===t?[{type:"separator"}]:r.menuItems[t]?[r.menuItems[t]]:[]})}}});return be(A,e=>0<e.getItems().length&&me(e.getItems(),e=>f(e)||"separator"!==e.type))},_4=e=>{let t=()=>{e._skinLoaded=!0,e.dispatch("SkinLoaded")};return()=>{e.initialized?t():e.on("init",t)}},k4=(e,t,o)=>(e.on("remove",()=>o.unload(t)),o.load(t)),E4=(e,t)=>{var o,r,n=_h(t);return n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css"),!yh(t)&&f(n)?Promise.all([(e=t,r=n,k4(e,r+"/skin.min.css",e.ui.styleSheetLoader)),(r=t,e=n,n=I(r.getElement()),Zt(n).isSome()?k4(r,e+"/skin.shadowdom.min.css",Hp.DOM.styleSheetLoader):Promise.resolve())]).then(_4(t),(o=t,()=>{o.dispatch("SkinLoadError",{message:"Skin could not be loaded"})})):Promise.resolve(_4(t)())},F4=oe(E4,!1),S4=oe(E4,!0),Q4=(e,a,A)=>{let n=(t,o,e,r)=>{var n=a.shared.providers.translate(t.title);if("separator"===t.type)return Q.some({type:"separator",text:n});if("submenu"!==t.type)return Q.some({type:"togglemenuitem",text:n,icon:t.icon,active:t.isSelected(r),enabled:!e,onAction:A.onAction(t),...t.getStylePreview().fold(()=>({}),e=>({meta:{style:e}}))});{let e=Ce(t.getStyleItems(),e=>i(e,o,r));return 0===o&&e.length<=0?Q.none():Q.some({type:"nestedmenuitem",text:n,enabled:0<e.length,getSubmenuItems:()=>Ce(t.getStyleItems(),e=>i(e,o,r))})}},i=(e,t,o)=>{var r="formatter"===e.type&&A.isInvalid(e);return 0===t?r?[]:n(e,t,!1,o).toArray():n(e,t,r,o).toArray()},s=e=>{let t=A.getCurrentValue(),o=A.shouldHide?0:1;return Ce(e,e=>i(e,o,t))};return{validateItems:s,getFetch:(r,n)=>(e,t)=>{var o=n(),o=s(o);t(S2(o,Ph.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:Q.none()}))}}},U4=(e,t,o)=>{let r=o.dataset,n="basic"===r.type?()=>y(r.data,e=>Ey(e,o.isSelectedFor,o.getPreviewFor)):r.getData;return{items:Q4(0,t,o),getStyleItems:n}},I4=(o,e,r)=>{var{items:t,getStyleItems:n}=U4(0,e,r),a=G0(o,"NodeChange",e=>{var t=e.getComponent();r.updateText(t),N.set(e.getComponent(),!o.selection.isEditable())});return _2({text:r.icon.isSome()?Q.none():r.text,icon:r.icon,tooltip:Q.from(r.tooltip),role:Q.none(),fetch:t.getFetch(e,n),onSetup:a,getApi:e=>({getComponent:E(e)}),columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)},T4=((rc=u4=u4||{})[rc.SemiColon=0]="SemiColon",rc[rc.Space=1]="Space",(e,t,o)=>(e=e.options.get(t),t=o===u4.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),{type:"basic",data:y(t,e=>{let t=e,o=e;e=e.split("=");return 1<e.length&&(t=e[0],o=e[1]),{title:t,format:o}})})),M4=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],H4=o=>{var e={type:"basic",data:M4};return{tooltip:"Align",text:Q.none(),icon:Q.some("align-left"),isSelectedFor:e=>()=>o.formatter.match(e),getCurrentValue:Q.none,getPreviewFor:e=>Q.none,onAction:t=>()=>xe(M4,e=>e.format===t.format).each(e=>o.execCommand(e.command)),updateText:e=>{var t=xe(M4,e=>o.formatter.match(e.format)).fold(E("left"),e=>e.title.toLowerCase());k(e,C2,{icon:"align-"+t})},dataset:e,shouldHide:!1,isInvalid:e=>!o.formatter.canApply(e.format)}},D4=(e,t)=>{let o=t(),r=y(o,e=>e.format);return Q.from(e.formatter.closest(r)).bind(t=>xe(o,e=>e.format===t)).orThunk(()=>$e(e.formatter.match("p"),{title:"Paragraph",format:"p"}))},O4=o=>{let r=T4(o,"block_formats",u4.SemiColon);return{tooltip:"Blocks",text:Q.some("Paragraph"),icon:Q.none(),isSelectedFor:e=>()=>o.formatter.match(e),getCurrentValue:Q.none,getPreviewFor:t=>()=>{var e=o.formatter.get(t);return e?Q.some({tag:0<e.length&&(e[0].inline||e[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(t))}):Q.none()},onAction:j0(o),updateText:e=>{var t=D4(o,()=>r.data).fold(E("Paragraph"),e=>e.title);k(e,y2,{text:t})},dataset:r,shouldHide:!1,isInvalid:e=>!o.formatter.canApply(e.format)}},L4=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],N4=e=>{e=e.split(/\s*,\s*/);return y(e,e=>e.replace(/^['"]+|['"]+$/g,""))},R4=a=>{let A="System Font",r=()=>{let t=e=>e?N4(e)[0]:"",e=a.queryCommandValue("FontName"),o=i.data,r=e?e.toLowerCase():"",n=xe(o,e=>{e=e.format;return e.toLowerCase()===r||t(e).toLowerCase()===t(r).toLowerCase()}).orThunk(()=>{return $e(0===(e=r).indexOf("-apple-system")&&(()=>{let t=N4(e.toLowerCase());return _e(L4,e=>-1<t.indexOf(e.toLowerCase()))})(),{title:A,format:r});var e});return{matchOpt:n,font:e}},i=T4(a,"font_family_formats",u4.SemiColon);return{tooltip:"Fonts",text:Q.some(A),icon:Q.none(),isSelectedFor:t=>e=>e.exists(e=>e.format===t),getCurrentValue:()=>{var e=r().matchOpt;return e},getPreviewFor:e=>()=>Q.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:e=>()=>{a.undoManager.transact(()=>{a.focus(),a.execCommand("FontName",!1,e.format)})},updateText:e=>{var{matchOpt:t,font:o}=r(),t=t.fold(E(o),e=>e.title);k(e,y2,{text:t})},dataset:i,shouldHide:!1,isInvalid:Ae}},P4={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},V4=(m4="[eE][+-]?"+(ac="[0-9]+"),ac=["Infinity",ac+"\\."+(nc=e=>`(?:${e})?`)(ac)+nc(m4),"\\."+ac+nc(m4),ac+nc(m4)].join("|"),new RegExp(`^([+-]?(?:${ac}))(.*)$`)),z4=(e,n)=>Q.from(V4.exec(e)).bind(e=>{var t,o,r=Number(e[1]),e=e[2];return t=e,o=n,me(o,e=>me(P4[e],e=>t===e))?Q.some({value:r,unit:e}):Q.none()}),K4={tab:E(9),escape:E(27),enter:E(13),backspace:E(8),delete:E(46),left:E(37),up:E(38),right:E(39),down:E(40),space:E(32),home:E(36),end:E(35),pageUp:E(33),pageDown:E(34)},Z4={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},G4={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},j4=(e,t)=>{return/[0-9.]+px$/.test(e)?(o=72*parseInt(e,10)/96,t=Math.pow(10,t||0),Math.round(o*t)/t+"pt"):C(G4,e).getOr(e);var o},W4=e=>C(Z4,e).getOr(""),X4=t=>{let r=()=>{let r=Q.none(),n=o.data,a=t.queryCommandValue("FontSize");if(a)for(let e=3;r.isNone()&&0<=e;e--){let t=j4(a,e),o=W4(t);r=xe(n,e=>e.format===a||e.format===t||e.format===o)}return{matchOpt:r,size:a}},e=E(Q.none),o=T4(t,"font_size_formats",u4.Space);return{tooltip:"Font sizes",text:Q.some("12pt"),icon:Q.none(),isSelectedFor:t=>e=>e.exists(e=>e.format===t),getPreviewFor:e,getCurrentValue:()=>{var e=r().matchOpt;return e},onAction:e=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,e.format)})},updateText:e=>{var{matchOpt:t,size:o}=r(),t=t.fold(E(o),e=>e.title);k(e,y2,{text:t})},dataset:o,shouldHide:!1,isInvalid:Ae}},Y4=(n,e)=>({tooltip:"Formats",text:Q.some("Paragraph"),icon:Q.none(),isSelectedFor:e=>()=>n.formatter.match(e),getCurrentValue:Q.none,getPreviewFor:t=>()=>{var e=n.formatter.get(t);return void 0!==e?Q.some({tag:0<e.length&&(e[0].inline||e[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(t))}):Q.none()},onAction:j0(n),updateText:e=>{let t=e=>By(e)?Ce(e.items,t):yy(e)?[{title:e.title,format:e.format}]:[],o=Ce(ky(n),t),r=D4(n,E(o)).fold(E("Paragraph"),e=>e.title);k(e,y2,{text:r})},shouldHide:Yp(n),isInvalid:e=>!n.formatter.canApply(e.format),dataset:e}),J4=E([a("toggleClass"),a("fetch"),Mi("onExecute"),l("getHotspot",Q.some),l("getAnchorOverrides",E({})),vl(),Mi("onItemExecute"),i("lazySink"),a("dom"),e("onOpen"),cc("splitDropdownBehaviours",[Hb,R,z]),l("matchWidth",!1),l("useMinWidth",!1),l("eventOrder",{}),i("role")].concat(qb())),q4=Oc({factory:wp,schema:[a("dom")],name:"arrow",defaults:()=>({buttonBehaviours:O([z.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:e=>{e.getSystem().getByUid(t.uid).each(Ra)},buttonBehaviours:O([h.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),$4=Oc({factory:wp,schema:[a("dom")],name:"button",defaults:()=>({buttonBehaviours:O([z.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(o.uid).each(e=>{o.onExecute(e,t)})}})}),ek=E([q4,$4,Nc({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[a("text")],name:"aria-descriptor"}),Lc({schema:[Qi()],name:"menu",defaults:r=>({onExecute:(t,o)=>{t.getSystem().getByUid(r.uid).each(e=>{r.onItemExecute(e,t,o)})}})}),zb()]),tk=cu({name:"SplitDropdown",configFields:J4(),partFields:ek(),factory:(r,e,t,o)=>{let n=e=>{S.getCurrent(e).each(e=>{w.highlightFirst(e),R.focusIn(e)})},a=e=>{jb(r,v,e,o,n,hm.HighlightMenuAndItem).get(B)},A=e=>{e=Jc(e,r,"button");return Ra(e),Q.some(!0)},i={...Ka([$a((o,e)=>{Yc(o,r,"aria-descriptor").each(e=>{var t=F("aria");x(e.element,"id",t),x(o.element,"aria-describedby",t)})})]),...Zm(Q.some(a))},s={repositionMenus:e=>{h.isOn(e)&&Jb(e)}};return{uid:r.uid,dom:r.dom,components:e,apis:s,eventOrder:{...r.eventOrder,[ba()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:uc(r.splitDropdownBehaviours,[Hb.config({others:{sandbox:e=>{let t=Jc(e,r,"arrow");return Yb(r,e,{onOpen:()=>{h.on(t),h.on(e)},onClose:()=>{h.off(t),h.off(e)}})}}}),R.config({mode:"special",onSpace:A,onEnter:A,onDown:e=>(a(e),Q.some(!0))}),z.config({}),h.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:r.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),ok=t=>({isEnabled:()=>!N.isDisabled(t),setEnabled:e=>N.set(t,!e),setText:e=>k(t,y2,{text:e}),setIcon:e=>k(t,C2,{icon:e})}),rk=t=>({setActive:e=>{h.set(t,e)},isActive:()=>h.isOn(t),isEnabled:()=>!N.isDisabled(t),setEnabled:e=>N.set(t,!e),setText:e=>k(t,y2,{text:e}),setIcon:e=>k(t,C2,{icon:e})}),nk=(e,t)=>e.map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),ak=F("focus-button"),Ak=(e,t,o,r,n)=>{let a=t.map(e=>K(B2(e,"tox-tbtn",n))),A=e.map(e=>K(x2(e,n.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:nk(o,n)},components:n0([A.map(e=>e.asSpec()),a.map(e=>e.asSpec())]),eventOrder:{[Yn()]:["focusing","alloy.base.behaviour",h2],[Sa()]:[h2,"toolbar-group-button-events"]},buttonBehaviours:O([q1(n.isDisabled),X1(),V(h2,[$a((e,t)=>b2(e)),D(y2,(t,o)=>{a.bind(e=>e.getOpt(t)).each(e=>{P.set(e,[ri(n.translate(o.event.text))])})}),D(C2,(t,o)=>{A.bind(e=>e.getOpt(t)).each(e=>{P.set(e,[x2(o.event.icon,n.icons)])})}),D(Yn(),(e,t)=>{t.event.prevent(),_(e,ak)})])].concat(r.getOr([])))}},ik=(e,t,o)=>{var r,n=H(B),a=Ak(e.icon,e.text,e.tooltip,Q.none(),o);return wp.sketch({dom:a.dom,components:a.components,eventOrder:f2,buttonBehaviours:{...O([V("toolbar-button-events",[(r={onAction:e.onAction,getApi:t.getApi},oA((t,e)=>{$1(r,t)(e=>{k(t,p2,{buttonApi:e}),r.onAction(e)})})),e0(t,n),t0(t,n)]),q1(()=>!e.enabled||o.isDisabled()),X1()].concat(t.toolbarButtonBehaviours)),[h2]:null==(n=a.buttonBehaviours)?void 0:n[h2]}})},sk=(e,t,o)=>ik(e,{toolbarButtonBehaviours:0<o.length?[V("toolbarButtonWith",o)]:[],getApi:ok,onSetup:e.onSetup},t),lk=(e,t,o)=>ik(e,{toolbarButtonBehaviours:[P.config({}),h.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<o.length?[V("toolbarToggleButtonWith",o)]:[]),getApi:rk,onSetup:e.onSetup},t),dk=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],ck=(r,n)=>(e,t,o)=>{e=r(e).mapError(e=>sn(e)).getOrDie();return n(e,t,o)},uk={button:ck(A1,(e,t)=>(e=e,t=t.shared.providers,sk(e,t,[]))),togglebutton:ck(l1,(e,t)=>(e=e,t=t.shared.providers,lk(e,t,[]))),menubutton:ck(e_,(e,t)=>AB(e,"tox-tbtn",t,Q.none(),!1)),splitbutton:ck(e=>nn("SplitButton",t_,e),(r,n)=>{{var a=r,A,i,s;r=n.shared;let t=o=>({isEnabled:()=>!N.isDisabled(o),setEnabled:e=>N.set(o,!e),setIconFill:(e,t)=>{fi(o.element,`svg path[class="${e}"], rect[class="${e}"]`).each(e=>{x(e,"fill",t)})},setActive:t=>{x(o.element,"aria-pressed",t),fi(o.element,"span").each(e=>{o.getSystem().getByDom(e).each(e=>h.set(e,t))})},isActive:()=>fi(o.element,"span").exists(e=>o.getSystem().getByDom(e).exists(h.isOn)),setText:t=>fi(o.element,"span").each(e=>o.getSystem().getByDom(e).each(e=>k(e,y2,{text:t}))),setIcon:t=>fi(o.element,"span").each(e=>o.getSystem().getByDom(e).each(e=>k(e,C2,{icon:t})))}),e=H(B),o={getApi:t,onSetup:a.onSetup};return tk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...nk(a.tooltip,r.providers)}},onExecute:e=>{e=t(e);e.isEnabled()&&a.onAction(e)},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:O([J1(r.providers.isDisabled),X1(),V("split-dropdown-events",[$a((e,t)=>b2(e)),D(ak,z.focus),e0(o,e),t0(o,e)]),ew.config({})]),eventOrder:{[Sa()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:(A=t,i=a,s=r.providers,t=>Rb(e=>i.fetch(e)).map(e=>Q.from(sv(Fr(_b(F("menu-value"),e,e=>{i.onItemAction(A(t),e)},i.columns,i.presets,Ph.CLOSE_ON_EXECUTE,i.select.getOr(Ae),s),{movement:kb(i.columns,i.presets),menuBehaviours:H1("auto"!==i.columns?[]:[$a((o,e)=>{M1(o,4,$h(i.presets)).each(({numRows:e,numColumns:t})=>{R.setGridSize(o,e,t)})})])}))))),parts:{menu:af(0,a.columns,a.presets)},components:[tk.parts.button(Ak(a.icon,a.text,Q.none(),Q.some([h.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),tk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Ep("chevron-down",r.providers.icons)},buttonBehaviours:O([J1(r.providers.isDisabled),X1(),Fp()])}),tk.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})}}),grouptoolbarbutton:ck(e=>nn("GroupToolbarButton",JC,e),(e,t,o)=>{let r=o.ui.registry.getAll().buttons,n={"data-alloy-vertical-dir":t.shared.header.isPositionedAtTop()?di.TopToBottom:di.BottomToTop};if($p(o)===Tp.floating)return a=e,e=n,A=(A=t).shared,i=H(B),s={toolbarButtonBehaviours:[],getApi:ok,onSetup:a.onSetup},s=[V("toolbar-group-button-events",[e0(s,i),t0(s,i)])],D_.sketch({lazySink:A.getSink,fetch:()=>Rb(e=>{e(y((e=a.items,mk(o,{buttons:r,toolbar:e,allowToolbarGroups:!1},t,Q.none())),X_))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Ak(a.icon,a.text,a.tooltip,Q.some(s),A.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e}}}});var a,A,i,s;throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},gk={styles:(e,t)=>{var o={type:"advanced",...t.styles};return I4(e,t,Y4(e,o))},fontsize:(e,t)=>I4(e,t,X4(e)),fontsizeinput:(m,p)=>{{var h=m,f=p,b=(i=>{let s=()=>i.queryCommandValue("FontSize");return{updateInputValue:e=>k(e,y2,{text:s()}),onAction:(e,t)=>i.execCommand("FontSize",!1,e,{skip_focus:!t}),getNewValue:(e,t)=>{z4(e,["unsupportedLength","empty"]);let o=z4(e,["unsupportedLength","empty"]).or(z4(s(),["unsupportedLength","empty"])),r=o.map(e=>e.value).getOr(16),n=dh(i),a=o.map(e=>e.unit).filter(e=>""!==e).getOr(n),A=t(r,(null!=(e={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[a])?e:{step:1}).step);return""+(0<=A?A:r)+a}}})(m);let s=Q.none(),e=G0(h,"NodeChange",e=>{e=e.getComponent();s=Q.some(e),b.updateInputValue(e),N.set(e,!h.selection.isEditable())}),i=e=>({getComponent:E(e)}),l=H(B),t=F("custom-number-input-events"),o=(e,o,t)=>{let r=s.map(e=>L.getValue(e)).getOr(""),n=b.getNewValue(r,e),a=r.length-(""+n).length,A=s.map(e=>e.element.dom.selectionStart-a),i=s.map(e=>e.element.dom.selectionEnd-a);b.onAction(n,t),s.each(t=>{L.setValue(t,n),o&&(A.each(e=>t.element.dom.selectionStart=e),i.each(e=>t.element.dom.selectionEnd=e))})},r=(e,t)=>o((e,t)=>e-t,e,t),n=(e,t)=>o((e,t)=>e+t,e,t),a=e=>Tt(e.element).fold(Q.none,e=>(Us(e),Q.some(!0))),A=e=>Ts(e.element)?(Ot(e.element).each(e=>Us(e)),Q.some(!0)):Q.none(),d=(o,e,t,r)=>{var t=f.shared.providers.translate(t),n=F("altExecuting"),a=G0(h,"NodeChange",e=>{N.set(e.getComponent(),!h.selection.isEditable())}),A=e=>{N.isDisabled(e)||o(!0)};return wp.sketch({dom:{tag:"button",attributes:{title:t,"aria-label":t},classes:r.concat(e)},components:[w2(e,f.shared.providers.icons)],buttonBehaviours:O([N.config({}),V(n,[e0({onSetup:a,getApi:i},l),t0({getApi:i},l),D(ra(),(e,t)=>{t.event.raw.keyCode!==K4.space()&&t.event.raw.keyCode!==K4.enter()||N.isDisabled(e)||o(!1)}),D(ia(),A),D(Wn(),A)])]),eventOrder:{[ra()]:[n,"keying"],[ia()]:[n,"alloy.base.behaviour"],[Wn()]:[n,"alloy.base.behaviour"]}})},c=K(d(e=>r(!1,e),"minus","Decrease font size",["highlight-on-focus"])),u=K(d(e=>n(!1,e),"plus","Increase font size",["highlight-on-focus"])),g=K({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[df.sketch({inputBehaviours:O([N.config({}),V(t,[e0({onSetup:e,getApi:i},l),t0({getApi:i},l)]),V("input-update-display-text",[D(y2,(e,t)=>{L.setValue(e,t.event.text)}),D(oa(),e=>{b.onAction(L.getValue(e))}),D(Aa(),e=>{b.onAction(L.getValue(e))})]),R.config({mode:"special",onEnter:e=>(o(v,!0,!0),Q.some(!0)),onEscape:a,onUp:e=>(n(!0,!1),Q.some(!0)),onDown:e=>(r(!0,!1),Q.some(!0)),onLeft:(e,t)=>(t.cut(),Q.none()),onRight:(e,t)=>(t.cut(),Q.none())})])})],behaviours:O([z.config({}),R.config({mode:"special",onEnter:A,onSpace:A,onEscape:a}),V("input-wrapper-events",[D(ea(),t=>{U([c,u],e=>{e=I(e.get(t).element.dom);Ts(e)&&Is(e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[c.asSpec(),g.asSpec(),u.asSpec()],behaviours:O([z.config({}),R.config({mode:"flow",focusInside:oc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>Ts(e.element)?Q.none():(Us(e.element),Q.some(!0))})])}}},fontfamily:(e,t)=>I4(e,t,R4(e)),blocks:(e,t)=>I4(e,t,O4(e)),align:(e,t)=>I4(e,t,H4(e))},mk=(r,s,l,d)=>{var o,e,t=!1===(n=s.toolbar)?[]:void 0===n||!0===n?(o=s.buttons,e=y(dk,e=>{var t=be(e.items,e=>je(o,e)||je(gk,e));return{name:e.name,items:t}}),be(e,e=>0<e.items.length)):f(n)?(e=n.split("|"),y(e,e=>({items:e.trim().split(" ")}))):(t=n,q(t,e=>je(e,"name")&&je(e,"items"))?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])),n=y(t,e=>{var t=Ce(e.items,e=>{return 0===e.trim().length?[]:(n=r,t=s.buttons,a=e,A=s.allowToolbarGroups,i=l,o=d,C(t,a.toLowerCase()).orThunk(()=>o.bind(e=>He(e,e=>C(t,e+a.toLowerCase())))).fold(()=>C(gk,a.toLowerCase()).map(e=>e(n,i)),e=>{return"grouptoolbarbutton"!==e.type||A?(t=e,o=i,r=n,C(uk,t.type).fold(()=>(console.error("skipping button defined by",t),Q.none()),e=>Q.some(e(t,o,r)))):(console.warn(`Ignoring the '${a}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),Q.none());var t,o,r}).toArray());var n,t,a,A,i,o});return{title:Q.from(r.translate(e.name)),items:t}});return be(n,e=>0<e.items.length)},pk=(t,e,o,r)=>{let n=e.mainUi.outerContainer,a=o.toolbar,A=o.buttons;if(q(a,f)){let e=a.map(e=>{e={toolbar:e,buttons:A,allowToolbarGroups:o.allowToolbarGroups};return mk(t,e,r,Q.none())});x4.setToolbars(n,e)}else x4.setToolbar(n,mk(t,o,r,Q.none()))},hk=Zo(),fk=hk.os.isiOS()&&hk.os.version.major<=12;var bk=Object.freeze({__proto__:null,render:async(c,u,e,t,o)=>{let{mainUi:r,uiMotherships:n}=u,a=H(0),A=r.outerContainer;await F4(c);var o=I(o.targetNode),i=Kt(zt(o)),o=(Id(o,r.mothership),o=c,i=i,s=u,Dh(o)&&Id(s.mainUi.mothership.element,s.popupUi.mothership),Ud(i,s.dialogUi.mothership),c.on("PostRender",()=>{x4.setSidebar(A,e.sidebar,xh(c)),pk(c,u,e,t),a.set(c.getWin().innerWidth),x4.setMenubar(A,C4(c,e)),x4.setViews(A,e.views);{var d=c;let e=u.uiMotherships,t=d.dom,o=d.getWin(),r=d.getDoc().documentElement,n=H(vo(o.innerWidth,o.innerHeight)),a=H(vo(r.offsetWidth,r.offsetHeight)),A=()=>{var e=n.get();e.left===o.innerWidth&&e.top===o.innerHeight||(n.set(vo(o.innerWidth,o.innerHeight)),R0(d))},i=()=>{var e=d.getDoc().documentElement,t=a.get();t.left===e.offsetWidth&&t.top===e.offsetHeight||(a.set(vo(e.offsetWidth,e.offsetHeight)),R0(d))},s=e=>{d.dispatch("ScrollContent",e)},l=(t.bind(o,"resize",A),t.bind(o,"scroll",s),tl(I(d.getBody()),"load",i));d.on("hide",()=>{U(e,e=>{T(e.element,"display","none")})}),d.on("show",()=>{U(e,e=>{uo(e.element,"display")})}),d.on("NodeChange",i),d.on("remove",()=>{l.unbind(),t.unbind(o,"resize",A),t.unbind(o,"scroll",s),o=null})}}),x4.getSocket(A).getOrDie("Could not find expected socket element"));if(fk){no(o.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});let e=(()=>{let t=null;return{cancel:()=>{p(t)||(clearTimeout(t),t=null)},throttle:(...e)=>{p(t)&&(t=setTimeout(()=>{t=null,(()=>{c.dispatch("ScrollContent")}).apply(null,e)},20))}}})(),t=el(o.element,"scroll",e.throttle);c.on("remove",t.unbind)}W1(c,u),c.addCommand("ToggleSidebar",(e,t)=>{x4.toggleSidebar(A,t),c.dispatch("ToggleSidebar")}),c.addQueryValueHandler("ToggleSidebar",()=>{var e;return null!=(e=x4.whichSidebar(A))?e:""}),c.addCommand("ToggleView",(e,t)=>{if(x4.toggleView(A,t)){let t=A.element;r.mothership.broadcastOn([Zd()],{target:t}),U(n,e=>{e.broadcastOn([Zd()],{target:t})}),p(x4.whichView(A))&&(c.focus(),c.nodeChanged(),x4.refreshToolbar(A))}}),c.addQueryValueHandler("ToggleView",()=>{var e;return null!=(e=x4.whichView(A))?e:""});var i=$p(c),s=(i!==Tp.sliding&&i!==Tp.floating||c.on("ResizeWindow ResizeEditor ResizeContent",()=>{var e=c.getWin().innerWidth;e!==a.get()&&(x4.refreshToolbar(u.mainUi.outerContainer),a.set(e))}),{setEnabled:e=>{j1(u,!e)},isEnabled:()=>!N.isDisabled(A)});return{iframeContainer:o.element.dom,editorContainer:A.element.dom,api:s}}});let vk=e=>/^[0-9\.]+(|px)$/i.test(""+e)?Q.some(parseInt(""+e,10)):Q.none(),wk=e=>J(e)?e+"px":e,xk=(t,e,o)=>{e=e.filter(e=>t<e),o=o.filter(e=>e<t);return e.or(o).getOr(t)},Bk=e=>{let t=zp(e),o=Kp(e),r=Gp(e);return vk(t).map(e=>xk(e,o,r))},{ToolbarLocation:yk,ToolbarMode:Ck}=Lh,_k=(c,u,e,t,r)=>{let{mainUi:g,uiMotherships:o}=e,n=Hp.DOM,a=Ih(c),A=Hh(c),i=Gp(c).or(Bk(c)),s=t.shared.header,m=s.isPositionedAtTop,l=$p(c),p=l===Ck.sliding||l===Ck.floating,d=H(!1),h=()=>d.get()&&!c.removed,f=e=>p?e.fold(E(0),e=>1<e.components().length?ho(e.components()[1].element):0):0,b=()=>{U(o,e=>{e.broadcastOn([Gd()],{})})},v=e=>{var t,d;h()&&(a||r.on(e=>{var t=i.getOrThunk(()=>{var e=vk(Ao(Wt(),"margin-left")).getOr(0);return Co(Wt())-xo(u).left+e});T(e.element,"max-width",t+"px")}),t=!a&&!a&&(xo(g.outerContainer.element).left+_o(g.outerContainer.element)>=window.innerWidth-40||so(g.outerContainer.element,"width").isSome())?(T(g.outerContainer.element,"position","absolute"),T(g.outerContainer.element,"left","0px"),uo(g.outerContainer.element,"width"),t=_o(g.outerContainer.element),Q.some(t)):Q.none(),p&&x4.refreshToolbar(g.outerContainer),a||(d=t,r.on(r=>{let e=x4.getToolbar(g.outerContainer),n=f(e),a=ur(u),{top:t,left:o}=(s=c,l=g.outerContainer.element,(Dh(s)?mC(l):Q.none()).fold(()=>({top:m()?Math.max(a.y-ho(r.element)+n,0):a.bottom,left:a.x}),e=>{var t=ur(e),o=null!=(o=e.dom.scrollTop)?o:0,e=kt(e,Wt()),o=e?Math.max(a.y-ho(r.element)+n,0):a.y-t.y+o-ho(r.element)+n;return{top:m()?o:a.bottom,left:e?a.x:a.x-t.x}})),A={position:"absolute",left:Math.round(o)+"px",top:Math.round(t)+"px"},i=d.map(e=>{var t=or(),t=window.innerWidth-(o-t.left);return{width:Math.max(Math.min(e,t),150)+"px"}}).getOr({});var s,l;no(g.outerContainer.element,{...A,...i})})),A&&r.on(e),b())},w=()=>!(a||!A||!h())&&r.get().exists(e=>{var o,t=s.getDockingMode(),e=(n=>{switch(th(c)){case yk.auto:let e=x4.getToolbar(g.outerContainer),t=f(e),o=ho(n.element)-t,r=ur(u);if(r.y>o)return"top";{let e=Qt(u),t=Math.max(e.dom.scrollHeight,ho(e));return r.bottom<t-o||pr().bottom<r.bottom-o?"bottom":"top"}case yk.bottom:return"bottom";default:yk.top;return"top"}})(e);return e!==t&&(o=e,r.on(e=>{RC.setModes(e,[o]),s.setDockingMode(o);var t=m()?di.TopToBottom:di.BottomToTop;x(e.element,fl,t)}),!0)});return{isVisible:h,isPositionedAtTop:m,show:()=>{d.set(!0),T(g.outerContainer.element,"display","flex"),n.addClass(c.getBody(),"mce-edit-focus"),U(o,e=>{uo(e.element,"display")}),w(),Dh(c)?v(e=>RC.isDocked(e)?RC.reset(e):RC.refresh(e)):v(RC.refresh)},hide:()=>{d.set(!1),T(g.outerContainer.element,"display","none"),n.removeClass(c.getBody(),"mce-edit-focus"),U(o,e=>{T(e.element,"display","none")})},update:v,updateMode:()=>{w()&&v(RC.reset)},repositionPopups:b}},kk=(e,t)=>{e=ur(e);return{pos:t?e.y:e.bottom,bounds:e}};var Ek=Object.freeze({__proto__:null,render:async(l,t,e,o,r)=>{let a=t.mainUi,d=qs(),c=I(r.targetNode),u=_k(l,c,t,o,d),g=nh(l),n=(await S4(l),()=>{if(d.isSet())u.show();else{d.set(x4.getHeader(a.outerContainer).getOrDie());var n=Th(l);Dh(l)?(Id(c,a.mothership),Id(c,t.popupUi.mothership)):Ud(n,a.mothership),Ud(n,t.dialogUi.mothership),pk(l,t,e,o),x4.setMenubar(a.outerContainer,C4(l,e)),u.show();{var A=l;var i=c;var s=u;n=g;let a=H(kk(i,s.isPositionedAtTop())),t=e=>{var{pos:t,bounds:o}=kk(i,s.isPositionedAtTop()),{pos:r,bounds:n}=a.get(),n=o.height!==n.height||o.width!==n.width;a.set({pos:t,bounds:o}),n&&R0(A,e),s.isVisible()&&(r!==t?s.update(RC.reset):n&&(s.updateMode(),s.repositionPopups()))},o=(n||(A.on("activate",s.show),A.on("deactivate",s.hide)),A.on("SkinLoaded ResizeWindow",()=>s.update(RC.reset)),A.on("NodeChange keydown",e=>{requestAnimationFrame(()=>t(e))}),0),r=bB(()=>s.update(RC.refresh),33),e=(A.on("ScrollWindow",()=>{var e=or().left;e!==o&&(o=e,r.throttle()),s.updateMode()}),Dh(A)&&A.on("ElementScroll",e=>{s.update(RC.refresh)}),Js());e.set(tl(I(A.getBody()),"load",e=>t(e.raw))),A.on("remove",()=>{e.clear()})}l.nodeChanged()}});l.on("show",n),l.on("hide",u.hide),g||(l.on("focus",n),l.on("blur",u.hide)),l.on("init",()=>{(l.hasFocus()||g)&&n()}),W1(l,t);r={show:n,hide:u.hide,setEnabled:e=>{j1(t,!e)},isEnabled:()=>!N.isDisabled(a.outerContainer)};return{editorContainer:a.outerContainer.element.dom,api:r}}});let Fk="contexttoolbar-hide",Sk=(r,n)=>D(p2,(e,t)=>{var o;o=r.get(e),n.onAction({hide:()=>_(o,Ba()),getValue:()=>L.getValue(o)},t.event.buttonApi)}),Qk=(e,t)=>{let o=e.label.fold(()=>({}),e=>({"aria-label":e})),r=K(df.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:O([R.config({mode:"special",onEnter:e=>n.findPrimary(e).map(e=>(Ra(e),!0)),onLeft:(e,t)=>(t.cut(),Q.none()),onRight:(e,t)=>(t.cut(),Q.none())})])})),n=((r,e,n)=>{let a=y(e,e=>{return K((t=r,o=n,("contextformtogglebutton"===(e=e).type?(e,t,o)=>{let{primary:r,...n}=t.original,a=an(l1({...n,type:"togglebutton",onAction:B}));return lk(a,o,[Sk(e,t)])}:(e,t,o)=>{let{primary:r,...n}=t.original,a=an(A1({...n,type:"button",onAction:B}));return sk(a,o,[Sk(e,t)])})(t,e,o)));var t,o});return{asSpecs:()=>y(a,e=>e.asSpec()),findPrimary:o=>He(e,(e,t)=>e.primary?Q.from(a[t]).bind(e=>e.getOpt(o)).filter(re(N.isDisabled)):Q.none())}})(r,e.commands,t);return[{title:Q.none(),items:[r.asSpec()]},{title:Q.none(),items:n.asSpecs()}]},Uk=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o,Ik=e=>{t=e.selection.getRng();var t=(o=t.getBoundingClientRect()).height<=0&&o.width<=0?(t=Nt(I(t.startContainer),t.startOffset).element,(wt(t)?It(t):Q.some(t)).filter(vt).map(e=>e.dom.getBoundingClientRect()).getOr(o)):o;if(e.inline){let e=or();return cr(e.left+t.left,e.top+t.top,t.width,t.height)}var o=gr(I(e.getBody()));return cr(o.x+t.left,o.y+t.top,t.width,t.height)},Tk=(r,n,a,A=0)=>{let i=ar(window),s=ur(I(r.getContentAreaContainer())),e=Ch(r)||Eh(r)||Sh(r),{x:l,width:d}=(c=s,g=i,u=A,{x:m=Math.max(c.x+u,g.x),width:Math.min(c.right-u,g.right)-m});var c,u,g,m,p;if(r.inline&&!e)return cr(l,i.y,d,i.height);{let e=n.header.isPositionedAtTop(),{y:t,bottom:o}=(c=r,u=s,g=i,m=e,n=a,r=A,a=I(c.getContainer()),A=fi(a,".tox-editor-header").getOr(a),A=ur(A),p=A.y>=u.bottom,m=m&&!p,c.inline&&m?{y:Math.max(A.bottom+r,g.y),bottom:g.bottom}:c.inline&&!m?{y:g.y,bottom:Math.min(A.y-r,g.bottom)}:(p="line"===n?ur(a):u,m?{y:Math.max(A.bottom+r,g.y),bottom:Math.min(p.bottom-r,g.bottom)}:{y:Math.max(p.y+r,g.y),bottom:Math.min(A.y-r,g.bottom)}));return cr(l,t,d,o-t)}},Mk={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Hk={maxHeightFunction:sl(),maxWidthFunction:S_()},Dk=e=>"node"===e,Ok=(e,t,o,r,n)=>{let a=Ik(e),A=r.lastElement().exists(e=>kt(o,e));return s=o,e=e.selection.getRng(),l=Nt(I(e.startContainer),e.startOffset),e.startContainer===e.endContainer&&e.startOffset===e.endOffset-1&&kt(l.element,s)?A?gy:sy:A?(i=t,e=r.getMode(),l=so(i,"position"),T(i,"position",e),e=Uk(a,ur(t),-20)&&!r.isReposition()?py:gy,l.each(e=>T(i,"position",e)),e):("fixed"===r.getMode()?n.y+or().top:n.y)+(ho(t)+12)<=a.y?sy:ly;var i,s,l},Lk=(A,e,i,t)=>{let o=e=>{return Dk(t)?[(a=e,(e,t,o,r,n)=>({...Ok(A,r,a,i,n)({...e,y:n.y,height:n.height},t,o,r,n),alwaysFit:!0}))]:[];var a};return e?{onLtr:e=>[ds,as,As,is,ss,ls].concat(o(e)),onRtl:e=>[ds,As,as,ss,is,ls].concat(o(e))}:{onLtr:e=>[ls,ds,is,as,ss,As].concat(o(e)),onRtl:e=>[ls,ds,ss,As,is,as].concat(o(e))}},Nk=(t,e)=>{var e=be(e,e=>e.predicate(t.dom)),{pass:e,fail:o}=fe(e,e=>"contexttoolbar"===e.type);return{contextToolbars:e,contextForms:o}},Rk=(A,i)=>{let s={},l=[],d=[],c={},u={},e=De(A);return U(e,e=>{var t,o,r=A[e];if("contextform"===r.type){var n=e,a=r;let t=an(nn("ContextForm",h1,a));(s[n]=t).launch.map(e=>{c["form:"+n]={...a.launch,type:"contextformtogglebutton"===e.type?"togglebutton":"button",onAction:()=>{i(t)}}}),("editor"===t.scope?d:l).push(t),u[n]=t}else"contexttoolbar"===r.type&&(t=e,e=o=r,nn("ContextToolbar",f1,e).each(e=>{("editor"===o.scope?d:l).push(e),u[t]=e}))}),{forms:s,inNodeScope:l,inEditorScope:d,lookupTable:u,formNavigators:c}},Pk=F("forward-slide"),Vk=F("backward-slide"),zk=F("change-slide-event"),Kk="tox-pop--resizing",Zk="tox-pop--transition",Gk=(s,e,l,a)=>{let t=a.backstage,d=t.shared,c=Zo().deviceType.isTouch,u=qs(),g=qs(),m=qs(),p=ii((e=>{let o=H([]);return bp.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{o.set([]),bp.getContent(e).each(e=>{uo(e.element,"visibility")}),zA(e.element,Kk),uo(e.element,"width")},inlineBehaviours:O([V("context-toolbar-events",[qa(la(),(e,t)=>{"width"===t.event.raw.propertyName&&(zA(e.element,Kk),uo(e.element,"width"))}),D(zk,(e,t)=>{let o=e.element;uo(o,"width");var r=Co(o);bp.setContent(e,t.event.contents),VA(o,Kk);let n=Co(o);T(o,"width",r+"px"),bp.getContent(e).each(e=>{t.event.focus.bind(e=>(Us(e),Hs(o))).orThunk(()=>(R.focusIn(e),Ms(zt(o))))}),setTimeout(()=>{T(e.element,"width",n+"px")},0)}),D(Pk,(t,e)=>{bp.getContent(t).each(e=>{o.set(o.get().concat([{bar:e,focus:Ms(zt(t.element))}]))}),k(t,zk,{contents:e.event.forwardContents,focus:Q.none()})}),D(Vk,(t,e)=>{Te(o.get()).each(e=>{o.set(o.get().slice(0,o.get().length-1)),k(t,zk,{contents:si(e.bar),focus:e.focus})})})]),R.config({mode:"special",onEscape:t=>Te(o.get()).fold(()=>e.onEscape(),e=>(_(t,Vk),Q.some(!0)))})]),lazySink:()=>M.value(e.sink)})})({sink:l,onEscape:()=>(s.focus(),Q.some(!0))})),h=()=>{var e=m.get().getOr("node"),t=Dk(e)?1:0;return Tk(s,d,e,t)},f=()=>!(s.removed||c()&&t.isContextMenuOpen()),b=()=>{var e,t,o;return!f()||(e=h(),t=Xe(m.get(),"node")?(o=s,u.get().filter(e=>jt(e)&&bt(e)).map(gr).getOrThunk(()=>Ik(o))):Ik(s),e.height<=0)||!Uk(t,e,.01)},o=()=>{u.clear(),g.clear(),m.clear(),bp.hide(p)},r=()=>{var e;bp.isOpen(p)&&(e=p.element,uo(e,"display"),b()?T(e,"display","none"):(g.set(0),bp.reposition(p)))},v=e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:O([R.config({mode:"acyclic"}),V("pop-dialog-wrap-events",[$a(e=>{s.shortcuts.add("ctrl+F9","focus statusbar",()=>R.focusIn(e))}),eA(e=>{s.shortcuts.remove("ctrl+F9")})])])}),A=ko(()=>Rk(e,e=>{e=w([e]);k(p,Pk,{forwardContents:v(e)})})),w=e=>{let t=s.ui.registry.getAll().buttons,r={...t,...A().formNavigators},o=$p(s)===Tp.scrolling?Tp.scrolling:Tp.default,n=ye(y(e,e=>{return"contexttoolbar"===e.type?(t=r,o=e,mk(s,{buttons:t,toolbar:o.items,allowToolbarGroups:!1},a.backstage,Q.some(["form:"]))):(t=e,o=d.providers,Qk(t,o));var t,o}));return q_({type:o,uid:F("context-toolbar"),initGroups:n,onEscape:Q.none,cyclicKeying:!0,providers:d.providers})},n=(e,t)=>{var o,r,n,a,A,i;x.cancel(),f()&&(o=w(e),e=e[0].position,r=t,r="node"===(i=e)?d.anchors.node(r):d.anchors.cursor(),a=s,i=i,n=c(),A={lastElement:u.get,isReposition:()=>Xe(g.get(),0),getMode:()=>vd.getMode(l)},a="line"===i?{bubble:ul(12,0,Mk),layouts:{onLtr:()=>[cs],onRtl:()=>[us]},overrides:Hk}:{bubble:ul(0,12,Mk,1/12),layouts:Lk(a,n,A,i),overrides:Hk},n=Fr(r,a),m.set(e),g.set(1),A=p.element,uo(A,"display"),i=t,Xe(Je(i,u.get(),kt),!0)||(zA(A,Zk),vd.reset(l,p)),bp.showWithinBounds(p,v(o),{anchor:n,transition:{classes:[Zk],mode:"placement"}},()=>Q.some(h())),t.fold(u.clear,u.set),b())&&T(A,"display","none")},i=!1,x=bB(()=>{!s.hasFocus()||s.removed||i||(KA(p.element,Zk)?x.throttle():((o,e)=>{let t=I(e.getBody()),n=e=>kt(e,t),a=I(e.selection.getNode());return e=a,n(e)||Et(t,e)?((o,e,r)=>{var n=Nk(o,e);if(0<n.contextForms.length)return Q.some({elem:o,toolbars:[n.contextForms[0]]});{let t=Nk(o,r);if(0<t.contextForms.length)return Q.some({elem:o,toolbars:[t.contextForms[0]]});if(0<n.contextToolbars.length||0<t.contextToolbars.length){let e=(e=>{if(e.length<=1)return e;var t=t=>me(e,e=>e.position===t),o=t=>be(e,e=>e.position===t),r=t("selection"),t=t("node");if(r||t){if(t&&r){let e=o("node"),t=y(o("selection"),e=>({...e,position:"node"}));return e.concat(t)}return o(r?"selection":"node")}return o("line")})(n.contextToolbars.concat(t.contextToolbars));return Q.some({elem:o,toolbars:e})}return Q.none()}})(a,o.inNodeScope,o.inEditorScope).orThunk(()=>{return e=n,t=a,r=o,e(t)?Q.none():Rn(t,e=>{var t,o;return vt(e)&&({contextToolbars:t,contextForms:o}=Nk(e,r.inNodeScope),0<(o=0<o.length?o:(o=>{if(o.length<=1)return o;{let e=t=>xe(o,e=>e.position===t);return e("selection").orThunk(()=>e("node")).orThunk(()=>e("line")).map(e=>e.position).fold(()=>[],t=>be(o,e=>e.position===t))}})(t)).length)?Q.some({elem:e,toolbars:o}):Q.none()},e);var e,t,r}):Q.none()})(A(),s).fold(o,e=>{n(e.toolbars,Q.some(e.elem))}))},17);s.on("init",()=>{s.on("remove",o),s.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",r),s.on("click keyup focus SetContent",x.throttle),s.on(Fk,o),s.on("contexttoolbar-show",t=>{var e=A();C(e.lookupTable,t.toolbarKey).each(e=>{n([e],$e(t.target!==s,t.target)),bp.getContent(p).each(R.focusIn)})}),s.on("focusout",e=>{vp.setEditorTimeout(s,()=>{Hs(l.element).isNone()&&Hs(p.element).isNone()&&o()},0)}),s.on("SwitchMode",()=>{s.mode.isReadOnly()&&o()}),s.on("AfterProgressState",e=>{e.state?o():s.hasFocus()&&x.throttle()}),s.on("dragstart",()=>{i=!0}),s.on("dragend drop",()=>{i=!1}),s.on("NodeChange",e=>{Hs(p.element).fold(x.throttle,B)})})},jk=(A,i)=>{let t=()=>{let e=i.getOptions(A),n=i.getCurrent(A).map(i.hash),a=qs();return y(e,r=>({type:"togglemenuitem",text:i.display(r),onSetup:t=>{var e=e=>{e&&(a.on(e=>e.setActive(!1)),a.set(t)),t.setActive(e)};e(Xe(n,i.hash(r)));let o=i.watcher(A,r,e);return()=>{a.clear(),o()}},onAction:()=>i.setCurrent(A,r)}))};A.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:e=>e(t()),onSetup:i.onToolbarSetup}),A.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:t,onSetup:i.onMenuSetup})},Wk=t=>{var o,e;jk(t,(e=t,{name:"lineheight",text:"Line height",icon:"line-height",getOptions:kh,hash:e=>{return t=e,z4(t,["fixed","relative","empty"]).map(({value:e,unit:t})=>e+t).getOr(e);var t},display:v,watcher:(e,t,o)=>e.formatter.formatChanged("lineheight",o,!1,{value:t}).unbind,getCurrent:e=>Q.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:K0(e),onMenuSetup:K0(e)})),o=t,Q.from(Jp(o)).map(e=>({name:"language",text:"Language",icon:"language",getOptions:E(e),hash:e=>j(e.customCode)?e.code:e.code+"/"+e.customCode,display:e=>e.title,watcher:(e,t,o)=>e.formatter.formatChanged("lang",o,!1,{value:t.code,customValue:null!=(e=t.customCode)?e:null}).unbind,getCurrent:e=>{e=I(e.selection.getNode());return Pn(e,e=>Q.some(e).filter(vt).bind(t=>$t(t,"lang").map(e=>({code:e,customCode:$t(t,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:e=>{var t=Js();return e.setActive(o.formatter.match("lang",{},void 0,!0)),t.set(o.formatter.formatChanged("lang",e.setActive,!0)),z0(t.clear,K0(o)(e))},onMenuSetup:K0(o)})).each(e=>jk(t,e))},Xk=t=>G0(t,"NodeChange",e=>{e.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),Yk=(o,r)=>t=>{t.setActive(r.get());let e=e=>{r.set(e.state),t.setActive(e.state)};return o.on("PastePlainTextToggle",e),z0(()=>o.off("PastePlainTextToggle",e),K0(o)(t))},Jk=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},qk=e=>{var t,o,r,n=e,a=n;i2.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(e,t)=>{a.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:Z0(a,e.name),onAction:Jk(a,e.name)})});for(let e=1;e<=6;e++){var A="h"+e;a.ui.registry.addToggleButton(A,{text:A.toUpperCase(),tooltip:"Heading "+e,onSetup:Z0(a,A),onAction:Jk(a,A)})}o=n,i2.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],e=>{o.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:W0(o,e.action)})}),i2.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{o.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:K0(o),onAction:W0(o,e.action)})}),t=n,i2.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],e=>{t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:W0(t,e.action),onSetup:Z0(t,e.name)})}),r=e,i2.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],e=>{r.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:W0(r,e.action)})}),i2.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{r.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onSetup:K0(r),onAction:W0(r,e.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:K0(r),onAction:Jk(r,"code")})},$k=(t,o)=>G0(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",e=>{e.setEnabled(!t.mode.isReadOnly()&&t.undoManager[o]())}),e3=t=>G0(t,"VisualAid",e=>{e.setActive(t.hasVisual)}),t3=(e,o)=>{r=e,U([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],e=>{r.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:W0(r,e.cmd),onSetup:Z0(r,e.name)})}),r.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:K0(r),onAction:W0(r,"JustifyNone")}),qk(e);var t,a,r,n=e;{var A=n,i=o;let e=U4(0,i,H4(A));A.ui.registry.addNestedMenuItem("align",{text:i.shared.providers.translate("Align"),onSetup:K0(A),getSubmenuItems:()=>e.items.validateItems(e.getStyleItems())})}{i=n,A=o;let e=U4(0,A,R4(i));i.ui.registry.addNestedMenuItem("fontfamily",{text:A.shared.providers.translate("Fonts"),onSetup:K0(i),getSubmenuItems:()=>e.items.validateItems(e.getStyleItems())})}{A=n;let e={type:"advanced",...(i=o).styles},t=U4(0,i,Y4(A,e));A.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:K0(A),getSubmenuItems:()=>t.items.validateItems(t.getStyleItems())})}{i=n,A=o;let e=U4(0,A,O4(i));i.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:K0(i),getSubmenuItems:()=>e.items.validateItems(e.getStyleItems())})}{A=n,i=o;let e=U4(0,i,X4(A));A.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:K0(A),getSubmenuItems:()=>e.items.validateItems(e.getStyleItems())})}(o=n=e).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:$k(o,"hasUndo"),onAction:W0(o,"undo")}),o.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:$k(o,"hasRedo"),onAction:W0(o,"redo")}),(o=n).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:$k(o,"hasUndo"),onAction:W0(o,"undo")}),o.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:$k(o,"hasRedo"),onAction:W0(o,"redo")}),(a=i=e).addCommand("mceApplyTextcolor",(e,t)=>{var o,r,n;r=e,n=t,(o=a).undoManager.transact(()=>{o.focus(),o.formatter.apply(r,{value:n}),o.nodeChanged()})}),a.addCommand("mceRemoveTextcolor",e=>{var t,o;o=e,(t=a).undoManager.transact(()=>{t.focus(),t.formatter.remove(o,{value:null},void 0,!0),t.nodeChanged()})}),A=gb(i),n=mb(i),A=H(A),n=H(n),Bb(i,"forecolor","forecolor","Text color",A),Bb(i,"backcolor","hilitecolor","Background color",n),yb(i,"forecolor","forecolor","Text color",A),yb(i,"backcolor","hilitecolor","Background color",n),(A=o=e).ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:W0(A,"mceToggleVisualAid")}),(A=o).ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:e3(A),onAction:W0(A,"mceToggleVisualAid")}),(i=e).ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Xk(i),onAction:W0(i,"outdent")}),i.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:K0(i),onAction:W0(i,"indent")}),Wk(e),t=e,n=H(wh(t)),o=()=>t.execCommand("mceTogglePlainTextPaste"),t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:Yk(t,n)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:Yk(t,n)})},o3=t=>e=>e.options.get(t),r3=o3("contextmenu_never_use_native"),n3=o3("contextmenu_avoid_overlap"),a3=e=>{let t=e.ui.registry.getAll().contextMenus,o=e.options.get("contextmenu");return e.options.isSet("contextmenu")?o:be(o,e=>je(t,e))},A3=(e,t)=>({type:"makeshift",x:e,y:t}),i3=e=>"longpress"===e.type||0===e.type.indexOf("touch"),s3=(e,t)=>{return"contextmenu"===t.type||"longpress"===t.type?e.inline?(r=t,i3(r)?(n=r.touches[0],A3(n.pageX,n.pageY)):A3(r.pageX,r.pageY)):(n=e.getContentAreaContainer(),r=t,t=i3(r)?(t=r.touches[0],A3(t.clientX,t.clientY)):A3(r.clientX,r.clientY),n=Hp.DOM.getPos(n),t=t,o=n.x,n=n.y,A3(t.x+o,t.y+n)):l3(e);var o,r,n},l3=e=>({type:"selection",root:I(e.selection.getNode())}),d3=(e,t,o)=>{switch(o){case"node":return r=e,{type:"node",node:Q.some(I(r.selection.getNode())),root:I(r.getBody())};case"point":return s3(e,t);case"selection":return l3(e)}var r},c3=(e,t,o,r,n,a)=>{let A=o(),i=d3(e,t,a);S2(A,Ph.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:Q.none()}).map(e=>{t.preventDefault(),bp.showMenuAt(n,{anchor:i},{menu:{markers:of("normal")},data:e})})},u3={onLtr:()=>[ds,as,As,is,ss,ls,sy,ly,iy,ay,Ay,ny],onRtl:()=>[ds,As,as,ss,is,ls,sy,ly,Ay,ny,iy,ay]},g3={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},m3=(l,t,o,d,c,u)=>{let e=Zo(),g=e.os.isiOS(),m=e.os.isMacOS(),p=e.os.isAndroid(),h=e.deviceType.isTouch(),r=()=>{var e=o();{var r=l,n=t,a=d,A=c,i=u,s=!(p||g||m&&h);let o=((e,t,o)=>{e=d3(e,t,o);return{bubble:ul(0,"point"===o?12:0,g3),layouts:u3,overrides:{maxWidthFunction:S_(),maxHeightFunction:sl()},...e}})(r,n,i);S2(e,Ph.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!0,search:Q.none()}).map(e=>{n.preventDefault();var t=s?hm.HighlightMenuAndItem:hm.HighlightNone;bp.showMenuWithinBounds(A,{anchor:o},{menu:{markers:of("normal"),highlightOnOpen:t},data:e,type:"horizontal"},()=>Q.some(Tk(r,a.shared,"node"===i?"node":"selection"))),r.dispatch(Fk)})}};if((m||g)&&"node"!==u){let e=()=>{{var a=l;let e=a.selection.getRng(),t=()=>{vp.setEditorTimeout(a,()=>{a.selection.setRng(e)},10),n()},o=(a.once("touchend",t),e=>{e.preventDefault(),e.stopImmediatePropagation()}),r=(a.on("mousedown",o,!0),()=>n()),n=(a.once("longpresscancel",r),()=>{a.off("touchend",t),a.off("longpresscancel",r),a.off("mousedown",o)})}r()};((o,r)=>{var n=o.selection;if(n.isCollapsed()||r.touches.length<1)return!1;{let t=r.touches[0],e=n.getRng();return Wl(o.getWin(),Ol.domRange(e)).exists(e=>e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)}})(l,t)?e():(l.once("selectionchange",e),l.once("touchend",()=>l.off("selectionchange",e)))}else r()},p3=e=>f(e)?"|"===e:"separator"===e.type,h3={type:"separator"},f3=t=>{var e=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(f(t))return t;switch(t.type){case"separator":return h3;case"submenu":return{type:"nestedmenuitem",...e(t),getSubmenuItems:()=>{var e=t.getSubmenuItems();return f(e)?e:y(e,f3)}};default:var o=t;return{type:"menuitem",...e(o),onAction:$(o.onAction)}}},b3=(e,t)=>{var o;return 0===t.length?e:(o=Te(e).filter(e=>!p3(e)).fold(()=>[],e=>[h3]),e.concat(o).concat(t).concat([h3]))},v3=(e,t)=>{return!("longpress"===(o=t).type||je(o,"touches"))&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType);var o},w3=(e,t)=>v3(e,t)?e.selection.getStart(!0):t.target,x3=(A,e,n)=>{let i=Zo().deviceType.isTouch,s=ii(bp.sketch({dom:{tag:"div"},lazySink:e,onEscape:()=>A.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:O([V("dismissContextMenu",[D(Ua(),(e,t)=>{u.close(e),A.focus()})])])})),t=()=>bp.hide(s),o=a=>{var e,t,o,r;r3(A)&&a.preventDefault(),e=A,a.ctrlKey&&!r3(e)||(e=A,0===a3(e).length)||(e=A,t=a,o=n3(e),r=v3(e,t)?"selection":"point",t=At(o)&&(e=w3(e,t),mv(I(e),o))?"node":r,(i()?m3:c3)(A,a,()=>{var e=w3(A,a),t=A.ui.registry.getAll(),o=a3(A),r=t.contextMenus,t=o,n=e;return 0<(t=we(t,(o,e)=>C(r,e.toLowerCase()).map(e=>{var t=e.update(n);if(f(t))return b3(o,t.split(" "));if(0<t.length){let e=y(t,f3);return b3(o,e)}return o}).getOrThunk(()=>o.concat([e])),[])).length&&p3(t[t.length-1])&&t.pop(),t},n,s,t))};A.on("init",()=>{var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");A.on(e,t),A.on("longpress contextmenu",o)})},B3=Dn([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),y3=t=>e=>e.translate(-t.left,-t.top),C3=t=>e=>e.translate(t.left,t.top),_3=o=>(e,t)=>we(o,(e,t)=>t(e),vo(e,t)),k3=(e,t,o)=>e.fold(_3([C3(o),y3(t)]),_3([y3(t)]),_3([])),E3=(e,t,o)=>e.fold(_3([C3(o)]),_3([]),_3([C3(t)])),F3=(e,t,o)=>e.fold(_3([]),_3([y3(o)]),_3([C3(t),y3(o)])),S3=(e,t,o)=>{e=e.fold((e,t)=>({position:Q.some("absolute"),left:Q.some(e+"px"),top:Q.some(t+"px")}),(e,t)=>({position:Q.some("absolute"),left:Q.some(e-o.left+"px"),top:Q.some(t-o.top+"px")}),(e,t)=>({position:Q.some("fixed"),left:Q.some(e+"px"),top:Q.some(t+"px")}));return{right:Q.none(),bottom:Q.none(),...e}},Q3=(e,a,A,i)=>{var t=(r,n)=>(e,t)=>{var o=r(a,A,i);return n(e.getOr(o.left),t.getOr(o.top))};return e.fold(t(F3,U3),t(E3,I3),t(k3,T3))},U3=B3.offset,I3=B3.absolute,T3=B3.fixed,M3=(e,t)=>{e=qt(e,t);return j(e)?NaN:parseInt(e,10)},H3=(e,t,o,r,n,a)=>{l=o,d=r,o=t,r=(r=e).element,c=M3(r,o.leftAttr),r=M3(r,o.topAttr);let A=(isNaN(c)||isNaN(r)?Q.none():Q.some(vo(c,r))).fold(()=>l,e=>T3(e.left+d.left,e.top+d.top)),i=(t.mustSnap?O3:L3)(e,t,A,n,a),s=k3(A,n,a);var l,d,o=e,c=t,r=s;return o=o.element,x(o,c.leftAttr,r.left+"px"),x(o,c.topAttr,r.top+"px"),i.fold(()=>({coord:T3(s.left,s.top),extra:Q.none()}),e=>({coord:e.output,extra:e.extra}))},D3=(e,o,r,n)=>He(e,e=>{var t=e.sensor;return((e,t,o,r,n,a)=>{e=E3(e,n,a),t=E3(t,n,a);return Math.abs(e.left-t.left)<=o&&Math.abs(e.top-t.top)<=r})(o,t,e.range.left,e.range.top,r,n)?Q.some({output:Q3(e.output,o,r,n),extra:e.extra}):Q.none()}),O3=(e,t,n,a,A)=>{let o=t.getSnapPoints(e);return D3(o,n,a,A).orThunk(()=>we(o,(t,o)=>{let e=o.sensor,r=((e,t,o,r)=>{e=E3(e,o,r),t=E3(t,o,r),o=Math.abs(e.left-t.left),r=Math.abs(e.top-t.top);return vo(o,r)})(n,e,(o.range.left,o.range.top,a),A);return t.deltas.fold(()=>({deltas:Q.some(r),snap:Q.some(o)}),e=>(r.left+r.top)/2<=(e.left+e.top)/2?{deltas:Q.some(r),snap:Q.some(o)}:t)},{deltas:Q.none(),snap:Q.none()}).snap.map(e=>({output:Q3(e.output,n,a,A),extra:e.extra})))},L3=(e,t,o,r,n)=>{t=t.getSnapPoints(e);return D3(t,o,r,n)},N3=Object.freeze({__proto__:null,snapTo:(a,e,t,A)=>{var i,s=e.getTarget(a.element);if(e.repositionTarget){let e=Ft(a.element),t=or(e),o=pC(s),r=(a=A,A=t,i=o,{coord:Q3(a.output,a.output,A,i),extra:a.extra}),n=S3(r.coord,0,o);ao(s,n)}}}),R3="data-initial-z-index",P3=(e,t)=>{var o;e.getSystem().addToGui(t),o=t,It(o.element).filter(vt).each(t=>{so(t,"z-index").each(e=>{x(t,R3,e)}),T(t,"z-index",Ao(o.element,"z-index"))})},V3=e=>{var t;t=e,It(t.element).filter(vt).each(t=>{$t(t,R3).fold(()=>uo(t,"z-index"),e=>T(t,"z-index",e)),to(t,R3)}),e.getSystem().removeFromGui(e)},z3=(e,t,o)=>e.getSystem().build(Cv.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o})),K3=En("snaps",[a("getSnapPoints"),e("onSensor"),a("leftAttr"),a("topAttr"),l("lazyViewport",pr),l("mustSnap",!1)]),Z3=[l("useFixed",Ae),a("blockerClass"),l("getTarget",v),l("onDrag",B),l("repositionTarget",!0),l("onDrop",B),Tn("getBounds",pr),K3],G3=t=>{return e=so(t,"left"),o=so(t,"top"),r=so(t,"position"),(e.isSome()&&o.isSome()&&r.isSome()?Q.some((e=e.getOrDie(),o=o.getOrDie(),("fixed"===r.getOrDie()?T3:U3)(parseInt(e,10),parseInt(o,10)))):Q.none()).getOrThunk(()=>{var e=xo(t);return I3(e.left,e.top)});var e,o,r},j3=(e,t)=>({bounds:e.getBounds(),height:fo(t.element),width:_o(t.element)}),W3=(s,l,e,t,o)=>{let r=e.update(t,o),d=e.getStartData().getOrThunk(()=>j3(l,s));r.each(e=>{var t,o,r,n,a,A,i;t=s,o=l,r=d,e=e,i=o.getTarget(t.element),o.repositionTarget&&(A=Ft(t.element),A=or(A),n=pC(i),a=G3(i),a=((a,A,i,s,l,d,c)=>{{A=A.fold(()=>{o=d.left,r=d.top;var o,r,e=i.fold((e,t)=>U3(e+o,t+r),(e,t)=>I3(e+o,t+r),(e,t)=>T3(e+o,t+r)),e=k3(e,s,l);return T3(e.left,e.top)},t=>{var e=H3(a,t,i,d,s,l);return e.extra.each(e=>{t.onSensor(a,e)}),e.coord});var u=s,g=l;let e=c.bounds,t=E3(A,u,g),o=Yi(t.left,e.x,e.x+e.width-c.width),r=Yi(t.top,e.y,e.y+e.height-c.height),n=I3(o,r);return A.fold(()=>{var e=F3(n,u,g);return U3(e.left,e.top)},E(n),()=>{var e=k3(n,u,g);return T3(e.left,e.top)})}})(t,o.snaps,a,A,n,e,r),A=S3(a,0,n),ao(i,A)),o.onDrag(t,i,e)})},X3=(o,e,t,r)=>{e.each(V3),t.snaps.each(e=>{var t;e=e,t=(t=o).element,to(t,e.leftAttr),to(t,e.topAttr)});e=t.getTarget(o.element);r.reset(),t.onDrop(o,e)},Y3=e=>(t,o)=>{let r=e=>{o.setStartData(j3(t,e))};return Ka([D(Ea(),e=>{o.getStartData().each(()=>r(e))}),...e(t,o,r)])};var J3=Object.freeze({__proto__:null,getData:e=>Q.from(vo(e.x,e.y)),getDelta:(e,t)=>vo(t.left-e.left,t.top-e.top)});let q3=(i,s,l)=>[D(Yn(),(t,e)=>{if(0!==e.event.raw.button)return;e.stop();let o=()=>X3(t,Q.some(a),i,s),r=pv(o,200),n={drop:o,delayDrop:r.schedule,forceDrop:o,move:e=>{r.cancel(),W3(t,i,s,J3,e)}},a=z3(t,i.blockerClass,(A=n,Ka([D(Yn(),A.forceDrop),D($n(),A.drop),D(Jn(),(e,t)=>{A.move(t.event)}),D(qn(),A.delayDrop)])));var A;l(t),P3(t,a)})],$3=[...Z3,Di("dragger",{handlers:Y3(q3)})];var eE,tE=Object.freeze({__proto__:null,getData:e=>{var e=e.raw.touches;return 1===e.length?(e=e[0],Q.some(vo(e.clientX,e.clientY))):Q.none()},getDelta:(e,t)=>vo(t.left-e.left,t.top-e.top)});let oE=(r,n,a)=>{let A=qs(),i=e=>{X3(e,A.get(),r,n),A.clear()};return[D(Gn(),(t,e)=>{e.stop();var o,e=()=>i(t),e={drop:e,delayDrop:B,forceDrop:e,move:e=>{W3(t,r,n,tE,e)}},e=z3(t,r.blockerClass,(o=e,Ka([D(Gn(),o.forceDrop),D(Wn(),o.drop),D(Xn(),o.drop),D(jn(),(e,t)=>{o.move(t.event)})])));A.set(e),a(t),P3(t,e)}),D(jn(),(e,t)=>{t.stop(),W3(e,r,n,tE,t.event)}),D(Wn(),(e,t)=>{t.stop(),i(e)}),D(Xn(),i)]},rE=$3,nE=[...Z3,Di("dragger",{handlers:Y3(oE)})],aE=[...Z3,Di("dragger",{handlers:Y3((e,t,o)=>[...q3(e,t,o),...oE(e,t,o)])})],AE=Object.freeze({__proto__:null,mouse:rE,touch:nE,mouseOrTouch:aE}),iE=Object.freeze({__proto__:null,init:()=>{let n=Q.none(),t=Q.none();var e=E({});return FA({readState:e,reset:()=>{n=Q.none(),t=Q.none()},update:(r,e)=>r.getData(e).bind(e=>{return t=r,o=e,e=n.map(e=>t.getDelta(e,o)),n=Q.some(o),e;var t,o}),getStartData:()=>t,setStartData:e=>{t=Q.some(e)}})}}),sE=Es({branchKey:"mode",branches:AE,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:Q.from(e.extra)})},state:iE,apis:N3}),lE=(e,r,n,a,t,o)=>e.fold(()=>sE.snap({sensor:I3(n-20,a-20),range:vo(t,o),output:I3(Q.some(n),Q.some(a)),extra:{td:r}}),e=>{var t=n-20,o=a-20,e=e.element.dom.getBoundingClientRect();return sE.snap({sensor:I3(t,o),range:vo(40,40),output:I3(Q.some(n-e.width/2),Q.some(a-e.height/2)),extra:{td:r}})}),dE=(e,n,a)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,t)=>{var o,r,t=t.td;o=n.get(),r=t,o.exists(e=>kt(e,r))||(n.set(t),a(t))},mustSnap:!0}),cE=e=>K(wp.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:O([sE.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),ew.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),uE=(i,o)=>{let r=H([]),n=H([]),e=H(!1),a=qs(),A=qs(),t=e=>{var t=gr(e);return lE(c.getOpt(o),e,t.x,t.y,t.width,t.height)},s=e=>{var t=gr(e);return lE(u.getOpt(o),e,t.right,t.bottom,t.width,t.height)},l=dE(()=>y(r.get(),e=>t(e)),a,t=>{A.get().each(e=>{i.dispatch("TableSelectorChange",{start:t,finish:e})})}),d=dE(()=>y(n.get(),e=>s(e)),A,t=>{a.get().each(e=>{i.dispatch("TableSelectorChange",{start:e,finish:t})})}),c=cE(l),u=cE(d),g=ii(c.asSpec()),m=ii(u.asSpec()),p=(r,n,a,A)=>{a=a(n);sE.snapTo(r,a);{a=r,r=n.dom.getBoundingClientRect(),uo(a.element,"display");let e=Ut(I(i.getBody())).dom.innerHeight,t=r[A]<0,o=r[A]>e;(t||o)&&T(a.element,"display","none")}},h=e=>p(g,e,t,"top"),f=e=>p(m,e,s,"bottom");Zo().deviceType.isTouch()&&(i.on("TableSelectionChange",t=>{e.get()||(kd(o,g),kd(o,m),e.set(!0)),a.set(t.start),A.set(t.finish),t.otherCells.each(e=>{r.set(e.upOrLeftCells),n.set(e.downOrRightCells),h(t.start),f(t.finish)})}),i.on("ResizeEditor ResizeWindow ScrollContent",()=>{a.get().each(h),A.get().each(f)}),i.on("TableSelectionClear",()=>{e.get()&&(Sd(g),Sd(m),e.set(!1)),a.clear(),A.clear()}))},gE=(a,e,A)=>{let t,i=null!=(t=e.delimiter)?t:"โบ";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:O([R.config({mode:"flow",selector:"div[role=button]"}),N.config({disabled:A.isDisabled}),X1(),Qv.config({}),P.config({}),V("elementPathEvents",[$a((t,e)=>{a.shortcuts.add("alt+F11","focus statusbar elementpath",()=>R.focusIn(t)),a.on("NodeChange",e=>{e=(e=>{var t,o=[];let r=e.length;for(;0<r--;){var n=e[r];if(1===n.nodeType&&"BR"!==(t=n).nodeName&&!t.getAttribute("data-mce-bogus")&&"bookmark"!==t.getAttribute("data-mce-type")){let e=V0(a,n);if(e.isDefaultPrevented()||o.push({name:e.name,element:n}),e.isPropagationStopped())break}}return o})(e.parents),e=0<e.length?we(e,(e,t,o)=>{r=t.name,n=t.element,t=o;var r,n,t=wp.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":t,"aria-level":t+1}},components:[ri(r)],action:e=>{a.focus(),a.selection.select(n),a.nodeChanged()},buttonBehaviours:O([Y1(A.isDisabled),X1()])});return 0===o?e.concat([t]):e.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[ri(` ${i} `)]},t])},[]):[];P.set(t,e)})})])]),components:[]}},mE=((h4=eE=eE||{})[h4.None=0]="None",h4[h4.Both=1]="Both",h4[h4.Vertical=2]="Vertical",(e,t,o)=>{let r=I(e.getContainer()),n=((e,t,o,r,n)=>{r={height:xk(r+t.top,Zp(e),jp(e))};return o===eE.Both&&(r.width=xk(n+t.left,Kp(e),Gp(e))),r})(e,t,o,ho(r),Co(r));Le(n,(e,t)=>{J(e)&&T(r,t,wk(e))}),e.dispatch("ResizeEditor")}),pE=(e,t,o,r)=>{o=vo(20*o,20*r);return mE(e,o,t),Q.some(!0)},hE=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),fE=(C,d)=>{let l=C.inline,c=l?Ek:bk,u=Hh(C)?YC:gC,g=(()=>{let t=qs(),r=qs(),o=qs();return{dialogUi:t,popupUi:r,mainUi:o,getUiMotherships:()=>{let e=t.get().map(e=>e.mothership),o=r.get().map(e=>e.mothership);return e.fold(()=>o.toArray(),t=>o.fold(()=>[t],e=>kt(t.element,e.element)?[t]:[t,e]))},lazyGetInOuterOrDie:(e,t)=>()=>o.get().bind(e=>t(e.outerContainer)).getOrDie(`Could not find ${e} element in OuterContainer`)}})(),m=qs(),p=qs(),h=qs(),f=Zo().deviceType.isTouch()?["tox-platform-touch"]:[],b=Qh(C),_=$p(C),v=K({dom:{tag:"div",classes:["tox-anchorbar"]}}),w=K({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),k=()=>g.mainUi.get().map(e=>e.outerContainer).bind(x4.getHeader),e=g.lazyGetInOuterOrDie("anchor bar",v.getOpt),t=g.lazyGetInOuterOrDie("bottom anchor bar",w.getOpt),x=g.lazyGetInOuterOrDie("toolbar",x4.getToolbar),E=g.lazyGetInOuterOrDie("throbber",x4.getThrobber),F=((e,t,o,r)=>{let n=H(!1),a=(e=>{let t=H(Qh(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),A={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:xp.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},i=$y(t),s=(o=>{let r=e=>()=>o.formatter.match(e),n=t=>()=>{var e=o.formatter.get(t);return void 0!==e?Q.some({tag:0<e.length&&(e[0].inline||e[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(t))}):Q.none()},a=H([]),A=H([]),i=H(!1);return o.on("PreInit",e=>{var t=ky(o),t=Fy(o,t,r,n);a.set(t)}),o.on("addStyleModifications",e=>{var t=Fy(o,e.items,r,n);A.set(t),i.set(e.replace)}),{getData:()=>{var e=i.get()?[]:a.get(),t=A.get();return e.concat(t)}}})(t),l={colorPicker:(e,t)=>{Cb(b)(e,t)},hasCustomColors:()=>cb(f),getColors:e=>ub(h,e),getColorCols:(p=h=f=b=t,e=>db(p,e))},d={isDraggableModal:(m=t,()=>ph(m))},c={shared:{providers:A,anchors:((e,t,o,r)=>{let n=Ih(e),a=()=>I(e.getBody()),A=()=>I(e.getContentAreaContainer()),i=()=>n||!r();return{inlineDialog:fy(A,t,i),inlineBottomDialog:by(e.inline,A,o,i),banner:vy(A,t,i),cursor:wy(e,a),node:xy(a)}})(t,o,r,a.isPositionedAtTop),header:a},urlinput:i,styles:s,colorinput:l,dialog:d,isContextMenuOpen:()=>n.get(),setContextMenuState:e=>n.set(e)},u={...c,shared:{...c.shared,interpreter:e=>JB(e,{},u),getSink:e.popup}},g={...c,shared:{...c.shared,interpreter:e=>JB(e,{},g),getSink:e.dialog}};var m,p,h,f,b;return{popup:u,dialog:g}})({popup:()=>M.fromOption(g.popupUi.get().map(e=>e.sink),"(popup) UI has not been rendered"),dialog:()=>M.fromOption(g.dialogUi.get().map(e=>e.sink),"UI has not been rendered")},C,e,t),S=()=>{o={attributes:{"data-alloy-vertical-dir":b?di.BottomToTop:di.TopToBottom}},t=x4.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:F.popup,onEscape:()=>{C.focus()}}),a=x4.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:F.popup.shared.getSink,providers:F.popup.shared.providers,onEscape:()=>{C.focus()},onToolbarToggled:e=>{C.dispatch("ToggleToolbarDrawer",{state:e})},type:_,lazyToolbar:x,lazyHeader:()=>k().getOrDie("Could not find header element"),...o}),i=x4.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:F.popup.shared.providers,onEscape:()=>{C.focus()},type:_}),A=Sh(C),n=Eh(C),r=Ch(C),s=Bh(C),e=x4.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),s=s?[e,t]:[t];var e=x4.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(A||n||r?[]:["tox-editor-header--empty"]),...o},components:ye([r?s:[],A?[i]:n?[a]:[],Ih(C)?[]:[v.asSpec()]]),sticky:Hh(C),editor:C,sharedBackstage:F.popup.shared}),t={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[x4.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),x4.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},o=x4.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:F.popup}),r=x4.parts.viewWrapper({backstage:F.popup}),n=hh(C)&&!l?Q.some((s=C,A=F.popup.shared.providers,{dom:{tag:"div",classes:["tox-statusbar"]},components:(i=[],fh(s)&&i.push(gE(s,{},A)),s.hasPlugin("wordcount")&&i.push(((e,r)=>{let n=(e,t,o)=>P.set(e,[ri(r.translate(["{0} "+o,t[o]]))]);return wp.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:O([Y1(r.isDisabled),X1(),Qv.config({}),P.config({}),L.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),V("wordcount-events",[oA(e=>{var t=L.getValue(e),o="words"===t.mode?"characters":"words";L.setValue(e,{mode:o,count:t.count}),n(e,t.count,o)}),$a(o=>{e.on("wordCountUpdate",e=>{var t=L.getValue(o).mode;L.setValue(o,{mode:t,count:e.wordCount}),n(o,e.wordCount,t)})})])]),eventOrder:{[ba()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(s,A)),bh(s)&&i.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":xp.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:O([z.config({})])}]}),i=0<i.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:i}]:[],s=((r,e)=>{let n=(e=>{e=vh(e);return!1===e?eE.None:"both"===e?eE.Both:eE.Vertical})(r);var t;return n===eE.None?Q.none():(t=n===eE.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",Q.some(Qp("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-label":e.translate(t)},behaviours:[sE.config({mode:"mouse",repositionTarget:!1,onDrag:(e,t,o)=>mE(r,o,n),blockerClass:"tox-blocker"}),R.config({mode:"special",onLeft:()=>pE(r,n,-1,0),onRight:()=>pE(r,n,1,0),onUp:()=>pE(r,n,0,-1),onDown:()=>pE(r,n,0,1)}),Qv.config({}),z.config({})]},e.icons)))})(s,A),i.concat(s.toArray()))})):Q.none(),a=ye([b?[]:[e],l?[]:[t],b?[e]:[]]),A=x4.parts.editorContainer({components:ye([a,l?[]:[w.asSpec(),...n.toArray()]])}),i=Mh(C),s={role:"application",...xp.isRtl()?{dir:"rtl"}:{},...i?{"aria-hidden":"true"}:{}},t=ii(x4.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(l?["tox-tinymce-inline"]:[]).concat(b?["tox-tinymce--toolbar-bottom"]:[]).concat(f),styles:{visibility:"hidden",...i?{opacity:"0",border:"0"}:{}},attributes:s},components:[A,...l?[]:[r],o],behaviours:O([X1(),N.config({disableClass:"tox-tinymce--disabled"}),R.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),e=_v(t);return m.set(e),{mothership:e,outerContainer:t}};return{popups:{backstage:F.popup,getMothership:()=>hE("popups",h)},dialogs:{backstage:F.dialog,getMothership:()=>hE("dialogs",p)},renderUI:()=>{var v=S(),e=(w=Th(C),w=kt(Wt(),w)&&"grid"===Ao(w,"display"),t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(f),attributes:{...xp.isRtl()?{dir:"rtl"}:{}}},behaviours:O([vd.config({useFixed:()=>u.isDocked(k)})])},e={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ka([D(Fa(),e=>{T(e.element,"width",document.body.clientWidth+"px")})])},t=ii(Fr(t,w?e:{})),w=_v(t),p.set(w),{sink:t,mothership:w}),w=Dh(C)?(t={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(f),attributes:{...xp.isRtl()?{dir:"rtl"}:{}}},behaviours:O([vd.config({useFixed:()=>u.isDocked(k),getBounds:()=>d.getPopupSinkBounds()})])},t=ii(t),w=_v(t),h.set(w),{sink:t,mothership:w}):(t=e,h.set(t.mothership),t),t=(g.dialogUi.set(e),g.popupUi.set(w),g.mainUi.set(v),{popupUi:w,dialogUi:e,mainUi:v,uiMotherships:g.getUiMotherships()}),{mainUi:w,popupUi:e,uiMotherships:v}=t,{buttons:o,menuItems:r,contextToolbars:n,sidebars:a,views:A}=(Ne(eh(C),(e,t)=>{C.ui.registry.addGroupToolbarButton(t,e)}),C.ui.registry.getAll()),i=Fh(C),r={menuItems:r,menus:Oh(C),menubar:Ah(C),toolbar:i.getOrThunk(()=>ih(C)),allowToolbarGroups:_===Tp.floating,buttons:o,sidebar:a,views:A},s=w.outerContainer;C.addShortcut("alt+F9","focus menubar",()=>{x4.focusMenubar(s)}),C.addShortcut("alt+F10","focus toolbar",()=>{x4.focusToolbar(s)}),C.addCommand("ToggleToolbarDrawer",(e,t)=>{null!=t&&t.skipFocus?x4.toggleToolbarDrawerWithoutFocusing(s):x4.toggleToolbarDrawer(s)}),C.addQueryStateHandler("ToggleToolbarDrawer",()=>x4.isToolbarDrawerToggled(s));{var x=C,B=w.mothership,y=v;let o=(t,o)=>{U([B,...y],e=>{e.broadcastEvent(t,o)})},t=(t,o)=>{U([B,...y],e=>{e.broadcastOn([t],o)})},e=e=>t(Zd(),{target:e.target}),r=Ar(),n=el(r,"touchstart",e),a=el(r,"touchmove",e=>o(_a(),e)),A=el(r,"touchend",e=>o(ka(),e)),i=el(r,"mousedown",e),s=el(r,"mouseup",e=>{0===e.raw.button&&t(jd(),{target:e.target})}),l=e=>t(Zd(),{target:I(e.target)}),d=e=>{0===e.button&&t(jd(),{target:I(e.target)})},c=()=>{U(x.editorManager.get(),e=>{x!==e&&e.dispatch("DismissPopups",{relatedTarget:x})})},u=e=>o(Ea(),ol(e)),g=e=>{t(Gd(),{}),o(Fa(),ol(e))},m=zt(I(x.getElement())),p=tl(m,"scroll",t=>{requestAnimationFrame(()=>{var e;null!=x.getContainer()&&(e=uv(x,B.element).map(e=>[e.element,...e.others]).getOr([]),me(e,e=>kt(e,t.target)))&&(x.dispatch("ElementScroll",{target:t.target.dom}),o(Ha(),t))})}),h=()=>t(Gd(),{}),f=e=>{e.state&&t(Zd(),{target:I(x.getContainer())})},b=e=>{t(Zd(),{target:I(e.relatedTarget.getContainer())})};x.on("PostRender",()=>{x.on("click",l),x.on("tap",l),x.on("mouseup",d),x.on("mousedown",c),x.on("ScrollWindow",u),x.on("ResizeWindow",g),x.on("ResizeEditor",h),x.on("AfterProgressState",f),x.on("DismissPopups",b)}),x.on("remove",()=>{x.off("click",l),x.off("tap",l),x.off("mouseup",d),x.off("mousedown",c),x.off("ScrollWindow",u),x.off("ResizeWindow",g),x.off("ResizeEditor",h),x.off("AfterProgressState",f),x.off("DismissPopups",b),i.unbind(),n.unbind(),a.unbind(),A.unbind(),s.unbind(),p.unbind()}),x.on("detach",()=>{U([B,...y],Md),U([B,...y],e=>e.destroy())})}u.setup(C,F.popup.shared,k),t3(C,F.popup),x3(C,F.popup.shared.getSink,F.popup);{var l=C;let r=l.ui.registry.getAll().sidebars;U(De(r),t=>{let e=r[t],o=()=>Xe(Q.from(l.queryCommandValue("ToggleSidebar")),t);l.ui.registry.addToggleButton(t,{icon:e.icon,tooltip:e.tooltip,onAction:e=>{l.execCommand("ToggleSidebar",!1,t),e.setActive(o())},onSetup:e=>{e.setActive(o());let t=()=>e.setActive(o());return l.on("ToggleSidebar",t),()=>{l.off("ToggleSidebar",t)}}})})}return w_(C,E,F.popup.shared),Gk(C,n,e.sink,{backstage:F.popup}),uE(C,e.sink),A={targetNode:C.getElement(),height:(i=w.outerContainer,o=wk((e=>{let t=Vp(e),o=Zp(e),r=jp(e);return vk(t).map(e=>xk(e,o,r))})(o=C).getOr(Vp(o))),a=wk((a=C,Bk(a).getOr(zp(a)))),C.inline||(co("div","width",a)&&T(i.element,"width",a),co("div","height",o)?T(i.element,"height",o):T(i.element,"height","400px")),o)},c.render(C,t,r,F.popup,A)}}},bE=E([a("lazySink"),i("dragBlockClass"),Tn("getBounds",pr),l("useTabstopAt",ie),l("firstTabstop",0),l("eventOrder",{}),cc("modalBehaviours",[R]),Ti("onExecute"),Hi("onEscape")]),vE={sketch:v},wE=E([Nc({name:"draghandle",overrides:(e,t)=>({behaviours:O([sE.config({mode:"mouse",getTarget:e=>pi(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),Oc({schema:[a("dom")],name:"title"}),Oc({factory:vE,schema:[a("dom")],name:"close"}),Oc({factory:vE,schema:[a("dom")],name:"body"}),Nc({factory:vE,schema:[a("dom")],name:"footer"}),Lc({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[l("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),l("components",[])],name:"blocker"})]),xE=cu({name:"ModalDialog",configFields:bE(),partFields:wE(),factory:(r,e,t,n)=>{let a=qs(),o=F("modal-events"),A={...r.eventOrder,[Sa()]:[o].concat(r.eventOrder["alloy.system.attached"]||[])};return{uid:r.uid,dom:r.dom,components:e,apis:{show:e=>{a.set(e);var t=r.lazySink(e).getOrDie(),o=n.blocker(),o=t.getSystem().build({...o,components:o.components.concat([si(e)]),behaviours:O([z.config({}),V("dialog-blocker-events",[qa(ta(),()=>{f_.isBlocked(e)||R.focusIn(e)})])])});kd(t,o),R.focusIn(e)},hide:t=>{a.clear(),It(t.element).each(e=>{t.getSystem().getByDom(e).each(e=>{Sd(e)})})},getBody:e=>Jc(e,r,"body"),getFooter:e=>Yc(e,r,"footer"),setIdle:e=>{f_.unblock(e)},setBusy:(e,t)=>{f_.block(e,t)}},eventOrder:A,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:uc(r.modalBehaviours,[P.config({}),R.config({mode:"cyclic",onEnter:r.onExecute,onEscape:r.onEscape,useTabstopAt:r.useTabstopAt,firstTabstop:r.firstTabstop}),f_.config({getRoot:a.get}),V(o,[$a(e=>{var t,o;t=e.element,o=Jc(e,r,"title").element,e=$t(t,"id").fold(()=>{var e=F("dialog-label");return x(o,"id",e),e},v),x(t,"aria-labelledby",e)})])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}}),BE=A([Ff,Sf].concat(C1)),yE=Jr,CE=[t1("button"),Vf,Un("align","end",["start","end"]),Yf,Xf,Cn("buttonType",["primary","secondary"])],_E=[...CE,Uf],kE=[hn("type",["submit","cancel","custom"]),..._E],EE=[hn("type",["menu"]),Pf,zf,Vf,wn("items",BE),...CE],FE=[...CE,hn("type",["togglebutton"]),pn("tooltip"),Vf,Pf,In("active",!1)],SE=ln("type",{submit:kE,cancel:kE,custom:kE,menu:EE,togglebutton:FE}),QE=[Ff,Uf,hn("level",["info","warn","error","success"]),Tf,l("url","")],UE=A(QE),IE=[Ff,Uf,Xf,t1("button"),Vf,Wf,Cn("buttonType",["primary","secondary","toolbar"]),Yf],TE=A(IE),ME=[Ff,Sf],HE=ME.concat([Kf]),DE=ME.concat([Qf,Xf]),OE=A(DE),LE=Jr,NE=HE.concat([Jf("auto")]),RE=A(NE),PE=Gr([Mf,Uf,Tf]),VE=HE.concat([Qn("storageKey","default")]),zE=A(VE),KE=Yr,ZE=A(HE),GE=Yr,jE=ME.concat([Qn("tag","textarea"),pn("scriptId"),pn("scriptUrl"),Fn("settings",void 0,en)]),WE=ME.concat([Qn("tag","textarea"),fn("init")]),XE=on(e=>nn("customeditor.old",Vr(WE),e).orThunk(()=>nn("customeditor.new",Vr(jE),e))),YE=Yr,JE=A(HE),qE=zr(Or),$E=e=>[Ff,mn("columns",Xr),e],eF=[Ff,pn("html"),Un("presets","presentation",["presentation","document"])],tF=A(eF),oF=HE.concat([In("border",!1),In("sandboxed",!0),In("streamContent",!1),In("transparent",!0)]),rF=A(oF),nF=Yr,aF=A(ME.concat([yn("height")])),AF=A([pn("url"),Bn("zoom"),Bn("cachedWidth"),Bn("cachedHeight")]),iF=HE.concat([yn("inputMode"),yn("placeholder"),In("maximized",!1),Xf]),sF=A(iF),lF=Yr,dF=[Uf,Mf],cF=[Uf,wn("items",dn(0,()=>uF))],uF=Kr([A(dF),A(cF)]),gF=HE.concat([wn("items",uF),Xf]),mF=A(gF),pF=Yr,hF=HE.concat([vn("items",[Uf,Mf]),Sn("size",1),Xf]),fF=A(hF),bF=Yr,vF=HE.concat([In("constrain",!0),Xf]),wF=A(vF),xF=A([pn("width"),pn("height")]),BF=ME.concat([Qf,Sn("min",0),Sn("max",0)]),yF=A(BF),CF=Xr,_F=[Ff,wn("header",Yr),wn("cells",zr(Yr))],kF=A(_F),EF=HE.concat([yn("placeholder"),In("maximized",!1),Xf]),FF=A(EF),SF=Yr,QF=[hn("type",["directory","leaf"]),If,pn("id"),xn("menu",$C)],UF=A(QF),IF=QF.concat([wn("children",dn(0,()=>tn("type",{directory:TF,leaf:UF})))]),TF=A(IF),MF=tn("type",{directory:TF,leaf:UF}),HF=[Ff,wn("items",MF),_n("onLeafAction"),_n("onToggleExpand"),Mn("defaultExpandedIds",[],Yr),yn("defaultSelectedId")],DF=A(HF),OF=HE.concat([Un("filetype","file",["image","media","file"]),Xf]),LF=A(OF),NF=A([Mf,qf]),RF=t=>cn("items","items",{tag:"required",process:{}},zr(on(e=>nn("Checking item of "+t,PF,e).fold(e=>M.error(sn(e)),e=>M.value(e))))),PF=Rr(()=>{return tn("type",{alertbanner:UE,bar:A((e=RF("bar"),[Ff,e])),button:TE,checkbox:OE,colorinput:zE,colorpicker:ZE,dropzone:JE,grid:A($E(RF("grid"))),iframe:rF,input:sF,listbox:mF,selectbox:fF,sizeinput:wF,slider:yF,textarea:FF,urlinput:LF,customeditor:XE,htmlpanel:tF,imagepreview:aF,collection:RE,label:A((e=RF("label"),[Ff,Qf,e,Un("align","start",["start","center","end"])])),table:kF,tree:DF,panel:zF});var e}),VF=[Ff,l("classes",[]),wn("items",PF)],zF=A(VF),KF=[t1("tab"),If,wn("items",PF)],ZF=[Ff,vn("tabs",KF)],GF=A(ZF),jF=_E,WF=SE,XF=A([pn("title"),mn("body",tn("type",{panel:zF,tabpanel:GF})),Qn("size","normal"),Mn("buttons",[],WF),l("initialData",{}),Tn("onAction",B),Tn("onChange",B),Tn("onSubmit",B),Tn("onClose",B),Tn("onCancel",B),Tn("onTabChange",B)]),YF=A([hn("type",["cancel","custom"]),...jF]),JF=A([pn("title"),pn("url"),Bn("height"),Bn("width"),kn("buttons",YF),Tn("onAction",B),Tn("onCancel",B),Tn("onClose",B),Tn("onMessage",B)]),qF=e=>b(e)?[e].concat(Ce(Ge(e),qF)):m(e)?Ce(e,qF):[],$F=e=>f(e.type)&&f(e.name),eS={checkbox:LE,colorinput:KE,colorpicker:GE,dropzone:qE,input:lF,iframe:nF,imagepreview:AF,selectbox:bF,sizeinput:xF,slider:CF,listbox:pF,size:xF,textarea:SF,urlinput:NF,customeditor:YE,collection:PE,togglemenuitem:yE},tS=e=>{e=e;e=be(qF(e),$F),e=Ce(e,t=>{return e=t,Q.from(eS[e.type]).fold(()=>[],e=>[mn(t.name,e)]);var e});return A(e)},oS=e=>({internalDialog:an(nn("dialog",XF,e)),dataValidator:tS(e),initialData:null!=(e=e.initialData)?e:{}}),rS={open:(e,t)=>{t=oS(t);return e(t.internalDialog,t.initialData,t.dataValidator)},openUrl:(e,t)=>e(an(nn("dialog",JF,t))),redial:e=>oS(e)},nS=Object.freeze({__proto__:null,events:(r,n)=>{let a=(t,o)=>{r.updateState.each(e=>{e=e(t,o);n.set(e)}),r.renderComponents.each(e=>{e=e(o,n.get());(r.reuseDom?km:_m)(t,e)})};return Ka([D(fa(),(t,e)=>{var o=e;if(!o.universal){let e=r.channel;ge(o.channels,e)&&a(t,o.data)}}),$a((t,e)=>{r.initialData.each(e=>{a(t,e)})})])}}),aS=Object.freeze({__proto__:null,getState:(e,t,o)=>o}),AS=[a("channel"),i("renderComponents"),i("updateState"),i("initialData"),In("reuseDom",!0)],iS=_s({fields:AS,name:"reflecting",active:nS,apis:aS,state:Object.freeze({__proto__:null,init:()=>{let e=H(Q.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(Q.none())}}})}),sS=e=>{let o=[],r={};return Le(e,(e,t)=>{e.fold(()=>{o.push(t)},e=>{r[t]=e})}),0<o.length?M.error(o):M.value(r)},lS=(e,o,r)=>{var t,n=K(zx.sketch(t=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:y(e.items,e=>XB(t,e,o,r))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:O([R.config({mode:"acyclic",useTabstopAt:re(m2)}),(t=n,S.config({find:t.getOpt})),t2(n,{postprocess:e=>sS(e).fold(e=>(console.error(e),{}),v)})])}},dS=du({name:"TabButton",configFields:[l("uid",void 0),a("value"),cn("dom","dom",Ir(()=>({attributes:{role:"tab",id:F("aria"),"aria-selected":"false"}})),jr()),i("action"),l("domModification",{}),cc("tabButtonBehaviours",[z,R,L]),a("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Zm(e.action),behaviours:uc(e.tabButtonBehaviours,[z.config({}),R.config({mode:"execution",useSpace:!0,useEnter:!0}),L.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),cS=E([a("tabs"),a("dom"),l("clickToDismiss",!1),cc("tabbarBehaviours",[w,R]),Ui(["tabClass","selectedClass"])]),uS=Rc({factory:dS,name:"tabs",unit:"tab",overrides:r=>({action:e=>{var t=e.getSystem().getByUid(r.uid).getOrDie(),o=w.isHighlighted(t,e);(o&&r.clickToDismiss?(e,t)=>{w.dehighlight(e,t),k(e,Oa(),{tabbar:e,button:t})}:o?B:(e,t)=>{w.highlight(e,t),k(e,Da(),{tabbar:e,button:t})})(t,e)},domModification:{classes:[r.markers.tabClass]}})}),gS=E([uS]),mS=cu({name:"Tabbar",configFields:cS(),partFields:gS(),factory:(e,t,o,r)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:uc(e.tabbarBehaviours,[w.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{x(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{x(t.element,"aria-selected","false")}}),R.config({mode:"flow",getInitial:e=>w.getHighlighted(e).map(e=>e.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),pS=du({name:"Tabview",configFields:[cc("tabviewBehaviours",[P])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:uc(e.tabviewBehaviours,[P.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),hS=E([l("selectFirst",!0),e("onChangeTab"),e("onDismissTab"),l("tabs",[]),cc("tabSectionBehaviours",[])]),fS=Oc({factory:mS,schema:[a("dom"),bn("markers",[a("tabClass"),a("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),bS=Oc({factory:pS,name:"tabview"}),vS=E([fS,bS]),wS=cu({name:"TabSection",configFields:hS(),partFields:vS(),factory:(n,e,t,o)=>{let r=(e,t)=>{Yc(e,n,"tabbar").each(e=>{t(e).each(Ra)})};return{uid:n.uid,dom:n.dom,components:e,behaviours:n.tabSectionBehaviours.dump,events:Ka(ye([n.selectFirst?[$a((e,t)=>{r(e,w.getFirst)})]:[],[D(Da(),(e,t)=>{{var r=t.event.button;let o=L.getValue(r);Yc(r,n,"tabview").each(t=>{xe(n.tabs,e=>e.value===o).each(e=>{e=e.view();$t(r.element,"id").each(e=>{x(t.element,"aria-labelledby",e)}),P.set(t,e),n.onChangeTab(t,r,e)})})}}),D(Oa(),(e,t)=>{t=t.event.button;n.onDismissTab(e,t)})]])),apis:{getViewItems:e=>Yc(e,n,"tabview").map(e=>P.contents(e)).getOr([]),showTab:(e,o)=>{r(e,t=>{var e=w.getCandidates(t);return xe(e,e=>L.getValue(e)===o).filter(e=>!w.isHighlighted(t,e))})}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}}),xS=(e,t)=>{T(e,"height",t+"px"),T(e,"flex-basis",t+"px")},BS=(e,i,t)=>{pi(e,'[role="dialog"]').each(A=>{fi(A,'[role="tablist"]').each(a=>{t.get().map(e=>{return T(i,"height","0"),T(i,"flex-basis","0"),Math.min(e,(e=A,t=i,o=a,r=Qt(e).dom,n=pi(e,".tox-dialog-wrap").getOr(e),n="fixed"===Ao(n,"position")?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight),r=ho(t),t=t.dom.offsetLeft>=o.dom.offsetLeft+Co(o)?Math.max(ho(o),r):r,o=parseInt(Ao(e,"margin-top"),10)||0,r=parseInt(Ao(e,"margin-bottom"),10)||0,n-(ho(e)+o+r-t)));var t,o,r,n}).each(e=>{xS(i,e)})})})},yS=e=>fi(e,'[role="tabpanel"]'),CS="send-data-to-section",_S="send-data-to-view",kS=(e,o,r)=>{let n=H({}),a=e=>{var e=L.getValue(e),e=sS(e).getOr({}),t=n.get(),t=Fr(t,e);n.set(t)},A=e=>{var t=n.get();L.setValue(e,t)},i=H(null),t=y(e.tabs,e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[ri(r.shared.providers.translate(e.title))],view:()=>[zx.sketch(t=>({dom:{tag:"div",classes:["tox-form"]},components:y(e.items,e=>XB(t,e,o,r)),formBehaviours:O([R.config({mode:"acyclic",useTabstopAt:re(m2)}),V("TabView.form.events",[$a(A),eA(a)]),Ss.config({channels:Ln([{key:CS,value:{onReceive:a}},{key:_S,value:{onReceive:A}}])})])}))]})),s=(a=>{let A=qs(),e=[$a(r=>{let n=r.element;yS(n).each(t=>{var e,o;T(t,"visibility","hidden"),r.getSystem().getByDom(t).toOptional().each(e=>{o=a,r=t,n=e;var o,r,n,e=y(o,(e,t)=>{P.set(n,o[t].view());t=r.dom.getBoundingClientRect();return P.set(n,[]),t.height});e=e,Ie(Qe(e,(e,t)=>t<e?-1:e<t?1:0)).fold(A.clear,A.set)}),BS(n,t,A),uo(t,"visibility"),e=a,o=r,Ie(e).each(e=>wS.showTab(o,e.value)),requestAnimationFrame(()=>{BS(n,t,A)})})}),D(Fa(),e=>{let t=e.element;yS(t).each(e=>{BS(t,e,A)})}),D(zv,(e,t)=>{let n=e.element;yS(n).each(t=>{var e=Ms(zt(t)),o=(T(t,"visibility","hidden"),so(t,"height").map(e=>parseInt(e,10)));uo(t,"height"),uo(t,"flex-basis");let r=t.dom.getBoundingClientRect().height;o.forall(e=>r>e)?(A.set(r),BS(n,t,A)):o.each(e=>{xS(t,e)}),uo(t,"visibility"),e.each(Us)})})];return{extraEvents:e,selectFirst:!1}})(t);return wS.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,o)=>{t=L.getValue(t);k(e,Vv,{name:t,oldName:i.get()}),i.set(t)},tabs:t,components:[wS.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[mS.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:O([Qv.config({})])}),wS.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:O([V("tabpanel",s.extraEvents),R.config({mode:"acyclic"}),S.config({find:e=>Ie(wS.getViewItems(e))}),r2(Q.none(),e=>(e.getSystem().broadcastOn([CS],{}),n.get()),(e,t)=>{n.set(t),e.getSystem().broadcastOn([_S],{})})])})},ES=F("update-dialog"),FS=F("update-title"),SS=F("update-body"),QS=F("update-footer"),US=F("body-send-message"),IS=(e,t,o,r,n)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map(e=>({id:e})).getOr({}),...n?{"aria-live":"polite"}:{}}},components:[],behaviours:O([Jx(0),iS.config({channel:SS+"-"+t,updateState:(e,t)=>Q.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{var t=e.body;return"tabpanel"===t.type?[kS(t,e.initialData,r)]:[lS(t,e.initialData,r)]},initialData:e})])});function TS(e){return(TS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MS(e,t){return(MS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HS(e,t,o){return(HS=(()=>{if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){}}})()?Reflect.construct:function(e,t,o){var r=[null],t=(r.push.apply(r,t),new(Function.bind.apply(e,r)));return o&&MS(t,o.prototype),t}).apply(null,arguments)}function DS(e){return(e=>{if(Array.isArray(e))return OS(e)})(e)||(()=>{if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)})()||(e=>{var t;if(e)return"string"==typeof e?OS(e,void 0):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?OS(e,void 0):void 0})(e)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function OS(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function LS(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return WS(NS,t)}var NS,RS=Object.hasOwnProperty,PS=Object.setPrototypeOf,VS=Object.isFrozen,zS=Object.getPrototypeOf,KS=Object.getOwnPropertyDescriptor,ZS=Object.freeze,f4=Object.seal,GS=Object.create,p4="undefined"!=typeof Reflect&&Reflect,jS=(jS=p4.apply)||function(e,t,o){return e.apply(t,o)},ZS=ZS||function(e){return e},f4=f4||function(e){return e},WS=(WS=p4.construct)||function(e,t){return HS(e,DS(t))},XS=nQ(Array.prototype.forEach),YS=nQ(Array.prototype.pop),JS=nQ(Array.prototype.push),qS=nQ(String.prototype.toLowerCase),$S=nQ(String.prototype.match),eQ=nQ(String.prototype.replace),tQ=nQ(String.prototype.indexOf),oQ=nQ(String.prototype.trim),rQ=nQ(RegExp.prototype.test);function nQ(n){return function(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];return jS(n,e,o)}}function aQ(e,t){PS&&PS(e,null);for(var o=t.length;o--;){var r,n=t[o];"string"==typeof n&&(r=qS(n))!==n&&(VS(t)||(t[o]=r),n=r),e[n]=!0}return e}function AQ(e){var t,o=GS(null);for(t in e)jS(RS,e,[t])&&(o[t]=e[t]);return o}function iQ(e,t){for(;null!==e;){var o=KS(e,t);if(o){if(o.get)return nQ(o.get);if("function"==typeof o.value)return nQ(o.value)}e=zS(e)}return function(e){return console.warn("fallback value for",e),null}}NS=TypeError;var sQ=ZS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lQ=ZS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),dQ=ZS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cQ=ZS(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),uQ=ZS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),gQ=ZS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mQ=ZS(["#text"]),pQ=ZS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),hQ=ZS(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fQ=ZS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),bQ=ZS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),vQ=f4(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wQ=f4(/<%[\w\W]*|[\w\W]*%>/gm),xQ=f4(/^data-[\-\w.\u00B7-\uFFFF]/),BQ=f4(/^aria-[\-\w]+$/),yQ=f4(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CQ=f4(/^(?:\w+script|data):/i),_Q=f4(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kQ=f4(/^html$/i),EQ=function H(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,l=function(e){return H(e)};if(l.version="2.3.8",l.removed=[],i&&i.document&&9===i.document.nodeType){var s=i.document,n=i.document,D=i.DocumentFragment,e=i.HTMLTemplateElement,d=i.Node,O=i.Element,t=i.NodeFilter,o=i.NamedNodeMap,L=void 0===o?i.NamedNodeMap||i.MozNamedAttrMap:o,N=i.HTMLFormElement,R=i.DOMParser,o=i.trustedTypes,r=O.prototype,P=iQ(r,"cloneNode"),V=iQ(r,"nextSibling"),z=iQ(r,"childNodes"),c=iQ(r,"parentNode"),u=("function"==typeof e&&(r=n.createElement("template")).content&&r.content.ownerDocument&&(n=r.content.ownerDocument),((e,t)=>{if("object"!==TS(e)||"function"!=typeof e.createPolicy)return null;var o=null,r="data-tt-policy-suffix",t="dompurify"+((o=t.currentScript&&t.currentScript.hasAttribute(r)?t.currentScript.getAttribute(r):o)?"#"+o:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}})(o,s)),K=u?u.createHTML(""):"",e=n,a=e.implementation,Z=e.createNodeIterator,G=e.createDocumentFragment,j=e.getElementsByTagName,W=s.importNode,r={};try{r=AQ(n).documentMode?n.documentMode:{}}catch(H){}var A={};l.isSupported="function"==typeof c&&a&&void 0!==a.createHTMLDocument&&9!==r;var g,m,X,Y=vQ,J=wQ,q=xQ,$=BQ,ee=CQ,te=_Q,oe=yQ,p=null,re=aQ({},[].concat(DS(sQ),DS(lQ),DS(dQ),DS(uQ),DS(mQ))),h=null,ne=aQ({},[].concat(DS(pQ),DS(hQ),DS(fQ),DS(bQ))),f=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),b=null,ae=null,Ae=!0,ie=!0,se=!1,v=!1,w=!1,le=!1,de=!1,x=!1,B=!1,y=!1,ce=!0,ue=!0,C=!1,_={},k=null,ge=aQ({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),me=null,pe=aQ({},["audio","video","img","source","image","track"]),he=null,fe=aQ({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",E="http://www.w3.org/1999/xhtml",F=E,we=["application/xhtml+xml","text/html"],S=null,xe=n.createElement("form"),Be=function(e){return e instanceof RegExp||e instanceof Function},ye=function(e){S&&S===e||(e=AQ(e=e&&"object"===TS(e)?e:{}),p="ALLOWED_TAGS"in e?aQ({},e.ALLOWED_TAGS):re,h="ALLOWED_ATTR"in e?aQ({},e.ALLOWED_ATTR):ne,he="ADD_URI_SAFE_ATTR"in e?aQ(AQ(fe),e.ADD_URI_SAFE_ATTR):fe,me="ADD_DATA_URI_TAGS"in e?aQ(AQ(pe),e.ADD_DATA_URI_TAGS):pe,k="FORBID_CONTENTS"in e?aQ({},e.FORBID_CONTENTS):ge,b="FORBID_TAGS"in e?aQ({},e.FORBID_TAGS):{},ae="FORBID_ATTR"in e?aQ({},e.FORBID_ATTR):{},_="USE_PROFILES"in e&&e.USE_PROFILES,Ae=!1!==e.ALLOW_ARIA_ATTR,ie=!1!==e.ALLOW_DATA_ATTR,se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,v=e.SAFE_FOR_TEMPLATES||!1,w=e.WHOLE_DOCUMENT||!1,x=e.RETURN_DOM||!1,B=e.RETURN_DOM_FRAGMENT||!1,y=e.RETURN_TRUSTED_TYPE||!1,de=e.FORCE_BODY||!1,ce=!1!==e.SANITIZE_DOM,ue=!1!==e.KEEP_CONTENT,C=e.IN_PLACE||!1,oe=e.ALLOWED_URI_REGEXP||oe,F=e.NAMESPACE||E,e.CUSTOM_ELEMENT_HANDLING&&Be(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(f.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Be(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(f.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(f.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),g=-1===we.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,m="application/xhtml+xml"===g?function(e){return e}:qS,v&&(ie=!1),B&&(x=!0),_&&(p=aQ({},DS(mQ)),h=[],!0===_.html&&(aQ(p,sQ),aQ(h,pQ)),!0===_.svg&&(aQ(p,lQ),aQ(h,hQ),aQ(h,bQ)),!0===_.svgFilters&&(aQ(p,dQ),aQ(h,hQ),aQ(h,bQ)),!0===_.mathMl)&&(aQ(p,uQ),aQ(h,fQ),aQ(h,bQ)),e.ADD_TAGS&&aQ(p=p===re?AQ(p):p,e.ADD_TAGS),e.ADD_ATTR&&aQ(h=h===ne?AQ(h):h,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&aQ(he,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&aQ(k=k===ge?AQ(k):k,e.FORBID_CONTENTS),ue&&(p["#text"]=!0),w&&aQ(p,["html","head","body"]),p.table&&(aQ(p,["tbody"]),delete b.tbody),ZS&&ZS(e),S=e)},Ce=aQ({},["mi","mo","mn","ms","mtext"]),_e=aQ({},["foreignobject","desc","title","annotation-xml"]),ke=aQ({},["title","style","font","a","script"]),Q=aQ({},lQ),Ee=(aQ(Q,dQ),aQ(Q,cQ),aQ({},uQ)),U=(aQ(Ee,gQ),function(t){JS(l.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=K}catch(e){t.remove()}}}),I=function(e,t){try{JS(l.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){JS(l.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!h[e])if(x||B)try{U(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Fe=function(e){de?e="<remove></remove>"+e:o=(o=$S(e,/^[\r\n\t ]+/))&&o[0],"application/xhtml+xml"===g&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var t,o,r=u?u.createHTML(e):e;if(F===E)try{t=(new R).parseFromString(r,g)}catch(e){}if(!t||!t.documentElement){t=a.createDocument(F,"template",null);try{t.documentElement.innerHTML=X?"":r}catch(e){}}r=t.body||t.documentElement;return e&&o&&r.insertBefore(n.createTextNode(o),r.childNodes[0]||null),F===E?j.call(t,w?"html":"body")[0]:w?t.documentElement:r},Se=function(e){return Z.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,null,!1)},T=function(e){return"object"===TS(d)?e instanceof d:e&&"object"===TS(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},M=function(e,t,o){A[e]&&XS(A[e],function(e){e.call(l,t,o,S)})},Qe=function(e){if(M("beforeSanitizeElements",e,null),(!((a=e)instanceof N)||"string"==typeof a.nodeName&&"string"==typeof a.textContent&&"function"==typeof a.removeChild&&a.attributes instanceof L&&"function"==typeof a.removeAttribute&&"function"==typeof a.setAttribute&&"string"==typeof a.namespaceURI&&"function"==typeof a.insertBefore)&&!rQ(/[\u0080-\uFFFF]/,e.nodeName)){var t,o,r,n,a=m(e.nodeName);if(M("uponSanitizeElement",e,{tagName:a,allowedTags:p}),(!e.hasChildNodes()||T(e.firstElementChild)||T(e.content)&&T(e.content.firstElementChild)||!rQ(/<[/\w]/g,e.innerHTML)||!rQ(/<[/\w]/g,e.textContent))&&("select"!==a||!rQ(/<template/i,e.innerHTML))){if(p[a]&&!b[a])return(!(e instanceof O)||((o=c(t=e))&&o.tagName||(o={namespaceURI:E,tagName:"template"}),r=qS(t.tagName),n=qS(o.tagName),t.namespaceURI===ve?o.namespaceURI===E?"svg"===r:o.namespaceURI===be?"svg"===r&&("annotation-xml"===n||Ce[n]):Boolean(Q[r]):t.namespaceURI===be?o.namespaceURI===E?"math"===r:o.namespaceURI===ve?"math"===r&&_e[n]:Boolean(Ee[r]):t.namespaceURI===E&&(o.namespaceURI!==ve||_e[n])&&(o.namespaceURI!==be||Ce[n])&&!Ee[r]&&(ke[r]||!Q[r])))&&("noscript"!==a&&"noembed"!==a||!rQ(/<\/no(script|embed)/i,e.innerHTML))?(v&&3===e.nodeType&&(t=e.textContent,t=eQ(t,Y," "),t=eQ(t,J," "),e.textContent!==t)&&(JS(l.removed,{element:e.cloneNode()}),e.textContent=t),M("afterSanitizeElements",e,null),!1):(U(e),!0);if(!b[a]&&Ie(a)){if(f.tagNameCheck instanceof RegExp&&rQ(f.tagNameCheck,a))return!1;if(f.tagNameCheck instanceof Function&&f.tagNameCheck(a))return!1}if(ue&&!k[a]){var A=c(e)||e.parentNode,i=z(e)||e.childNodes;if(i&&A)for(var s=i.length-1;0<=s;--s)A.insertBefore(P(i[s],!0),V(e))}}}return U(e),!0},Ue=function(e,t,o){if(ce&&("id"===t||"name"===t)&&(o in n||o in xe))return!1;if((!ie||ae[t]||!rQ(q,t))&&(!Ae||!rQ($,t)))if(!h[t]||ae[t]){if(!(Ie(e)&&(f.tagNameCheck instanceof RegExp&&rQ(f.tagNameCheck,e)||f.tagNameCheck instanceof Function&&f.tagNameCheck(e))&&(f.attributeNameCheck instanceof RegExp&&rQ(f.attributeNameCheck,t)||f.attributeNameCheck instanceof Function&&f.attributeNameCheck(t))||"is"===t&&f.allowCustomizedBuiltInElements&&(f.tagNameCheck instanceof RegExp&&rQ(f.tagNameCheck,o)||f.tagNameCheck instanceof Function&&f.tagNameCheck(o))))return!1}else if(!he[t]&&!rQ(oe,eQ(o,te,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==tQ(o,"data:")||!me[e])&&(!se||rQ(ee,eQ(o,te,"")))&&o)return!1;return!0},Ie=function(e){return 0<e.indexOf("-")},Te=function(e){M("beforeSanitizeAttributes",e,null);var t,o=e.attributes;if(o){for(var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:h},n=o.length;n--;){t=o[n];var a=t.name,A=t.namespaceURI,i="value"===a?t.value:oQ(t.value),s=m(a),l=i;if(r.attrName=s,r.attrValue=i,r.keepAttr=!0,r.forceKeepAttr=void 0,M("uponSanitizeAttribute",e,r),i=r.attrValue,!r.forceKeepAttr)if(r.keepAttr)if(rQ(/\/>/i,i))I(a,e);else{v&&(i=eQ(i,Y," "),i=eQ(i,J," "));var d=m(e.nodeName);if(Ue(d,s,i)){if(i!==l)try{A?e.setAttributeNS(A,a,i):e.setAttribute(a,i)}catch(t){I(a,e)}}else I(a,e)}else I(a,e)}M("afterSanitizeAttributes",e,null)}},Me=function e(t){var o,r=Se(t);for(M("beforeSanitizeShadowDOM",t,null);o=r.nextNode();)M("uponSanitizeShadowNode",o,null),Qe(o)||(o.content instanceof D&&e(o.content),Te(o));M("afterSanitizeShadowDOM",t,null)};l.sanitize=function(e,t){var o,r,n,a;if("string"!=typeof(e=(X=!e)?"\x3c!--\x3e":e)&&!T(e)){if("function"!=typeof e.toString)throw LS("toString is not a function");if("string"!=typeof(e=e.toString()))throw LS("dirty is not a string, aborting")}if(!l.isSupported){if("object"===TS(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof e)return i.toStaticHTML(e);if(T(e))return i.toStaticHTML(e.outerHTML)}return e}if(le||ye(t),l.removed=[],C="string"==typeof e?!1:C){if(e.nodeName){var t=m(e.nodeName);if(!p[t]||b[t])throw LS("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)1===(t=(o=Fe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?o=t:o.appendChild(t);else{if(!x&&!v&&!w&&-1===e.indexOf("<"))return u&&y?u.createHTML(e):e;if(!(o=Fe(e)))return x?null:y?K:""}o&&de&&U(o.firstChild);for(var A=Se(C?e:o);r=A.nextNode();)3===r.nodeType&&r===n||Qe(r)||(r.content instanceof D&&Me(r.content),Te(r),n=r);if(n=null,C)return e;if(x){if(B)for(a=G.call(o.ownerDocument);o.firstChild;)a.appendChild(o.firstChild);else a=o;return a=h.shadowroot?W.call(s,a,!0):a}t=w?o.outerHTML:o.innerHTML;return w&&p["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&rQ(kQ,o.ownerDocument.doctype.name)&&(t="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+t),v&&(t=eQ(t,Y," "),t=eQ(t,J," ")),u&&y?u.createHTML(t):t},l.setConfig=function(e){ye(e),le=!0},l.clearConfig=function(){S=null,le=!1},l.isValidAttribute=function(e,t,o){S||ye({});e=m(e),t=m(t);return Ue(e,t,o)},l.addHook=function(e,t){"function"==typeof t&&(A[e]=A[e]||[],JS(A[e],t))},l.removeHook=function(e){if(A[e])return YS(A[e])},l.removeHooks=function(e){A[e]&&(A[e]=[])},l.removeAllHooks=function(){A={}}}else l.isSupported=!1;return l}();let FQ=e=>EQ().sanitize(e),SQ=Op.deviceType.isTouch(),QQ=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),UQ=(e,t)=>xE.parts.close(wp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:O([Qv.config({})])})),IQ=()=>xE.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),TQ=(e,t)=>xE.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:b_(`<p>${FQ(t.translate(e))}</p>`)}]}]}),MQ=e=>xE.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),HQ=(e,t)=>[Cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],DQ=t=>{let e="tox-dialog",o=e+"-wrap",r=o+"__backdrop",n=e+"__disable-scroll";return xE.sketch({lazySink:t.lazySink,onEscape:e=>(t.onEscape(e),Q.some(!0)),useTabstopAt:e=>!m2(e),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[e].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:b_(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:SQ?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:o,modalBehaviours:O([z.config({}),V("dialog-events",t.dialogEvents.concat([qa(ta(),(e,t)=>{f_.isBlocked(e)||R.focusIn(e)})])),V("scroll-lock",[$a(()=>{VA(Wt(),n)}),eA(()=>{zA(Wt(),n)})]),...t.extraBehaviours]),eventOrder:{[ba()]:["dialog-events"],[Sa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Qa()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},OQ=e=>wp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:O([Qv.config({})]),components:[Qp("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{_(e,Ov)}}),LQ=(e,t,o,r)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...o.map(e=>({id:e})).getOr({})}},components:[],behaviours:O([iS.config({channel:FS+"-"+t,initialData:e,renderComponents:e=>[ri(r.translate(e.title))]})])}),NQ=()=>({dom:b_('<div class="tox-dialog__draghandle"></div>')}),RQ=(e,t,o)=>{return e={title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t=t,o=o.shared.providers,t=xE.parts.title(LQ(e,t,Q.none(),o)),r=xE.parts.draghandle(NQ()),o=xE.parts.close(OQ(o)),t=[t].concat(e.draggable?[r]:[]).concat([o]),Cv.sketch({dom:b_('<div class="tox-dialog__header"></div>'),components:t});var r},PQ=(e,t,o,r)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:r.getOr(0)+"px",position:"absolute"}},behaviours:t,components:[{dom:b_('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),VQ=(e,n,t)=>({onClose:()=>t.closeWindow(),onBlock:o=>{let r=fi(e().element,".tox-dialog__header").map(e=>ho(e));xE.setBusy(e(),(e,t)=>PQ(o.message,t,n,r))},onUnblock:()=>{xE.setIdle(e())}}),zQ=(e,t,o,r)=>ii(DQ({...e,firstTabstop:1,lazySink:r.shared.getSink,extraBehaviours:[iS.config({channel:ES+"-"+e.id,updateState:(e,t)=>Q.some(t),initialData:t}),n2({}),...e.extraBehaviours],onEscape:e=>{_(e,Ov)},dialogEvents:o,eventOrder:{[fa()]:[iS.name(),Ss.name()],[Sa()]:["scroll-lock",iS.name(),"messages","dialog-events","alloy.base.behaviour"],[Qa()]:["alloy.base.behaviour","dialog-events","messages",iS.name(),"scroll-lock"]}})),KQ=(e,r={})=>y(e,e=>{return"menu"===e.type?(t=e,o=y(t.items,e=>{var t=C(r,e.name).getOr(H(!1));return{...e,storage:t}}),{...t,items:o}):e;var t,o}),ZQ=e=>we(e,(e,t)=>"menu"===t.type?we(t.items,(e,t)=>(e[t.name]=t.storage,e),e):e,{}),GQ=(e,n)=>[Ya(ta(),g2),e(Dv,(e,t,o,r)=>{Ms(zt(r.element)).fold(B,Is),n.onClose(),t.onClose()}),e(Ov,(e,t,o,r)=>{t.onCancel(e),_(r,Dv)}),D(Pv,(e,t)=>n.onUnblock()),D(Rv,(e,t)=>n.onBlock(t.event))],jQ=(A,e,s)=>{let t=(e,a)=>D(e,(o,r)=>{var t,n;t=o,n=(e,t)=>{a(A(),e,r.event,o)},iS.getState(t).get().each(e=>{n(e.internalDialog,t)})});return[...GQ(t,e),t(Nv,(e,t)=>t.onSubmit(e)),t(Hv,(e,t,o)=>{t.onChange(e,{name:o.name})}),t(Lv,(e,t,o,r)=>{let n=()=>R.focusIn(r),a=e=>eo(e,"disabled")||$t(e,"aria-disabled").exists(e=>"true"===e),A=zt(r.element),i=Ms(A);t.onAction(e,{name:o.name,value:o.value}),Ms(A).fold(n,t=>{a(t)||i.exists(e=>Et(t,e)&&a(e))?n():s().toOptional().filter(e=>!Et(e.element,t)).each(n)})}),t(Vv,(e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})}),eA(e=>{var t=A();L.setValue(e,t.getData())})]},WQ=(e,t)=>{var t=t.map(e=>e.footerButtons).getOr([]),t=fe(t,e=>"start"===e.align),o=(e,t)=>Cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:y(t,e=>e.memento.asSpec())});return[o("start",t.pass),o("end",t.fail)]},XQ=(e,t,r)=>({dom:b_('<div class="tox-dialog__footer"></div>'),components:[],behaviours:O([iS.config({channel:QS+"-"+t,initialData:e,updateState:(n,e)=>{let a=y(e.buttons,e=>{var t,o=K((o=e,t=r,OB(o,o.type,t)));return{name:e.name,align:e.align,memento:o}});return Q.some({lookupByName:e=>{return t=n,o=a,r=e,xe(o,e=>e.name===r).bind(e=>e.memento.getOpt(t));var t,o,r},footerButtons:a})},renderComponents:WQ})])}),YQ=(e,t,o)=>xE.parts.footer(XQ(e,t,o)),JQ=(e,t)=>{var o;return e.getRoot().getSystem().isConnected()?(o=S.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper()),zx.getField(o,t).orThunk(()=>e.getFooter().bind(e=>iS.getState(e).get()).bind(e=>e.lookupByName(t)))):Q.none()},qQ=(A,a,i)=>{let e=e=>{var t=A.getRoot();t.getSystem().isConnected()&&e(t)},s={getData:()=>{var e=A.getRoot(),e=e.getSystem().isConnected()?A.getFormWrapper():e;return{...L.getValue(e),...Ne(i,e=>e.get())}},setData:a=>{e(e=>{let t=s.getData(),o=Fr(t,a),r=((e,t)=>{e=e.getRoot();return iS.getState(e).get().map(e=>an(nn("data",e.dataValidator,t))).getOr(t)})(A,o),n=A.getFormWrapper();L.setValue(n,r),Le(i,(e,t)=>{je(o,t)&&e.set(o[t])})})},setEnabled:(e,t)=>{JQ(A,e).each(t?N.enable:N.disable)},focus:e=>{JQ(A,e).each(z.focus)},block:t=>{if(!f(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(e=>{k(e,Rv,{message:t})})},unblock:()=>{e(e=>{_(e,Pv)})},showTab:o=>{e(e=>{var t=A.getBody();iS.getState(t).get().exists(e=>e.isTabPanel())&&S.getCurrent(t).each(e=>{wS.showTab(e,o)})})},redial:n=>{e(e=>{var t=A.getId(),o=a(n),r=KQ(o.internalDialog.buttons,i);e.getSystem().broadcastOn([ES+"-"+t],o),e.getSystem().broadcastOn([FS+"-"+t],o.internalDialog),e.getSystem().broadcastOn([SS+"-"+t],o.internalDialog),e.getSystem().broadcastOn([QS+"-"+t],{...o.internalDialog,buttons:r}),s.setData(o.initialData)})},close:()=>{e(e=>{_(e,Dv)})},toggleFullscreen:A.toggleFullscreen};return s},$Q=(e,t,n,o=!1)=>{let r=F("dialog"),a=F("dialog-label"),A=F("dialog-content"),i=e.internalDialog,s="medium"===i.size?Q.some("tox-dialog--width-md"):Q.none(),l=K((b={title:i.title,draggable:!0},v=r,w=a,x=n.shared.providers,Cv.sketch({dom:b_('<div class="tox-dialog__header"></div>'),components:[LQ(b,v,Q.some(w),x),NQ(),OQ(x)],containerBehaviours:O([sE.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>bi(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),d=K((b={body:i.body,initialData:i.initialData},v=r,w=A,x=n,o=o,IS(b,v,Q.some(w),x,o))),c=KQ(i.buttons),u=ZQ(c),g=$e(0!==c.length,K((b={buttons:c},v=r,w=n,XQ(b,v,w)))),m=jQ(()=>f,{onBlock:r=>{f_.block(h,(e,t)=>{var o=l.getOpt(h).map(e=>ho(e.element));return PQ(r.message,t,n.shared.providers,o)})},onUnblock:()=>{f_.unblock(h)},onClose:()=>t.closeWindow()},n.shared.getSink),p="tox-dialog-inline",h=ii({dom:{tag:"div",classes:["tox-dialog",p,...s.toArray()],attributes:{role:"dialog","aria-labelledby":a}},eventOrder:{[fa()]:[iS.name(),Ss.name()],[ba()]:["execute-on-form"],[Sa()]:["reflecting","execute-on-form"]},behaviours:O([R.config({mode:"cyclic",onEscape:e=>(_(e,Dv),Q.some(!0)),useTabstopAt:e=>!m2(e)&&("button"!==ht(e)||"disabled"!==qt(e,"disabled")),firstTabstop:1}),iS.config({channel:ES+"-"+r,updateState:(e,t)=>Q.some(t),initialData:e}),z.config({}),V("execute-on-form",m.concat([qa(ta(),(e,t)=>{R.focusIn(e)})])),f_.config({getRoot:()=>Q.some(h)}),P.config({}),n2({})]),components:[l.asSpec(),d.asSpec(),...g.map(e=>e.asSpec()).toArray()]}),f=qQ({getId:E(r),getRoot:E(h),getFooter:()=>g.map(e=>e.get(h)),getBody:()=>d.get(h),getFormWrapper:()=>{var e=d.get(h);return S.getCurrent(e).getOr(e)},toggleFullscreen:()=>{var e="tox-dialog--fullscreen",t=I(h.element.dom);jA(t,[e])?(GA(t,[e]),ZA(t,[p])):(GA(t,[p]),ZA(t,[e]))}},t.redial,u);var b,v,w,x;return{dialog:h,instanceApi:f}};var e5=tinymce.util.Tools.resolve("tinymce.util.URI");let t5=["insertContent","setContent","execCommand","close","block","unblock"],o5=e=>b(e)&&-1!==t5.indexOf(e.mceAction),r5=(A,e,i,t)=>{let o=F("dialog"),r=RQ(A.title,o,t),n=(e=>{e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[c2({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:O([Qv.config({}),z.config({})])})]}],behaviours:O([R.config({mode:"acyclic",useTabstopAt:re(m2)})])};return xE.parts.body(e)})(A),a=A.buttons.bind(e=>0===e.length?Q.none():Q.some(YQ({buttons:e},o,t))),s=((a,e)=>{let t=(e,n)=>D(e,(o,r)=>{A(o,(e,t)=>{n(a(),e,r.event,o)})}),A=(t,o)=>{iS.getState(t).get().each(e=>{o(e,t)})};return[...GQ(t,e),t(Lv,(e,t,o)=>{t.onAction(e,{name:o.name})})]})(()=>h,VQ(()=>p,t.shared.providers,e)),l={...A.height.fold(()=>({}),e=>({height:e+"px","max-height":e+"px"})),...A.width.fold(()=>({}),e=>({width:e+"px","max-width":e+"px"}))},d=A.width.isNone()&&A.height.isNone()?["tox-dialog--width-lg"]:[],c=new e5(A.url,{base_uri:new e5(window.location.href)}),u=c.protocol+"://"+c.host+(c.port?":"+c.port:""),g=Js(),m=[V("messages",[$a(()=>{var e=el(I(window),"message",e=>{if(c.isSameOrigin(new e5(e.raw.origin))){e=e.raw.data;if(o5(e)){var t=i,o=h,r=e;switch(r.mceAction){case"insertContent":t.insertContent(r.content);break;case"setContent":t.setContent(r.content);break;case"execCommand":var n=!!G(r.ui)&&r.ui;t.execCommand(r.cmd,n,r.value);break;case"close":o.close();break;case"block":o.block(r.message);break;case"unblock":o.unblock()}}else a=e,!o5(a)&&b(a)&&je(a,"mceAction")&&A.onMessage(h,e)}var a});g.set(e)}),eA(g.clear)]),Ss.config({channels:{[US]:{onReceive:(e,t)=>{fi(e.element,"iframe").each(e=>{e=e.dom.contentWindow;X(e)&&e.postMessage(t,u)})}}}})],p=zQ({id:o,header:r,body:n,footer:a,extraClasses:d,extraBehaviours:m,extraStyles:l},A,s,t),h=(t=>{let e=e=>{t.getSystem().isConnected()&&e(t)};return{block:t=>{if(!f(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(e=>{k(e,Rv,{message:t})})},unblock:()=>{e(e=>{_(e,Pv)})},close:()=>{e(e=>{_(e,Dv)})},sendMessage:t=>{e(e=>{e.getSystem().broadcastOn([US],t)})}}})(p);return{dialog:p,instanceApi:h}},n5=(e,t)=>an(nn("data",t,e)),a5=e=>mv(e,".tox-alert-dialog")||mv(e,".tox-confirm-dialog"),A5=g=>{let m=g.editor,p=Hh(m),o=(i=>{let s=i.shared;return{open:(e,t)=>{let o=()=>{xE.hide(A),t()},r=K(OB({name:"close-alert",text:"OK",primary:!0,buttonType:Q.some("primary"),align:"end",enabled:!0,icon:Q.none()},"cancel",i)),n=IQ(),a=UQ(o,s.providers),A=ii(DQ({lazySink:()=>s.getSink(),header:QQ(n,a),body:TQ(e,s.providers),footer:Q.some(MQ(HQ([],[r.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[D(Ov,o)],eventOrder:{}}));xE.show(A);e=r.get(A);z.focus(e)}}})(g.backstages.dialog),r=(s=>{let l=s.shared;return{open:(e,t)=>{let o=e=>{xE.hide(i),t(e)},r=K(OB({name:"yes",text:"Yes",primary:!0,buttonType:Q.some("primary"),align:"end",enabled:!0,icon:Q.none()},"submit",s)),n=OB({name:"no",text:"No",primary:!1,buttonType:Q.some("secondary"),align:"end",enabled:!0,icon:Q.none()},"cancel",s),a=IQ(),A=UQ(()=>o(!1),l.providers),i=ii(DQ({lazySink:()=>l.getSink(),header:QQ(a,A),body:TQ(e,l.providers),footer:Q.some(MQ(HQ([],[n,r.asSpec()]))),onEscape:()=>o(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[D(Ov,()=>o(!1)),D(Nv,()=>o(!0))],eventOrder:{}}));xE.show(i);e=r.get(i);z.focus(e)}}})(g.backstages.dialog),n=(e,d,c,u)=>rS.open((e,t,o)=>{let r=n5(t,o),n=qs(),a=g.backstages.popup.shared.header.isPositionedAtTop(),A=()=>n.on(e=>{bp.reposition(e),RC.refresh(e)}),i=$Q({dataValidator:o,initialData:r,internalDialog:e},{redial:rS.redial,closeWindow:()=>{n.on(bp.hide),m.off("ResizeEditor",A),n.clear(),c(i.instanceApi)}},g.backstages.popup,u.ariaAttrs),s=ii(bp.sketch({lazySink:g.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:u.persistent?{event:"doNotDismissYet"}:{},...a?{}:{fireRepositionEventInstead:{}},inlineBehaviours:O([V("window-manager-inline-events",[D(Ua(),(e,t)=>{_(i.dialog,Ov)})]),...(l=m,t=p,o=a,t&&o?[]:[RC.config({contextual:{lazyContext:()=>Q.some(ur(I(l.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:e=>uv(l,e.element).map(e=>({bounds:gv(e),optScrollEnv:Q.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:xo(e.element).top})})).getOrThunk(()=>({bounds:pr(),optScrollEnv:Q.none()}))})])]),isExtraPart:(e,t)=>a5(t)}));var l;return n.set(s),bp.showWithinBounds(s,si(i.dialog),{anchor:d},()=>{var e=m.inline?Wt():I(m.getContainer()),e=ur(e);return Q.some(e)}),p&&a||(RC.refresh(s),m.on("ResizeEditor",A)),i.instanceApi.setData(r),R.focusIn(i.dialog),i.instanceApi},e);return{open:(e,t,o)=>{if(!j(t)){if("toolbar"===t.inline)return n(e,g.backstages.popup.shared.anchors.inlineDialog(),o,t);if("bottom"===t.inline)return r=e,l=g.backstages.popup.shared.anchors.inlineBottomDialog(),d=o,c=t,rS.open((e,t,o)=>{let r=n5(t,o),n=qs(),a=g.backstages.popup.shared.header.isPositionedAtTop(),A=()=>n.on(e=>{bp.reposition(e),RC.refresh(e)}),i=$Q({dataValidator:o,initialData:r,internalDialog:e},{redial:rS.redial,closeWindow:()=>{n.on(bp.hide),m.off("ResizeEditor ScrollWindow ElementScroll",A),n.clear(),d(i.instanceApi)}},g.backstages.popup,c.ariaAttrs),s=ii(bp.sketch({lazySink:g.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:c.persistent?{event:"doNotDismissYet"}:{},...a?{}:{fireRepositionEventInstead:{}},inlineBehaviours:O([V("window-manager-inline-events",[D(Ua(),(e,t)=>{_(i.dialog,Ov)})]),RC.config({contextual:{lazyContext:()=>Q.some(ur(I(m.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>uv(m,e.element).map(e=>({bounds:gv(e),optScrollEnv:Q.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:xo(e.element).top})})).getOrThunk(()=>({bounds:pr(),optScrollEnv:Q.none()}))})]),isExtraPart:(e,t)=>a5(t)}));return n.set(s),bp.showWithinBounds(s,si(i.dialog),{anchor:l},()=>g.backstages.popup.shared.getSink().toOptional().bind(e=>{var e=uv(m,e.element).map(e=>gv(e)).getOr(pr()),t=ur(I(m.getContentAreaContainer())),t=mr(t,e);return Q.some(cr(t.x,t.y,t.width,t.height-15))})),RC.refresh(s),m.on("ResizeEditor ScrollWindow ElementScroll",A),i.instanceApi.setData(r),R.focusIn(i.dialog),i.instanceApi},r);if("cursor"===t.inline)return n(e,g.backstages.popup.shared.anchors.cursor(),o,t)}var l,d,c,r,a;return r=e,a=o,rS.open((e,t,o)=>{let r=t,n=((e,t,o)=>{let r=F("dialog"),n=e.internalDialog,a=RQ(n.title,r,o),A=((e,t,o)=>{e=IS(e,t,Q.none(),o,!1);return xE.parts.body(e)})({body:n.body,initialData:n.initialData},r,o),i=KQ(n.buttons),s=ZQ(i),l=$e(0!==i.length,YQ({buttons:i},r,o)),d=jQ(()=>m,VQ(()=>u,o.shared.providers,t),o.shared.getSink),c=(()=>{switch(n.size){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(),u=zQ({id:r,header:a,body:A,footer:l,extraClasses:c,extraBehaviours:[],extraStyles:{}},e,d,o),g={getId:E(r),getRoot:E(u),getBody:()=>xE.getBody(u),getFooter:()=>xE.getFooter(u),getFormWrapper:()=>{var e=xE.getBody(u);return S.getCurrent(e).getOr(e)},toggleFullscreen:()=>{var e="tox-dialog--fullscreen",t=I(u.element.dom);KA(t,e)?(zA(t,e),ZA(t,c)):(GA(t,c),VA(t,e))}},m=qQ(g,t.redial,s);return{dialog:u,instanceApi:m}})({dataValidator:o,initialData:r,internalDialog:e},{redial:rS.redial,closeWindow:()=>{xE.hide(n.dialog),a(n.instanceApi)}},g.backstages.dialog);return xE.show(n.dialog),n.instanceApi.setData(r),n.instanceApi},r)},openUrl:(e,t)=>{return e=e,o=t,rS.openUrl(e=>{let t=r5(e,{closeWindow:()=>{xE.hide(t.dialog),o(t.instanceApi)}},m,g.backstages.dialog);return xE.show(t.dialog),t.instanceApi},e);var o},alert:(e,t)=>{o.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{r.open(e,t)}}};hr.add("silver",t=>{var e,o,r;e=t,Rp(e),(o=(s=e).options.register)("color_map",{processor:r=e=>q(e,f)?{value:(t=>{var o=[];for(let e=0;e<t.length;e+=2)o.push({text:t[e+1],value:"#"+rb(t[e]).value,icon:"checkmark",type:"choiceitem"});return o})(e),valid:!0}:{valid:!1,message:"Must be an array of strings."},default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),o("color_map_background",{processor:r}),o("color_map_foreground",{processor:r}),o("color_cols",{processor:"number",default:Ab(ub(s,"default").length)}),o("color_cols_foreground",{processor:"number",default:ib(s,ub(s,nb).length)}),o("color_cols_background",{processor:"number",default:ib(s,ub(s,ab).length)}),o("custom_colors",{processor:"boolean",default:!0}),o("color_default_foreground",{processor:"string",default:lb}),o("color_default_background",{processor:"string",default:lb}),(r=e.options.register)("contextmenu_avoid_overlap",{processor:"string",default:""}),r("contextmenu_never_use_native",{processor:"boolean",default:!1}),r("contextmenu",{processor:e=>!1===e?{value:[],valid:!0}:f(e)||q(e,f)?{value:(e=e,f(e)?e.split(/[ ,]/):e),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"});let n=()=>pr(),{dialogs:a,popups:A,renderUI:i}=fE(t,{getPopupSinkBounds:()=>n()});lv(t,A.backstage.shared);var s=A5({editor:t,backstages:{popup:A.backstage,dialog:a.backstage}});return{renderUI:async()=>{var e=await i();return uv(t,A.getMothership().element).each(e=>{n=()=>gv(e)}),e},getWindowManagerImpl:E(s),getNotificationManagerImpl:()=>{{var l=t,e={backstage:A.backstage},r=A.getMothership();let i=e.backstage.shared,s=()=>{var e=ur(I(l.getContentAreaContainer())),t=pr(),o=Yi(t.x,e.x,e.right),r=Yi(t.y,e.y,e.bottom),n=Math.max(e.right,t.right),e=Math.max(e.bottom,t.bottom);return Q.some(cr(o,r,n-o,e-r))};return{open:(e,t)=>{let o=()=>{t(),bp.hide(a)},n=ii(Ip.sketch({text:e.text,level:ge(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:e.icon,closeButton:e.closeButton,onAction:o,iconProvider:i.providers.icons,translationProvider:i.providers.translate})),a=ii(bp.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:i.getSink,fireDismissalEventInstead:{},...i.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}})),A=(r.add(a),J(e.timeout)&&0<e.timeout&&vp.setEditorTimeout(l,()=>{o()},e.timeout),{close:o,reposition:()=>{let t=si(n),o={maxHeightFunction:sl()},r=l.notificationManager.getNotifications();if(r[0]===A){let e={...i.anchors.banner(),overrides:o};bp.showWithinBounds(a,t,{anchor:e},s)}else ue(r,A).each(e=>{e=r[e-1].getEl(),e={type:"node",root:Wt(),node:Q.some(I(e)),overrides:o,layouts:{onRtl:()=>[ds],onLtr:()=>[ds]}};bp.showWithinBounds(a,t,{anchor:e},s)})},text:e=>{Ip.updateText(n,e)},settings:e,getEl:()=>n.element.dom,progressBar:{value:e=>{Ip.updateProgress(n,e)}}});return A},close:e=>{e.close()},getArgs:e=>e.settings}}}}})})(),(()=>{let t=tinymce.util.Tools.resolve("tinymce.ModelManager"),r=r=>e=>{return o=typeof(e=e),(null===e?"null":"object"==o&&Array.isArray(e)?"array":"object"==o&&(e=e,(t=String).prototype.isPrototypeOf(e)||(null==(e=e.constructor)?void 0:e.name)===t.name)?"string":o)===r;var t,o},n=t=>e=>typeof e===t,a=t=>e=>t===e,c=r("string"),u=r("object"),s=r("array"),Z=a(null),A=n("boolean"),i=a(void 0),G=e=>!(null==e),j=n("function"),W=n("number"),g=()=>{},p=e=>()=>e,h=e=>e,X=(e,t)=>e===t;function x(t,...o){return(...e)=>{e=o.concat(e);return t.apply(null,e)}}let Y=t=>e=>!t(e),J=e=>e(),q=p(!1),B=p(!0);class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return G(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);let $=Array.prototype.slice,ee=Array.prototype.indexOf,te=Array.prototype.push,m=(e,t)=>(e=e,t=t,-1<ee.call(e,t)),b=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return!0;return!1},y=(t,o)=>{var r=[];for(let e=0;e<t;e++)r.push(o(e));return r},v=(o,r)=>{let e=o.length,n=new Array(e);for(let t=0;t<e;t++){let e=o[t];n[t]=r(e,t)}return n},w=(o,r)=>{for(let e=0,t=o.length;e<t;e++)r(o[e],e)},oe=(o,r)=>{var n=[],a=[];for(let e=0,t=o.length;e<t;e++){var A=o[e];(r(A,e)?n:a).push(A)}return{pass:n,fail:a}},C=(o,r)=>{var n=[];for(let e=0,t=o.length;e<t;e++){var a=o[e];r(a,e)&&n.push(a)}return n},re=(e,t,o)=>{var r,n,a=e;for(let e=a.length-1;0<=e;e--)r=a[e],n=e,o=t(o,r,n);return o},ne=(e,o,r)=>(w(e,(e,t)=>{r=o(r,e,t)}),r),ae=(e,t)=>{var o=e,r=t,n=q;for(let e=0,t=o.length;e<t;e++){var a=o[e];if(r(a,e))return f.some(a);if(n(a,e))break}return f.none()},Ae=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return f.some(e);return f.none()},ie=o=>{var r=[];for(let e=0,t=o.length;e<t;++e){if(!s(o[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+o);te.apply(r,o[e])}return r},_=(e,t)=>ie(v(e,t)),se=(o,r)=>{for(let e=0,t=o.length;e<t;++e)if(!0!==r(o[e],e))return!1;return!0},le=(o,r)=>{var n={};for(let e=0,t=o.length;e<t;e++){var a=o[e];n[String(a)]=r(a,e)}return n},de=(e,t)=>0<=t&&t<e.length?f.some(e[t]):f.none(),ce=e=>de(e,0),ue=e=>de(e,e.length-1),ge=(t,o)=>{for(let e=0;e<t.length;e++){var r=o(t[e],e);if(r.isSome())return r}return f.none()},me=Object.keys,pe=Object.hasOwnProperty,k=(o,r)=>{var n=me(o);for(let e=0,t=n.length;e<t;e++){var a=n[e];r(o[a],a)}},he=(e,o)=>fe(e,(e,t)=>({k:t,v:o(e,t)})),fe=(e,o)=>{let r={};return k(e,(e,t)=>{e=o(e,t);r[e.k]=e.v}),r},be=(e,o)=>{let r=[];return k(e,(e,t)=>{r.push(o(e,t))}),r},ve=e=>be(e,h),we=(e,t)=>pe.call(e,t),xe="undefined"!=typeof window?window:Function("return this;")(),Be=(e,o)=>{{var r=e.split(".");let t=null!=o?o:xe;for(let e=0;e<r.length&&null!=t;++e)t=t[r[e]];return t}},ye=Object.getPrototypeOf,Ce=e=>{var t=Be("ownerDocument.defaultView",e);return u(e)&&((e=>{var t="HTMLElement";if(e=e,null==(e=Be("HTMLElement",e)))throw new Error(t+" not available on this browser");return e})(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ye(e).constructor.name))},E=e=>e.dom.nodeName.toLowerCase(),_e=e=>e.dom.nodeType,ke=t=>e=>_e(e)===t,Ee=e=>8===_e(e)||"#comment"===E(e),Fe=e=>Se(e)&&Ce(e.dom),Se=ke(1),Qe=ke(3),Ue=ke(9),Ie=ke(11),F=t=>e=>Se(e)&&E(e)===t,Te=(e,t,o)=>{if(!(c(o)||A(o)||W(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},S=(e,t,o)=>{Te(e.dom,t,o)},Me=(e,t)=>{let o=e.dom;k(t,(e,t)=>{Te(o,t,e)})},He=(e,t)=>{e=e.dom.getAttribute(t);return null===e?void 0:e},De=(e,t)=>f.from(He(e,t)),Q=(e,t)=>{e.dom.removeAttribute(t)},Oe=e=>ne(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),Le=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},U={fromHtml:(t,e)=>{e=(e||document).createElement("div");if(e.innerHTML=t,!e.hasChildNodes()||1<e.childNodes.length){let e="HTML does not have a single root node";throw console.error(e,t),new Error(e)}return Le(e.childNodes[0])},fromTag:(e,t)=>{t=(t||document).createElement(e);return Le(t)},fromText:(e,t)=>{t=(t||document).createTextNode(e);return Le(t)},fromDom:Le,fromPoint:(e,t,o)=>f.from(e.dom.elementFromPoint(t,o)).map(Le)},I=(e,t)=>{var o=e.dom;if(1!==o.nodeType)return!1;{let e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Ne=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Re=(e,t)=>{t=void 0===t?document:t.dom;return Ne(t)?f.none():f.from(t.querySelector(e)).map(U.fromDom)},T=(e,t)=>e.dom===t.dom,Pe=(e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)},Ve=I,ze=e=>U.fromDom(e.dom.ownerDocument),Ke=e=>Ue(e)?e:ze(e),Ze=e=>f.from(e.dom.parentNode).map(U.fromDom),Ge=e=>f.from(e.dom.parentElement).map(U.fromDom),je=(e,t)=>{var o=j(t)?t:q;let r=e.dom;for(var n=[];null!=r.parentNode;){let e=r.parentNode,t=U.fromDom(e);if(n.push(t),!0===o(t))break;r=e}return n},We=e=>f.from(e.dom.previousSibling).map(U.fromDom),Xe=e=>f.from(e.dom.nextSibling).map(U.fromDom),l=e=>v(e.dom.childNodes,U.fromDom),Ye=(e,t)=>{e=e.dom.childNodes;return f.from(e[t]).map(U.fromDom)},Je=(t,o)=>{Ze(t).each(e=>{e.dom.insertBefore(o.dom,t.dom)})},qe=(e,t)=>{Xe(e).fold(()=>{Ze(e).each(e=>{M(e,t)})},e=>{Je(e,t)})},$e=(t,o)=>{var e;e=t,Ye(e,0).fold(()=>{M(t,o)},e=>{t.dom.insertBefore(o.dom,e.dom)})},M=(e,t)=>{e.dom.appendChild(t.dom)},et=(e,t)=>{Je(e,t),M(t,e)},tt=(o,r)=>{w(r,(e,t)=>{t=0===t?o:r[t-1];qe(t,e)})},ot=(t,e)=>{w(e,e=>{M(t,e)})},rt=e=>{e.dom.textContent="",w(l(e),e=>{H(e)})},H=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},nt=e=>{var t=l(e);0<t.length&&tt(e,t),H(e)},at=(e,t)=>U.fromDom(e.dom.cloneNode(t)),At=e=>at(e,!1),it=e=>at(e,!0),st=(e,t)=>{t=U.fromTag(t),e=Oe(e);return Me(t,e),t},lt=["tfoot","thead","tbody","colgroup"],dt=(e,t,o)=>({element:e,rowspan:t,colspan:o}),ct=(e,t,o)=>({element:e,cells:t,section:o}),D=(e,t,o)=>({element:e,isNew:t,isLocked:o}),ut=(e,t,o,r)=>({element:e,cells:t,section:o,isNew:r}),gt=j(Element.prototype.attachShadow)&&j(Node.prototype.getRootNode),mt=p(gt),pt=gt?e=>U.fromDom(e.dom.getRootNode()):Ke,ht=e=>U.fromDom(e.dom.host),ft=e=>{let t=Qe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;let o=t.ownerDocument;return e=U.fromDom(t),e=pt(e),(Ie(r=e)&&G(r.dom.host)?f.some(e):f.none()).fold(()=>o.body.contains(t),(n=ft,a=ht,e=>n(a(e))));var r,n,a},bt=e=>{e=e.dom.body;if(null==e)throw new Error("Body is not available yet");return U.fromDom(e)},vt=(e,t)=>{let o=[];return w(l(e),e=>{o=(o=t(e)?o.concat([e]):o).concat(vt(e,t))}),o},wt=(e,t,o)=>(e=e,o=o,C(je(e,o),e=>I(e,t))),xt=(e,t)=>(e=e,C(l(e),e=>I(e,t))),Bt=(e,t)=>(t=t,e=void 0===e?document:e.dom,Ne(e)?[]:v(e.querySelectorAll(t),U.fromDom));var yt,Ct,_t,kt=(e,t,o,r,n)=>e(o,r)?f.some(o):j(n)&&n(o)?f.none():t(o,r,n);let Et=(e,t,o)=>{let r=e.dom;for(var n=j(o)?o:q;r.parentNode;){r=r.parentNode;let e=U.fromDom(r);if(t(e))return f.some(e);if(n(e))break}return f.none()},Ft=(e,t,o)=>kt((e,t)=>t(e),Et,e,t,o),St=(e,t,o)=>Et(e,e=>I(e,t),o),Qt=(e,t)=>(e=e,ae(e.dom.childNodes,e=>(e=U.fromDom(e),I(e,t))).map(U.fromDom)),Ut=(e,t)=>Re(t,e),O=(e,t,o)=>kt((e,t)=>I(e,t),St,e,t,o),It=(e,t,o=X)=>e.exists(e=>o(e,t)),Tt=t=>{let o=[],r=e=>{o.push(e)};for(let e=0;e<t.length;e++)t[e].each(r);return o},Mt=(e,t)=>e?f.some(t):f.none(),Ht=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,o=(e,t,o=0,r)=>{e=e.indexOf(t,o);return-1!==e&&(!!i(r)||e+t.length<=r)},Dt=(e,t)=>Ht(e,t,0),Ot=(e,t)=>Ht(e,t,e.length-t.length),Lt=(yt=/^\s+|\s+$/g,e=>e.replace(yt,"")),Nt=e=>0<e.length,Rt=e=>void 0!==e.style&&j(e.style.getPropertyValue),Pt=(e,t,o)=>{if(!c(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Rt(e)&&e.style.setProperty(t,o)},L=(e,t,o)=>{e=e.dom;Pt(e,t,o)},Vt=(e,t)=>{let o=e.dom;k(t,(e,t)=>{Pt(o,t,e)})},zt=(e,t)=>{var o=e.dom,r=window.getComputedStyle(o).getPropertyValue(t);return""!==r||ft(e)?r:Kt(o,t)},Kt=(e,t)=>Rt(e)?e.style.getPropertyValue(t):"",Zt=(e,t)=>{e=e.dom,e=Kt(e,t);return f.from(e).filter(e=>0<e.length)},Gt=(e,t)=>{var o;o=e.dom,t=t,Rt(o)&&o.style.removeProperty(t),It(De(e,"style").map(Lt),"")&&Q(e,"style")},jt=(e,t,o=0)=>De(e,t).map(e=>parseInt(e,10)).getOr(o),Wt=(e,t)=>jt(e,t,1),Xt=e=>F("col")(e)?1<jt(e,"span",1):1<Wt(e,"colspan"),Yt=e=>1<Wt(e,"rowspan"),Jt=(e,t)=>parseInt(zt(e,t),10),qt=p(10),$t=p(10),eo=(e,t)=>to(e,t,B),to=(e,t,o)=>_(l(e),e=>I(e,t)?o(e)?[e]:[]:to(e,t,o)),oo=(e,t)=>{return[e,t,o=q]=[["td","th"],e,t],o(t)?f.none():m(e,E(t))?f.some(t):St(t,e.join(","),e=>I(e,"table")||o(e));var o},ro=e=>eo(e,"th,td"),no=e=>I(e,"colgroup")?xt(e,"col"):_(Ao(e),e=>xt(e,"col")),N=(e,t)=>O(e,"table",t),ao=e=>eo(e,"tr"),Ao=e=>N(e).fold(p([]),e=>xt(e,"colgroup")),io=(e,o)=>v(e,t=>{if("colgroup"===E(t)){let e=v(no(t),e=>{var t=jt(e,"span",1);return dt(e,1,t)});return ct(t,e,"colgroup")}var e=v(ro(t),e=>{var t=jt(e,"rowspan",1),o=jt(e,"colspan",1);return dt(e,t,o)});return ct(t,e,o(t))}),so=e=>Ze(e).map(e=>{var t,e=E(e);return t=e,m(lt,t)?e:"tbody"}).getOr("tbody"),lo=e=>{var t=ao(e),e=[...Ao(e),...t];return io(e,so)},co=t=>{let o,r=!1;return(...e)=>(r||(r=!0,o=t.apply(null,e)),o)},uo=()=>go(0,0),go=(e,t)=>({major:e,minor:t}),mo={nu:go,detect:(e,o)=>{var o=String(o).toLowerCase();if(0===e.length)return uo();{var r=o;let t=((t,o)=>{for(let e=0;e<t.length;e++){var r=t[e];if(r.test(o))return r}})(e,r);return t?(o=e=>Number(r.replace(t,"$"+e)),go(o(1),o(2))):{major:0,minor:0}}},unknown:uo},po=(e,t)=>{let o=String(t).toLowerCase();return ae(e,e=>e.search(o))},ho=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fo=t=>e=>o(e,t),bo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>o(e,"edge/")&&o(e,"chrome")&&o(e,"safari")&&o(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ho],search:e=>o(e,"chrome")&&!o(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>o(e,"msie")||o(e,"trident")},{name:"Opera",versionRegexes:[ho,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fo("firefox")},{name:"Safari",versionRegexes:[ho,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(o(e,"safari")||o(e,"mobile/"))&&o(e,"applewebkit")}],vo=[{name:"Windows",search:fo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>o(e,"iphone")||o(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:fo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fo("linux"),versionRegexes:[]},{name:"Solaris",search:fo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],wo={browsers:p(bo),oses:p(vo)},xo=e=>{let t=e.current,o=e.version,r=e=>()=>t===e;return{current:t,version:o,isEdge:r("Edge"),isChromium:r("Chromium"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Bo=()=>xo({current:void 0,version:mo.unknown()}),yo=xo,Co=(p("Edge"),p("Chromium"),p("IE"),p("Opera"),p("Firefox"),p("Safari"),e=>{let t=e.current,o=e.version,r=e=>()=>t===e;return{current:t,version:o,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isMacOS:r("macOS"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}}),_o=()=>Co({current:void 0,version:mo.unknown()}),ko=Co,Eo=(p("Windows"),p("iOS"),p("Android"),p("Linux"),p("macOS"),p("Solaris"),p("FreeBSD"),p("ChromeOS"),e=>window.matchMedia(e).matches),Fo=co(()=>{{var a=navigator.userAgent,A=f.from(navigator.userAgentData),i=Eo,s,l,d,c,u,g,m;let t=wo.browsers(),e=wo.oses(),o=A.bind(e=>{return r=t,e=e,ge(e.brands,t=>{let o=t.brand.toLowerCase();return ae(r,e=>o===(null==(e=e.brand)?void 0:e.toLowerCase())).map(e=>({current:e.name,version:mo.nu(parseInt(t.version,10),0)}))});var r}).orThunk(()=>{return e=t,o=a,po(e,o).map(e=>{var t=mo.detect(e.versionRegexes,o);return{current:e.name,version:t}});var e,o}).fold(Bo,yo),r=(A=e,m=a,po(A,m).map(e=>{var t=mo.detect(e.versionRegexes,m);return{current:e.name,version:t}}).fold(_o,ko)),n=(A=o,l=a,i=i,d=(s=r).isiOS()&&!0===/ipad/i.test(l),c=s.isiOS()&&!d,u=s.isiOS()||s.isAndroid(),g=u||i("(pointer:coarse)"),i=d||!c&&u&&i("(min-device-width:768px)"),u=c||u&&!i,A=A.isSafari()&&s.isiOS()&&!1===/safari/i.test(l),l=!u&&!i&&!A,{isiPad:p(d),isiPhone:p(c),isTablet:p(i),isPhone:p(u),isTouch:p(g),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:p(A),isDesktop:p(l)});return{browser:o,os:r,deviceType:n}}}),So=()=>Fo(),Qo=(o,r)=>{let e=t=>{var e=r(t);if(e<=0||null===e){let e=zt(t,o);return parseFloat(e)||0}return e},n=(o,e)=>ne(e,(e,t)=>{t=zt(o,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0);return{set:(e,t)=>{if(!W(t)&&!t.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+t);e=e.dom;Rt(e)&&(e.style[o]=t+"px")},get:e,getOuter:e,aggregate:n,max:(e,t,o)=>{e=n(e,o);return e<t?t-e:0}}},Uo=(e,t,o)=>(e=zt(e,t),t=o,e=parseFloat(e),(isNaN(e)?f.none():f.some(e)).getOr(t)),Io=Qo("width",e=>e.dom.offsetWidth),To=e=>Io.get(e),Mo=e=>Io.getOuter(e),Ho=e=>{return t=(t=(e=e).dom).getBoundingClientRect().width||t.offsetWidth,e=e,t-Uo(e,"padding-left",0)-Uo(e,"padding-right",0)-Uo(e,"border-left-width",0)-Uo(e,"border-right-width",0);var t},Do=(e,t,o)=>{var r=e.cells,n=r.slice(0,t),r=r.slice(t),t=n.concat(o).concat(r);return No(e,t)},Oo=(e,t,o)=>Do(e,t,[o]),Lo=(e,t,o)=>{e.cells[t]=o},No=(e,t)=>ut(e.element,t,e.section,e.isNew),Ro=(e,t)=>e.cells[t],R=(e,t)=>Ro(e,t).element,Po=e=>e.cells.length,P=e=>{e=oe(e,e=>"colgroup"===e.section);return{rows:e.fail,cols:e.pass}},Vo=(e,t,o)=>{o=v(e.cells,o);return ut(t(e.element),o,e.section,!0)},zo="data-snooker-locked-cols",Ko=e=>De(e,zo).bind(e=>f.from(e.match(/\d+/g))).map(e=>le(e,B)),Zo=e=>{e=ne(P(e).rows,(o,e)=>(w(e.cells,(e,t)=>{e.isLocked&&(o[t]=!0)}),o),{}),e=be(e,(e,t)=>parseInt(t,10));return(e=$.call(e,0)).sort(void 0),e},Go=(e,t)=>e+","+t,jo=(e,t)=>{e=_(e.all,e=>e.cells);return C(e,t)},Wo=e=>{let i={},t=[],s=ce(e).map(e=>e.element).bind(N).bind(Ko).getOr({}),o=0,l=0,d=0;var{pass:e,fail:r}=oe(e,e=>"colgroup"===e.section),{columns:r,colgroups:e}=(w(r,e=>{let A=[];w(e.cells,e=>{let n=0;for(;void 0!==i[Go(d,n)];)n++;o=s,r=n.toString();let t=we(o,r)&&null!=o[r],a={element:e.element,rowspan:e.rowspan,colspan:e.colspan,row:d,column:n,isLocked:t};var o,r;for(let r=0;r<e.colspan;r++)for(let o=0;o<e.rowspan;o++){let e=n+r,t=Go(d+o,e);i[t]=a,l=Math.max(l,e+1)}A.push(a)}),o++,t.push(ct(e.element,A,e.section)),d++}),ue(e).map(e=>{let t=(e=>{let r={},n=0;return w(e.cells,t=>{let o=t.colspan;y(o,e=>{e=n+e;r[e]={element:t.element,colspan:o,column:e}}),n+=o}),r})(e),o={element:e.element,columns:ve(t)};return{colgroups:[o],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}})));return{grid:{rows:o,columns:l},access:i,all:t,columns:r,colgroups:e}},V=e=>{e=lo(e);return Wo(e)},Xo=Wo,Yo=(e,t,o)=>f.from(e.access[Go(t,o)]),Jo=(e,t,o)=>{e=jo(e,e=>o(t,e.element));return 0<e.length?f.some(e[0]):f.none()},qo=jo,$o=e=>_(e.all,e=>e.cells),er=e=>ve(e.columns),tr=e=>0<me(e.columns).length,or=(e,t)=>f.from(e.columns[t]),rr=(o,r=B)=>{let e=o.grid,t=y(e.columns,h),n=y(e.rows,h);return v(t,t=>nr(()=>_(n,e=>Yo(o,e,t).filter(e=>e.column===t).toArray()),e=>1===e.colspan&&r(e.element),()=>Yo(o,0,t)))},nr=(e,t,o)=>{let r=e();return ae(r,t).orThunk(()=>f.from(r[0]).orThunk(o)).map(e=>e.element)},ar=o=>{let e=o.grid,t=y(e.rows,h),r=y(e.columns,h);return v(t,t=>nr(()=>_(r,e=>Yo(o,t,e).filter(e=>e.row===t).fold(p([]),e=>[e])),e=>1===e.rowspan,()=>Yo(o,t,0)))},Ar=(t,o)=>e=>"rtl"===ir(e)?o:t,ir=e=>"rtl"===zt(e,"direction")?"rtl":"ltr",sr=Qo("height",e=>{var t=e.dom;return ft(e)?t.getBoundingClientRect().height:t.offsetHeight}),lr=e=>sr.get(e),dr=e=>sr.getOuter(e),cr=(o,r)=>({left:o,top:r,translate:(e,t)=>cr(o+e,r+t)}),ur=cr,gr=(e,t)=>void 0!==e?e:void 0!==t?t:0,mr=e=>{var t,o,r=e.dom.ownerDocument,n=r.body,a=r.defaultView,r=r.documentElement;return n===e.dom?ur(n.offsetLeft,n.offsetTop):(t=gr(null==a?void 0:a.pageYOffset,r.scrollTop),a=gr(null==a?void 0:a.pageXOffset,r.scrollLeft),o=gr(r.clientTop,n.clientTop),r=gr(r.clientLeft,n.clientLeft),pr(e).translate(a-r,t-o))},pr=e=>{var t=e.dom,o=t.ownerDocument.body;return o===t?ur(o.offsetLeft,o.offsetTop):ft(e)?(o=t.getBoundingClientRect(),ur(o.left,o.top)):ur(0,0)},hr=(e,t)=>({row:e,y:t}),fr=(e,t)=>({col:e,x:t}),br=e=>mr(e).left+Mo(e),vr=e=>mr(e).left,wr=(e,t)=>fr(e,vr(t)),xr=(e,t)=>fr(e,br(t)),Br=e=>mr(e).top,yr=(e,t)=>hr(e,Br(t)),Cr=(e,t)=>hr(e,Br(t)+dr(t)),_r=(o,t,r)=>{var e,n;return 0===r.length?[]:(e=v(r.slice(1),(e,t)=>e.map(e=>o(t,e))),n=r[r.length-1].map(e=>t(r.length-1,e)),e.concat([n]))},kr={delta:h,positions:e=>_r(yr,Cr,e),edge:Br},Er=Ar({delta:h,edge:vr,positions:e=>_r(wr,xr,e)},{delta:e=>-e,edge:br,positions:e=>_r(xr,wr,e)}),Fr={delta:(e,t)=>Er(t).delta(e,t),positions:(e,t)=>Er(t).positions(e,t),edge:e=>Er(e).edge(e)},Sr={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Qr=(_t="[eE][+-]?"+(Ct="[0-9]+"),Ct=["Infinity",Ct+"\\."+(da=e=>`(?:${e})?`)(Ct)+da(_t),"\\."+Ct+da(_t),Ct+da(_t)].join("|"),new RegExp(`^([+-]?(?:${Ct}))(.*)$`)),Ur=/(\d+(\.\d+)?)%/,Ir=/(\d+(\.\d+)?)px|em/,Tr=F("col"),Mr=(e,t,o)=>{var r=Ge(e).getOrThunk(()=>bt(ze(e)));return t(e)/o(r)*100},Hr=(e,t)=>{L(e,"width",t+"px")},Dr=(e,t)=>{L(e,"width",t+"%")},Or=(e,t)=>{L(e,"height",t+"px")},Lr=e=>{i=e;var t,o,r,n,a,A,i=Uo(i,"height",i.dom.offsetHeight)+"px";return i?(i=i,t=e,o=lr,r=Or,A=parseFloat(i),Ot(i,"%")&&"table"!==E(t)?(i=t,n=A,a=o,t=r,o=N(i).map(e=>{e=a(e);return Math.floor(n/100*e)}).getOr(n),t(i,o),o):A):lr(e)},Nr=(e,t)=>Zt(e,t).orThunk(()=>De(e,t).map(e=>e+"px")),Rr=e=>Nr(e,"width"),Pr=e=>Mr(e,To,Ho),Vr=e=>Tr(e)?To(e):Uo(e,"width",e.dom.offsetWidth),zr=e=>(e=e,Lr(e)/Wt(e,"rowspan")),Kr=(e,t,o)=>{L(e,"width",t+o)},Zr=e=>Mr(e,To,Ho)+"%",Gr=p(Ur),jr=F("col"),Wr=e=>Rr(e).getOrThunk(()=>Vr(e)+"px"),Xr=e=>{return t=e,Nr(t,"height").getOrThunk(()=>zr(e)+"px");var t},Yr=(e,t,o,r,n,a)=>e.filter(r).fold(()=>a(((t,o)=>{if(o<0||o>=t.length-1)return f.none();let e=t[o].fold(()=>{var e=(e=>{e=$.call(e,0);return e.reverse(),e})(t.slice(0,o));return ge(e,(e,t)=>e.map(e=>({value:e,delta:t+1})))},e=>f.some({value:e,delta:0})),r=t[o+1].fold(()=>{var e=t.slice(o+1);return ge(e,(e,t)=>e.map(e=>({value:e,delta:t+1})))},e=>f.some({value:e,delta:1}));return e.bind(o=>r.map(e=>{var t=e.delta+o.delta;return Math.abs(e.value-o.value)/t}))})(o,t)),e=>n(e)),Jr=(e,t,n,a)=>{let A=rr(e),o=tr(e)?(e=e,v(er(e),e=>f.from(e.element))):A,i=[f.some(Fr.edge(t))].concat(v(Fr.positions(A,t),e=>e.map(e=>e.x))),s=Y(Xt);return v(o,(e,r)=>Yr(e,r,i,s,e=>{if(o=e,t=(t=So().browser).isChromium()||t.isFirefox(),!jr(o)||t)return n(e);var t,o;{let e=null!=(o=A[r])?h(o):f.none();return Yr(e,r,i,s,e=>a(f.some(To(e))),a)}},a))},qr=e=>e.map(e=>e+"px").getOr(""),$r=(e,t,o)=>Jr(e,t,Vr,e=>e.getOrThunk(o.minCellWidth)),en=(e,t,o,r,n)=>{let a=ar(e),A=[f.some(o.edge(t))].concat(v(o.positions(a,t),e=>e.map(e=>e.y)));return v(a,(e,t)=>Yr(e,t,A,Y(Yt),r,n))},tn=(e,t)=>()=>ft(e)?t(e):parseFloat(Zt(e,"width").getOr("0")),on=n=>{let o=tn(n,e=>parseFloat(Zr(e))),t=tn(n,To);return{width:o,pixelWidth:t,getWidths:(e,t)=>{return e=e,o=n,r=t,Jr(e,o,Pr,e=>e.fold(()=>r.minCellWidth(),e=>e/r.pixelWidth()*100));var o,r},getCellDelta:e=>e/t()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>qt()/t()*100,setElementWidth:Dr,adjustTableWidth:e=>{var t=o();Dr(n,t+e/100*t)},isRelative:!0,label:"percent"}},rn=o=>{let t=tn(o,To);return{width:t,pixelWidth:t,getWidths:(e,t)=>$r(e,o,t),getCellDelta:h,singleColumnWidth:(e,t)=>[Math.max(qt(),e+t)-e],minCellWidth:qt,setElementWidth:Hr,adjustTableWidth:e=>{e=t()+e;Hr(o,e)},isRelative:!1,label:"pixel"}},nn=r=>Rr(r).fold(()=>{return o=r,e=tn(o,To),t=p(0),{width:e,pixelWidth:e,getWidths:(e,t)=>$r(e,o,t),getCellDelta:t,singleColumnWidth:p([0]),minCellWidth:t,setElementWidth:g,adjustTableWidth:g,isRelative:!0,label:"none"};var o,e,t},e=>{return t=r,e=e,(null!==Gr().exec(e)?on:rn)(t);var t}),an=rn,An=on,sn=(e,t,o)=>{e=e[o].element,o=U.fromTag("td");M(o,U.fromTag("br")),(t?M:$e)(e,o)},ln=(o=>{let t=e=>o(e)?f.from(e.dom.nodeValue):f.none();return{get:e=>{if(o(e))return t(e).getOr("");throw new Error("Can only get text value of a text node")},getOption:t,set:(e,t)=>{if(!o(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}}})(Qe),dn=e=>ln.get(e),cn=e=>ln.getOption(e),un=(e,t)=>ln.set(e,t),gn=e=>"img"===E(e)?1:cn(e).fold(()=>l(e).length,e=>e.length),mn=["img","br"],pn=e=>cn(e).filter(e=>0!==e.trim().length||-1<e.indexOf("ย")).isSome()||m(mn,E(e))||(e=e,Fe(e)&&"false"===He(e,"contenteditable")),hn=e=>{{var n=pn;let r=t=>{for(let e=0;e<t.childNodes.length;e++){var o=U.fromDom(t.childNodes[e]);if(n(o))return f.some(o);o=r(t.childNodes[e]);if(o.isSome())return o}return f.none()};return r(e.dom)}},fn=e=>bn(e,pn),bn=(e,r)=>{let n=e=>{var t=l(e);for(let e=t.length-1;0<=e;e--){var o=t[e];if(r(o))return f.some(o);o=n(o);if(o.isSome())return o}return f.none()};return n(e)},vn={scope:["row","col"]},wn=t=>()=>{var e=U.fromTag("td",t.dom);return M(e,U.fromTag("br",t.dom)),e},xn=e=>()=>U.fromTag("col",e.dom),Bn=e=>()=>U.fromTag("colgroup",e.dom),yn=e=>()=>U.fromTag("tr",e.dom),Cn=(e,t,o)=>{let r=((e,t)=>{t=st(e,t),e=l(it(e));return ot(t,e),t})(e,t);return k(o,(e,t)=>{null===e?Q(r,t):S(r,t,e)}),r},_n=e=>e,kn=(s,l,d)=>{let c=(e,t)=>{var o,r;o=e.element.dom,r=t.dom,Rt(o)&&Rt(r)&&(r.style.cssText=o.style.cssText),Gt(t,"height"),1!==e.colspan&&Gt(t,"width")};return{col:e=>{var t=U.fromTag(E(e.element),l.dom);return c(e,t),s(e.element,t),t},colgroup:Bn(l),row:yn(l),cell:e=>{var o,r,n,a,A,t=U.fromTag(E(e.element),l.dom),i=d.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),i=0<i.length?(o=e.element,r=t,n=i,hn(o).map(e=>{var t=n.join(","),e=wt(e,t,e=>T(e,o));return re(e,(e,t)=>{t=At(t);return M(e,t),t},r)}).getOr(r)):t;return M(i,U.fromTag("br")),c(e,t),a=e.element,A=t,k(vn,(t,o)=>De(a,o).filter(e=>m(t,e)).each(e=>S(A,o,e))),s(e.element,t),t},replace:Cn,colGap:xn(l),gap:wn(l)}},En=e=>({col:xn(e),colgroup:Bn(e),row:yn(e),cell:wn(e),replace:_n,colGap:xn(e),gap:wn(e)}),Fn=t=>e=>e.options.get(t),Sn="100%",Qn=e=>{var t=e.dom,t=null!=(t=t.getParent(e.selection.getStart(),t.isBlock))?t:e.getBody();return Ho(U.fromDom(t))+"px"},Un=e=>f.from(e.options.get("table_clone_elements")),In=Fn("table_header_type"),Tn=Fn("table_column_resizing"),Mn=e=>"preservetable"===Tn(e),Hn=e=>"resizetable"===Tn(e),Dn=Fn("table_sizing_mode"),On=e=>"relative"===Dn(e),Ln=e=>"fixed"===Dn(e),Nn=e=>"responsive"===Dn(e),Rn=Fn("table_resize_bars"),Pn=Fn("table_style_by_css"),Vn=Fn("table_merge_content_on_paste"),zn=e=>{var t=e.options,o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:(t=e,e=o,Nn(t)||Pn(t)?e:Ln(t)?{...e,width:Qn(t)}:{...e,width:Sn})},Kn=Fn("table_use_colgroups"),Zn=e=>O(e,"[contenteditable]"),Gn=(e,t=!1)=>ft(e)?e.dom.isContentEditable:Zn(e).fold(p(t),e=>"true"===jn(e)),jn=e=>e.dom.contentEditable,Wn=e=>U.fromDom(e.getBody()),Xn=t=>e=>T(e,Wn(t)),Yn=e=>{Q(e,"data-mce-style");var t=e=>Q(e,"data-mce-style");w(ro(e),t),w(no(e),t),w(ao(e),t)},Jn=e=>U.fromDom(e.selection.getStart()),qn=e=>e.getBoundingClientRect().width,$n=e=>e.getBoundingClientRect().height,ea=e=>Ft(e,F("table")).exists(Gn),ta=(e,t)=>t.column<=e.finishCol&&t.column+t.colspan-1>=e.startCol&&t.row<=e.finishRow&&t.row+t.rowspan-1>=e.startRow,oa=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,ra=(e,t,o)=>{let r=Jo(e,t,T),n=Jo(e,o,T);return r.bind(o=>n.map(e=>{return t=o,e=e,{startRow:Math.min(t.row,e.row),startCol:Math.min(t.column,e.column),finishRow:Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),finishCol:Math.max(t.column+t.colspan-1,e.column+e.colspan-1)};var t}))},na=(t,e,o)=>ra(t,e,o).map(e=>{e=qo(t,x(ta,e));return v(e,e=>e.element)}),aa=(e,t)=>Jo(e,t,(e,t)=>Pe(t,e)).map(e=>e.element),Aa=(e,t,o)=>{e=sa(e);return na(e,t,o)},ia=(e,t,o,r,n)=>{let a=sa(e),A=T(e,o)?f.some(t):aa(a,t),i=T(e,n)?f.some(r):aa(a,r);return A.bind(t=>i.bind(e=>na(a,t,e)))},sa=V;var la=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],da=()=>({up:p({selector:St,closest:O,predicate:Et,all:je}),down:p({selector:Bt,predicate:vt}),styles:p({get:zt,getRaw:Zt,set:L,remove:Gt}),attrs:p({get:He,set:S,remove:Q,copyTo:(e,t)=>{e=Oe(e);Me(t,e)}}),insert:p({before:Je,after:qe,afterAll:tt,append:M,appendAll:ot,prepend:$e,wrap:et}),remove:p({unwrap:nt,remove:H}),create:p({nu:U.fromTag,clone:e=>U.fromDom(e.dom.cloneNode(!1)),text:U.fromText}),query:p({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:We,nextSibling:Xe}),property:p({children:l,name:E,parent:Ze,document:e=>Ke(e).dom,isText:Qe,isComment:Ee,isElement:Se,isSpecial:e=>{e=E(e);return m(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},getLanguage:e=>Se(e)?De(e,"lang"):f.none(),getText:dn,setText:un,isBoundary:e=>!!Se(e)&&("body"===E(e)||m(la,E(e))),isEmptyTag:e=>!!Se(e)&&m(["br","img","hr","input"],E(e)),isNonEditable:e=>Se(e)&&"false"===He(e,"contenteditable")}),eq:T,is:Ve});let ca=(o,r,e,t)=>{e=r(o,e);return re(t,(e,t)=>{t=r(o,t);return ua(o,e,t)},e)},ua=(t,e,o)=>e.bind(e=>o.filter(x(t.eq,e))),ga=da(),ma=(o,e)=>{return t=ga,0<e.length?(t=t,r=(e,t)=>o(t),e=e,ca(t,r,e[0],e.slice(1))):f.none();var t,r},pa=e=>St(e,"table"),ha=(a,A,o)=>{let i=t=>e=>void 0!==o&&o(e)||T(e,t);return T(a,A)?f.some({boxes:f.some([a]),start:a,finish:A}):pa(a).bind(n=>pa(A).bind(r=>{if(T(n,r))return f.some({boxes:Aa(n,a,A),start:a,finish:A});if(Pe(n,r)){let e=wt(A,"td,th",i(n)),t=0<e.length?e[e.length-1]:A;return f.some({boxes:ia(n,a,n,A,r),start:a,finish:t})}if(Pe(r,n)){let e=wt(a,"td,th",i(r)),t=0<e.length?e[e.length-1]:a;return f.some({boxes:ia(r,a,n,A,r),start:a,finish:t})}return((A,i)=>{{var[s,A,i,l=q]=[ga,A,i,void 0];let e=[A].concat(s.up().all(A)),t=[i].concat(s.up().all(i)),o=t=>Ae(t,l).fold(()=>t,e=>t.slice(0,e+1)),r=o(e),n=o(t),a=ae(r,e=>b(n,x(s.eq,e)));return{firstpath:r,secondpath:n,shared:a}}})(a,A).shared.bind(e=>O(e,"table",o).bind(e=>{var t=wt(A,"td,th",i(e)),t=0<t.length?t[t.length-1]:A,o=wt(a,"td,th",i(e)),o=0<o.length?o[o.length-1]:a;return f.some({boxes:ia(e,a,n,A,r),start:o,finish:t})}))}))},fa=(e,t)=>{e=Bt(e,t);return 0<e.length?f.some(e):f.none()},ba=(e,t,r)=>Ut(e,t).bind(o=>Ut(e,r).bind(t=>ma(pa,[o,t]).map(e=>({first:o,last:t,table:e})))),va=(e,o,r,n,t)=>{return e=e,a=t,ae(e,e=>I(e,a)).bind(e=>{return t=e,a=o,A=r,N(t).bind(e=>{return o=sa(e),e=t,r=a,n=A,Jo(o,e,T).bind(e=>{var t=0<r?e.row+e.rowspan-1:e.row,e=0<n?e.column+e.colspan-1:e.column;return Yo(o,t+r,e+n).map(e=>e.element)});var o,r,n}).bind(e=>{return t=e,o=n,St(t,"table").bind(e=>Ut(e,o).bind(e=>ha(e,t).bind(t=>t.boxes.map(e=>({boxes:e,start:t.start,finish:t.finish})))));var t,o});var t,a,A});var a},wa=(e,t)=>fa(e,t),xa=(r,e,t)=>ba(r,e,t).bind(n=>{let e=e=>T(r,e),t="thead,tfoot,tbody,table",o=St(n.first,t,e),a=St(n.last,t,e);return o.bind(r=>a.bind(e=>{return T(r,e)?(e=n.table,t=n.first,o=n.last,A=sa(e),e=t,t=o,ra(A,e,t).bind(e=>{{var r=A,n=e;let o=!0;var a=x(oa,n);for(let t=n.startRow;t<=n.finishRow;t++)for(let e=n.startCol;e<=n.finishCol;e++)o=o&&Yo(r,t,e).exists(a);return o?f.some(n):f.none()}})):f.none();var t,o,A}))}),Ba=h,ya=e=>{let t=(e,t)=>De(e,t).exists(e=>1<parseInt(e,10));return 0<e.length&&se(e,e=>t(e,"rowspan")||t(e,"colspan"))?f.some(e):f.none()},Ca=(e,t,o)=>t.length<=1?f.none():xa(e,o.firstSelectedSelector,o.lastSelectedSelector).map(e=>({bounds:e,cells:t})),_a="data-mce-selected",ka="data-mce-first-selected",Ea="data-mce-last-selected",Fa="["+_a+"]",Sa={selected:_a,selectedSelector:"td["+_a+"],th["+_a+"]",firstSelected:ka,firstSelectedSelector:"td["+ka+"],th["+ka+"]",lastSelected:Ea,lastSelectedSelector:"td["+Ea+"],th["+Ea+"]"},Qa=(e,t,o)=>({element:o,mergable:Ca(t,e,Sa),unmergable:ya(e),selection:Ba(e)}),Ua=r=>(e,t)=>{var o=E(e),o="col"===o||"colgroup"===o?N(o=e).bind(e=>wa(e,Sa.firstSelectedSelector)).fold(p(o),e=>e[0]):e;return O(o,r,t)},Ia=Ua("th,td,caption"),Ta=Ua("th,td"),Ma=e=>(e=e.model.table.getSelectedCells(),v(e,U.fromDom)),Ha=(i,s)=>{i.on("BeforeGetContent",r=>{var t,o=e=>{r.preventDefault(),e=e,N(e[0]).map(e=>{e=((e,t)=>{let o=e=>I(e.element,t),r=it(e),n=lo(r),a=nn(e),A=Xo(n),i=((e,t)=>{var o=e.grid.columns;let a=e.grid.rows,A=o,i=0,s=0,r=[],l=[];return k(e.access,n=>{if(r.push(n),t(n)){l.push(n);let e=n.row,t=e+n.rowspan-1,o=n.column,r=o+n.colspan-1;e<a?a=e:t>i&&(i=t),o<A?A=o:r>s&&(s=r)}}),{minRow:a,minCol:A,maxRow:i,maxCol:s,allCells:r,selectedCells:l}})(A,o),s="th:not("+t+"),td:not("+t+")",l=to(r,"th,td",e=>I(e,s));w(l,H);var d=n,c=A,u=i,g=o,m=C(d,e=>"colgroup"!==e.section),p=c.grid.columns,h=c.grid.rows;for(let o=0;o<h;o++){let t=!1;for(let e=0;e<p;e++)o<u.minRow||o>u.maxRow||e<u.minCol||e>u.maxCol||(Yo(c,o,e).filter(g).isNone()?sn(m,t,o):t=!0)}d=e,e=V(e),v=a;var f=0===(f=i).minCol&&e.grid.columns===f.maxCol+1?0:(e=$r(e,d,v),d=ne(e,(e,t)=>e+t,0),e=ne(e.slice(f.minCol,f.maxCol+1),(e,t)=>e+t,0)/d*v.pixelWidth()-v.pixelWidth(),v.getCellDelta(e)),d=r,b=i,v=A,e=f;return k(v.columns,e=>{(e.column<b.minCol||e.column>b.maxCol)&&H(e.element)}),v=C(eo(d,"tr"),e=>0===e.dom.childElementCount),w(v,H),b.minCol!==b.maxCol&&b.minRow!==b.maxRow||w(eo(d,"th,td"),e=>{Q(e,"rowspan"),Q(e,"colspan")}),Q(d,zo),Q(d,"data-snooker-col-series"),nn(d).adjustTableWidth(e),r})(e,Fa);return Yn(e),[e]}).each(e=>{var t,o;r.content=("text"===r.format?(o=e,v(o,e=>e.dom.innerText)):(t=i,o=e,v(o,e=>t.selection.serializer.serialize(e.dom,{})))).join("")})};if(!0===r.selection){t=i;let e=C(Ma(t),e=>I(e,Sa.selectedSelector));1<=e.length&&o(e)}}),i.on("BeforeSetContent",A=>{var e;!0===A.selection&&!0===A.paste&&(e=Ma(i),ce(e).each(a=>{N(a).each(r=>{let n=C((t=A.content,(o=document.createElement("div")).innerHTML=t,l(U.fromDom(o))),e=>"meta"!==E(e)),e=F("table");var t,o;if(Vn(i)&&1===n.length&&e(n[0])){A.preventDefault();let e=U.fromDom(i.getDoc()),t=En(e),o={element:a,clipboard:n[0],generators:t};s.pasteCells(r,o).each(()=>{i.focus()})}})}))})},Da=(e,t)=>({element:e,offset:t}),Oa=(t,e,o)=>t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?o(e).bind(e=>Oa(t,e,o).orThunk(()=>f.some(e))):f.none(),La=(e,t)=>(e.property().isText(t)?e.property().getText(t):e.property().children(t)).length,Na=(e,t)=>{var o,t=Oa(e,t,e.query().prevSibling).getOr(t);return!e.property().isText(t)&&0<(o=e.property().children(t)).length?Na(e,o[o.length-1]):Da(t,La(e,t))},Ra=Na,Pa=da(),Va=(o,r)=>{var e;Xt(o)||(e=o,Rr(e).bind(e=>{return e=e,n=["fixed","relative","empty"],f.from(Qr.exec(e)).bind(e=>{var t,o,r=Number(e[1]),e=e[2];return t=e,o=n,b(o,e=>b(Sr[e],e=>t===e))?f.some({value:r,unit:e}):f.none()});var n}).each(e=>{var t=e.value/2;Kr(o,t,e.unit),Kr(r,t,e.unit)}))},za=e=>v(e,p(0)),Ka=(e,t,o,r,n)=>n(e.slice(0,t)).concat(r).concat(n(e.slice(o))),Za=e=>(o,r,n,a)=>{if(e(n)){let e=Math.max(a,o[r]-Math.abs(n)),t=Math.abs(e-o[r]);return 0<=n?t:-t}return n},Ga=Za(e=>e<0),ja=Za(B),Wa=()=>{let A=(e,o,t,r)=>{let n=(100+t)/100,a=Math.max(r,(e[o]+t)/n);return v(e,(e,t)=>(t===o?a:e/n)-e)},i=(e,t,o,r,n,a)=>a?A(e,t,r,n):(a=e,e=t,t=o,o=r,r=n,o=Ga(a,e,o,r),Ka(a,e,t+1,[o,0],za));return{resizeTable:(e,t)=>e(t),clampTableDelta:Ga,calcLeftEdgeDeltas:i,calcMiddleDeltas:(e,t,o,r,n,a,A)=>i(e,o,r,n,a,A),calcRightEdgeDeltas:(t,e,o,r,n,a)=>{if(a)return A(t,o,r,n);{let e=Ga(t,o,r,n);return za(t.slice(0,o)).concat([e])}},calcRedestributedWidths:(o,r,n,e)=>{if(e){let t=(r+n)/r,e=v(o,e=>e/t);return{delta:100*t-100,newSizes:e}}return{delta:n,newSizes:o}}}},Xa=()=>{let A=(e,t,o,r,n)=>{r=ja(e,0<=r?o:t,r,n);return Ka(e,t,o+1,[r,-r],za)};return{resizeTable:(e,t,o)=>{o&&e(t)},clampTableDelta:(t,e,o,r,n)=>{if(n){if(0<=o)return o;{let e=ne(t,(e,t)=>e+t-r,0);return Math.max(-e,o)}}return Ga(t,e,o,r)},calcLeftEdgeDeltas:A,calcMiddleDeltas:(e,t,o,r,n,a)=>A(e,o,r,n,a),calcRightEdgeDeltas:(t,e,o,r,n,a)=>{if(a)return za(t);{let e=r/t.length;return v(t,p(e))}},calcRedestributedWidths:(e,t,o,r)=>({delta:0,newSizes:e})}},Ya=e=>V(e).grid,Ja=F("th"),qa=e=>se(e,e=>Ja(e.element)),$a=(e,t)=>e&&t?"sectionCells":e?"section":"cells",eA=e=>{var t="thead"===e.section,o=It(tA(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||o?{type:"header",subType:$a(t,o)}:{type:"body"}},tA=e=>{var t=C(e,e=>Ja(e.element));return 0===t.length?f.some("td"):t.length===e.length?f.some("th"):f.none()},oA=(e,t,o)=>D(o(e.element,t),!0,e.isLocked),rA=(e,t)=>e.section!==t?ut(e.element,e.cells,t,e.isNew):e,nA=()=>({transformRow:rA,transformCell:(e,t,o)=>{var r,o=o(e.element,t),n="td"!==E(o)?(t=o,r=st(t,"td"),qe(t,r),n=l(t),ot(r,n),H(t),r):o;return D(n,e.isNew,e.isLocked)}}),aA=()=>({transformRow:rA,transformCell:oA}),AA=()=>({transformRow:(e,t)=>rA(e,"thead"===t?"tbody":t),transformCell:oA}),iA=nA,sA=aA,lA=AA,dA=()=>({transformRow:h,transformCell:oA}),cA=(e,t,o,r)=>{o===r?Q(e,t):S(e,t,o)},uA=(e,t,o)=>{ue(xt(e,t)).fold(()=>$e(e,o),e=>qe(e,o))},gA=(A,e)=>{let o=[],r=[],i=e=>v(e,e=>{e.isNew&&o.push(e.element);let t=e.element;return rt(t),w(e.cells,e=>{e.isNew&&r.push(e.element),cA(e.element,"colspan",e.colspan,1),cA(e.element,"rowspan",e.rowspan,1),M(t,e.element)}),t}),s=e=>_(e,e=>v(e.cells,e=>(cA(e.element,"span",e.colspan,1),e.element))),t=(e,t)=>{var o,r,n,a;0<e.length?(e=e,r=A,n=o=t,a=Qt(r,n).getOrThunk(()=>{var e=U.fromTag(n,ze(r).dom);return"thead"===n?uA(r,"caption,colgroup",e):"colgroup"===n?uA(r,"caption",e):M(r,e),e}),rt(a),o=("colgroup"===o?s:i)(e),ot(a,o)):(e=t,Qt(A,e).each(H))},n=[],a=[],l=[],d=[];return w(e,e=>{switch(e.section){case"thead":n.push(e);break;case"tbody":a.push(e);break;case"tfoot":l.push(e);break;case"colgroup":d.push(e)}}),t(d,"colgroup"),t(n,"thead"),t(a,"tbody"),t(l,"tfoot"),{newRows:o,newCells:r}},mA=(e,t)=>{if(0===e.length)return 0;let o=e[0];return Ae(e,e=>!t(o.element,e.element)).getOr(e.length)},pA=(m,p)=>{let h=v(m,e=>v(e.cells,q));return v(m,(e,g)=>{var t=_(e.cells,(e,t)=>{if(!1===h[g][t]){l=t,d=p,u=(i=m)[s=g],o="colgroup"===u.section;var o={colspan:mA(u.cells.slice(l),d),rowspan:o?1:mA((u=i.slice(s),c=l,v(u,e=>Ro(e,c))),d)},r=g,n=t,a=o.rowspan,A=o.colspan;for(let t=r;t<r+a;t++)for(let e=n;e<n+A;e++)h[t][e]=!0;return[{element:e.element,rowspan:o.rowspan,colspan:o.colspan,isNew:e.isNew}]}var i,s,l,d,c,u,o;return[]});return{element:e.element,cells:t,section:e.section,isNew:e.isNew}})},hA=(r,n,a)=>{let A=[];w(r.colgroups,e=>{var o=[];for(let t=0;t<r.grid.columns;t++){let e=or(r,t).map(e=>D(e.element,a,!1)).getOrThunk(()=>D(n.colGap(),!0,!1));o.push(e)}A.push(ut(e.element,o,"colgroup",a))});for(let t=0;t<r.grid.rows;t++){var o=[];for(let e=0;e<r.grid.columns;e++){var i=Yo(r,t,e).map(e=>D(e.element,a,e.isLocked)).getOrThunk(()=>D(n.gap(),!0,!1));o.push(i)}var e=r.all[t],e=ut(e.element,o,e.section,a);A.push(e)}return A},fA=e=>pA(e,T),bA=(e,t)=>ge(e.all,e=>ae(e.cells,e=>T(t,e.element))),vA=(t,e,o)=>{e=v(e.selection,e=>oo(e).bind(e=>bA(t,e)).filter(o)),e=Tt(e);return Mt(0<e.length,e)},e=(s,t,l,d,c)=>(n,e,r,a)=>{let A=V(n),i=f.from(null==a?void 0:a.section).getOrThunk(dA);return t(A,e).map(e=>{t=A,o=r;var t=hA(t,o,!1),o=s(t,e,T,c(r),i),t=Zo(o.grid);return{info:e,grid:fA(o.grid),cursor:o.cursor,lockedColumns:t}}).bind(e=>{var t=gA(n,e.grid),o=f.from(null==a?void 0:a.sizing).getOrThunk(()=>nn(n)),r=f.from(null==a?void 0:a.resize).getOrThunk(Xa);return l(n,e.grid,e.info,{sizing:o,resize:r,section:i}),d(n),Q(n,zo),0<e.lockedColumns.length&&S(n,zo,e.lockedColumns.join(",")),f.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})},wA=(e,t)=>vA(e,t,B).map(e=>({cells:e,generators:t.generators,clipboard:t.clipboard})),xA=(e,t)=>vA(e,t,B),BA=(e,t)=>vA(e,t,e=>!e.isLocked),yA=(o,e)=>se(e,e=>{return t=o,e=e,bA(t,e).exists(e=>!e.isLocked);var t}),CA=(e,o,r,n)=>{var a=P(e).rows;let A=!0;for(let t=0;t<a.length;t++)for(let e=0;e<Po(a[0]);e++){var i=a[t],s=Ro(i,e),l=r(s.element,o);l&&!A?Lo(i,e,D(n(),!0,s.isLocked)):l&&(A=!1)}return e},_A=o=>{let e=e=>e(o),t=p(o),r=()=>n,n={tag:!0,inner:o,fold:(e,t)=>t(o),isValue:B,isError:q,map:e=>EA.value(e(o)),mapError:r,bind:e,exists:e,forall:e,getOr:t,or:r,getOrThunk:t,orThunk:r,getOrDie:t,each:e=>{e(o)},toOptional:()=>f.some(o)};return n},kA=o=>{let e=()=>t,t={tag:!1,inner:o,fold:(e,t)=>e(o),isValue:q,isError:B,map:e,mapError:e=>EA.error(e(o)),bind:e,exists:q,forall:B,getOr:h,or:h,getOrThunk:J,orThunk:J,getOrDie:(r=String(o),()=>{throw new Error(r)}),each:g,toOptional:f.none};var r;return t},EA={value:_A,error:kA,fromOption:(e,t)=>e.fold(()=>kA(t),_A)},FA=(e,t)=>({rowDelta:0,colDelta:Po(e[0])-Po(t[0])}),SA=(e,t)=>({rowDelta:e.length-t.length,colDelta:0}),QA=(e,t,o,r)=>{let n="colgroup"===t.section?o.col:o.cell;return y(e,e=>D(n(),!0,r(e)))},UA=(e,t,o,r)=>{let n=e[e.length-1];return e.concat(y(t,()=>{var e="colgroup"===n.section?o.colgroup:o.row,e=Vo(n,e,h),t=QA(e.cells.length,e,o,e=>we(r,e.toString()));return No(e,t)}))},IA=(e,o,r,n)=>v(e,e=>{var t=QA(o,e,r,q);return Do(e,n,t)}),TA=(e,t,o)=>{let r=t.colDelta<0?IA:h,n=t.rowDelta<0?UA:h,a=Zo(e),A=Po(e[0]),i=b(a,e=>e===A-1),s=r(e,Math.abs(t.colDelta),o,i?A-1:A),l=Zo(s);return n(s,Math.abs(t.rowDelta),o,le(l,B))},MA=(t,o,e)=>C(e,e=>e>=t.column&&e<=Po(o[0])+t.column),HA=(o,e,t,r,n)=>{var a,A,i,s;a=e,A=o,i=n,s=r.cell,0<A&&A<a[0].cells.length&&w(a,e=>{var t=e.cells[A-1];let o=0;for(var r=s();e.cells.length>A+o&&i(t.element,e.cells[A+o].element);)Lo(e,A+o,D(r,!0,e.cells[A+o].isLocked)),o++});let l=SA(t,e),d=TA(t,l,r),c=SA(e,d),u=TA(e,c,r);return v(u,(e,t)=>Do(e,o,d[t].cells))},DA=(e,t,o,r,n)=>{{var a=t,i=e,s=n,l=r.cell,d;let A=P(a).rows;if(0<i&&i<A.length){n=A[i-1].cells,d=s;let e=ne(n,(e,t)=>b(e,e=>d(e.element,t.element))?e:e.concat([t]),[]);w(e,n=>{let a=f.none();for(let e=i;e<A.length;e++)for(let r=0;r<Po(A[0]);r++){let t=A[e],o=Ro(t,r);s(o.element,n.element)&&(a=a.isNone()?f.some(l()):a).each(e=>{Lo(t,r,D(e,!0,o.isLocked))})}})}}var A,c,a=Zo(t),n=FA(t,o),n={...n,colDelta:n.colDelta-a.length},a=TA(t,n,r),{cols:n,rows:u}=P(a),a=Zo(a),t=FA(o,t),t={...t,colDelta:t.colDelta+a.length},a=(A=r,c=a,v(o,r=>ne(c,(e,t)=>{var o=QA(1,r,A,B)[0];return Oo(e,t,o)},r))),o=TA(a,t,r);return[...n,...u.slice(0,e),...o,...u.slice(e,u.length)]},OA=(e,o,t,r,n)=>{let{rows:a,cols:A}=P(e),i=a.slice(0,o),s=a.slice(o);return[...A,...i,(e=a[t],l=r,d=n,Vo(e,e=>d(e,l),(e,t)=>o>0&&o<a.length&&r(R(a[o-1],t),R(a[o],t))?Ro(a[o],t):D(n(e.element,r),!0,e.isLocked))),...s];var l,d},LA=(e,o,r,n,a)=>v(e,e=>{let A=0<o&&o<Po(e)&&n(R(e,o-1),R(e,o)),t=((t,e,o,r,n,a)=>{if("colgroup"!==o&&A)return Ro(t,e);{let e=Ro(t,r);return D(a(e.element,n),!0,!1)}})(e,o,e.section,r,n,a);return Oo(e,o,t)}),NA=(e,t,o,r)=>{return n=e,a=t,A=o,i=r,void 0!==R(n[a],A)&&0<a&&i(R(n[a-1],A),R(n[a],A))||(i=e[t],0<(n=o)&&r(R(i,n-1),R(i,n)));var n,a,A,i},RA=(e,t,o,r)=>{var n=e=>("row"===e?Yt:Xt)(t)?e+"group":e;return e?Ja(t)?n(o):null:r&&Ja(t)?n("row"===o?"col":"row"):null},PA=(e,t,o)=>D(o(e.element,t),!0,e.isLocked),VA=(e,n,a,A,i,s,l)=>v(e,(e,r)=>{return t=(e=e).cells,t=v(t,(e,o)=>{if(t=e,b(n,e=>a(t.element,e.element))){let t=l(e,r,o)?i(e,a,A):e;return s(t,r,o).each(e=>{var o=t.element,e={scope:f.from(e)};k(e,(e,t)=>{e.fold(()=>{Q(o,t)},e=>{Te(o.dom,t,e)})})}),t}var t;return e}),ut(e.element,t,e.section,e.isNew);var t}),zA=(o,r,n)=>_(o,(e,t)=>NA(o,t,r,n)?[]:[Ro(e,r)]),KA=(e,t,o,r,n)=>{let a=P(e).rows,A=_(t,e=>zA(a,e,r)),i=v(a,e=>qa(e.cells)),s=(t=A,u=i,se(u,h)&&qa(t)?B:(e,t,o)=>!("th"===E(e.element)&&u[t])),l=(d=o,c=i,(e,t)=>f.some(RA(d,e.element,"row",c[t])));var d,c,u;return VA(e,A,r,n,PA,l,s)},ZA=(e,t,o,r)=>{let n=P(e).rows,a=v(t,e=>Ro(n[e.row],e.column));return VA(e,a,o,r,PA,f.none,B)},GA=a=>{if(!s(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");let A=[],i={};return w(a,(e,t)=>{var o=me(e);if(1!==o.length)throw new Error("one and only one name per case");let r=o[0],n=e[r];if(void 0!==i[r])throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!s(n))throw new Error("case arguments must be an array");A.push(r),i[r]=(...o)=>{var e=o.length;if(e!==n.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+n.length+" ("+n+"), got "+e);return{fold:(...e)=>{if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[t].apply(null,o)},match:e=>{let t=me(e);if(A.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+A.join(",")+"\nActual: "+t.join(","));if(se(A,e=>m(t,e)))return e[r].apply(null,o);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+A.join(", "))},log:e=>{console.log(e,{constructors:A,constructor:r,params:o})}}}}),i},jA={...GA([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},WA=(t,o,r)=>{let n=0;for(let e=t;e<o;e++)n+=void 0!==r[e]?r[e]:0;return n},XA=(e,o)=>{e=$o(e);return v(e,e=>{var t=WA(e.row,e.row+e.rowspan,o);return{element:e.element,height:t,rowspan:e.rowspan}})},YA=(e,t,o)=>{e=e,t=t;e=(tr(e)?(e,o)=>{e=er(e);return v(e,(e,t)=>({element:e.element,width:o[t],colspan:e.colspan}))}:(e,o)=>{e=$o(e);return v(e,e=>{var t=WA(e.column,e.column+e.colspan,o);return{element:e.element,width:t,colspan:e.colspan}})})(e,t);w(e,e=>{o.setElementWidth(e.element,e.width)})},JA=(e,t,o,r,n)=>{let a=V(e),A=n.getCellDelta(t),i=n.getWidths(a,n),s=o===a.grid.columns-1,l=r.clampTableDelta(i,o,A,n.minCellWidth(),s),d=((e,t,r,n,a)=>{let A=e.slice(0),o=(t=t,0===(e=e).length?jA.none():1===e.length?jA.only(0):0===t?jA.left(0,1):t===e.length-1?jA.right(t-1,t):0<t&&t<e.length-1?jA.middle(t-1,t,t+1):jA.none()),i=p(v(A,p(0)));return o.fold(i,e=>n.singleColumnWidth(A[e],r),(e,t)=>a.calcLeftEdgeDeltas(A,e,t,r,n.minCellWidth(),n.isRelative),(e,t,o)=>a.calcMiddleDeltas(A,e,t,o,r,n.minCellWidth(),n.isRelative),(e,t)=>a.calcRightEdgeDeltas(A,e,t,r,n.minCellWidth(),n.isRelative))})(i,o,l,n,r),c=v(d,(e,t)=>e+i[t]);YA(a,c,n),r.resizeTable(n.adjustTableWidth,l,s)},qA=e=>ne(e,(e,t)=>b(e,e=>e.column===t.column)?e:e.concat([t]),[]).sort((e,t)=>e.column-t.column),$A=F("col"),ei=F("colgroup"),ti=e=>"tr"===E(e)||ei(e),oi=e=>De(e,"scope").map(e=>e.substr(0,3)),ri=(r,n=e=>({element:e,colspan:jt(e,"colspan",1),rowspan:jt(e,"rowspan",1)}))=>{let a=o=>{if(ti(o))return ei((e={element:o}).element)?r.colgroup(e):r.row(e);{let e=o,t=(o=n(e),$A(o.element)?r.col(o):r.cell(o));return A=f.some({item:e,replacement:t}),t}var e},A=f.none();return{getOrInit:(t,o)=>A.fold(()=>a(t),e=>o(t,e.item)?e.replacement:a(t))}},ni=r=>o=>{let A=[],i=e=>{var t=o.replace(e,r,"td"===r?{scope:null}:{});return A.push({item:e,sub:t}),t};return{replaceOrInit:(o,r)=>{if(ti(o)||$A(o))return o;{let t=o;return n=t,a=r,ae(A,e=>a(e.item,n)).fold(()=>i(t),e=>r(o,e.item)?e.sub:i(t))}var n,a}}},ai=r=>({unmerge:o=>{let e=oi(o);return e.each(e=>S(o,"scope",e)),()=>{let t=r.cell({element:o,colspan:1,rowspan:1});return Gt(t,"width"),Gt(o,"width"),e.each(e=>S(t,"scope",e)),t}},merge:t=>(Gt(t[0],"width"),(()=>{var e=Tt(v(t,oi));if(0===e.length)return f.none();{let t=e[0],o=["row","col"];return b(e,e=>e!==t&&m(o,e))?f.none():f.from(t)}})().fold(()=>Q(t[0],"scope"),e=>S(t[0],"scope",e+"group")),p(t[0]))}),Ai=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ii=da(),si=e=>{var t=ii;return t=t.property().name(e),m(Ai,t)},li=e=>{var t=ii;return t=t.property().name(e),m(["ol","ul"],t)},di=e=>{let a=F("br"),r=n=>fn(n).bind(o=>{let r=Xe(o).map(e=>{return!!si(e)||(t=ii,o=e,!!m(["br","img","hr","input"],t.property().name(o))&&"img"!==E(e));var t,o}).getOr(!1);return Ze(o).map(e=>{return!0===r||"li"===E(t=e)||Et(t,li).isSome()||a(o)||si(e)&&!T(n,e)?[]:[U.fromTag("br")];var t})}).getOr([]),t=0===(o=_(e,e=>{var t,o=l(e);return t=o,se(t,e=>a(e)||Qe(e)&&0===dn(e).trim().length)?[]:o.concat(r(e))})).length?[U.fromTag("br")]:o;var o;rt(e[0]),ot(e[0],t)},ci=e=>Gn(e,!0),ui=e=>{0===ro(e).length&&H(e)},gi=(e,t)=>({grid:e,cursor:t}),d=(e,t,o)=>{t=((e,t,o)=>{let r,n,a=P(e).rows;return f.from(null==(n=null==(r=a[t])?void 0:r.cells[o])?void 0:n.element).filter(ci).orThunk(()=>{return e=a,ge(e,e=>ge(e.cells,e=>{e=e.element;return Mt(ci(e),e)}));var e})})(e,t,o);return gi(e,t)},mi=e=>ne(e,(e,t)=>b(e,e=>e.row===t.row)?e:e.concat([t]),[]).sort((e,t)=>e.row-t.row),pi=(A,i)=>(e,t,o,r,n)=>{var a=mi(t),e=((e,t,o,r,a,n,A)=>{let{cols:i,rows:s}=P(e),l=s[t[0]],d=_(t,e=>{return o=s,n=a,e=o[r=e],_(e.cells,(e,t)=>NA(o,r,t,n)?[]:[e]);var o,r,n}),c=v(l.cells,(e,t)=>qa(zA(s,t,a))),u=[...s];w(t,e=>{u[e]=A.transformRow(s[e],o)});var g,m,p,e=[...i,...u],t=(t=l,p=c,se(p,h)&&qa(t.cells)?B:(e,t,o)=>!("th"===E(e.element)&&p[o])),r=(g=r,m=c,(e,t,o)=>f.some(RA(g,e.element,"col",m[o])));return VA(e,d,a,n,A.transformCell,r,t)})(e,v(a,e=>e.row),A,i,o,r.replaceOrInit,n);return d(e,t[0].row,t[0].column)},hi=pi("thead",!0),fi=pi("tbody",!1),bi=pi("tfoot",!1),vi=(e,t,o)=>{e=e,r=o.section;var r,o=io(e,()=>r),e=Xo(o);return hA(e,t,!0)},wi=(e,t,o,r)=>{var n;t=t,r=r.sizing,t=Xo(t),n=r.getWidths(t,r),YA(t,n,r)},xi=(e,t,o,r)=>{var n=r.sizing,r=r.resize,t=Xo(t),a=n.getWidths(t,n),A=n.pixelWidth(),{newSizes:r,delta:a}=r.calcRedestributedWidths(a,A,o.pixelDelta,n.isRelative);YA(t,r,n),n.adjustTableWidth(a)},Bi=(e,t)=>b(t,e=>0===e.column&&e.isLocked),yi=(t,e)=>b(e,e=>e.column+e.colspan>=t.grid.columns&&e.isLocked),Ci=(e,t)=>{let o=rr(e),r=qA(t);return ne(r,(e,t)=>e+o[t.column].map(Mo).getOr(0),0)},_i=o=>(t,e)=>xA(t,e).filter(e=>!(o?Bi:yi)(t,e)).map(e=>({details:e,pixelDelta:Ci(t,e)})),ki=o=>(t,e)=>wA(t,e).filter(e=>!(o?Bi:yi)(t,e.cells)),Ei=ni("th"),Fi=ni("td"),Si=e((e,t,o,r)=>{let n=t[0].row,a=mi(t),A=re(a,(e,t)=>({grid:OA(e.grid,n,t.row+e.delta,o,r.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid;return d(A,n,t[0].column)},xA,g,g,ri),Qi=e((e,t,o,r)=>{let n=mi(t),a=n[n.length-1],A=a.row+a.rowspan,i=re(n,(e,t)=>OA(e,A,t.row,o,r.getOrInit),e);return d(i,A,t[0].column)},xA,g,g,ri),Ui=e((e,t,o,r)=>{let n=t.details,a=qA(n),A=a[0].column,i=re(a,(e,t)=>({grid:LA(e.grid,A,t.column+e.delta,o,r.getOrInit),delta:e.delta+1}),{grid:e,delta:0}).grid;return d(i,n[0].row,A)},_i(!0),xi,g,ri),Ii=e((e,t,o,r)=>{let n=t.details,a=n[n.length-1],A=a.column+a.colspan,i=qA(n),s=re(i,(e,t)=>LA(e,A,t.column,o,r.getOrInit),e);return d(s,n[0].row,A)},_i(!1),xi,g,ri),Ti=e((e,t,o,r)=>{var n,t=qA(t.details),e=(e=e,n=v(t,e=>e.column),_(e,e=>{var t=e.cells,t=re(n,(e,t)=>0<=t&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e,t);return 0<t.length?[ut(e.element,t,e.section,e.isNew)]:[]})),a=0<e.length?e[0].cells.length-1:0;return d(e,t[0].row,Math.min(t[0].column,a))},(t,e)=>BA(t,e).map(e=>({details:e,pixelDelta:-Ci(t,e)})),xi,ui,ri),Mi=e((e,t,o,r)=>{var n=mi(t),e=((e,t,o)=>{var{rows:e,cols:r}=P(e);return[...r,...e.slice(0,t),...e.slice(o+1)]})(e,n[0].row,n[n.length-1].row),n=0<e.length?e.length-1:0;return d(e,Math.min(t[0].row,n),t[0].column)},xA,g,ui,ri),Hi=e((e,t,o,r)=>{var n=qA(t),n=v(n,e=>e.column),e=KA(e,n,!0,o,r.replaceOrInit);return d(e,t[0].row,t[0].column)},BA,g,g,Ei),Di=e((e,t,o,r)=>{var n=qA(t),n=v(n,e=>e.column),e=KA(e,n,!1,o,r.replaceOrInit);return d(e,t[0].row,t[0].column)},BA,g,g,Fi),Oi=e(hi,BA,g,g,Ei),Li=e(fi,BA,g,g,Fi),Ni=e(bi,BA,g,g,Fi),Ri=e((e,t,o,r)=>{e=ZA(e,t,o,r.replaceOrInit);return d(e,t[0].row,t[0].column)},BA,g,g,Ei),Pi=e((e,t,o,r)=>{e=ZA(e,t,o,r.replaceOrInit);return d(e,t[0].row,t[0].column)},BA,g,g,Fi),Vi=e((e,t,o,r)=>{var n=t.cells,e=(di(n),((e,t,n)=>{var a=P(e).rows;if(0!==a.length)for(let r=t.startRow;r<=t.finishRow;r++)for(let o=t.startCol;o<=t.finishCol;o++){let e=a[r],t=Ro(e,o).isLocked;Lo(e,o,D(n(),!1,t))}return e})(e,t.bounds,r.merge(n)));return gi(e,f.from(n[0]))},(t,e)=>e.mergable.filter(e=>yA(t,e.cells)),wi,g,ai),zi=e((e,t,o,r)=>{e=re(t,(e,t)=>CA(e,t,o,r.unmerge(t)),e);return gi(e,f.from(t[0]))},(t,e)=>e.unmergable.filter(e=>yA(t,e)),wi,g,ai),Ki=e((e,t,o,r)=>{var n=((e,t)=>{e=V(e);return hA(e,t,!0)})(t.clipboard,t.generators);return((e,t,o,A,b)=>{let r=Zo(t),v=(a=e,e=t,s=r,l=Po(e[0]),e=P(e).cols.length+a.row,d=y(l-a.column,e=>e+a.column),{row:e,column:ae(d,t=>se(s,e=>e!==t)).getOr(l-1)}),w=P(o).rows,i=MA(v,w,r),n=(e=v,d=w,e.row>=(l=t).length||e.column>Po(l[0])?EA.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column):(e=(l=l.slice(e.row))[0].cells.slice(e.column),o=Po(d[0]),d=d.length,EA.value({rowDelta:l.length-d,colDelta:e.length-o})));var a,s,l,d;return n.map(r=>{var l,d,c,u,g,r={...r,colDelta:r.colDelta-i.length},r=TA(t,r,A),n=Zo(r),n=MA(v,w,n);{var a=v,m=r,p=w,h=A,f=b;r=n;let i=a.row,s=a.column,e=i+p.length,t=s+Po(p[0])+r.length,o=le(r,B);for(let A=i;A<e;A++){let a=0;for(let n=s;n<t;n++)if(o[n])a++;else{l=m,d=A,c=n,g=void 0,u=x(u=f,Ro(l[d],c).element),g=l[d],1<l.length&&1<Po(g)&&(0<c&&u(R(g,c-1))||c<g.cells.length-1&&u(R(g,c+1))||0<d&&u(R(l[d-1],c))||d<l.length-1&&u(R(l[d+1],c)))&&CA(m,R(m[A],n),f,h.cell);let e=n-s-a,t=Ro(p[A-i],e),o=t.element,r=h.replace(o);Lo(m[A],n,D(r,!0,t.isLocked))}}return m}})})({row:t.row,column:t.column},e,n,t.generators,o).fold(()=>gi(e,f.some(t.element)),e=>d(e,t.row,t.column))},(t,o)=>oo(o.element).bind(e=>bA(t,e).map(e=>({...e,generators:o.generators,clipboard:o.clipboard}))),wi,g,ri),Zi=e((e,t,o,r)=>{var n=P(e).rows,a=t.cells[0].column,n=n[t.cells[0].row],n=vi(t.clipboard,t.generators,n),a=HA(a,e,n,t.generators,o);return d(a,t.cells[0].row,t.cells[0].column)},ki(!0),g,g,ri),Gi=e((e,t,o,r)=>{var n=P(e).rows,a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,n=n[t.cells[0].row],n=vi(t.clipboard,t.generators,n),a=HA(a,e,n,t.generators,o);return d(a,t.cells[0].row,t.cells[0].column)},ki(!1),g,g,ri),ji=e((e,t,o,r)=>{var n=P(e).rows,a=t.cells[0].row,n=n[a],n=vi(t.clipboard,t.generators,n),a=DA(a,e,n,t.generators,o);return d(a,t.cells[0].row,t.cells[0].column)},wA,g,g,ri),Wi=e((e,t,o,r)=>{var n=P(e).rows,a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,n=n[t.cells[0].row],n=vi(t.clipboard,t.generators,n),a=DA(a,e,n,t.generators,o);return d(a,t.cells[0].row,t.cells[0].column)},wA,g,g,ri),Xi=(e,t)=>{let a=V(e);return xA(a,t).bind(e=>{let t=e[e.length-1],o=e[0].column,r=t.column+t.colspan,n=ie(v(a.all,e=>C(e.cells,e=>e.column>=o&&e.column<r)));return tA(n)}).getOr("")},Yi=(e,t)=>{e=V(e);return xA(e,t).bind(tA).getOr("")},Ji=(e,t)=>{let n=V(e);return xA(n,t).bind(t=>{var o=t[t.length-1],t=t[0].row,o=o.row+o.rowspan,e=n.all.slice(t,o),t=v(e,e=>eA(e).type),o=m(t,"header"),r=m(t,"footer");if(o||r){let e=m(t,"body");return!o||e||r?o||e||!r?f.none():f.some("footer"):f.some("header")}return f.some("body")}).getOr("")},qi=(e,t)=>e.dispatch("NewRow",{node:t}),$i=(e,t)=>e.dispatch("NewCell",{node:t}),es=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})},ts={structure:!1,style:!0},z={structure:!0,style:!1},os={structure:!0,style:!0},rs=(e,t)=>(On(e)?An:Ln(e)?an:nn)(t),ns=(l,d,c)=>{let t=e=>"table"===E(Wn(e)),u=Un(l),e=Hn(l)?g:Va,o=(a,A,i,s)=>(t,e,r=!1)=>{Yn(t);var o=U.fromDom(l.getDoc()),o=kn(i,o,u),n={sizing:rs(l,t),resize:(Hn(l)?Wa:Xa)(),section:(e=>{switch(In(l)){case"section":return iA();case"sectionCells":return sA();case"cells":return lA();default:var t=e;switch(t=V(t),ge(t.all,e=>{e=eA(e);return"header"===e.type?f.from(e.subType):f.none()}).getOr("section")){case"section":return nA();case"sectionCells":return aA();case"cells":return AA()}return}})(t)};return A(t)?a(t,e,o,n).bind(e=>{d.refresh(t.dom),w(e.newRows,e=>{qi(l,e.dom)}),w(e.newCells,e=>{$i(l,e.dom)});o=t;var o,e=e.cursor.fold(()=>{var e=ro(o);return ce(e).filter(ft).map(e=>{c.clearSelectedCells(o.dom);var t=l.dom.createRng();return t.selectNode(e.dom),l.selection.setRng(t),S(e,"data-mce-selected","1"),t})},e=>{var e=Ra(Pa,e),t=l.dom.createRng();return t.setStart(e.element.dom,e.offset),t.setEnd(e.element.dom,e.offset),l.selection.setRng(t),c.clearSelectedCells(o.dom),f.some(t)});return ft(t)&&(Yn(t),r||es(l,t.dom,s)),e.map(e=>({rng:e,effect:s}))}):f.none()},r=o(Mi,e=>!t(l)||1<Ya(e).rows,g,z),n=o(Ti,e=>!t(l)||1<Ya(e).columns,g,z);return{deleteRow:r,deleteColumn:n,insertRowsBefore:o(Si,B,g,z),insertRowsAfter:o(Qi,B,g,z),insertColumnsBefore:o(Ui,B,e,z),insertColumnsAfter:o(Ii,B,e,z),mergeCells:o(Vi,B,g,z),unmergeCells:o(zi,B,g,z),pasteColsBefore:o(Zi,B,g,z),pasteColsAfter:o(Gi,B,g,z),pasteRowsBefore:o(ji,B,g,z),pasteRowsAfter:o(Wi,B,g,z),pasteCells:o(Ki,B,g,os),makeCellsHeader:o(Ri,B,g,z),unmakeCellsHeader:o(Pi,B,g,z),makeColumnsHeader:o(Hi,B,g,z),unmakeColumnsHeader:o(Di,B,g,z),makeRowsHeader:o(Oi,B,g,z),makeRowsBody:o(Li,B,g,z),makeRowsFooter:o(Ni,B,g,z),getTableRowType:Ji,getTableCellType:Yi,getTableColType:Xi}},as=(e,t,o)=>{var r=jt(e,t,1);1===o||r<=1?Q(e,t):S(e,t,Math.min(o,r))},As=(o,r)=>e=>{var t=e.column+e.colspan-1;return o<=t&&e.column<r},is=GA([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),ss=(e,t,o)=>{var e=o.substring(0,o.length-e.length),r=parseFloat(e);return e===r.toString()?t(r):is.invalid(o)},ls={...is,from:e=>Ot(e,"%")?ss("%",is.percent,e):Ot(e,"px")?ss("px",is.pixels,e):is.invalid(e)},ds=(e,t,o)=>{let r=ls.from(o),n=se(e,e=>"0px"===e)?((e,t)=>{e=e.fold(()=>p(""),e=>p(e/t+"px"),()=>p(100/t+"%"));return y(t,e)})(r,e.length):(a=e,A=t,r.fold(()=>a,e=>{{var o=a,r=e;let t=r/A;return v(o,e=>ls.from(e).fold(()=>e,e=>e*t+"px",e=>e/100*r+"px"))}},e=>{return t=a,o=A,v(t,e=>ls.from(e).fold(()=>e,e=>e/o*100+"%",e=>e+"%"));var t,o}));var a,A;return gs(n)},cs=(e,t)=>0===e.length?t:re(e,(e,t)=>ls.from(t).fold(p(0),h,h)+e,0),us=(e,t)=>ls.from(e).fold(p(e),e=>e+t+"px",e=>e+t+"%"),gs=e=>{var t;return 0===e.length?e:(t=(e=re(e,(e,t)=>{var o=ls.from(t).fold(()=>({value:t,remainder:0}),e=>{return e=e,{value:(t=Math.floor(e))+"px",remainder:e-t};var t},e=>({value:e+"%",remainder:0}));return{output:[o.value].concat(e.output),remainder:e.remainder+o.remainder}},{output:[],remainder:0})).output).slice(0,t.length-1).concat([us(t[t.length-1],Math.round(e.remainder))])},ms=ls.from,ps=e=>ms(e).fold(p("px"),p("px"),p("%")),hs=(l,e,t)=>{let d=V(l),s=d.all,c=$o(d),u=er(d);e.each(e=>{var o,r,n,a,t=ps(e),A=To(l),i=(i=d,s=l,Jr(i,s,Wr,qr)),s=ds(i,A,e);tr(d)?(n=s,i=u,a=t,w(i,(e,t)=>{t=cs([n[t]],qt());L(e.element,"width",t+a)})):(o=s,A=c,r=t,w(A,e=>{var t=o.slice(e.column,e.colspan+e.column),t=cs(t,qt());L(e.element,"width",t+r)})),L(l,"width",e)}),t.each(e=>{var o,t,r,n,a=ps(e),A=lr(l),i=(i=d,t=l,r=kr,en(i,t,r,Xr,qr));o=ds(i,A,e),t=s,r=c,n=a,w(r,e=>{var t=o.slice(e.row,e.rowspan+e.row),t=cs(t,$t());L(e.element,"height",t+n)}),w(t,(e,t)=>{L(e.element,"height",o[t])}),L(l,"height",e)})},fs=e=>Rr(e).exists(e=>Ur.test(e)),bs=e=>Rr(e).exists(e=>Ir.test(e)),vs=e=>Rr(e).isNone(),ws=e=>{Q(e,"width")},xs=e=>{var t=Zr(e);hs(e,f.some(t),f.none()),ws(e)},Bs=e=>{t=e;var t=To(t)+"px";hs(e,f.some(t),f.none()),ws(e)},ys=e=>{Gt(e,"width");var t=no(e),t=0<t.length?t:ro(e);w(t,e=>{Gt(e,"width"),ws(e)}),ws(e)},Cs=(e,t,i,s)=>y(e,e=>{var o=t,r=i,n=s,a=e,A=U.fromTag("tr");for(let t=0;t<o;t++){let e=U.fromTag(a<r||t<n?"th":"td");t<n&&S(e,"scope","row"),a<r&&S(e,"scope","col"),M(e,U.fromTag("br")),M(A,e)}return A}),_s=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},ks=(a,o,r,n,A)=>{t=(e=a).options,l=t.get("table_default_styles");let i=t.isSet("table_default_styles")?l:(t=e,e=l,Nn(t)||!Pn(t)?e:Ln(t)?{...e,width:Qn(t)}:{...e,width:Sn}),s={styles:i,attributes:zn(a),colGroups:Kn(a)};var e,t,l;return a.undoManager.ignore(()=>{var e,t=((e,o,r,n,a,t)=>{var A=U.fromTag("table"),i="cells"!==a,s=(Vt(A,t.styles),Me(A,t.attributes),t.colGroups&&M(A,(e=>{let t=U.fromTag("colgroup");return y(e,()=>M(t,U.fromTag("col"))),t})(o)),Math.min(e,r));if(i&&0<r){let e=U.fromTag("thead"),t=(M(A,e),Cs(r,o,"sectionCells"===a?s:0,n));ot(e,t)}t=U.fromTag("tbody"),M(A,t),a=Cs(i?e-s:e,o,i?0:r,n);return ot(t,a),A})(r,o,A,n,In(a),s),t=(S(t,"data-mce-id","__mce"),t=t,e=U.fromTag("div"),t=U.fromDom(t.dom.cloneNode(!0)),M(e,t),e.dom.innerHTML);a.insertContent(t),a.addVisual()}),Ut(Wn(a),'table[data-mce-id="__mce"]').map(e=>{return Ln(a)?Bs(e):Nn(a)?ys(e):(On(a)||(n=i.width,c(n)&&-1!==n.indexOf("%")))&&xs(e),Yn(e),Q(e,"data-mce-id"),r=a,n=e,w(Bt(n,"tr"),e=>{qi(r,e.dom),w(Bt(e,"th,td"),e=>{$i(r,e.dom)})}),t=a,o=e,Ut(o,"td,th").each(x(_s,t)),e.dom;var t,o,r,n}).getOrNull()};var Es=tinymce.util.Tools.resolve("tinymce.FakeClipboard");let Fs="x-tinymce/dom-table-",Ss=Fs+"rows",Qs=Fs+"columns",Us=e=>{e=Es.FakeClipboardItem(e);Es.write([e])},Is=t=>{var e=null!=(e=Es.read())?e:[];return ge(e,e=>f.from(e.getType(t)))},Ts=e=>{Is(e).isSome()&&Es.clear()},Ms=e=>{e.fold(Ds,e=>Us({[Ss]:e}))},Hs=()=>Is(Ss),Ds=()=>Ts(Ss),Os=e=>{e.fold(Ns,e=>Us({[Qs]:e}))},Ls=()=>Is(Qs),Ns=()=>Ts(Qs),Rs=e=>Ia(Jn(e),Xn(e)).filter(ea),Ps=(l,t)=>{let r=Xn(l),d=e=>N(e,r),i=o=>{return e=l,Ta(Jn(e),Xn(e)).filter(ea).bind(t=>d(t).map(e=>o(e,t)));var e},s=e=>{l.focus()},n=(o,r=!1)=>i((e,t)=>{t=Qa(Ma(l),e,t);o(e,t,r).each(s)}),e=()=>i((e,t)=>{{var r=e,n=(e=Qa(Ma(l),e,t),kn(g,U.fromDom(l.getDoc()),f.none()));let o=V(r);return xA(o,e).bind(e=>{var t=hA(o,n,!1),t=P(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=_(t,e=>{var t=C(e.cells,e=>!e.isLocked);return 0<t.length?[{...e,cells:t}]:[]}),t=fA(e);return Mt(0<t.length,t)}).map(e=>v(e,e=>{let o=At(e.element);return w(e.cells,e=>{var t=it(e.element);cA(t,"colspan",e.colspan,1),cA(t,"rowspan",e.rowspan,1),M(o,t)}),o}))}}),o=()=>i((e,t)=>{{var o=e;e=Qa(Ma(l),e,t);let s=V(o);return BA(s,e).map(e=>{var o,r,t,n,a,A=e[e.length-1],e=e[0].column,A=A.column+A.colspan,i=(i=s,t=e,n=A,tr(i)?(i=C(er(i),As(t,n)),i=v(i,e=>{e=it(e.element);return as(e,"span",n-t),e}),a=U.fromTag("colgroup"),ot(a,i),[a]):[]),e=(a=s,o=e,r=A,v(a.all,e=>{var e=C(e.cells,As(o,r)),e=v(e,e=>{e=it(e.element);return as(e,"colspan",r-o),e}),t=U.fromTag("tr");return ot(t,e),t}));return[...i,...e]})}}),a=(A,e)=>e().each(e=>{let a=v(e,e=>it(e));i((e,t)=>{var o,r=En(U.fromDom(l.getDoc())),n=(n=Ma(l),o=a,r=r,{selection:Ba(n),clipboard:o,generators:r});A(e,n).each(s)})}),A=r=>(e,t)=>{return o=t,(we(o,"type")?f.from(o.type):f.none()).each(e=>{n(r(e),t.no_events)});var o};k({mceTableSplitCells:()=>n(t.unmergeCells),mceTableMergeCells:()=>n(t.mergeCells),mceTableInsertRowBefore:()=>n(t.insertRowsBefore),mceTableInsertRowAfter:()=>n(t.insertRowsAfter),mceTableInsertColBefore:()=>n(t.insertColumnsBefore),mceTableInsertColAfter:()=>n(t.insertColumnsAfter),mceTableDeleteCol:()=>n(t.deleteColumn),mceTableDeleteRow:()=>n(t.deleteRow),mceTableCutCol:()=>o().each(e=>{Os(e),n(t.deleteColumn)}),mceTableCutRow:()=>e().each(e=>{Ms(e),n(t.deleteRow)}),mceTableCopyCol:()=>o().each(e=>Os(e)),mceTableCopyRow:()=>e().each(e=>Ms(e)),mceTablePasteColBefore:()=>a(t.pasteColsBefore,Ls),mceTablePasteColAfter:()=>a(t.pasteColsAfter,Ls),mceTablePasteRowBefore:()=>a(t.pasteRowsBefore,Hs),mceTablePasteRowAfter:()=>a(t.pasteRowsAfter,Hs),mceTableDelete:()=>Rs(l).each(e=>{N(e,r).filter(Y(r)).each(e=>{var t=U.fromText("");if(qe(e,t),H(e),l.dom.isEmpty(l.getBody()))l.setContent(""),l.selection.setCursorLocation();else{let e=l.dom.createRng();e.setStart(t.dom,0),e.setEnd(t.dom,0),l.selection.setRng(e),l.nodeChanged()}})}),mceTableCellToggleClass:(e,n)=>{i(e=>{let t=Ma(l),o=se(t,e=>l.formatter.match("tablecellclass",{value:n},e.dom)),r=o?l.formatter.remove:l.formatter.apply;w(t,e=>r("tablecellclass",{value:n},e.dom)),es(l,e.dom,ts)})},mceTableToggleClass:(e,t)=>{i(e=>{l.formatter.toggle("tableclass",{value:t},e.dom),es(l,e.dom,ts)})},mceTableToggleCaption:()=>{Rs(l).each(t=>{N(t,r).each(r=>{Qt(r,"caption").fold(()=>{var e,t,o=U.fromTag("caption");M(o,U.fromText("Caption")),e=r,t=o,Ye(e,0).fold(()=>{M(e,t)},e=>{Je(e,t)}),l.selection.setCursorLocation(o.dom,0)},e=>{F("caption")(t)&&Re("td",r).each(e=>l.selection.setCursorLocation(e.dom,0)),H(e)}),es(l,r.dom,z)})})},mceTableSizingMode:(e,t)=>{return o=t,Rs(l).each(e=>{Nn(l)||Ln(l)||On(l)||N(e,r).each(e=>{"relative"!==o||fs(e)?"fixed"!==o||bs(e)?"responsive"!==o||vs(e)||ys(e):Bs(e):xs(e),Yn(e),es(l,e.dom,z)})});var o},mceTableCellType:A(e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader),mceTableColType:A(e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader),mceTableRowType:A(e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}})},(e,t)=>l.addCommand(t,e)),l.addCommand("mceInsertTable",(e,o)=>{{var[o,r,n,a={}]=[l,o.rows,o.columns,o.options];let e=e=>W(e)&&0<e;if(e(r)&&e(n)){let e=a.headerRows||0,t=a.headerColumns||0;void ks(o,n,r,t,e)}else console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")}}),l.addCommand("mceTableApplyCellStyle",(e,t)=>{let n=e=>"tablecell"+e.toLowerCase().replace("-","");if(u(t)){let r=C(Ma(l),ea);var o,a,A,i,s;0===r.length||(t=t,o=(e,t)=>l.formatter.has(n(t))&&c(e),i=s={},a=(e,t)=>{i[t]=e},A=g,k(t,(e,t)=>{(o(e,t)?a:A)(e,t)}),(e=>{for(var t in e)if(pe.call(e,t))return!1;return!0})(t=s))||(k(t,(t,e)=>{let o=n(e);w(r,e=>{""===t?l.formatter.remove(o,{value:null},e.dom,!0):l.formatter.apply(o,{value:t},e.dom)})}),d(r[0]).each(e=>es(l,e.dom,ts)))}})},Vs=GA([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),K={before:Vs.before,on:Vs.on,after:Vs.after,cata:(e,t,o,r)=>e.fold(t,o,r),getStart:e=>e.fold(h,h,h)},zs=(e,t)=>({selection:e,kill:t}),Ks=(e,t)=>{e=e.document.createRange();return e.selectNode(t.dom),e},Zs=(e,t)=>{e=e.document.createRange();return Gs(e,t),e},Gs=(e,t)=>e.selectNodeContents(t.dom),js=(e,t,o)=>{var r,e=e.document.createRange(),n=e;return t.fold(e=>{n.setStartBefore(e.dom)},(e,t)=>{n.setStart(e.dom,t)},e=>{n.setStartAfter(e.dom)}),r=e,o.fold(e=>{r.setEndBefore(e.dom)},(e,t)=>{r.setEnd(e.dom,t)},e=>{r.setEndAfter(e.dom)}),e},Ws=(e,t,o,r,n)=>{e=e.document.createRange();return e.setStart(t.dom,o),e.setEnd(r.dom,n),e},Xs=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Ys=GA([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Js=(e,t,o)=>t(U.fromDom(o.startContainer),o.startOffset,U.fromDom(o.endContainer),o.endOffset),qs=(t,o)=>{n=t;var n,t=o.match({domRange:e=>({ltr:p(e),rtl:f.none}),relative:(e,t)=>({ltr:co(()=>js(n,e,t)),rtl:co(()=>f.some(js(n,t,e)))}),exact:(e,t,o,r)=>({ltr:co(()=>Ws(n,e,t,o,r)),rtl:co(()=>f.some(Ws(n,o,r,e,t)))})});{let e=(o=t).ltr();return e.collapsed?o.rtl().filter(e=>!1===e.collapsed).map(e=>Ys.rtl(U.fromDom(e.endContainer),e.endOffset,U.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>Js(0,Ys.ltr,e)):Js(0,Ys.ltr,e)}},$s=(a,e)=>qs(a,e).match({ltr:(e,t,o,r)=>{var n=a.document.createRange();return n.setStart(e.dom,t),n.setEnd(o.dom,r),n},rtl:(e,t,o,r)=>{var n=a.document.createRange();return n.setStart(o.dom,r),n.setEnd(e.dom,t),n}}),el=(Ys.ltr,Ys,(e,t,o,r)=>({start:e,soffset:t,finish:o,foffset:r})),tl=(e,t,o,r)=>({start:K.on(e,t),finish:K.on(o,r)}),ol=(e,t)=>{e=$s(e,t);return el(U.fromDom(e.startContainer),e.startOffset,U.fromDom(e.endContainer),e.endOffset)},rl=tl,nl=(o,e,r,t,n)=>T(r,t)?f.none():ha(r,t,e).bind(e=>{var t=e.boxes.getOr([]);return 1<t.length?(n(o,t,e.start,e.finish),f.some(zs(f.some(rl(r,0,r,gn(r))),!0))):f.none()}),al=(e,t)=>({item:e,mode:t}),Al=(e,t,o,r=il)=>e.property().parent(t).map(e=>al(e,r)),il=(e,t,o,r=sl)=>o.sibling(e,t).map(e=>al(e,r)),sl=(e,t,o,r=sl)=>{e=e.property().children(t);return o.first(e).map(e=>al(e,r))},ll=[{current:Al,next:il,fallback:f.none()},{current:il,next:sl,fallback:f.some(Al)},{current:sl,next:sl,fallback:f.some(il)}],dl=(t,o,r,n,e=ll)=>ae(e,e=>e.current===r).bind(e=>e.current(t,o,n,e.next).orThunk(()=>e.fallback.bind(e=>dl(t,o,e,n)))),cl=(t,e,o,r,n,a)=>dl(t,e,r,n).bind(e=>a(e.item)?f.none():o(e.item)?f.some(e.item):cl(t,e.item,o,e.mode,n,a)),ul=t=>e=>0===t.property().children(e).length,gl=(e,t,o,r)=>cl(e,t,o,il,{sibling:(e,t)=>e.query().prevSibling(t),first:e=>0<e.length?f.some(e[e.length-1]):f.none()},r),ml=(e,t,o,r)=>cl(e,t,o,il,{sibling:(e,t)=>e.query().nextSibling(t),first:e=>0<e.length?f.some(e[0]):f.none()},r),pl=da(),hl=(e,t)=>{return o=pl,e=e,t=t,gl(o,e,ul(o),t);var o},fl=(e,t)=>{return o=pl,e=e,t=t,ml(o,e,ul(o),t);var o},bl=GA([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),vl=e=>O(e,"tr"),wl={...bl,verify:(a,e,t,o,A,i,r)=>O(o,"td,th",r).bind(n=>O(e,"td,th",r).map(r=>T(n,r)?T(o,n)&&gn(n)===A?i(r):bl.none("in same cell"):ma(vl,[n,r]).fold(()=>{return t=n,o=(e=a).getRect(r),(e=e.getRect(t)).right>o.left&&e.left<o.right?bl.success():i(r);var e,t,o},e=>i(r)))).getOr(bl.none("default")),cata:(e,t,o,r,n)=>e.fold(t,o,r,n)},xl=F("br"),Bl=(e,t,o)=>t(e,o).bind(e=>Qe(e)&&0===dn(e).trim().length?Bl(e,t,o):f.some(e)),yl=(t,e,o,r)=>{return n=e,a=o,Ye(n,a).filter(xl).orThunk(()=>Ye(n,a-1).filter(xl)).bind(e=>r.traverse(e).fold(()=>Bl(e,r.gather,t).map(r.relative),e=>{return n=e,Ze(n).bind(t=>{let o=l(t);return e=o,r=n,Ae(e,x(T,r)).map(e=>({parent:t,children:o,element:n,index:e}));var e,r}).map(e=>K.on(e.parent,e.index));var n}));var n,a},Cl=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),_l=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),kl=(e,t,o)=>({left:e.left+t,top:e.top+o,right:e.right+t,bottom:e.bottom+o}),El=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),Fl=(e,t)=>f.some(e.getRect(t)),Sl=(e,t,o)=>Se(t)?Fl(e,t).map(El):Qe(t)?(e=e,t=t,(0<=(o=o)&&o<gn(t)?e.getRangedRect(t,o,t,o+1):0<o?e.getRangedRect(t,o-1,t,o):f.none()).map(El)):f.none(),Ql=(e,t)=>Se(t)?Fl(e,t).map(El):Qe(t)?e.getRangedRect(t,0,t,gn(t)).map(El):f.none(),Ul=GA([{none:[]},{retry:["caret"]}]),Il=(t,e,o)=>Ft(e,si).fold(q,e=>Ql(t,e).exists(e=>{return e=e,(t=o).left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right;var t})),Tl={point:e=>e.bottom,adjuster:(e,t,o,r,n)=>{var a=Cl(n,5);return Math.abs(o.bottom-r.bottom)<1||o.top>n.bottom?Ul.retry(a):o.top===n.bottom?Ul.retry(Cl(n,1)):Il(e,t,n)?Ul.retry(kl(a,5,0)):Ul.none()},move:Cl,gather:fl},Ml=(o,r,n,a,A)=>{return 0===A?f.some(a):(i=o,s=a.left,l=r.point(a),i.elementFromPoint(s,l).filter(e=>"table"===E(e)).isSome()?(i=o,s=r,l=n,e=a,t=A-1,Ml(i,s,l,s.move(e,5),t)):o.situsFromPoint(a.left,r.point(a)).bind(e=>e.start.fold(f.none,t=>Ql(o,t).bind(e=>r.adjuster(o,t,e,n,a).fold(f.none,e=>Ml(o,r,n,e,A-1))).orThunk(()=>f.some(a)),f.none)));var e,t,i,s,l},Hl=(t,o,e)=>{let r=t.move(e,5),n=Ml(o,t,e,r,100).getOr(r);return e=n,A=o,((a=t).point(e)>A.getInnerHeight()?f.some(a.point(e)-A.getInnerHeight()):a.point(e)<0?f.some(-a.point(e)):f.none()).fold(()=>o.situsFromPoint(n.left,t.point(n)),e=>(o.scrollBy(0,e),o.situsFromPoint(n.left,t.point(n)-e)));var a,A},Dl={tryUp:x(Hl,{point:e=>e.top,adjuster:(e,t,o,r,n)=>{var a=_l(n,5);return Math.abs(o.top-r.top)<1||o.bottom<n.top?Ul.retry(a):o.bottom===n.top?Ul.retry(_l(n,1)):Il(e,t,n)?Ul.retry(kl(a,5,0)):Ul.none()},move:_l,gather:hl}),tryDown:x(Hl,Tl),getJumpSize:p(5)},Ol=(s,l,d)=>s.getSelection().bind(t=>{return e=l,o=t.finish,r=t.foffset,n=d,(xl(o)?(a=e,A=o,(i=n).traverse(A).orThunk(()=>Bl(A,i.gather,a)).map(i.relative)):yl(e,o,r,n)).map(e=>({start:e,finish:e})).fold(()=>f.some(Da(t.finish,t.foffset)),e=>{var e=s.fromSitus(e),e=wl.verify(s,t.finish,t.foffset,e.finish,e.foffset,d.failure,l);return wl.cata(e,e=>f.none(),()=>f.none(),e=>f.some(Da(e,0)),e=>f.some(Da(e,gn(e))))});var e,o,r,n,a,A,i}),Ll=(o,r,n,a,A,i)=>0===i?f.none():Pl(o,r,n,a,A).bind(e=>{var t=o.fromSitus(e),t=wl.verify(o,n,a,t.finish,t.foffset,A.failure,r);return wl.cata(t,()=>f.none(),()=>f.some(e),e=>T(n,e)&&0===a?Nl(o,n,a,_l,A):Ll(o,r,e,0,A,i-1),e=>T(n,e)&&a===gn(e)?Nl(o,n,a,Cl,A):Ll(o,r,e,gn(e),A,i-1))}),Nl=(t,e,o,r,n)=>Sl(t,e,o).bind(e=>Rl(t,n,r(e,Dl.getJumpSize()))),Rl=(e,t,o)=>{var r=So().browser;return r.isChromium()||r.isSafari()||r.isFirefox()?t.retry(e,o):f.none()},Pl=(t,e,o,r,n)=>Sl(t,o,r).bind(e=>Rl(t,n,e)),Vl=(i,s,l,e,d)=>O(e,"td,th",s).bind(A=>O(A,"table",s).bind(e=>{return n=d,a=e,Et(n,e=>Ze(e).exists(e=>T(e,a)),void 0).isSome()?(t=i,o=s,r=l,Ol(t,o,r).bind(e=>Ll(t,o,e.element,e.offset,r,20).map(t.fromSitus)).bind(t=>O(t.finish,"td,th",s).map(e=>({start:A,finish:e,range:t})))):f.none();var t,o,r,n,a})),zl=(e,t,o,r,n,a)=>a(r,t).orThunk(()=>Vl(e,t,o,r,n).map(e=>{e=e.range;return zs(f.some(rl(e.start,e.soffset,e.finish,e.foffset)),!0)})),Kl=(e,r)=>O(e,"tr",r).bind(o=>O(o,"table",r).bind(e=>{var t=Bt(e,"tr");return T(o,t[0])?(t=e,e=r,gl(pl,t,e=>fn(e).isSome(),e).map(e=>{var t=gn(e);return zs(f.some(rl(e,t,e,t)),!0)})):f.none()})),Zl=(e,r)=>O(e,"tr",r).bind(o=>O(o,"table",r).bind(e=>{var t=Bt(e,"tr");return T(o,t[t.length-1])?(t=e,e=r,ml(pl,t,e=>hn(e).isSome(),e).map(e=>zs(f.some(rl(e,0,e,0)),!0))):f.none()})),Gl=(e,t,o,r,n,a,A)=>Vl(e,o,r,n,a).bind(e=>nl(t,o,e.start,e.finish,A)),jl=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Wl=()=>{let t=(e=>{let t=jl(f.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(f.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(f.some(e))}}})(g);return{...t,on:e=>t.get().each(e)}},Xl=(e,t)=>O(e,"td,th",t),Yl=e=>Ge(e).exists(Gn),Jl={traverse:Xe,gather:fl,relative:K.before,retry:Dl.tryDown,failure:wl.failedDown},ql={traverse:We,gather:hl,relative:K.before,retry:Dl.tryUp,failure:wl.failedUp},$l=t=>e=>e===t,ed=$l(38),td=$l(40),od=e=>37<=e&&e<=40,rd={isBackward:$l(37),isForward:$l(39)},nd={isBackward:$l(39),isForward:$l(37)},ad=GA([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ad={domRange:ad.domRange,relative:ad.relative,exact:ad.exact,exactFromRange:e=>ad.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{e=e.match({domRange:e=>U.fromDom(e.startContainer),relative:(e,t)=>K.getStart(e),exact:(e,t,o,r)=>e});return U.fromDom(Ke(e).dom.defaultView)},range:el},id=document.caretPositionFromPoint?(o,e,t)=>{var r,n;return f.from(null==(n=(r=o.dom).caretPositionFromPoint)?void 0:n.call(r,e,t)).bind(e=>{var t;return null===e.offsetNode?f.none():((t=o.dom.createRange()).setStart(e.offsetNode,e.offset),t.collapse(),f.some(t))})}:document.caretRangeFromPoint?(e,t,o)=>{var r;return f.from(null==(r=(e=e.dom).caretRangeFromPoint)?void 0:r.call(e,t,o))}:f.none,sd=(e,t)=>{var o=E(e);return"input"===o?K.after(e):m(["br","img"],o)?0===t?K.before(e):K.after(e):K.on(e,t)},ld=e=>f.from(e.getSelection()),dd=(e,t)=>{ld(e).each(e=>{e.removeAllRanges(),e.addRange(t)})},cd=(e,t,o,r,n)=>{t=Ws(e,t,o,r,n);dd(e,t)},ud=(s,e)=>qs(s,e).match({ltr:(e,t,o,r)=>{cd(s,e,t,o,r)},rtl:(n,a,A,i)=>{ld(s).each(e=>{if(e.setBaseAndExtent)e.setBaseAndExtent(n.dom,a,A.dom,i);else if(e.extend)try{o=A,r=i,(t=e).collapse(n.dom,a),t.extend(o.dom,r)}catch(e){cd(s,A,i,n,a)}else cd(s,A,i,n,a);var t,o,r})}}),gd=(e,t,o,r,n)=>{t=((e,t,o,r)=>{e=sd(e,t),t=sd(o,r);return Ad.relative(e,t)})(t,o,r,n);ud(e,t)},md=(e,t,o)=>{o=o,t=t.fold(K.before,sd,K.after),o=o.fold(K.before,sd,K.after);t=Ad.relative(t,o);ud(e,t)},pd=e=>{var t;return 0<e.rangeCount?(t=e.getRangeAt(0),e=e.getRangeAt(e.rangeCount-1),f.some(el(U.fromDom(t.startContainer),t.startOffset,U.fromDom(e.endContainer),e.endOffset))):f.none()},hd=e=>{var t,o,r,n,a,A,i,s,l,d,c;return null!==e.anchorNode&&null!==e.focusNode&&(t=U.fromDom(e.anchorNode),o=U.fromDom(e.focusNode),r=t,n=e.anchorOffset,d=r,c=n,i=a=o,s=A=e.focusOffset,(l=ze(d).dom.createRange()).setStart(d.dom,c),l.setEnd(i.dom,s),d=l,c=T(r,a)&&n===A,d.collapsed)&&!c?f.some(el(t,e.anchorOffset,o,e.focusOffset)):pd(e)},fd=(e,t,o=!0)=>{o=(o?Zs:Ks)(e,t);dd(e,o)},bd=e=>(e=e,ld(e).filter(e=>0<e.rangeCount).bind(hd).map(e=>Ad.exact(e.start,e.soffset,e.finish,e.foffset))),vd=a=>({elementFromPoint:(e,t)=>U.fromPoint(U.fromDom(a.document),e,t),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(e,t,o,r)=>{e=Ad.exact(e,t,o,r);return t=a,o=e,t=$s(t,o),0<(o=0<(o=t.getClientRects()).length?o[0]:t.getBoundingClientRect()).width||0<o.height?f.some(o).map(Xs):f.none()},getSelection:()=>bd(a).map(e=>ol(a,e)),fromSitus:e=>{e=Ad.relative(e.start,e.finish);return ol(a,e)},situsFromPoint:(e,t)=>{return o=a,e=e,t=t,o=U.fromDom(o.document),id(o,e,t).map(e=>el(U.fromDom(e.startContainer),e.startOffset,U.fromDom(e.endContainer),e.endOffset)).map(e=>tl(e.start,e.soffset,e.finish,e.foffset));var o},clearSelection:()=>{var e;e=a,ld(e).each(e=>e.removeAllRanges())},collapseSelection:(n=!1)=>{bd(a).each(e=>e.fold(e=>e.collapse(n),(e,t)=>{e=n?e:t;md(a,e,e)},(e,t,o,r)=>{e=n?e:o,o=n?t:r;gd(a,e,o,e,o)}))},setSelection:e=>{gd(a,e.start,e.soffset,e.finish,e.foffset)},setRelativeSelection:(e,t)=>{md(a,e,t)},selectNode:e=>{fd(a,e,!1)},selectContents:e=>{fd(a,e)},getInnerHeight:()=>a.innerHeight,getScrollY:()=>{return e=void 0!==(e=U.fromDom(a.document))?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop,ur(t,e).top;var e,t},scrollBy:(e,t)=>{var o=U.fromDom(a.document);(o=(void 0!==o?o.dom:document).defaultView)&&o.scrollBy(e,t)}}),wd=(e,t)=>({rows:e,cols:t}),xd=e=>Ft(e,Fe).exists(Gn),Bd=(e,t)=>xd(e)||xd(t),yd=e=>void 0!==e.dom.classList,Cd=(e,t)=>(t=(e=>{e=He(e,"class");return void 0===e||""===e?[]:e.split(" ")})(e).concat([t]),S(e,"class",t.join(" ")),!0),_d=(e,t)=>{yd(e)?e.dom.classList.add(t):Cd(e,t)},kd=(e,t)=>yd(e)&&e.dom.classList.contains(t),Ed=()=>({tag:"none"}),Fd=e=>({tag:"multiple",elements:e}),Sd=e=>({tag:"single",element:e}),Qd=e=>{var t,o,r,n=U.fromDom((e=>{if(mt()&&G(e.target)){var t=U.fromDom(e.target);if(Se(t)&&G(t.dom.shadowRoot)&&e.composed&&e.composedPath){t=e.composedPath();if(t)return ce(t)}}return f.from(e.target)})(e).getOr(e.target)),a=()=>e.stopPropagation(),A=()=>e.preventDefault(),i=(t=A,o=a,(...e)=>t(o.apply(null,e)));return r=e.clientX,{target:n,x:r,y:e.clientY,stop:a,prevent:A,kill:i,raw:e}},Ud=(e,t,o,r)=>{e.dom.removeEventListener(t,o,r)},Id=B,Td=(e,t,o)=>{return e=e,t=t,r=Id,t=t,n=r,a=o=o,r=e=>{n(e)&&a(Qd(e))},(o=e).dom.addEventListener(t,r,!1),{unbind:x(Ud,o,t,r,!1)};var r,n,a},Md=Qd,Hd=e=>!kd(U.fromDom(e.target),"ephox-snooker-resizer-bar"),Dd=(d,c)=>{e=Sa.selectedSelector;let r={get:()=>wa(U.fromDom(d.getBody()),e).fold(()=>Ta(Jn(d),Xn(d)).fold(Ed,Sd),Fd)},u=((i,t)=>{let o=e=>{Q(e,i.selected),Q(e,i.firstSelected),Q(e,i.lastSelected)},s=e=>{S(e,i.selected,"1")},l=e=>{r(e),t()},r=e=>{e=Bt(e,i.selectedSelector+`,${i.firstSelectedSelector},`+i.lastSelectedSelector);w(e,o)};return{clearBeforeUpdate:r,clear:l,selectRange:(e,t,o,r)=>{var n,a,A;l(e),w(t,s),S(o,i.firstSelected,"1"),S(r,i.lastSelected,"1"),n=t,a=o,A=r,N(a).each(e=>{var t,o,r=Un(d),r=kn(g,U.fromDom(d.getDoc()),r),e=((e,t,i)=>{let s=V(e);return xA(s,t).map(e=>{let t=hA(s,i,!1),o=P(t).rows,r=(a=e,A=o.slice(0,a[a.length-1].row+1),A=fA(A),_(A,e=>{e=e.cells.slice(0,a[a.length-1].column+1);return v(e,e=>e.element)})),n=((e,t)=>{e=e.slice(t[0].row+t[0].rowspan-1,e.length),e=fA(e);return _(e,e=>{e=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return v(e,e=>e.element)})})(o,e);var a,A;return{upOrLeftCells:r,downOrRightCells:n}})})(e,{selection:Ma(d)},r);r=n,t=a,o=A,d.dispatch("TableSelectionChange",{cells:r,start:t,finish:o,otherCells:e})})},selectedSelector:i.selectedSelector,firstSelectedSelector:i.firstSelectedSelector,lastSelectedSelector:i.lastSelectedSelector}})(Sa,()=>{d.dispatch("TableSelectionClear")});var e;return d.on("init",e=>{let o=d.getWin(),r=Wn(d),t=Xn(d),n=((e,t,o,r)=>{e=((a,A,o,i)=>{let t=Wl(),r=t.clear,n=n=>{t.on(e=>{i.clearBeforeUpdate(A),Xl(n.target,o).each(t=>{ha(e,t,o).each(e=>{var r=e.boxes.getOr([]);if(1===r.length){let e=r[0],t="false"===jn(e),o=It(Zn(n.target),e,T);t&&o&&(i.selectRange(A,r,e,e),a.selectContents(e))}else 1<r.length&&(i.selectRange(A,r,e.start,e.finish),a.selectContents(t))})})})};return{clearstate:r,mousedown:e=>{i.clear(A),Xl(e.target,o).filter(Yl).each(t.set)},mouseover:e=>{n(e)},mouseup:e=>{n(e),r()}}})(vd(e),t,o,r);return{clearstate:e.clearstate,mousedown:e.mousedown,mouseover:e.mouseover,mouseup:e.mouseup}})(o,r,t,u),a=((e,u,g,m)=>{let d=vd(e),c=()=>(m.clear(u),f.none());return{keydown:(e,t,o,r,n,A)=>{let a=e.raw,i=a.which,s=!0===a.shiftKey,l=fa(u,m.selectedSelector).fold(()=>(od(i)&&!s&&m.clearBeforeUpdate(u),od(i)&&s&&!Bd(t,r)?f.none:td(i)&&s?x(Gl,d,u,g,Jl,r,t,m.selectRange):ed(i)&&s?x(Gl,d,u,g,ql,r,t,m.selectRange):td(i)?x(zl,d,g,Jl,r,t,Zl):ed(i)?x(zl,d,g,ql,r,t,Kl):f.none),a=>{var e=e=>()=>ge(e,e=>{return t=e.rows,e=e.cols,o=u,r=a,n=m,va(r,t,e,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>(n.clearBeforeUpdate(o),n.selectRange(o,e.boxes,e.start,e.finish),e.boxes));var t,o,r,n}).fold(()=>ba(u,m.firstSelectedSelector,m.lastSelectedSelector).map(e=>{var t=td(i)||A.isForward(i)?K.after:K.before;return d.setRelativeSelection(K.on(e.first,0),t(e.table)),m.clear(u),zs(f.none(),!0)}),e=>f.some(zs(f.none(),!0)));return od(i)&&s&&!Bd(t,r)?f.none:td(i)&&s?e([wd(1,0)]):ed(i)&&s?e([wd(-1,0)]):A.isBackward(i)&&s?e([wd(0,-1),wd(-1,0)]):A.isForward(i)&&s?e([wd(0,1),wd(1,0)]):od(i)&&!s?c:f.none});return l()},keyup:(i,s,l,d,c)=>fa(u,m.selectedSelector).fold(()=>{var o,r,e,t,n,a=i.raw,A=a.which;return!0!==a.shiftKey||!od(A)||!Bd(s,d)||(o=u,r=g,a=s,A=l,e=d,t=c,n=m.selectRange,T(a,e)&&A===t)?f.none():O(a,"td,th",r).bind(t=>O(e,"td,th",r).bind(e=>nl(o,r,t,e,n)))},f.none)}})(o,r,t,u),A=((e,r,t,n)=>{let a=vd(e);return(e,o)=>{n.clearBeforeUpdate(r),ha(e,o,t).each(e=>{var t=e.boxes.getOr([]);n.selectRange(r,t,e.start,e.finish),a.selectContents(o),a.collapseSelection()})}})(o,r,t,u),i=(d.on("TableSelectorChange",e=>A(e.start,e.finish)),(e,t)=>{!0===e.raw.shiftKey&&(t.kill&&e.kill(),t.selection.each(e=>{e=Ad.relative(e.start,e.finish),e=$s(o,e);d.selection.setRng(e)}))}),s=e=>0===e.button,l=(()=>{let n=jl(U.fromDom(r)),a=jl(0);return{touchEnd:e=>{var t,o,r=U.fromDom(e.target);(F("td")(r)||F("th")(r))&&(t=n.get(),o=a.get(),T(t,r))&&e.timeStamp-o<300&&(e.preventDefault(),A(r,r)),n.set(r),a.set(e.timeStamp)}}})();d.on("dragstart",e=>{n.clearstate()}),d.on("mousedown",e=>{s(e)&&Hd(e)&&n.mousedown(Md(e))}),d.on("mouseover",e=>{void 0!==e.buttons&&0==(1&e.buttons)||!Hd(e)||n.mouseover(Md(e))}),d.on("mouseup",e=>{s(e)&&Hd(e)&&n.mouseup(Md(e))}),d.on("touchend",l.touchEnd),d.on("keyup",e=>{let r=Md(e);if(r.raw.shiftKey&&od(r.raw.which)){let e=d.selection.getRng(),t=U.fromDom(e.startContainer),o=U.fromDom(e.endContainer);a.keyup(r,t,e.startOffset,o,e.endOffset).each(e=>{i(r,e)})}}),d.on("keydown",e=>{let t=Md(e);c.hide();var e=d.selection.getRng(),o=U.fromDom(e.startContainer),r=U.fromDom(e.endContainer),n=Ar(rd,nd)(U.fromDom(d.selection.getStart()));a.keydown(t,o,e.startOffset,r,e.endOffset,n).each(e=>{i(t,e)}),c.show()}),d.on("NodeChange",()=>{var e=d.selection,t=U.fromDom(e.getStart()),e=U.fromDom(e.getEnd());ma(N,[t,e]).fold(()=>u.clear(r),g)})}),d.on("PreInit",()=>{d.serializer.addTempAttr(Sa.firstSelected),d.serializer.addTempAttr(Sa.lastSelected)}),{getSelectedCells:()=>{var e,t=r.get(),o=p([]);switch(t.tag){case"none":return o();case"single":return[t.element.dom];case"multiple":return e=t.elements,v(e,e=>e.dom)}},clearSelectedCells:e=>u.clear(U.fromDom(e))}},Od=e=>{let n=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},unbind:t=>{n=C(n,e=>e!==t)},trigger:(...o)=>{let r={};w(e,(e,t)=>{r[e]=o[t]}),w(n,e=>{e(r)})}}},Ld=e=>({registry:he(e,e=>({bind:e.bind,unbind:e.unbind})),trigger:he(e,e=>e.trigger)}),Nd=e=>e.slice(0).sort(),Rd=(t,e)=>{var e=C(e,e=>!m(t,e));if(0<e.length)throw e=e,new Error("Unsupported keys for object: "+Nd(e).join(", "))},Pd=e=>{var n=Rd,a=e,A={validate:j,label:"function"};if(0===a.length)throw new Error("You must specify at least one required field.");e=a;if(!s(e))throw new Error("The required fields must be an array. Was: "+e+".");w(e,e=>{if(!c(e))throw new Error("The value "+e+" in the required fields was not a string.")});{e=a;let o=Nd(e);ae(o,(e,t)=>t<o.length-1&&e===o[t+1]).each(e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+o.join(", ")+"].")})}return t=>{let o=me(t);{var e,r;if(!se(a,e=>m(o,e)))throw e=a,r=o,new Error("All required keys ("+Nd(e).join(", ")+") were not specified. Specified keys were: "+Nd(r).join(", ")+".")}n(a,o);e=C(a,e=>!A.validate(t[e],e));if(0<e.length)throw r=e,new Error("All values need to be of type: "+A.label+". Keys ("+Nd(r).join(", ")+") were not.");return t}},Vd=Pd(["compare","extract","mutate","sink"]),zd=Pd(["element","start","stop","destroy"]),Kd=Pd(["forceDrop","drop","move","delayDrop"]),Zd=()=>{o=Ld({move:Od(["info"])});let e={onEvent:g,reset:g,events:o.registry},t=(()=>{let n=f.none(),a=Ld({move:Od(["info"])});return{onEvent:(e,r)=>{r.extract(e).each(e=>{var t,o;t=r,o=e,e=n.map(e=>t.compare(e,o)),n=f.some(o),e.each(e=>{a.trigger.move(e)})})},reset:()=>{n=f.none()},events:a.registry}})();var o;let r=e;return{on:()=>{r.reset(),r=t},off:()=>{r.reset(),r=e},isOn:()=>r===t,onEvent:(e,t)=>{r.onEvent(e,t)},events:t.events}},Gd=e=>{let t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}},jd=Gd("ephox-dragster").resolve;var Wd=Vd({compare:(e,t)=>ur(t.left-e.left,t.top-e.top),extract:e=>f.some(ur(e.x,e.y)),sink:(e,t)=>{let o=(e=>{let t={layerClass:jd("blocker"),...e},o=U.fromTag("div");return S(o,"role","presentation"),Vt(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),_d(o,jd("blocker")),_d(o,t.layerClass),{element:p(o),destroy:()=>{H(o)}}})(t),r=Td(o.element(),"mousedown",e.forceDrop),n=Td(o.element(),"mouseup",e.drop),a=Td(o.element(),"mousemove",e.move),A=Td(o.element(),"mouseout",e.delayDrop);return zd({element:o.element,start:e=>{M(e,o.element())},stop:()=>{H(o.element())},destroy:()=>{o.destroy(),n.unbind(),a.unbind(),A.unbind(),r.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});let Xd=Gd("ephox-snooker").resolve,Yd=Xd("resizer-bar"),Jd=Xd("resizer-rows"),qd=Xd("resizer-cols"),$d=e=>{e=Bt(e.parent(),"."+Yd);w(e,H)},ec=(t,e,o)=>{let r=t.origin();w(e,e=>{e.each(e=>{e=o(r,e);_d(e,Yd),M(t.parent(),e)})})},tc=(e,t,o,r,n)=>{let a=mr(o),A=t.isResizable,i=0<r.length?kr.positions(r,o):[],s=0<i.length?(r=e,l=A,_(r.all,(e,t)=>l(e.element)?[t]:[])):[];var l,d,c,u,g,m;r=t,u=C(i,(e,t)=>b(s,e=>t===e)),d=a,c=Mo(o),ec(r,u,(e,t)=>{o=t.row,n=d.left-e.left,t=t.y-e.top,e=c,r=U.fromTag("div"),Vt(r,{position:"absolute",left:n+"px",top:t-3.5+"px",height:"7px",width:e+"px"}),Me(r,{"data-row":o,role:"presentation"});var o,r,n=r;return _d(n,Jd),n});let p=0<n.length?Fr.positions(n,o):[],h=0<p.length?((o,r)=>{let t=[];return y(o.grid.columns,e=>{or(o,e).map(e=>e.element).forall(r)&&t.push(e)}),C(t,t=>{var e=qo(o,e=>e.column===t);return se(e,e=>r(e.element))})})(e,A):[];r=t,u=C(p,(e,t)=>b(h,e=>t===e)),g=a,m=dr(o),ec(r,u,(e,t)=>{o=t.col,t=t.x-e.left,e=g.top-e.top,r=m,n=U.fromTag("div"),Vt(n,{position:"absolute",left:t-3.5+"px",top:e+"px",height:r+"px",width:"7px"}),Me(n,{"data-column":o,role:"presentation"});var o,r,n,t=n;return _d(t,qd),t})},oc=(e,t)=>{var o,r,n;$d(e),e.isResizable(t)&&(o=V(t),r=ar(o),n=rr(o),tc(o,e,t,r,n))},rc=(e,t)=>{e=Bt(e.parent(),"."+Yd);w(e,t)},nc=e=>{rc(e,e=>{L(e,"display","none")})},ac=e=>{rc(e,e=>{L(e,"display","block")})},Ac=Xd("resizer-bar-dragging"),ic=n=>{let o=(()=>{let o=Ld({drag:Od(["xDelta","yDelta","target"])}),r=f.none();var e=(()=>{let o=Ld({drag:Od(["xDelta","yDelta"])});return{mutate:(e,t)=>{o.trigger.drag(e,t)},events:o.registry}})();return e.events.drag.bind(t=>{r.each(e=>{o.trigger.drag(t.xDelta,t.yDelta,e)})}),{assign:e=>{r=f.some(e)},get:()=>r,mutate:e.mutate,events:o.registry}})(),r=((i,s)=>{{var l=i,d=null!=(i=s.mode)?i:Wd;i=s;let o=!1,t=Ld({start:Od([]),stop:Od([])}),r=Zd(),e=()=>{A.stop(),r.isOn()&&(r.off(),t.trigger.stop())},n=(t=>{let o=null,r=()=>{Z(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...e)=>{r(),o=setTimeout(()=>{o=null,t.apply(null,e)},200)}}})(e),a=(r.events.move.bind(e=>{d.mutate(l,e.info)}),t=>(...e)=>{o&&t.apply(null,e)}),A=d.sink(Kd({forceDrop:e,drop:a(e),move:a(e=>{n.cancel(),r.onEvent(e,d)}),delayDrop:a(n.throttle)}),i);return{element:A.element,go:e=>{A.start(e),r.on(),t.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{A.destroy()},events:t.registry}}})(o,{}),a=f.none(),e=(e,t)=>f.from(He(e,t)),A=(o.events.drag.bind(o=>{e(o.target,"data-row").each(e=>{var t=Jt(o.target,"top");L(o.target,"top",t+o.yDelta+"px")}),e(o.target,"data-column").each(e=>{var t=Jt(o.target,"left");L(o.target,"left",t+o.xDelta+"px")})}),(e,t)=>Jt(e,t)-jt(e,"data-initial-"+t,0)),i=(r.events.stop.bind(()=>{o.get().each(r=>{a.each(o=>{e(r,"data-row").each(e=>{var t=A(r,"top");Q(r,"data-initial-top"),d.trigger.adjustHeight(o,t,parseInt(e,10))}),e(r,"data-column").each(e=>{var t=A(r,"left");Q(r,"data-initial-left"),d.trigger.adjustWidth(o,t,parseInt(e,10))}),oc(n,o)})})}),(e,t)=>{d.trigger.startAdjust(),o.assign(e),S(e,"data-initial-"+t,Jt(e,t)),_d(e,Ac),L(e,"opacity","0.2"),r.go(n.parent())}),t=Td(n.parent(),"mousedown",e=>{var t=e.target;kd(t,Jd)&&i(e.target,"top"),t=e.target,kd(t,qd)&&i(e.target,"left")}),s=e=>T(e,n.view()),l=Td(n.view(),"mouseover",e=>{var t=e.target;O(t,"table",s).filter(Gn).fold(()=>{ft(e.target)&&$d(n)},e=>{r.isActive()&&(a=f.some(e),oc(n,e))})}),d=Ld({adjustHeight:Od(["table","delta","row"]),adjustWidth:Od(["table","delta","column"]),startAdjust:Od([])});return{destroy:()=>{t.unbind(),l.unbind(),r.destroy(),$d(n)},refresh:e=>{oc(n,e)},on:r.on,off:r.off,hideBars:x(nc,n),showBars:x(ac,n),events:d.registry}},sc=(e,n,a)=>{let l=kr,A=Fr,t=ic(e),d=Ld({beforeResize:Od(["table","type"]),afterResize:Od(["table","type"]),startDrag:Od([])});return t.events.adjustHeight.bind(e=>{var t,o,r,n,a,A,i,s=e.table;d.trigger.beforeResize(s,"row"),t=s,o=l.delta(e.delta,s),r=e.row,e=l,a=V(t),A=a,i=t,e=e,A=en(A,i,e,zr,e=>e.getOrThunk($t)),i=v(A,(e,t)=>r===t?Math.max(o+e,$t()):e),e=XA(a,i),A=a,n=i,a=v(A.all,(e,t)=>({element:e.element,height:n[t]})),w(a,e=>{Or(e.element,e.height)}),w(e,e=>{Or(e.element,e.height)}),A=re(i,(e,t)=>e+t,0),Or(t,A),d.trigger.afterResize(s,"row")}),t.events.startAdjust.bind(e=>{d.trigger.startDrag()}),t.events.adjustWidth.bind(e=>{var t=e.table,o=(d.trigger.beforeResize(t,"col"),A.delta(e.delta,t)),r=a(t);JA(t,o,e.column,n,r),d.trigger.afterResize(t,"col")}),{on:t.on,off:t.off,refreshBars:t.refresh,hideBars:t.hideBars,showBars:t.showBars,destroy:t.destroy,events:d.registry}},lc=e=>G(e)&&"TABLE"===e.nodeName,dc="bar-",cc=e=>"false"!==He(e,"data-mce-resize"),uc=A=>{let i=Wl(),s=Wl(),l=Wl(),d,c,u=e=>rs(A,e),g=()=>(Mn(A)?Xa:Wa)();return A.on("init",()=>{n=A,e=cc;var e,t,o,r,n,a=n.inline?(o=U.fromDom(n.getBody()),r=U.fromTag("div"),Vt(r,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),M(bt(U.fromDom(document)),r),r=r,a=e,{parent:p(r),view:p(o),origin:p(ur(0,0)),isResizable:a}):(r=U.fromDom(n.getDoc()),o=e,t=Ue(r)?(t=r,U.fromDom(Ke(t).dom.documentElement)):r,{parent:p(t),view:p(r),origin:p(ur(0,0)),isResizable:o});if(l.set(a),n=A.options.get("object_resizing"),m(n.split(","),"table")&&Rn(A)){let e=g(),t=sc(a,e,u);t.on(),t.events.startDrag.bind(e=>{i.set(A.selection.getRng())}),t.events.beforeResize.bind(e=>{var t,o,r,n=e.table.dom;t=A,o=n,r=qn(n),n=$n(n),e=dc+e.type,t.dispatch("ObjectResizeStart",{target:o,width:r,height:n,origin:e})}),t.events.afterResize.bind(e=>{var t,o,r=e.table,n=r.dom;Yn(r),i.on(e=>{A.selection.setRng(e),A.focus()}),r=A,t=n,o=qn(n),n=$n(n),e=dc+e.type,r.dispatch("ObjectResized",{target:t,width:o,height:n,origin:e}),A.undoManager.add()}),s.set(t)}}),A.on("ObjectResizeStart",e=>{var t,o=e.target;lc(o)&&(t=U.fromDom(o),w(A.dom.select(".mce-clonedresizable"),e=>{A.dom.addClass(e,"mce-"+Tn(A)+"-columns")}),!bs(t)&&Ln(A)?Bs(t):!fs(t)&&On(A)&&xs(t),vs(t)&&Dt(e.origin,dc)&&xs(t),d=e.width,c=Nn(A)?"":((e,t)=>{e=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return f.from(e).filter(Nt)})(A,o).getOr(""))}),A.on("ObjectResized",r=>{var e=r.target;if(lc(e)){var e=U.fromDom(e),n=r.origin;if(Dt(n,"corner-")){var a=e;var t=n;n=r.width;r=Ot(t,"e");if(""===c&&xs(a),n!==d&&""!==c){L(a,"width",c);let e=g(),t=u(a),o=Mn(A)||r?(r=a,Ya(r).columns-1):0;JA(a,n-d,o,e,t)}else if(/^(\d+(\.\d+)?)%$/.test(c)){let e=parseFloat(c.replace("%",""));L(a,"width",n*e/d+"%")}/^(\d+(\.\d+)?)px$/.test(c)&&(t=a,r=V(t),tr(r)||w(ro(t),e=>{var t=zt(e,"width");L(e,"width",t),Q(e,"width")}))}Yn(e),es(A,e.dom,ts)}}),A.on("SwitchMode",()=>{s.on(e=>{A.mode.isReadOnly()?e.hideBars():e.showBars()})}),A.on("dragstart dragend",t=>{s.on(e=>{"dragstart"===t.type?(e.hideBars(),e.off()):(e.on(),e.showBars())})}),A.on("remove",()=>{s.on(e=>{e.destroy()}),l.on(e=>{e=e,A.inline&&H(e.parent())})}),{refresh:t=>{s.on(e=>e.refreshBars(U.fromDom(t)))},hide:()=>{s.on(e=>e.hideBars())},show:()=>{s.on(e=>e.showBars())}}};t.add("dom",e=>({table:(o=>{(r=o.options.register)("table_clone_elements",{processor:"string[]"}),r("table_use_colgroups",{processor:"boolean",default:!0}),r("table_header_type",{processor:e=>{var t=m(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),r("table_sizing_mode",{processor:"string",default:"auto"}),r("table_default_attributes",{processor:"object",default:{border:"1"}}),r("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),r("table_column_resizing",{processor:e=>{var t=m(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),r("table_resize_bars",{processor:"boolean",default:!0}),r("table_style_by_css",{processor:"boolean",default:!0}),r("table_merge_content_on_paste",{processor:"boolean",default:!0});var r=uc(o),e=Dd(o,r),r=ns(o,r,e);Ps(o,r);{var n=o,a=r;let e=Xn(n),t=r=>Ta(Jn(n)).bind(o=>N(o,e).map(e=>{var t=Qa(Ma(n),e,o);return r(e,t)})).getOr("");k({mceTableRowType:()=>t(a.getTableRowType),mceTableCellType:()=>t(a.getTableCellType),mceTableColType:()=>t(a.getTableColType)},(e,t)=>n.addQueryValueHandler(t,e))}return Ha(o,r),{getSelectedCells:e.getSelectedCells,clearSelectedCells:e.clearSelectedCells}})(e)}))})();let spotFixCSS=`.doboard_task_widget-send_message_paperclip .doboard_task_widget-paperclip-tooltip::after{content:"";position:absolute;left:8%;top:100%;transform:translateX(-50%);pointer-events:none;background:0 0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #545b61;display:block}.doboard_task_widget-send_message_paperclip{position:relative}.doboard_task_widget-send_message_paperclip .doboard_task_widget-paperclip-tooltip{display:none;position:absolute;left:0;bottom:0;transform:translateX(-3%) translateY(-43px);background:#545b61;color:#FFF;border:none;border-radius:3px;padding:10px 16px;font-size:13px;line-height:1.4;z-index:100;min-width:220px;max-width:320px;text-align:left;pointer-events:none;text-transform:none}.doboard_task_widget-send_message_paperclip:hover .doboard_task_widget-paperclip-tooltip{display:block}.doboard_task_widget *{font-family:Inter,sans-serif;font-weight:400;font-size:14px;line-height:130%;color:#40484F}.doboard_task_widget-header *{color:#252A2F;margin:0}.doboard_task_widget-header-icons{display:flex}.doboard_task_widget a{text-decoration:underline;color:#2F68B7}.doboard_task_widget a:hover{text-decoration:none}.doboard_task_widget{position:fixed;right:50px;bottom:20px;z-index:9999;vertical-align:middle;transition:top .1s;transform:translateZ(0);-webkit-transform:translateZ(0);will-change:transform}.doboard_task_widget_cursor-pointer{cursor:pointer}.doboard_task_widget-container-maximize .doboard_task_widget-field{display:flex;justify-content:center}.doboard_task_widget-input-container-textarea .tox-tinymce{position:absolute}.doboard_task_widget-container-maximize{width:80vw!important;max-width:1120px!important;max-height:75vh!important;min-height:75vh!important;display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-container{width:430px;max-height:calc(100vh - 40px);display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-header{display:flex;height:41px;min-height:41px;padding:0 16px;background-color:#EBF0F4;border-radius:8px 8px 0 0;border:1px solid #BBC7D1;border-bottom:none;justify-content:space-between;align-items:center;color:#FFF}.doboard_task_widget-user_menu-header{display:flex;padding:16px;border:1px solid #BBC7D1;border-bottom-color:#EBF0F4;border-radius:8px 8px 0 0;flex-direction:column;align-items:center;color:#252A2F;background-color:#F3F6F9}.doboard_task_widget-user_menu-header-top{display:flex;height:fit-content;align-items:center;width:100%;justify-content:space-between}.doboard_task_widget-user_menu-header-avatar{max-width:60px;max-height:60px;width:60px;height:60px;border-radius:50%;margin-bottom:4px}.doboard_task_widget-user_menu-item{display:flex;align-items:center;border-bottom:1px #EBF0F4 solid;padding:0 16px;height:40px;margin-top:10px}.doboard_task_widget-content{flex:1;overflow-y:auto;background:#FFF;border-radius:0 0 8px 8px;border:1px #BBC7D1;border-style:none solid solid;box-shadow:0 4px 15px 8px #CACACA40;scrollbar-width:none;max-height:60vh}.doboard_task_widget-container-maximize .doboard_task_widget-content{max-height:inherit}.doboard_task_widget-element-container{margin-bottom:30px}.doboard_task_widget-wrap{box-shadow:none;position:fixed;right:-50px;padding:0;cursor:pointer;width:69px;height:52px;border-top-left-radius:4px;border-bottom-left-radius:4px;background-color:rgba(255,255,255,.9);border:1px solid #EBF0F4;display:flex;align-items:center;justify-content:center}.doboard_task_widget-hidden,.doboard_task_widget-input-container.hidden,.doboard_task_widget-login.hidden,.doboard_task_widget-wrap.hidden,.wrap_review::after{display:none}.doboard_task_widget-wrap img{width:32px;height:32px;transform:scaleX(-1)}.wrap_review{width:164px;min-width:164px;height:54px}.wrap_review img{width:28px;height:28px;transform:scaleX(-1)}.wrap_review:hover{background-color:#fff}@media (max-width:480px){.doboard_task_widget-wrap{right:-20px}}#review_content_button_text{color:#D5991A;margin-left:6px;font-weight:600;font-size:14px;text-transform:none!important}#doboard_task_widget-task_count{position:absolute;top:-12px;right:4px;width:22px;height:22px;opacity:1;background:#ef8b43;border-radius:50%;color:#FFF;text-align:center;line-height:22px}#doboard_task_widget-task_count.hidden{width:0;height:0;opacity:0}.doboard_task_widget-input-container{position:relative;margin-bottom:24px}.doboard_task_widget-input-container .doboard_task_widget-field{padding:0 8px;border-radius:4px;border:1px solid #BBC7D1;outline:0!important;appearance:none;width:100%;height:40px;background:#FFF;color:#000;max-width:-webkit-fill-available;max-width:-moz-available}.doboard_task_widget-field:focus{border-color:#2F68B7}.doboard_task_widget-input-container textarea.doboard_task_widget-field{min-height:94px;padding-top:11px;padding-bottom:11px}.doboard_task_widget-field+label{color:#252A2F;background:#fff;position:absolute;top:20px;left:8px;transform:translateY(-50%);transition:all .2s ease-in-out}.doboard_task_widget-field.has-value+label,.doboard_task_widget-field:focus+label{font-size:10px;top:0;left:12px;padding:0 4px;z-index:5}.doboard_task_widget-field:focus+label{color:#2F68B7}.doboard_task_widget-login{background:#F9FBFD;border:1px solid #BBC7D1;border-radius:4px;padding:11px 8px 8px;margin-bottom:24px}.doboard_task_widget-login .doboard_task_widget-accordion{height:0;overflow:hidden;opacity:0;transition:all .2s ease-in-out}.doboard_task_widget-login.active .doboard_task_widget-accordion{height:auto;overflow:visible;opacity:1}.doboard_task_widget-login .doboard_task_widget-input-container:last-child{margin-bottom:0}.doboard_task_widget-login .doboard_task_widget-login-icon{display:block;position:relative;padding-right:24px;cursor:pointer}.doboard_task_widget-login.active .doboard_task_widget-login-icon{margin-bottom:24px}.doboard_task_widget-login .doboard_task_widget-login-icon::after{position:absolute;top:0;right:4px;content:"";display:block;width:10px;height:10px;transform:rotate(45deg);border:2px solid #40484F;border-radius:1px;border-top:none;border-left:none;transition:all .2s ease-in-out}.doboard_task_widget-login.active .doboard_task_widget-login-icon::after{transform:rotate(-135deg);top:7px}.doboard_task_widget-login .doboard_task_widget-field+label,.doboard_task_widget-login .doboard_task_widget-input-container .doboard_task_widget-field{background:#F9FBFD}.doboard_task_widget-submit_button{min-height:48px;width:100%;max-width:400px;margin-bottom:10px;color:#FFF;background:#22A475;border:none;border-radius:6px;font-family:Inter,sans-serif;font-weight:700;font-size:16px;line-height:150%;cursor:pointer;transition:all .2s ease-in-out}.doboard_task_widget-submit_button:hover{background:#1C7857;color:#FFF}.doboard_task_widget-submit_button:disabled{background:rgba(117,148,138,.92);color:#FFF;cursor:wait}.doboard_task_widget-login-buttons-wrapper{display:flex;gap:10px;margin-bottom:10px}.doboard_task_widget-login-buttons-wrapper .doboard_task_widget-submit_button{margin-bottom:0;width:auto;min-height:32px;font-size:14px;padding:4px 12px}.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-forgot_password-black,.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-on_phantom_login_page{flex:1;background:#FFF;border:1px solid #22A475;color:#22A475}.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-forgot_password-black:hover,.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-on_phantom_login_page:hover{background:#f0fdf4;color:#1C7857}.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-login_button,.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-restore_password_button{flex:2}.doboard_task_widget-issue-title{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.doboard_task_widget-hidden_element{opacity:0}.doboard_task_widget-message-wrapper{border-radius:4px;padding:8px;margin-bottom:14px;display:grid;justify-items:center}.doboard_task_widget-error_message-wrapper.hidden,.doboard_task_widget-message-wrapper.hidden{display:none}.doboard_task_widget-error_message{background:#fdd;border:1px solid #cf6868}.doboard_task_widget-notice_message{background:#dde9ff;border:1px solid #68a6cf}#doboard_task_widget-error_message-header{font-weight:600}#doboard_task_widget-error_message{text-align:center}.doboard_task_widget-task_row{display:flex;max-height:55px;cursor:pointer;align-items:center;justify-content:space-between;padding:1px 15px}.doboard_task_widget-task_row:last-child{margin-bottom:0}.doboard_task_widget-task-text_bold{font-weight:700}.doboard_task_widget-element_selection,.doboard_task_widget-image_selection,.doboard_task_widget-text_selection,.doboard_task_widget-text_selection.image-highlight>img{background:rgba(208,213,127,.68)}.doboard_task_widget-issues_list_empty{text-align:center;margin:20px 0}.doboard_task_widget-avatar_container{display:flex;height:44px;width:44px;border-radius:50%;background-repeat:no-repeat;background-position:center;background-size:100%}.doboard_task_widget-comment_data_owner .doboard_task_widget-avatar_container{opacity:0}.doboard_task_widget-avatar_placeholder{min-height:44px;min-width:44px;border-radius:50%;font-size:24px;line-height:1.2083333333;padding:0;background:#1C7857;display:inline-grid;align-content:center;justify-content:center}.doboard_task_widget-avatar-initials{color:#FFF;width:inherit;text-align:center}.doboard_task_widget-avatar{width:44px;height:44px;border-radius:50%;object-fit:cover}.doboard_task_widget-description_container{height:55px;width:calc(100% - 44px - 8px);border-bottom:1px solid #EBF0F4;display:block;margin-left:8px}.doboard_task_widget-task_row:last-child .doboard_task_widget-description_container{border-bottom:none}.doboard_task_widget-all_issues{padding-bottom:0}.doboard_task_widget-all_issues-container,.doboard_task_widget-concrete_issues-container{overflow:auto;max-height:85vh;display:none}.doboard_task_widget-all_issues-container{scrollbar-width:none;margin-top:10px;min-height:60vh}.doboard_task_widget-content.doboard_task_widget-concrete_issue{padding:0;display:flex;flex-direction:column}.doboard_task_widget-concrete_issues-container{padding:10px 16px 5px;flex-grow:1}.doboard_task_widget-all_issues-container::-webkit-scrollbar,.doboard_task_widget-all_issues::-webkit-scrollbar,.doboard_task_widget-concrete_issues-container::-webkit-scrollbar,.doboard_task_widget-content::-webkit-scrollbar{width:0}.doboard_task_widget-task_title{font-weight:700;display:flex;justify-content:space-between;align-items:center}.doboard_task_widget-task_title span{font-weight:700;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.doboard_task_widget-task_title-details{display:flex;max-width:calc(100% - 40px);align-items:center}.doboard_task_widget-task_title-unread_block{opacity:0;height:8px;width:8px;background:#f08c43;border-radius:50%;display:inline-block;font-size:8px;font-weight:600;position:relative}.doboard_task_widget-task_title-unread_block.unread{opacity:1}.doboard_task_widget-task_last_message{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:85%;height:36px}.doboard_task_widget-task_page_url{max-width:70%;height:36px;display:flex;align-items:center}.doboard_task_widget-task_page_url a{color:#40484F;text-decoration:none;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.doboard_task_widget-bottom{display:flex;justify-content:space-between}.doboard_task_widget-bottom-is-fixed{border-radius:10px;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03LjA4MTE5IDAuMjIzNDM0QzguOTkxNjkgLTAuMjA4MTY3IDEwLjk5MTMgLTAuMDExMjE5NCAxMi43ODA0IDAuNzg1OTM0QzEzLjE1ODQgMC45NTQ2MjQgMTMuMzI4NiAxLjM5ODAzIDEzLjE2MDMgMS43NzYxN0MxMi45OTE3IDIuMTU0MTkgMTIuNTQ4MiAyLjMyNDI0IDEyLjE3MDEgMi4xNTYwNUMxMC42NzY0IDEuNDkwNTIgOS4wMDcyNiAxLjMyNiA3LjQxMjI1IDEuNjg2MzJDNS44MTcxNyAyLjA0NjcxIDQuMzgwOTcgMi45MTI5NiAzLjMxODUgNC4xNTYwNUMyLjI1NjIzIDUuMzk5MDEgMS42MjQ0MSA2Ljk1MjI5IDEuNTE2NzQgOC41ODM3OUMxLjQwOTI0IDEwLjIxNTQgMS44MzE4NCAxMS44MzkgMi43MjE4MiAxMy4yMTA3QzMuNjExNzkgMTQuNTgyMiA0LjkyMTY0IDE1LjYyOTQgNi40NTUyMSAxNi4xOTYxQzcuOTg5MDIgMTYuNzYyNiA5LjY2NTUzIDE2LjgxODkgMTEuMjMzNSAxNi4zNTUzQzEyLjgwMTYgMTUuODkxNiAxNC4xNzgzIDE0LjkzMzUgMTUuMTU3NCAxMy42MjM4QzE2LjEzNjQgMTIuMzE0MiAxNi42NjYxIDEwLjcyMjcgMTYuNjY3MSA5LjA4NzY5TDE4LjE2NzEgOS4wODg2N0MxOC4xNjU4IDExLjA0NzEgMTcuNTMxMiAxMi45NTM2IDE2LjM1ODUgMTQuNTIyM0MxNS4xODU5IDE2LjA5MDcgMTMuNTM3MyAxNy4yMzg0IDExLjY1OTMgMTcuNzkzN0M5Ljc4MTEgMTguMzQ5MSA3Ljc3MjkzIDE4LjI4MiA1LjkzNTY4IDE3LjYwMzNDNC4wOTg1IDE2LjkyNDYgMi41MjkxMiAxNS42NzAxIDEuNDYzMDMgMTQuMDI3MUMwLjM5NzAzNSAxMi4zODQxIC0wLjEwOTEwOSAxMC40Mzk1IDAuMDE5NjY4MyA4LjQ4NTE1QzAuMTQ4NjA3IDYuNTMwOCAwLjkwNjMyMyA0LjY3MDMzIDIuMTc4ODUgMy4xODE0NEMzLjQ1MTM2IDEuNjkyNjggNS4xNzA4OCAwLjY1NTE2MiA3LjA4MTE5IDAuMjIzNDM0WiIgZmlsbD0iIzIyQTQ3NSIvPg0KPHBhdGggZD0iTTE2Ljg4NTkgMS44OTA0M0MxNy4xNzg2IDEuNTk3NTMgMTcuNjUzNCAxLjU5Nzg0IDE3Ljk0NjQgMS44OTA0M0MxOC4yMzkzIDIuMTgzMTYgMTguMjQwMSAyLjY1Nzk2IDE3Ljk0NzQgMi45NTA5N0w5LjYxMzQyIDExLjI5MjhDOS40NzI4MiAxMS40MzMzIDkuMjgxOTYgMTEuNTEyNCA5LjA4MzE1IDExLjUxMjVDOC44ODQzMiAxMS41MTI1IDguNjkzNDggMTEuNDMzMyA4LjU1Mjg3IDExLjI5MjhMNi4wNTI4NyA4Ljc5Mjc3QzUuNzYwMTQgOC40OTk5IDUuNzYwMTEgOC4wMjUwOCA2LjA1Mjg3IDcuNzMyMjJDNi4zNDU3MiA3LjQzOTM3IDYuODIwNTEgNy40Mzk0NiA3LjExMzQyIDcuNzMyMjJMOS4wODIxNyA5LjcwMDk3TDE2Ljg4NTkgMS44OTA0M1oiIGZpbGw9IiMyMkE0NzUiLz4NCjxwYXRoIGQ9Ik0xNy40MTcxIDcuNTcxMDlDMTcuODMxIDcuNTcxNDQgMTguMTY3IDcuOTA3MTYgMTguMTY3MSA4LjMyMTA5VjkuMDg4NjdMMTcuNDE3MSA5LjA4NzY5SDE2LjY2NzFWOC4zMjEwOUMxNi42NjcyIDcuOTA2OTQgMTcuMDAzIDcuNTcxMDkgMTcuNDE3MSA3LjU3MTA5WiIgZmlsbD0iIzIyQTQ3NSIvPg0KPC9zdmc+) 8px center no-repeat #EBFAF4;padding:4px 7px 4px 30px}.doboard_task_widget-bottom-is-fixed-task-block{text-align:center}.doboard_task_widget-bottom-is-fixed-task{background:#F3F6F9;color:#1C7857;display:inline-block;border-radius:10px;padding:5px 8px;margin:0 auto}.doboard_task_widget-task_row-green{background:#EBF0F4}.doboard_task_widget_return_to_all{display:flex;gap:8px;flex-direction:row;-moz-flex-direction:row;align-content:center;flex-wrap:wrap}.doboard_task_widget-task_title-last_update_time{font-family:Inter,serif;font-weight:400;font-style:normal;font-size:11px;leading-trim:NONE;line-height:100%}.doboard_task_widget-task_title_public_status_img{opacity:50%;margin-left:5px;scale:90%}.doboard_task_widget-description-textarea{resize:none}.doboard_task_widget-switch_row{display:flex;align-items:center;gap:12px;margin:16px 0;justify-content:space-between}.doboard_task_widget-switch-label{font-weight:600;font-size:16px;height:24px;align-content:center}.doboard_task_widget-switch{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.doboard_task_widget-switch input{opacity:0;width:0;height:0}.doboard_task_widget-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;border-radius:24px;transition:.2s}.doboard_task_widget-slider:before{position:absolute;content:"";height:20px;width:20px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:.2s}.doboard_task_widget-switch input:checked+.doboard_task_widget-slider{background-color:#65D4AC}.doboard_task_widget-switch input:checked+.doboard_task_widget-slider:before{transform:translateX(20px)}.doboard_task_widget-switch-img{width:24px;height:24px;flex-shrink:0}.doboard_task_widget-switch-center{display:flex;gap:2px;flex-direction:column;-moz-flex-direction:column;flex:1 1 auto;min-width:0}.doboard_task_widget-switch-desc{display:block;font-size:12px;color:#707A83;margin:0;line-height:1.2;max-width:180px;word-break:break-word}.doboard_task_widget-concrete_issue-day_content{display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-concrete_issue_day_content-month_day{text-align:center;font-weight:400;font-size:12px;line-height:100%;padding:8px;opacity:.75}.doboard_task_widget-concrete_issue_day_content-messages_wrapper{display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-comment_data_wrapper{display:flex;flex-direction:row;-moz-flex-direction:row;margin-bottom:15px;align-items:flex-end}.doboard_task_widget-comment_text_container{position:relative;width:calc(100% - 44px - 5px);height:auto;margin-left:5px;background:#F3F6F9;border-radius:16px}.doboard_task_widget-comment_text_container:after{content:"";position:absolute;bottom:0;left:-5px;width:13px;height:19px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxMyAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuMTEyNTggMTkuMDMzNEM1LjI5NDg2IDE5LjgyMDEgMTAuNjEwNSAxNy45NzQxIDEyLjI3MTUgMTYuMTcxM0MxMi4yNzE1IDE2LjE3MTMgMTAuOTYyMyAtMi43ODEyNCA1LjA5NTU0IDAuMzQ5MDc5QzUuMDc0NCAxLjYxNDU0IDUuMDk1NTQgNS45OTQ5IDUuMDk1NTQgNi43NDA2OUM1LjA5NTU0IDE3LjA2NjIgLTAuODg0MDEyIDE4LjQ0MDEgMC4xMTI1OCAxOS4wMzM0WiIgZmlsbD0iI0YzRjZGOSIvPgo8L3N2Zz4K)}.doboard_task_widget-comment_data_owner .doboard_task_widget-comment_text_container{background:#EBFAF4}.doboard_task_widget-comment_data_owner .doboard_task_widget-comment_text_container:after{left:auto;right:-5px;height:13px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjc3NzEgMTIuMzA2NkM3LjMzMTM1IDEzLjA5MzcgMS43NDU0NCAxMS4yNDY5IDAgOS40NDMxOUw3LjM5MTYgMEM3LjM5MTYgMTAuMzMwMyAxMy44MjQ0IDExLjcxMzEgMTIuNzc3MSAxMi4zMDY2WiIgZmlsbD0iI0VCRkFGNCIvPgo8L3N2Zz4K)}.doboard_task_widget-comment_body,.doboard_task_widget-comment_time{position:relative;z-index:1}.doboard_task_widget-comment_body{padding:6px 8px;min-height:30px}.doboard_task_widget-comment_body strong{font-variation-settings:"wght" 700}.doboard_task_widget-comment_body blockquote{margin:0;border-left:3px solid #22a475}.doboard_task_widget-comment_body blockquote p{margin:0 10px}.doboard_task_widget-comment_body details .mce-accordion-body{padding-left:20px}.doboard_task_widget-comment_body details .mce-accordion-summary{background:url("data:image/svg+xml;charset=utf-8,%3Csvg transform='rotate(180 0 0)' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' style='enable-background:new 0 0 20 20' xml:space='preserve'%3E%3Cpath d='M10 13.3c-.2 0-.4-.1-.6-.2l-5-5c-.3-.3-.3-.9 0-1.2.3-.3.9-.3 1.2 0l4.4 4.4 4.4-4.4c.3-.3.9-.3 1.2 0 .3.3.3.9 0 1.2l-5 5c-.2.2-.4.2-.6.2z'/%3E%3C/svg%3E") 0 no-repeat;padding-left:20px}.doboard_task_widget-comment_body .mce-accordion[open] .mce-accordion-summary{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' style='enable-background:new 0 0 20 20' xml:space='preserve'%3E%3Cpath d='M10 13.3c-.2 0-.4-.1-.6-.2l-5-5c-.3-.3-.3-.9 0-1.2.3-.3.9-.3 1.2 0l4.4 4.4 4.4-4.4c.3-.3.9-.3 1.2 0 .3.3.3.9 0 1.2l-5 5c-.2.2-.4.2-.6.2z'/%3E%3C/svg%3E") 0 no-repeat}.doboard_task_widget-comment_body details .mce-accordion-summary::marker{content:""}.doboard_task_widget-comment_body pre{border:1px solid #d6dde3;border-left-width:8px;border-radius:4px;padding:13px 16px 14px 12px;white-space:pre-wrap}.doboard_task_widget-comment_time{font-weight:400;font-size:11px;opacity:.8;position:absolute;bottom:6px;right:6px}.doboard_task_widget-comment_body-img-strict{max-width:-webkit-fill-available;height:100px;margin-right:5px}.doboard_task_widget-send_message{padding:14px 10px;border-top:1px solid #BBC7D1;position:sticky;background:#fff;bottom:0;z-index:4}.doboard_task_widget-send_message_elements_wrapper{display:flex;flex-direction:row;-moz-flex-direction:row;align-content:center;flex-wrap:nowrap;justify-content:space-between;align-items:end}.doboard_task_widget-send_message_elements_wrapper img{margin:0}.doboard_task_widget-send_message_input_wrapper{position:relative;display:inline-grid;align-items:center;justify-items:center;flex-grow:1;padding:0 6px}.doboard_task_widget-send_message_input_wrapper textarea{position:relative;width:100%;height:37px;border:none;outline:0;box-shadow:none;border-radius:24px;background:#F3F6F9;resize:none;margin-bottom:0!important;transition:height .2s ease-in-out;padding:8px;box-sizing:border-box}.doboard_task_widget-send_message_input_wrapper textarea.high{height:170px}.doboard_task_widget-send_message_input_wrapper textarea:focus{background:#F3F6F9;border-color:#007bff;outline:0}.doboard_task_widget-send_message_button{display:inline-grid;border:none;cursor:pointer;padding:0;width:100%;align-items:center;margin:20px 0 0}.doboard_task_widget-send_message_paperclip{display:inline-grid;border:none;background:0 0;cursor:pointer;padding:0;align-items:center;margin:0}.doboard_task_widget-send_message_button:hover,.doboard_task_widget-send_message_paperclip:hover rect{fill:#45a049}.doboard_task_widget-send_message_button:active,.doboard_task_widget-send_message_paperclip:active{transform:scale(.98)}.doboard_task_widget-spinner_wrapper_for_containers{display:flex;justify-content:center;align-items:center;min-height:60px;width:100%}.doboard_task_widget-spinner_for_containers{width:40px;height:40px;border-radius:50%;background:conic-gradient(transparent,#1C7857);mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#fff 0);animation:spin 1s linear infinite}.doboard_task_widget-create_issue{padding:10px}.doboard_task_widget__file-upload__wrapper{display:none;border:1px solid #BBC7D1;margin-top:14px;padding:0 10px 10px;border-radius:4px}.doboard_task_widget__file-upload__list-header{text-align:left;font-size:.9em;margin:5px 0;color:#444c529e}.doboard_task_widget__file-upload__file-input-button{display:none}.doboard_task_widget__file-upload__file-list{border:1px solid #ddd;border-radius:5px;padding:6px;max-height:200px;overflow-y:auto;background:#f3f6f9}.doboard_task_widget__file-upload__file-item{display:flex;justify-content:space-between;align-items:center;padding:4px;border-bottom:1px solid #bbc7d16b}.doboard_task_widget__file-upload__file-item:last-child{border-bottom:none}.doboard_task_widget__file-upload__file_info{display:inline-flex;align-items:center}.doboard_task_widget__file-upload__file-name{font-weight:700;font-size:.9em}.doboard_task_widget__file-upload__file-item-content{width:100%}.doboard_task_widget__file-upload__file_size{color:#666;font-size:.8em;margin-left:6px}.doboard_task_widget__file-upload__remove-btn{background:#22a475;color:#fff;border:none;border-radius:3px;cursor:pointer}.doboard_task_widget__file-upload__error{display:block;margin:7px 0 0;padding:7px;border-radius:4px;background:#fdd;border:1px solid #cf6868}.doboard_task_widget-show_button{position:fixed;background:#1C7857;color:#FFF;padding:8px 12px;border-radius:4px;font-size:14px;z-index:10000;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.3);transform:translate(-50%,-100%);margin-top:-8px;white-space:nowrap;border:none;font-family:inherit}@keyframes spin{to{transform:rotate(1turn)}}@media (max-width:480px){.doboard_task_widget{position:fixed;right:0;top:auto;bottom:0;margin:0 20px 20px;box-sizing:border-box;transform:translateZ(0);-moz-transform:translateZ(0);will-change:transform;max-height:90vh}.doboard_task_widget-header{padding:8px}.doboard_task_widget-issue-title{max-width:70px}.doboard_task_widget-container,.doboard_task_widget-container-maximize{width:100%;max-width:290px;margin:0 auto;max-height:90vh}.doboard_task_widget-container{min-width:290px}.doboard_task_widget-content{height:auto;max-height:100%;min-height:100%;scrollbar-width:none}.doboard_task_widget-content::-webkit-scrollbar{display:none}.doboard_task_widget-all_issues-container,.doboard_task_widget-concrete_issues-container{max-height:80vh}}@supports (-webkit-overflow-scrolling:touch){.doboard_task_widget{position:fixed}}.doboard_task_widget_tasks_list{background-color:#fff;position:sticky;bottom:0;height:38px;display:flex;flex-direction:column-reverse;align-items:center;padding-bottom:8px}#doboard_task_widget-user_menu-logout_button{display:inline-flex;align-items:center}.doboard_task_widget-text_selection{position:relative;display:inline-block}.doboard_task_widget-see-task{cursor:pointer;text-decoration:underline}.doboard_task_widget-text_selection_tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:#FFF;color:#000;padding:4px 8px;border-radius:4px;font-size:10px;white-space:nowrap;z-index:9000;border:1px solid #BBC7D1;margin-bottom:8px}.doboard_task_widget-text_selection_tooltip::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid transparent;border-top-color:#FFF}.doboard_task_widget-text_selection_tooltip::before{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:6px solid transparent;border-top-color:#BBC7D1;z-index:-1}.doboard_task_widget-text_selection_tooltip_icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDEwMyAxMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEwMyAxMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMxNzcyNTA7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MywwSDB2MTAwaDMwLjJINTNDMTE5LjYsMTAwLDExOS42LDAsNTMsMHogTTMwLjIsMTAwYy0xNi42LDAtMzAtMTMuNC0zMC0zMHMxMy40LTMwLDMwLTMwDQoJYzE2LjYsMCwzMCwxMy40LDMwLDMwUzQ2LjgsMTAwLDMwLjIsMTAweiIvPg0KPC9zdmc+DQo=);background-repeat:no-repeat;width:22px;height:22px;margin:5px 3px}.doboard_task_widget-text_selection_tooltip_element{display:flex;justify-content:space-between}.doboard_task_widget-content .tox .tox-toolbar__group{padding:0 8px!important}.doboard_task_widget-content .tox-tinymce{border:1px solid #BBC7D1;border-radius:4px}.doboard_task_widget-content ol,.doboard_task_widget-content ul{margin:0 0 0 1em!important}.toggle{position:relative;display:inline-block;width:46px;min-width:46px;height:28px}.toggle input{opacity:0;width:0;height:0;position:absolute}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#bbc7d1;border-radius:24px;transition:.3s}.slider:before{content:"";position:absolute;height:24px;width:24px;left:2px;top:2px;background-color:#fff;border-radius:50%;transition:.3s}.doboard_task_widget-bottom-eye-icon,.doboard_task_widget-bottom-eye-off-icon{position:absolute;right:10px;top:50%;width:20px;height:20px;cursor:pointer;border-radius:50%;transition:all .2s ease;z-index:10}input:checked+.slider{background-color:#65d4ac}input:checked+.slider:before{transform:translateX(16px)}.logout_button{font-weight:500;font-size:14px;color:#707A83;cursor:pointer}.doboard_task_widget-forgot_password,.doboard_task_widget-on_phantom_login_page,.doboard_task_widget-show_login_form{display:inline-block;cursor:pointer;color:#2F68B7;margin-bottom:0}.doboard_task_widget-forgot_password{margin-bottom:20px}.doboard_task_widget-login-is-invalid{color:red}.doboard_task_widget-forgot_password_form-menu,.doboard_task_widget-input-container-login-menu{margin:20px}.doboard_task_widget-bottom-eye-icon{transform:translateY(-50%);background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNMTAsMTcuNGMtNi4yLDAtOS43LTYuOC05LjgtNy4xYy0wLjEtMC4yLTAuMS0wLjUsMC0wLjdDMC4zLDkuNCwzLjgsMi42LDEwLDIuNmM2LjIsMCw5LjcsNi44LDkuOCw3LjENCgljMC4xLDAuMiwwLjEsMC41LDAsMC43QzE5LjcsMTAuNiwxNi4yLDE3LjQsMTAsMTcuNHogTTEuNywxMGMwLjgsMS4zLDMuNyw1LjksOC4zLDUuOWM0LjYsMCw3LjYtNC42LDguMy01LjkNCgljLTAuOC0xLjMtMy43LTUuOS04LjMtNS45QzUuNCw0LjEsMi40LDguNywxLjcsMTB6IE0xMCwxMy4zYy0xLjgsMC0zLjMtMS41LTMuMy0zLjNTOC4yLDYuOCwxMCw2LjhzMy4zLDEuNSwzLjMsMy4zDQoJUzExLjgsMTMuMywxMCwxMy4zeiBNMTAsOC4zQzksOC4zLDguMyw5LDguMywxMFM5LDExLjgsMTAsMTEuOHMxLjgtMC44LDEuOC0xLjhTMTEsOC4zLDEwLDguM3oiLz4NCjwvc3ZnPg0K) center center no-repeat #fff;background-size:16px 16px}.doboard_task_widget-bottom-eye-off-icon{transform:translateY(-50%);background:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2LjgsMTMuMmMwLjEsMC4xLDAuMywwLjIsMC41LDAuMmMwLDAsMCwwLDAsMGMwLjIsMCwwLjQtMC4xLDAuNS0wLjNjMC43LTAuOSwxLjQtMS44LDEuOS0yLjgNCgljMC4xLTAuMiwwLjEtMC41LDAtMC43Yy0wLjEtMC4zLTMuNi03LjEtOS44LTcuMWMwLDAsMCwwLDAsMGMtMC42LDAtMS4zLDAuMS0xLjksMC4yQzcuOCwyLjksNy42LDMuMSw3LjUsMy4zczAsMC41LDAuMiwwLjcNCglMMTYuOCwxMy4yeiBNMTAsNC4xYzQuNiwwLDcuNiw0LjYsOC4zLDUuOWMtMC4zLDAuNS0wLjYsMS0xLDEuNUw5LjksNC4xQzkuOSw0LjEsMTAsNC4xLDEwLDQuMXogTTE5LjcsMTguNmwtNC4yLTQuMkw1LjYsNC41DQoJYzAsMCwwLDAsMCwwTDEuNCwwLjNDMS4xLDAsMC42LDAsMC4zLDAuM1MwLDEuMSwwLjMsMS40TDMuOSw1QzIuNCw2LjMsMS4xLDcuOSwwLjIsOS42Yy0wLjEsMC4yLTAuMSwwLjUsMCwwLjcNCgljMC4xLDAuMywzLjYsNy4xLDkuOSw3LjFjMS43LDAsMy40LTAuNSw0LjktMS41bDMuOCwzLjhjMC4xLDAuMSwwLjMsMC4yLDAuNSwwLjJzMC40LTAuMSwwLjUtMC4yQzIwLDE5LjQsMjAsMTguOSwxOS43LDE4LjZ6DQoJIE04LjMsOS40bDIuMywyLjNjLTAuMiwwLjEtMC40LDAuMS0wLjYsMC4xYy0wLjIsMC0wLjUsMC0wLjctMC4xYy0wLjItMC4xLTAuNC0wLjItMC42LTAuNGMtMC4yLTAuMi0wLjMtMC40LTAuNC0wLjYNCgljLTAuMS0wLjItMC4xLTAuNS0wLjEtMC43QzguMiw5LjgsOC4yLDkuNiw4LjMsOS40eiBNMTAsMTUuOWMtNC42LDAtNy42LTQuNi04LjMtNS45YzAuOS0xLjUsMi0yLjgsMy4zLTMuOWwyLjIsMi4yDQoJQzcuMSw4LjQsNyw4LjYsNyw4LjdDNi44LDkuMSw2LjcsOS42LDYuNywxMGMwLDAuNCwwLjEsMC45LDAuMiwxLjNjMC4yLDAuNCwwLjQsMC44LDAuNywxLjFjMC4zLDAuMywwLjcsMC42LDEuMSwwLjcNCgljMC40LDAuMiwwLjgsMC4yLDEuMywwLjJjMC40LDAsMC45LTAuMSwxLjMtMC4zYzAuMi0wLjEsMC4zLTAuMiwwLjUtMC4zbDIuMSwyLjFDMTIuNiwxNS41LDExLjMsMTUuOSwxMCwxNS45eiIvPg0KPC9zdmc+DQo=) center center no-repeat #fff;background-size:16px 16px;opacity:.5}.doboard_task_widget-input-container-textarea{position:relative;margin-top:20px}.doboard_task_widget-field-textarea-label{position:absolute;left:10px;top:10px;padding:0 5px;color:#666;background-color:#fff;transition:.2s ease all;pointer-events:none}.doboard_task_widget-input-container-textarea .doboard_task_widget-field~label{top:-10px;left:14px;font-size:10px;color:#252A2F}.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit;background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox-tinymce,.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif}.tox .tox-button,.tox .tox-button--secondary{background-repeat:repeat;font-size:14px;letter-spacing:normal;text-transform:none;outline:0}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-button,.tox .tox-button[disabled]{border-color:#006ce7;background-color:#006ce7}.tox .tox-button,.tox .tox-button-link{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;cursor:pointer;white-space:nowrap}.tox .tox-anchorbar,.tox .tox-bar,.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-button{background-image:none;background-position:0 0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;display:inline-block;font-style:normal;font-weight:700;line-height:24px;padding:4px 16px;position:relative;text-align:center;text-decoration:none}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 2px #fff,0 0 0 1px #006ce7,0 0 0 3px rgba(0,108,231,.25);content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-image:none;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled),.tox .tox-button:hover:not(:disabled){background-color:#0060ce;border-color:#0060ce;box-shadow:none;background-image:none}.tox .tox-button:focus:not(:disabled){color:#fff}.tox .tox-button:focus-visible:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){color:#fff}.tox .tox-button.tox-button--enabled,.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled),.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--secondary,.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;border-color:#f0f0f0;background-image:none;box-shadow:none}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-position:0 0;border-radius:6px;border-style:solid;border-width:1px;color:#222f3e;font-style:normal;font-weight:700;padding:4px 16px;text-decoration:none}.tox .tox-button--secondary[disabled]{color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled),.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled),.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;display:inline-block;font-size:16px;font-weight:400;line-height:1.3;padding:0}.tox .tox-checkbox,.tox .tox-checkbox__icons{display:flex;border-radius:6px;align-items:center}.tox[dir=rtl] .tox-bar .tox-checkbox,.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:focus:not(:disabled),.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{cursor:pointer;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{box-shadow:0 0 0 2px transparent;box-sizing:content-box;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg,.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg,.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg,.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--grid .tox-collection__item,.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--toolbar .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#cce2fa}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#cce2fa;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled),.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-accessory,.tox .tox-collection__item-label{display:inline-block;font-size:14px;line-height:24px;text-transform:none}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection__item-caret svg,.tox .tox-dialog__body-content svg,.tox .tox-listbox__select-chevron svg,.tox .tox-naked-btn svg,.tox .tox-notification--error svg,.tox .tox-notification--info svg,.tox .tox-notification--success svg,.tox .tox-notification--warn svg,.tox .tox-notification--warning svg,.tox .tox-swatches__picker-btn svg,.tox div.tox-swatch:not(.tox-swatch--remove) svg{fill:#222f3e}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;flex:1;font-style:normal;font-weight:400;word-break:break-all}.tox .tox-collection__item-accessory{color:rgba(34,47,62,.7);height:24px}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark,.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-hue-slider,.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-hue-slider,.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px}.tox .tox-swatches__row{display:flex}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#cce2fa}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;height:24px;margin:calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-dialog__body,.tox .tox-dialog__title,.tox .tox-user__name{font-style:normal;text-transform:none}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child,.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name,.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg,.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child,.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__busy-spinner,.tox .tox-user{align-items:center;display:flex}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{background-color:#fff;bottom:0;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-weight:700;line-height:18px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog,.tox .tox-dialog__header{position:relative;display:flex;background-color:#fff}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;border-bottom:none;color:#222f3e;font-size:16px;justify-content:space-between;padding:8px 16px 0}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-weight:400;line-height:1.3;margin:0}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-weight:400;line-height:1.3;min-width:0;text-align:left}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;text-decoration:none}.tox .tox-dialog__body-content a:active,.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#0054b4;text-decoration:none}.tox .tox-dialog__body-content .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;letter-spacing:normal;margin-top:2rem;margin-bottom:16px;font-weight:700;font-style:normal;text-transform:none}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{font-size:20px}.tox .tox-dialog__body-content .tox-form__group h2{font-size:16px}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__table td:first-child,.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-dialog__iframe.tox-dialog__iframe--bordered{border:1px solid #eee;border-radius:6px}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dropzone-container,.tox .tox-edit-area{flex:1;display:flex}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px}.tox .tox-edit-area{overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #2d6adf;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input span,.tox .tox-color-input span::before{box-sizing:border-box;height:24px;position:absolute;width:24px}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;top:6px}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;content:'';left:-1px;top:-1px;z-index:-1}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-listboxfield svg,.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-selectfield select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;min-height:34px;box-sizing:border-box}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack,.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;margin:0;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-dialog__iframe.tox-dialog__iframe--bordered:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0 transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-selectfield select,.tox .tox-textarea-wrap{border-radius:6px;border-style:solid;border-width:1px}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child),.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child),.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-naked-btn svg{display:block}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;box-shadow:none;color:#222f3e;margin:0;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 2px rgba(0,108,231,.25);outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox .tox-textarea-wrap{border-color:#eee;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:rgba(0,108,231,.5);border-color:rgba(0,108,231,.5)}.tox .tox-menu,.tox .tox-pop__dialog{background-color:#fff;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15)}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n),.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{border:1px solid transparent;border-radius:6px;display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--grid,.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-mbtn,.tox .tox-tbtn{font-size:14px;height:28px;font-style:normal;outline:0;text-transform:none;font-weight:400}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;justify-content:center;margin:5px 1px 6px 0;overflow:hidden;padding:0 4px;width:auto}.tox .tox-mbtn[disabled]{background-color:transparent;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn--active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{border:1px solid #eee;border-radius:6px;min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane,.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider,.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*,.tox .tox-tbtn:active>*{transform:none}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__text-container{display:flex;flex:1 1 auto;justify-content:flex-end;overflow:hidden}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,.8);height:1.14em;vertical-align:-.28em;width:3.6em}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-left:auto;margin-right:-8px;padding-bottom:3px;padding-left:1ch;padding-right:3px}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.5)}.tox .tox-tbtn svg,.tox .tox-tbtn:active svg,.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus svg{background-color:#dee0e2;border-radius:1px 1px 5px;box-shadow:0 0 0 2px #dee0e2}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:0 0;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;justify-content:center;margin:6px 1px 5px 0;overflow:hidden;padding:0;width:34px}.tox .tox-tbtn svg{display:block}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg,.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-number-input button:disabled svg,.tox .tox-split-button__chevron svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg,.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}.tox .tox-number-input button svg,.tox .tox-number-input button:active svg,.tox .tox-number-input button:hover svg,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg,.tox .tox-tree .tox-trbtn svg,.tox .tox-tree .tox-trbtn:active svg,.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{border-radius:3px;display:flex;margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-number-input .tox-input-wrapper{background:#f7f7f7;display:flex;pointer-events:none;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background:#cce2fa}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;width:60px}.tox .tox-number-input input:hover{background:#cce2fa;color:#222f3e}.tox .tox-number-input input:focus{background:#fff;color:#222f3e}.tox .tox-number-input input:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{background:#f7f7f7;color:#222f3e;height:28px;text-align:center;width:24px}.tox .tox-number-input button svg{display:block;margin:0 auto;transform:scale(.67)}.tox .tox-number-input button:focus{background:#cce2fa}.tox .tox-number-input button:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:disabled{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#cce2fa}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0;overflow:hidden}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #cce2fa inset}.tox .tox-split-button:focus{background:#cce2fa;box-shadow:none;color:#222f3e}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:0 0;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0;transform:perspective(1px)}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar--no-divider,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip--down .tox-tooltip__arrow,.tox .tox-tooltip--up .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;left:50%;transform:translateX(-50%)}.tox .tox-tooltip{display:inline-block;padding:8px;position:relative}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:0 2px 4px rgba(34,47,62,.3);color:rgba(255,255,255,.75);font-size:14px;font-style:normal;font-weight:400;padding:4px 8px;text-transform:none}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-top:8px solid #222f3e;bottom:0;position:absolute}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;position:absolute;top:0}.tox .tox-tooltip--left .tox-tooltip__arrow,.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-top:8px solid transparent;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-left:8px solid #222f3e;right:0}.tox .tox-tooltip--left .tox-tooltip__arrow{border-right:8px solid #222f3e;left:0}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*,.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0 0 0 8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block}.tox .tox-tree .tox-trbtn:focus{background:#cce2fa;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#cce2fa;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg,.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover),.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg,.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg,.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:8px 8px 0;position:relative}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;padding:8px 8px 0}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__body-content .tox-collection,.tox .tox-dialog__content-js{display:flex;flex:1}.mce-content-body .mce-item-anchor{background:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A") center no-repeat}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:#ffe89d solid 3px}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:#fed635 solid 3px}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A"),default}div.mce-footnotes hr{margin-inline-end:auto;margin-inline-start:0;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{text-decoration:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}sup.mce-footnote a{color:#000;text-decoration:none}div.mce-footnotes{break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected="2"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A") center no-repeat;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected="2"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:var(--text-before);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:#000 dashed 1px;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A") center center no-repeat #eaeaea;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:#b4d7ff solid 3px}.mce-content-body hr[data-mce-selected]{outline:#b4d7ff solid 3px;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus,.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:#b4d7ff solid 3px}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:#b4d7ff solid 3px}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:#b4d7ff solid 3px}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.mce-spellchecker-grammar,.mce-spellchecker-word{background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A");height:2rem}.mce-spellchecker-grammar{background-image:url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A")}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border="0"],.mce-item-table[border="0"] caption,.mce-item-table[border="0"] td,.mce-item-table[border="0"] th,table[style*="border-width: 0px"],table[style*="border-width: 0px"] caption,table[style*="border-width: 0px"] td,table[style*="border-width: 0px"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}`,SPOTFIX_INDEXED_DB_NAME=(tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}}),(()=>{let D=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=r=>e=>{return o=typeof(e=e),(null===e?"null":"object"==o&&Array.isArray(e)?"array":"object"==o&&(e=e,(t=String).prototype.isPrototypeOf(e)||(null==(e=e.constructor)?void 0:e.name)===t.name)?"string":o)===r;var t,o},t=t=>e=>typeof e===t,d=e("string"),c=e("object"),n=e("array"),O=e=>null===e,u=t("boolean"),o=e=>!(null==e),g=t("function"),m=(o,r)=>{if(n(o)){for(let e=0,t=o.length;e<t;++e)if(!r(o[e]))return!1;return!0}return!1},p=()=>{},L=(e,t)=>e===t;class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return o(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);let N=Array.prototype.indexOf,R=Array.prototype.push,f=o=>{var r=[];for(let e=0,t=o.length;e<t;++e){if(!n(o[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+o);R.apply(r,o[e])}return r},b=(t,o)=>{for(let e=0;e<t.length;e++){var r=o(t[e],e);if(r.isSome())return r}return h.none()},v=(e,t,o=L)=>e.exists(e=>o(e,t)),w=(e,t)=>e?h.some(t):h.none(),r=t=>e=>e.options.get(t),x=r("link_assume_external_targets"),P=r("link_context_toolbar"),V=r("link_list"),B=r("link_default_target"),z=r("link_default_protocol"),l=r("link_target_list"),y=r("link_rel_list"),K=r("link_class_list"),Z=r("link_title"),G=r("allow_unsafe_link_target"),j=r("link_quicklink");var A=tinymce.util.Tools.resolve("tinymce.util.Tools");let a=e=>d(e.value)?e.value:"",W=(e,r)=>{let n=[];return A.each(e,t=>{o=t;var o=d(o.text)?o.text:d(o.title)?o.title:"";if(void 0!==t.menu){let e=W(t.menu,r);n.push({text:o,items:e})}else{let e=r(t);n.push({text:o,value:e})}}),n},X=(t=a)=>e=>h.from(e).map(e=>W(e,t)),i=e=>X(a)(e),Y=X,C=(t,o)=>e=>({name:t,type:"listbox",label:o,items:e}),J=a,q=Object.keys,$=Object.hasOwnProperty,_=(e,t)=>$.call(e,t);var ee=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),te=tinymce.util.Tools.resolve("tinymce.util.URI");let oe=e=>o(e)&&"a"===e.nodeName.toLowerCase(),re=e=>oe(e)&&!!k(e),ne=(t,o)=>{if(t.collapsed)return[];{var t=t.cloneContents(),r=t.firstChild,n=new ee(r,t),a=[];let e=r;for(;o(e)&&a.push(e),e=n.next(););return a}},ae=e=>/^\w+:/i.test(e),k=e=>{var t;return null!=(t=null!=(t=e.getAttribute("data-mce-href"))?t:e.getAttribute("href"))?t:""},Ae=(e,t)=>{let o=["noopener"],r=e?e.split(/\s+/):[],n=e=>e.filter(e=>-1===A.inArray(o,e)),a=t?(e=r,0<(e=n(r)).length?e.concat(o):o):n(r);return 0<a.length?A.trim(a.sort().join(" ")):""},E=(e,t)=>(t=t||s(e.selection.getRng())[0]||e.selection.getNode(),S(t)?h.from(e.dom.select("a[href]",t)[0]):h.from(e.dom.getParent(t,"a[href]"))),F=(e,t)=>E(e,t).isSome(),ie=(e,t)=>t.fold(()=>e.getContent({format:"text"}),e=>e.innerText||e.textContent||"").replace(/\uFEFF/g,""),s=e=>ne(e,re),se=e=>A.grep(e,re),le=e=>0<se(e).length,de=e=>{let t=e.schema.getTextInlineElements();return!(E(e).exists(e=>e.hasAttribute("data-mce-block"))||!(e=e.selection.getRng()).collapsed&&0!==ne(e,e=>1===e.nodeType&&!oe(e)&&!_(t,e.nodeName.toLowerCase())).length)},S=e=>o(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),ce=(a,e,A)=>{let i=a.selection.getNode(),t=E(a,i),s=(e=>{var t,o={...(e=>{return t=["title","rel","class","target"],o=(t,o)=>(e[o].each(e=>{t[o]=e.length>0?e:null}),t),r={href:e.href},((o,r)=>{for(let e=0,t=o.length;e<t;e++)r(o[e],e)})(t,(e,t)=>{r=o(r,e)}),r;var t,o,r})(A)};if(0===y(e).length&&!G(e)){let e=Ae(o.rel,"_blank"===o.target);o.rel=e||null}return h.from(o.target).isNone()&&!1===l(e)&&(o.target=B(e)),o.href=(t=o.href,"http"!==(e=x(e))&&"https"!==e||ae(t)?t:e+"://"+t),o})(a);a.undoManager.transact(()=>{A.href===e.href&&e.attach(),t.fold(()=>{{var o=a,e=i,r=A.text,n=s;let t=o.dom;S(e)?me(t,e,n):r.fold(()=>{o.execCommand("mceInsertLink",!1,n)},e=>{o.insertContent(t.createHTML("a",n,t.encode(e)))})}},e=>{var t,o,r;a.focus(),t=a,o=e,e=A.text,r=s,e.each(e=>{_(o,"innerText")?o.innerText=e:o.textContent=e}),t.dom.setAttribs(o,r),t.selection.select(o)})})},ue=e=>{var o,r,{class:e,href:t,rel:n,target:a,text:A,title:i}=e,s={},e={class:e.getOrNull(),href:t,rel:n.getOrNull(),target:a.getOrNull(),text:A.getOrNull(),title:i.getOrNull()},l=(o=s,p),d=e,c=q(d);for(let e=0,t=c.length;e<t;e++){var u=c[e];((e=>!1===O(e))(r=d[u],u=u)?(e,t)=>{o[t]=e}:l)(r,u)}return s},ge=(e,t,o)=>{o=o,r={allow_html_data_urls:(r=e.options.get)("allow_html_data_urls"),allow_script_urls:r("allow_script_urls"),allow_svg_data_urls:r("allow_svg_data_urls")},n=o.href;var r,n,o={...o,href:te.isDomSafe(n,"a",r)?n:""};e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,ue(o)):ce(e,t,o)},Q=e=>{var A;e.hasPlugin("rtc",!0)?e.execCommand("unlink"):(A=e).undoManager.transact(()=>{var e,t,o,r,n,a=A.selection.getNode();S(a)?((e,t)=>{var o;const r=e.dom.select("img",t)[0];if(r){const n=e.dom.getParents(r,"a[href]",t)[0];n&&(null===(o=n.parentNode)||void 0===o||o.insertBefore(r,n),e.dom.remove(n))}})(A,a):(e=(a=A).dom,o=(t=a.selection).getBookmark(),r=t.getRng().cloneRange(),n=e.getParent(r.startContainer,"a[href]",a.getBody()),e=e.getParent(r.endContainer,"a[href]",a.getBody()),n&&r.setStartBefore(n),e&&r.setEndAfter(e),t.setRng(r),a.execCommand("unlink"),t.moveToBookmark(o)),A.focus()})},me=(t,e,o)=>{var r=t.select("img",e)[0];if(r){let e=t.create("a",o);null!=(t=r.parentNode)&&t.insertBefore(e,r),e.appendChild(r)}},pe=(o,e)=>b(e,e=>{return t=e,_(t=t,"items")&&null!=t.items?pe(o,e.items):w(e.value===o,e);var t}),he=(e,A)=>{let i={text:e.text,title:e.title};return{onChange:(e,t)=>{var o,r,n,t=t.name;return"url"===t?(o=e(),r=o.url,n=w(i.text.length<=0,h.from(null==(n=r.meta)?void 0:n.text).getOr(r.value)),r=o.url,o=w(i.title.length<=0,h.from(null==(r=r.meta)?void 0:r.title).getOr("")),n.isSome()||o.isSome()?h.some({...n.map(e=>({text:e})).getOr({}),...o.map(e=>({title:e})).getOr({})}):h.none()):(r=t,-1<N.call(["anchor","link"],r)?((o,r)=>{var n=("link"===r?A.link:"anchor"===r?A.anchor:h.none()).getOr([]);{var a=i.text;let e=o[r],t=0<a.length;return void 0!==e?pe(e,n).map(e=>({url:{value:e.value,meta:{text:t?a:e.text,attach:p}},text:t?a:e.text})):h.none()}})(e(),t):(("text"===t||"title"===t)&&(i[t]=e()[t]),h.none()))}}};var fe=tinymce.util.Tools.resolve("tinymce.util.Delay");let be=e=>{let t=e.href;return 0<t.indexOf("@")&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?h.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):h.none()},ve=e=>{e=e.dom.select("a:not([href])"),e=f((o=>{let e=o.length,r=new Array(e);for(let t=0;t<e;t++){let e=o[t];r[t]=(e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]})(e,t)}return r})(e));return 0<e.length?h.some([{text:"None",value:""}].concat(e)):h.none()},we=e=>{e=K(e);return 0<e.length?i(e):h.none()},xe=e=>{try{return h.some(JSON.parse(e))}catch(e){return h.none()}},Be=(o,r)=>{var n=y(o);if(0<n.length){let t=v(r,"_blank"),e=e=>Ae(J(e),t);return(!1===G(o)?Y(e):i)(n)}return h.none()},ye=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Ce=e=>{e=l(e);return n(e)?i(e).orThunk(()=>h.some(ye)):!1===e?h.none():h.some(ye)},U=(e,t,o)=>{e=e.getAttrib(t,o);return null!==e&&0<e.length?h.some(e):h.none()},_e=u=>{var e,o,r,t;e=u,t=E(e),r=t,(t=>{let o=e=>t.convertURL(e.value||e.url||"","href"),e=V(t);return new Promise(t=>{d(e)?fetch(e).then(e=>e.ok?e.text().then(xe):Promise.reject()).then(t,()=>t(h.none())):g(e)?e(e=>t(h.some(e))):t(h.from(e))}).then(e=>e.bind(Y(o)).map(e=>0<e.length?[{text:"None",value:""}].concat(e):e))})(o=e).then(e=>{var t=((e,t)=>{let o=e.dom,r=de(e)?h.some(ie(e.selection,t)):h.none(),n=t.bind(e=>h.from(o.getAttrib(e,"href"))),a=t.bind(e=>h.from(o.getAttrib(e,"target"))),A=t.bind(e=>U(o,e,"rel")),i=t.bind(e=>U(o,e,"class"));return{url:n,text:r,title:t.bind(e=>U(o,e,"title")),target:a,rel:A,linkClass:i}})(o,r);return{anchor:t,catalogs:{targets:Ce(o),rels:Be(o,t.target),classes:we(o),anchor:ve(o),link:e},optNode:r,flags:{titleEnabled:Z(o)}}}).then(a=>{s=u,l=a;var s,l,A,i,d=e=>{let r=e.getData();if(r.url.value){let e=t=>h.from(r[t]).filter(e=>!v(l.anchor[t],e)),t={href:r.url.value,text:e("text"),target:e("target"),rel:e("rel"),class:e("linkClass"),title:e("title")},o={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:p};var a,A,n,i;a=s,A=t,b([be,(n=x(a),i=z(a),e=>{let t=e.href;return 1===n&&!ae(t)||0===n&&/^\s*www(\.|\d\.)/i.test(t)?h.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${i}:// prefix?`,preprocess:e=>({...e,href:i+"://"+t})}):h.none()})],e=>e(A)).fold(()=>Promise.resolve(A),n=>new Promise(o=>{{var r=a,e=n.message;let t=r.selection.getRng();fe.setEditorTimeout(r,()=>{r.windowManager.confirm(e,e=>{r.selection.setRng(t),o(e?n.preprocess(A):A)})})}})).then(e=>{ge(s,o,e)})}else Q(s);e.close()};{var c=u;let e=a.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),t=a.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],o=(A=a,c=h.from(B(c)),{url:{value:i=(A=A.anchor).url.getOr(""),meta:{original:{value:i}}},text:A.text.getOr(""),title:A.title.getOr(""),anchor:i,link:i,rel:A.rel.getOr(""),target:A.target.or(c).getOr(""),linkClass:A.linkClass.getOr("")}),r=a.catalogs,n=he(o,r);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:f([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],e,t,(t=>{let o=[],r=e=>{o.push(e)};for(let e=0;e<t.length;e++)t[e].each(r);return o})([r.anchor.map(C("anchor","Anchors")),r.rels.map(C("rel","Rel")),r.targets.map(C("target","Open link in...")),r.link.map(C("link","Link list")),r.classes.map(C("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onChange:(t,{name:e})=>{n.onChange(t.getData,{name:e}).each(e=>{t.setData(e)})},onSubmit:d}}}).then(e=>{u.windowManager.open(e)})};var ke=tinymce.util.Tools.resolve("tinymce.util.VK");let Ee=(e,t)=>e.dom.getParent(t,"a[href]"),Fe=e=>Ee(e,e.selection.getStart()),I=(t,e)=>{if(e){var o=k(e);if(/^#/.test(o)){let e=t.dom.select(o);e.length&&t.selection.scrollIntoView(e[0],!0)}else o=e.href,(t=document.createElement("a")).target="_blank",t.href=o,t.rel="noreferrer noopener",(o=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t=t,o=o,document.body.appendChild(t),t.dispatchEvent(o),document.body.removeChild(t)}},Se=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},T=e=>()=>{I(e,Fe(e))},M=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),H=o=>e=>{var t=()=>{e.setActive(!o.mode.isReadOnly()&&F(o,o.selection.getNode())),e.setEnabled(o.selection.isEditable())};return t(),M(o,t)},Qe=o=>t=>{var e=()=>{return t.setEnabled(1===((e=o).selection.isCollapsed()?se(e.dom.getParents(e.selection.getStart())):s(e.selection.getRng())).length);var e};return e(),M(o,e)},Ue=r=>t=>{let e=r.dom.getParents(r.selection.getStart()),o=e=>{t.setEnabled((e=e,(le(e)||(e=r.selection.getRng(),0<s(e).length))&&r.selection.isEditable()))};return o(e),M(r,e=>o(e.parents))};D.add("link",e=>{var t,o,r,n,a,A,i,s,l;(l=e.options.register)("link_assume_external_targets",{processor:e=>{var t=d(e)||u(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),l("link_context_toolbar",{processor:"boolean",default:!1}),l("link_list",{processor:e=>d(e)||g(e)||m(e,c)}),l("link_default_target",{processor:"string"}),l("link_default_protocol",{processor:"string",default:"https"}),l("link_target_list",{processor:e=>u(e)||m(e,c),default:!0}),l("link_rel_list",{processor:"object[]",default:[]}),l("link_class_list",{processor:"object[]",default:[]}),l("link_title",{processor:"boolean",default:!0}),l("allow_unsafe_link_target",{processor:"boolean",default:!1}),l("link_quicklink",{processor:"boolean",default:!1}),(s=e).ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Se(s),onSetup:H(s)}),s.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:T(s),onSetup:Qe(s)}),s.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Q(s),onSetup:Ue(s)}),(A=e).ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:T(A),onSetup:Qe(A)}),A.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:(i=A,e=>{var t=()=>{e.setEnabled(i.selection.isEditable())};return t(),M(i,t)}),onAction:Se(A)}),A.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Q(A),onSetup:Ue(A)}),(a=e).ui.registry.addContextMenu("link",{update:e=>a.dom.isEditable(e)?le(a.dom.getParents(e,"a"))?"link unlink openlink":"link":""}),l=e=>{var t=n.selection.getNode();return e.setEnabled(F(n,t)),p},(n=e).ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:H(n)},label:"Link",predicate:e=>P(n)&&F(n,e),initValue:()=>E(n).fold(()=>"",k),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:e=>{var t=n.selection.getNode();return e.setActive(F(n,t)),H(n)(e)},onAction:e=>{var t=e.getValue(),o=(t=>{let o=E(n),e=de(n);if(o.isNone()&&e){let e=ie(n.selection,o);return w(0===e.length,t)}return h.none()})(t);ge(n,{href:t,attach:p},{href:t,text:o,title:h.none(),rel:h.none(),target:h.none(),class:h.none()}),n.selection.collapse(!1),e.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:l,onAction:e=>{Q(n),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:l,onAction:e=>{T(n)(),e.hide()}}]}),(r=e).on("click",e=>{var t=Ee(r,e.target);t&&ke.metaKeyPressed(e)&&(e.preventDefault(),I(r,t))}),r.on("keydown",e=>{var t;e.isDefaultPrevented()||13!==e.keyCode||!0!==e.altKey||!1!==e.shiftKey||!1!==e.ctrlKey||!1!==e.metaKey||(t=Fe(r))&&(e.preventDefault(),I(r,t))}),(o=e).addCommand("mceLink",(e,t)=>{!0!==(null==t?void 0:t.dialog)&&j(o)?o.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):_e(o)}),(t=e).addShortcut("Meta+K","",()=>{t.execCommand("mceLink")})})})(),(()=>{let t=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=r=>e=>{return o=typeof(e=e),(null===e?"null":"object"==o&&Array.isArray(e)?"array":"object"==o&&(e=e,(t=String).prototype.isPrototypeOf(e)||(null==(e=e.constructor)?void 0:e.name)===t.name)?"string":o)===r;var t,o},L=t=>e=>typeof e===t,N=o("string"),u=o("object"),R=o("array"),P=L("boolean"),c=e=>!(null==e),i=L("function"),V=L("number"),z=()=>{},K=(e,t)=>e===t,Z=t=>e=>!t(e),G=()=>!1;class l{constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return c(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(!1);let j=Array.prototype.slice,W=Array.prototype.indexOf,X=Array.prototype.push,Y=(e,t)=>(e=e,t=t,-1<W.call(e,t)),J=(o,r)=>{for(let e=0,t=o.length;e<t;e++)if(r(o[e],e))return!0;return!1},s=(o,r)=>{let e=o.length,n=new Array(e);for(let t=0;t<e;t++){let e=o[t];n[t]=r(e,t)}return n},g=(o,r)=>{for(let e=0,t=o.length;e<t;e++)r(o[e],e)},m=(o,r)=>{var n=[];for(let e=0,t=o.length;e<t;e++){var a=o[e];r(a,e)&&n.push(a)}return n},n=(e,o,r)=>(g(e,(e,t)=>{r=o(r,e,t)}),r),A=(o,r,n)=>{for(let e=0,t=o.length;e<t;e++){var a=o[e];if(r(a,e))return l.some(a);if(n(a,e))break}return l.none()},q=(e,t)=>A(e,t,G),$=(e,t)=>{var o=s(e,t),r=[];for(let e=0,t=o.length;e<t;++e){if(!R(o[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+o);X.apply(r,o[e])}return r},ee=e=>{e=j.call(e,0);return e.reverse(),e},te=(e,t)=>0<=t&&t<e.length?l.some(e[t]):l.none(),oe=e=>te(e,0),p=e=>te(e,e.length-1),re=(o,r)=>{let n=[],a=i(r)?t=>J(n,e=>r(e,t)):e=>Y(n,e);for(let e=0,t=o.length;e<t;e++){var A=o[e];a(A)||n.push(A)}return n},ne=(e,t,o=K)=>e.exists(e=>o(e,t)),ae=(e,t,o)=>e.isSome()&&t.isSome()?l.some(o(e.getOrDie(),t.getOrDie())):l.none(),Ae=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},h=(e,t)=>{t=(t||document).createElement(e);return Ae(t)},f=Ae,ie=(e,t)=>e.dom===t.dom,b=("undefined"!=typeof window||Function("return this;")(),e=>e.dom.nodeName.toLowerCase()),se=e=>1===e.dom.nodeType,le=t=>e=>se(e)&&b(e)===t,de=e=>l.from(e.dom.parentNode).map(f),a=e=>s(e.dom.childNodes,f),ce=(e,t)=>{e=e.dom.childNodes;return l.from(e[t]).map(f)},ue=e=>ce(e,0),ge=e=>ce(e,e.dom.childNodes.length-1),me=(e,t,o)=>{let r=e.dom;for(var n=i(o)?o:G;r.parentNode;){r=r.parentNode;let e=f(r);if(t(e))return l.some(e);if(n(e))break}return l.none()},pe=(e,t,o)=>{return r=me,o=o,(t=t)(e=e)?l.some(e):i(o)&&o(e)?l.none():r(e,t,o);var r},he=(t,o)=>{de(t).each(e=>{e.dom.insertBefore(o.dom,t.dom)})},v=(e,t)=>{e.dom.appendChild(t.dom)},fe=(t,e)=>{g(e,e=>{v(t,e)})},be=e=>{e.dom.textContent="",g(a(e),e=>{ve(e)})},ve=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)};var we=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),xe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),w=tinymce.util.Tools.resolve("tinymce.util.VK");let Be=e=>s(e,f),ye=Object.keys,Ce=(o,r)=>{var n=ye(o);for(let e=0,t=n.length;e<t;e++){var a=n[e];r(o[a],a)}},x=(e,t)=>{let r=e.dom;Ce(t,(e,t)=>{var o=r;if(!(N(e)||P(e)||V(e)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",e,":: Element ",o),new Error("Attribute value was not simple");o.setAttribute(t,e+"")})},_e=e=>n(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),ke=e=>(e=e,f(e.dom.cloneNode(!0))),Ee=(e,t)=>{var o,t=((e,t)=>{t=h(t),e=_e(e);return x(t,e),t})(e,t),r=t,n=(n=o=e,l.from(n.dom.nextSibling).map(f).fold(()=>{de(o).each(e=>{v(e,r)})},e=>{he(e,r)}),a(e));return fe(t,n),ve(e),t};var Fe,Se=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),B=tinymce.util.Tools.resolve("tinymce.util.Tools");let Qe=t=>e=>c(e)&&e.nodeName.toLowerCase()===t,e=t=>e=>c(e)&&t.test(e.nodeName),d=e=>c(e)&&3===e.nodeType,y=e=>c(e)&&1===e.nodeType,C=e(/^(OL|UL|DL)$/),Ue=e(/^(OL|UL)$/),Ie=Qe("ol"),Te=e(/^(LI|DT|DD)$/),Me=e(/^(DT|DD)$/),He=e(/^(TH|TD)$/),_=Qe("br"),De=(e,t)=>c(t)&&t.nodeName in e.schema.getTextBlockElements(),Oe=(e,t)=>c(e)&&e.nodeName in t,Le=(e,t)=>c(t)&&t.nodeName in e.schema.getVoidElements(),k=(e,t,o)=>{var r=e.isEmpty(t);return!(o&&0<e.select("span[data-mce-type=bookmark]",t).length)&&r},Ne=(e,t)=>e.isChildOf(t,e.getRoot()),Re=t=>e=>e.options.get(t),Pe=Re("lists_indent_on_tab"),Ve=Re("forced_root_block"),ze=Re("forced_root_block_attrs"),Ke=(e,t)=>{var o=e.dom,r=e.schema.getBlockElements(),n=o.createFragment(),a=Ve(e),A=ze(e);let i,s,l=!1;for(s=o.create(a,A),Oe(t.firstChild,r)||n.appendChild(s);i=t.firstChild;){let e=i.nodeName;l||"SPAN"===e&&"bookmark"===i.getAttribute("data-mce-type")||(l=!0),Oe(i,r)?(n.appendChild(i),s=null):(s||(s=o.create(a,A),n.appendChild(s)),s.appendChild(i))}return!l&&s&&s.appendChild(o.create("br",{"data-mce-bogus":"1"})),n},E=Se.DOM,Ze=le("dd"),Ge=le("dt"),je=(i,s)=>{var e;Ze(s)?Ee(s,"dt"):Ge(s)&&(e=s,l.from(e.dom.parentElement).map(f).each(r=>{{var n=i,a=(r=r.dom,s.dom);let e=E.select('span[data-mce-type="bookmark"]',r),t=Ke(n,a),o=E.createRng();o.setStartAfter(a),o.setEndAfter(r);var A=o.extractContents();for(let e=A.firstChild;e;e=e.firstChild)if("LI"===e.nodeName&&n.dom.isEmpty(e)){E.remove(e);break}if(n.dom.isEmpty(A)||E.insertAfter(A,r),E.insertAfter(t,r),(A=a.parentElement)&&k(n.dom,A)){let t=A.parentNode;t&&B.each(e,e=>{t.insertBefore(e,a.parentNode)}),E.remove(A)}E.remove(a),k(n.dom,r)&&E.remove(r)}}))},We=e=>{Ge(e)&&Ee(e,"dd")},Xe=(e,t)=>{var o;return d(e)?{container:e,offset:t}:(o=we.getNode(e,t),d(o)?{container:o,offset:t>=e.childNodes.length?o.data.length:0}:o.previousSibling&&d(o.previousSibling)?{container:o.previousSibling,offset:o.previousSibling.data.length}:o.nextSibling&&d(o.nextSibling)?{container:o.nextSibling,offset:0}:{container:e,offset:t})},F=e=>{var t=e.cloneRange(),o=Xe(e.startContainer,e.startOffset),o=(t.setStart(o.container,o.offset),Xe(e.endContainer,e.endOffset));return t.setEnd(o.container,o.offset),t},Ye=["OL","UL","DL"],Je=Ye.join(","),S=(e,t)=>{t=t||e.selection.getStart(!0);return e.dom.getParent(t,Je,r(e,t))},qe=e=>{var t,o=e.selection.getSelectedBlocks();return m((t=e,e=B.map(o,e=>t.dom.getParent(e,"li,dd,dt",r(t,e))||e),re(e)),Te)},$e=(e,t)=>{t=e.dom.getParents(t,"TD,TH");return 0<t.length?t[0]:e.getBody()},r=(r,e)=>{e=r.dom.getParents(e,r.dom.isBlock);return q(e,e=>{return t=r.schema,!C(o=e)&&!Te(o)&&J(Ye,e=>t.isValidChild(o.nodeName,e));var t,o}).getOr(r.getBody())},et=(e,t)=>{e=e.dom.getParents(t,"ol,ul",r(e,t));return p(e)},tt=(t,e)=>{e=s(e,e=>et(t,e).getOr(e));return re(e)},ot=e=>/\btox\-/.test(e.className),rt=(e,t)=>A(e,C,He).exists(e=>e.nodeName===t&&!ot(e)),nt=(e,t)=>null!==t&&!e.dom.isEditable(t),Q=(e,t)=>{t=e.dom.getParent(t,"ol,ul,dl");return nt(e,t)},at=(e,t)=>{var o=e.selection.getNode();return t({parents:e.dom.getParents(o),element:o}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},U=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o}),At=(Fe=/^\s+|\s+$/g,e=>e.replace(Fe,"")),it=(e,t,o)=>{var r,e=e.dom;if(!N(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);void 0!==(r=e).style&&i(r.style.getPropertyValue)&&e.style.setProperty(t,o)},st=(e,t)=>{v(e.item,t.list)},lt=(e,t)=>{t={list:h(t,e),item:h("li",e)};return v(t.list,t.item),t},I=t=>{var e=t,t="OL,UL",o=e.dom;if(1!==o.nodeType)return!1;{let e=o;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},dt=e=>ue(e).exists(I),ct=e=>0<e.depth,ut=e=>e.isSelected,gt=e=>{var t=a(e),e=ge(e).exists(I)?t.slice(0,-1):t;return s(e,ke)},mt=t=>(g(t,(a,e)=>{((e,t)=>{let o=e[t].depth,r=e=>e.depth===o&&!e.dirty,n=e=>e.depth<o;return A(ee(e.slice(0,t)),r,n).orThunk(()=>A(e.slice(t+1),r,n))})(t,e).fold(()=>{var e,o,r,n,t;a.dirty&&((e=a).listAttributes=(t={},e=e.listAttributes,r=(e,t)=>"start"!==t,o=t,n=z,Ce(e,(e,t)=>{(r(e,t)?(e,t)=>{o[t]=e}:n)(e,t)}),t))},e=>{a.listType=e.listType,a.listAttributes={...e.listAttributes}})}),t),pt=(a,A,i,s)=>ue(s).filter(I).fold(()=>{A.each(e=>{ie(e.start,s)&&i.set(!0)});t=s,o=a,r=i.get();var t,o,r,e=de(t).filter(se).map(e=>({depth:o,dirty:!1,isSelected:r,content:gt(t),itemAttributes:_e(t),listAttributes:_e(e),listType:b(e)})),n=(A.each(e=>{ie(e.end,s)&&i.set(!1)}),ge(s).filter(I).map(e=>T(a,A,i,e)).getOr([]));return e.toArray().concat(n)},e=>T(a,A,i,e)),T=(t,o,r,e)=>$(a(e),e=>(I(e)?T:pt)(t+1,o,r,e)),ht=(e,t)=>{t=mt(t);return((d,e)=>{e=n(e,(e,t)=>{if(t.depth>e.length){var o=e,r=t,n=((t,o,r)=>{var n=[];for(let e=0;e<r;e++)n.push(lt(t,o.listType));return n})(d,r,r.depth-o.length),a=n;for(let e=1;e<a.length;e++)st(a[e-1],a[e]);var A=n,i=r;for(let e=0;e<A.length-1;e++)it(A[e].item,"list-style-type","none");return p(A).each(e=>{x(e.list,i.listAttributes),x(e.item,i.itemAttributes),fe(e.item,i.content)}),r=n,ae(p(o),oe(r),st),o.concat(n)}return s=d,l=t,r=e.slice(0,l.depth),p(r).each(e=>{var t,o=((e,t,o)=>{e=h("li",e);return x(e,t),fe(e,o),e})(s,l.itemAttributes,l.content);t=e,o=o,v(t.list,o),t.item=o,t=e,o=l,b(t.list)!==o.listType&&(t.list=Ee(t.list,o.listType)),x(t.list,o.listAttributes)}),r;var s,l},[]);return oe(e).map(e=>e.list)})(e.contentDocument,t).toArray()},ft=(a,e,A)=>{e=((e,t)=>{let o=(()=>{let t=!1;return{get:()=>t,set:e=>{t=e}}})();return s(e,e=>({sourceList:e,entries:T(0,t,o,e)}))})(e,(e=>{e=s(qe(e),f);return ae(q(e,Z(dt)),q(ee(e),Z(dt)),(e,t)=>({start:e,end:t}))})(a));g(e,e=>{n=e.entries,o=A,g(m(n,ut),e=>{var t=e;switch(o){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0}),t=a,n=e.entries;var o,t,r,n=$(((n,a)=>{if(0===n.length)return[];{let o=a(n[0]);var A=[];let r=[];for(let e=0,t=n.length;e<t;e++){var i=n[e],s=a(i);s!==o&&(A.push(r),r=[]),o=s,r.push(i)}return 0!==r.length&&A.push(r),A}})(n,ct),e=>(oe(e).exists(ct)?ht:(t,e)=>{e=mt(e);return s(e,e=>{e=(e=>{let t=document.createDocumentFragment();return g(e,e=>{t.appendChild(e.dom)}),f(t)})(e.content);return f(Ke(t,e.dom))})})(t,e));g(n,e=>{U(a,"Indent"===A?"IndentList":"OutdentList",e.dom)}),r=e.sourceList,g(n,e=>{he(r,e)}),ve(e.sourceList)})},bt=(e,t)=>{var o,r,n=Be((n=o=e,a=et(n,n.selection.getStart()),n=m(n.selection.getSelectedBlocks(),Ue),a=a.toArray().concat(n),tt(o,a))),a=Be((o=e,m(qe(o),Me)));let A=!1;return(n.length||a.length)&&(o=e.selection.getBookmark(),ft(e,n,t),r=e,n=t,t=a,g(t,"Indent"===n?We:e=>je(r,e)),e.selection.moveToBookmark(o),e.selection.setRng(F(e.selection.getRng())),e.nodeChanged(),A=!0),A},vt=(e,t)=>{return o=e,r=S(o),!nt(o,r)&&bt(e,t);var o,r},wt=e=>vt(e,"Indent"),xt=e=>vt(e,"Outdent"),M=e=>vt(e,"Flatten"),Bt=e=>"\ufeff"===e;var yt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");let H=Se.DOM,D=e=>{let n={},t=t=>{let o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"];if(y(o)){let e=H.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),t?o.insertBefore(e,o.childNodes[r]):H.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}n[t?"startContainer":"endContainer"]=o,n[t?"startOffset":"endOffset"]=r};return t(!0),e.collapsed||t(),n},O=r=>{var e=e=>{let t=r[e?"startContainer":"endContainer"],o=r[e?"startOffset":"endOffset"];if(t){if(y(t)&&t.parentNode){let e=t;o=(e=>{let t,o=null==(t=e.parentNode)?void 0:t.firstChild,r=0;for(;o;){if(o===e)return r;y(o)&&"bookmark"===o.getAttribute("data-mce-type")||r++,o=o.nextSibling}return-1})(t),t=t.parentNode,H.remove(e),!t.hasChildNodes()&&H.isBlock(t)&&t.appendChild(H.create("br"))}r[e?"startContainer":"endContainer"]=t,r[e?"startOffset":"endOffset"]=o}},e=(e(!0),e(),H.createRng());return e.setStart(r.startContainer,r.startOffset),r.endContainer&&e.setEnd(r.endContainer,r.endOffset),F(e)},Ct=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},_t=(o,e)=>{B.each(e,(e,t)=>{o.setAttribute(t,e)})},kt=(e,t,o)=>{var r,n=e,a=o;a=a["list-style-type"]||null,n.setStyle(t,"list-style-type",a),n=e,a=t,r=o,_t(a,r["list-attributes"]),B.each(n.select("li",a),e=>{_t(e,r["list-item-attributes"])})},Et=(e,t)=>c(t)&&!Oe(t,e.schema.getBlockElements()),Ft=(A,e,t,i)=>{let o=e[t?"startContainer":"endContainer"];e=e[t?"startOffset":"endOffset"],y(o)&&(o=o.childNodes[Math.min(e,o.childNodes.length-1)]||o),!t&&_(o.nextSibling)&&(o=o.nextSibling),e=(e,t)=>{for(var o,r,n=new xe(e,i),a=t?"next":"prev";r=n[a]();)if(!Le(A,r)&&!Bt(r.textContent)&&0!==(null==(o=r.textContent)?void 0:o.length))return l.some(r);return l.none()};if(t&&d(o))if(Bt(o.textContent))o=e(o,!1).getOr(o);else for(null!==o.parentNode&&Et(A,o.parentNode)&&(o=o.parentNode);null!==o.previousSibling&&(Et(A,o.previousSibling)||d(o.previousSibling));)o=o.previousSibling;if(!t&&d(o))if(Bt(o.textContent))o=e(o,!0).getOr(o);else for(null!==o.parentNode&&Et(A,o.parentNode)&&(o=o.parentNode);null!==o.nextSibling&&(Et(A,o.nextSibling)||d(o.nextSibling));)o=o.nextSibling;for(;o.parentNode!==i;){let e=o.parentNode;if(De(A,o))return o;if(/^(TD|TH)$/.test(e.nodeName))return o;o=e}return o},St=(A,i,s)=>{var e,t=A.selection.getRng();let l="LI",o=r(A,A.selection.getStart(!0)),d=A.dom;"false"!==d.getContentEditable(A.selection.getNode())&&("DL"===(i=i.toUpperCase())&&(l="DT"),e=D(t),t=m(((o,e,r)=>{let n=[],a=o.dom,t=Ft(o,e,!0,r),A=Ft(o,e,!1,r),i;var s=[];for(let e=t;e&&(s.push(e),e!==A);e=e.nextSibling);return B.each(s,e=>{var t;De(o,e)?(n.push(e),i=null):a.isBlock(e)||_(e)?(_(e)&&a.remove(e),i=null):(t=e.nextSibling,yt.isBookmarkNode(e)&&(C(t)||De(o,t)||!t&&e.parentNode===r)?i=null:(i||(i=a.create("p"),null!=(t=e.parentNode)&&t.insertBefore(i,e),n.push(i)),i.appendChild(e)))}),n})(A,t,o),A.dom.isEditable),B.each(t,e=>{let t;var o,r,n=e.previousSibling,a=e.parentNode;Te(a)||(n&&C(n)&&n.nodeName===i&&((e,t)=>{e=e.getStyle(n,"list-style-type"),t=t?t["list-style-type"]:"";return e===(null===t?"":t)})(d,s)?(t=n,e=d.rename(e,l),n.appendChild(e)):(t=d.create(i),a.insertBefore(t,e),t.appendChild(e),e=d.rename(e,l)),o=d,r=e,B.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],e=>o.setStyle(r,e,"")),kt(d,t,s),Ut(A.dom,t))}),A.selection.setRng(O(e)))},Qt=(e,t,o)=>{return r=t,n=o,C(r)&&r.nodeName===(null==n?void 0:n.nodeName)&&(r=o,(n=e).getStyle(t,"list-style-type",!0)===n.getStyle(r,"list-style-type",!0))&&t.className===o.className;var r,n},Ut=(e,t)=>{let o,r=t.nextSibling;if(Qt(e,t,r)){for(var n=r;o=n.firstChild;)t.appendChild(o);e.remove(n)}if(r=t.previousSibling,Qt(e,t,r)){for(var a=r;o=a.lastChild;)t.insertBefore(o,t.firstChild);e.remove(a)}},It=e=>"list-style-type"in e,Tt=(e,t,o)=>{var a,r,n,A,i,s,l,d=S(e);!Q(e,d)&&e.hasEditableRoot()&&(n=(e=>{let t=S(e),o=e.selection.getSelectedBlocks();return e=t,r=o,c(e)&&1===r.length&&r[0]===e?(r=t,m(r.querySelectorAll(Je),C)):m(o,e=>C(e)&&t!==e);var r})(e),o=u(o)?o:{},0<n.length?(a=e,r=d,n=n,A=t,i=o,(l=C(r))&&r.nodeName===A&&!It(i)?M(a):(St(a,A,i),s=D(a.selection.getRng()),l=l?[r,...n]:n,B.each(l,e=>{var t,o,r,n;t=a,o=A,r=i,(e=e).nodeName!==o?(n=t.dom.rename(e,o),kt(t.dom,n,r),U(t,Ct(o),n)):(kt(t.dom,e,r),U(t,Ct(o),e))}),a.selection.setRng(O(s)))):(r=t,n=o,(l=d)!==(s=e).getBody()&&(l?l.nodeName!==r||It(n)||ot(l)?(t=D(s.selection.getRng()),kt(s.dom,l,n),o=s.dom.rename(l,r),Ut(s.dom,o),s.selection.setRng(O(t)),St(s,r,n),U(s,Ct(r),o)):M(s):(St(s,r,n),U(s,Ct(r),l)))))},Mt=Se.DOM,Ht=(n,e)=>{e=B.grep(n.select("ol,ul",e));B.each(e,t=>{var e,o=n,r=t.parentElement;if(r&&"LI"===r.nodeName&&r.firstChild===t&&((e=r.previousSibling)&&"LI"===e.nodeName?(e.appendChild(t),k(o,r)&&Mt.remove(r)):Mt.setStyle(r,"listStyleType","none")),C(r)){let e=r.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})},Dt=(e,t,o,r)=>{let n=t.startContainer;t=t.startOffset;if(d(n)&&(o?t<n.data.length:0<t))return n;for(var a=e.schema.getNonEmptyElements(),t=(y(n)&&(n=we.getNode(n,t)),new xe(n,r)),A=(o&&(r=e.dom,e=n,!!_(e))&&r.isBlock(e.nextSibling)&&!_(e.previousSibling)&&t.next(),(o?t.next:t.prev2).bind(t));n=A();){if("LI"===n.nodeName&&!n.hasChildNodes())return n;if(a[n.nodeName])return n;if(d(n)&&0<n.data.length)return n}return null},Ot=(e,t)=>{t=t.childNodes;return 1===t.length&&!C(t[0])&&e.isBlock(t[0])},Lt=(t,e,o)=>{let r;var n=e.parentNode;if(Ne(t,e)&&Ne(t,o)){C(o.lastChild)&&(r=o.lastChild),n===o.lastChild&&_(n.previousSibling)&&t.remove(n.previousSibling);var a,A,n=o.lastChild,n=(n&&_(n)&&e.hasChildNodes()&&t.remove(n),k(t,o,!0)&&be(f(o)),t),i=e,s=o,l=Ot(n,s)?s.firstChild:s;if(s=n,A=i,Ot(s,A)&&s.remove(A.firstChild,!0),!k(n,i,!0))for(;a=i.firstChild;)l.appendChild(a);r&&o.appendChild(r);s=((e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)})(f(o),f(e))?t.getParents(e,C,o):[];t.remove(e),g(s,e=>{k(t,e)&&e!==t.getRoot()&&t.remove(e)})}},Nt=(d,c)=>{let t=d.dom,o=d.selection,e=o.getStart(),r=$e(d,e),u=t.getParent(o.getStart(),"LI",r);if(u){let e=u.parentElement;if(e===d.getBody()&&k(t,e))return!0;let s=F(o.getRng()),l=t.getParent(Dt(d,s,c,r),"LI",r);if(l&&l!==u)return d.undoManager.transact(()=>{var e,t,o,r;{var n,a,A,i;c?(e=d,n=s,A=l,i=u,(a=e.dom).isEmpty(i)?(t=e,o=A,r=i,be(f(r)),Lt(t.dom,o,r),t.selection.setCursorLocation(r,0)):(o=D(n),Lt(a,A,i),e.selection.setRng(O(o)))):(null==(r=(t=u).parentNode)?void 0:r.firstChild)===t?xt(d):(n=d,a=s,A=u,i=l,a=D(a),Lt(n.dom,A,i),A=O(a),n.selection.setRng(A))}}),!0;if(!l&&!c&&0===s.startOffset&&0===s.endOffset)return d.undoManager.transact(()=>{M(d)}),!0}return!1},Rt=e=>{var t=e.selection.getStart(),o=$e(e,t);return e.dom.getParent(t,"LI,DT,DD",o)||0<qe(e).length},Pt=(e,t)=>{var o,r=e.selection;return!Q(e,r.getNode())&&(r.isCollapsed()?(r=e,t=t,Nt(r,t)||((n,a)=>{let A=n.dom,e=n.selection.getStart(),i=$e(n,e),s=A.getParent(e,A.isBlock,i);if(s&&A.isEmpty(s)){let e=F(n.selection.getRng()),r=A.getParent(Dt(n,e,a,i),"LI",i);if(r)return t=e=>Y(["td","th","caption"],b(e)),o=e=>e.dom===i,[t,o,l=K]=[pe(f(r),t,o),pe(f(e.startContainer),t,o),ie],!!ae(t,o,l).getOr(t.isNone()&&o.isNone())&&(n.undoManager.transact(()=>{var e=A,t=s,o=i;o=e.getParent(t.parentNode,e.isBlock,o),e.remove(t),o&&e.isEmpty(o)&&e.remove(o),Ut(A,r.parentNode),n.selection.select(r,!0),n.selection.collapse(a)}),!0)}var t,o,l;return!1})(r,t)):(o=e,!!Rt(o)&&(o.undoManager.transact(()=>{o.execCommand("Delete"),Ht(o.dom,o.getBody())}),!0)))},Vt=e=>{e=ee(At(e).split("")),e=s(e,(e,t)=>{e=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*e});return n(e,(e,t)=>e+t,0)},zt=e=>{var t;return--e<0?"":(t=e%26,e=Math.floor(e/26),zt(e)+String.fromCharCode("A".charCodeAt(0)+t))},Kt=(t,o)=>()=>{var e=S(t);return c(e)&&e.nodeName===o},Zt=r=>{r.addCommand("mceListProps",()=>{var t,e,o;t=r,o=S(t),Ie(o)&&!Q(t,o)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:(o={start:t.dom.getAttrib(o,"start","1"),listStyleType:l.from(t.dom.getStyle(o,"list-style-type"))},e=parseInt(o.start,10),ne(o.listStyleType,"upper-alpha")?zt(e):ne(o.listStyleType,"lower-alpha")?zt(e).toLowerCase():o.start)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:e=>{(e=>{switch(/^[0-9]+$/.test(t=e)?2:/^[A-Z]+$/.test(t)?0:/^[a-z]+$/.test(t)?1:0<t.length?4:3){case 2:return l.some({listStyleType:l.none(),start:e});case 0:return l.some({listStyleType:l.some("upper-alpha"),start:Vt(e).toString()});case 1:return l.some({listStyleType:l.some("lower-alpha"),start:Vt(e).toString()});case 3:return l.some({listStyleType:l.none(),start:""});case 4:return l.none()}var t})(e.getData().start).each(e=>{t.execCommand("mceListUpdate",!1,{attrs:{start:"1"===e.start?"":e.start},styles:{"list-style-type":e.listStyleType.getOr("")}})}),e.close()}})})};var Gt=tinymce.util.Tools.resolve("tinymce.html.Node");let jt=e=>3===e.type,Wt=e=>0===e.length,Xt=r=>{let o=(e,t)=>{let o=Gt.create("li");g(e,e=>o.append(e)),t?r.insert(o,t,!0):r.append(o)},e=n(r.children(),(e,t)=>jt(t)?[...e,t]:Wt(e)||jt(t)?e:(o(e,t),[]),[]);Wt(e)||o(e)},Yt=(o,r)=>t=>(t.setEnabled(o.selection.isEditable()),at(o,e=>{t.setActive(rt(e.parents,r)),t.setEnabled(!Q(o,e.element)&&o.selection.isEditable())}));t.add("lists",e=>{return(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0}),(c=e).on("PreInit",()=>{var e=c.parser;e.addNodeFilter("ul,ol",e=>g(e,Xt))}),e.hasPlugin("rtc",!0)?Zt(e):(s=e,Pe(s)&&(d=s).on("keydown",e=>{e.keyCode!==w.TAB||w.metaKeyPressed(e)||d.undoManager.transact(()=>{(e.shiftKey?xt:wt)(d)&&e.preventDefault()})}),(l=s).on("ExecCommand",e=>{e=e.command.toLowerCase();"delete"!==e&&"forwarddelete"!==e||!Rt(l)||Ht(l.dom,l.getBody())}),l.on("keydown",e=>{e.keyCode===w.BACKSPACE?Pt(l,!1)&&e.preventDefault():e.keyCode===w.DELETE&&Pt(l,!0)&&e.preventDefault()}),(i=e).on("BeforeExecCommand",e=>{e=e.command.toLowerCase();"indent"===e?wt(i):"outdent"===e&&xt(i)}),i.addCommand("InsertUnorderedList",(e,t)=>{Tt(i,"UL",t)}),i.addCommand("InsertOrderedList",(e,t)=>{Tt(i,"OL",t)}),i.addCommand("InsertDefinitionList",(e,t)=>{Tt(i,"DL",t)}),i.addCommand("RemoveList",()=>{M(i)}),Zt(i),i.addCommand("mceListUpdate",(e,t)=>{if(u(t)){var r=i,n=t;let o=S(r);null===o||Q(r,o)||r.undoManager.transact(()=>{u(n.styles)&&r.dom.setStyles(o,n.styles),u(n.attrs)&&Ce(n.attrs,(e,t)=>r.dom.setAttrib(o,t,e))})}}),i.addQueryStateHandler("InsertUnorderedList",Kt(i,"UL")),i.addQueryStateHandler("InsertOrderedList",Kt(i,"OL")),i.addQueryStateHandler("InsertDefinitionList",Kt(i,"DL"))),s=e=>()=>A.execCommand(e),(A=e).hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:s("InsertOrderedList"),onSetup:Yt(A,"OL")}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:s("InsertUnorderedList"),onSetup:Yt(A,"UL")})),a={text:"List properties...",icon:"ordered-list",onAction:()=>o.execCommand("mceListProps"),onSetup:(n="OL",t=>at(r,e=>t.setEnabled(rt(e.parents,n)&&!Q(r,e.element))))},(r=o=e).ui.registry.addMenuItem("listprops",a),o.ui.registry.addContextMenu("lists",{update:e=>{e=S(o,e);return Ie(e)?["listprops"]:[]}}),t=e,{backspaceDelete:e=>{Pt(t,e)}};var t,o,r,n,a,A,i,s,l,d,c})})(),"spotfix-localDB"),spotfixIndexedDBVersion=1,SPOTFIX_TABLE_USERS="users",SPOTFIX_TABLE_TASKS="tasks",SPOTFIX_TABLE_COMMENTS="comments",LOCAL_DATA_BASE_TABLE=[{name:SPOTFIX_TABLE_USERS,keyPath:"user_id"},{name:SPOTFIX_TABLE_TASKS,keyPath:"taskId"},{name:SPOTFIX_TABLE_COMMENTS,keyPath:"commentId"}],SPOTFIX_LAST_DB_KEY="spotfix_last_db_key",dbPromise=null;function getSpotfixDBKey(){var e=localStorage.getItem("spotfix_session_id"),t=localStorage.getItem("spotfix_project_token");return e?"session:"+e:t?"project:"+t:null}function getDBNameByKey(e){return SPOTFIX_INDEXED_DB_NAME+"_"+e}function openIndexedDB(r,n){return new Promise((e,t)=>{let o=indexedDB.open(r,n);o.onupgradeneeded=e=>{let o=e.target.result;LOCAL_DATA_BASE_TABLE.forEach(e=>{var t;o.objectStoreNames.contains(e.name)||(t=o.createObjectStore(e.name,{keyPath:e.keyPath}),e.name===SPOTFIX_TABLE_COMMENTS&&t.createIndex("taskId","taskId"),e.name===SPOTFIX_TABLE_TASKS&&t.createIndex("userId","userId"))})},o.onsuccess=()=>e(o.result),o.onerror=()=>t(o.error)})}function getDB(){if(!dbPromise){var e=getSpotfixDBKey();if(!e)return null;dbPromise=openIndexedDB(getDBNameByKey(e),spotfixIndexedDBVersion)}return dbPromise}async function deleteDBByKey(o){return new Promise(e=>{var t=indexedDB.deleteDatabase(getDBNameByKey(o));t.onsuccess=()=>e(),t.onerror=()=>e(),t.onblocked=()=>e()})}let spotfixIndexedDB={init:async()=>{var e,t=getSpotfixDBKey();return t?((e=localStorage.getItem(SPOTFIX_LAST_DB_KEY))&&e!==t&&await deleteDBByKey(e),localStorage.setItem(SPOTFIX_LAST_DB_KEY,t),dbPromise=null,await getDB(),{needInit:!0}):{needInit:!1}},withStore:async(a,A="readwrite",i)=>{let s=await getDB();if(s)return new Promise((e,t)=>{let o=s.transaction(a,A);var r=o.objectStore(a);let n=i(r);o.oncomplete=()=>e(n),o.onerror=()=>t(o.error)})},put:async(e,o)=>spotfixIndexedDB.withStore(e,"readwrite",t=>{Array.isArray(o)?o.forEach(e=>t.put(e)):t.put(o)}),delete:async(e,t)=>spotfixIndexedDB.withStore(e,"readwrite",e=>{e.delete(t)}),clearTable:async e=>spotfixIndexedDB.withStore(e,"readwrite",e=>e.clear()),clearPut:async(e,o)=>spotfixIndexedDB.withStore(e,"readwrite",t=>{t.clear(),Array.isArray(o)?o.forEach(e=>t.put(e)):t.put(o)}),getAll:async(e,n,a)=>spotfixIndexedDB.withStore(e,"readonly",r=>new Promise((e,t)=>{let o=n&&void 0!==a?r.index(n).getAll(a):r.getAll();o.onsuccess=()=>e(o.result),o.onerror=()=>t(o.error)})),getTable:async e=>getSpotfixDBKey()?spotfixIndexedDB.getAll(e):[]},SPOTFIX_DOBOARD_API_URL="https://api.doboard.com",spotfixApiCall=async(e,t,o=void 0)=>{if(!e||"object"!=typeof e)throw new Error("Data must be a valid object");if(!t||"string"!=typeof t)throw new Error("Method must be a valid string");if(void 0!==o&&"string"!=typeof o&&"number"!=typeof o)throw new Error("AccountId must be a string or number");var r,n=new FormData;for(r in e)e.hasOwnProperty(r)&&null!=e[r]&&n.append(r,e[r]);let a;a=void 0!==o?SPOTFIX_DOBOARD_API_URL+`/${o}/`+t:SPOTFIX_DOBOARD_API_URL+"/"+t;try{new URL(a)}catch(e){throw new Error("Invalid endpoint URL: "+a)}let A;try{A=await fetch(a,{method:"POST",body:n})}catch(e){throw new Error("Network error: "+e.message)}let i;try{i=await A.json()}catch(e){throw new Error("Failed to parse JSON response from server")}if(!i||"object"!=typeof i)throw new Error("Invalid response format from server");if(!i.data)throw new Error("Missing data field in server response");if(!i.data.operation_status)throw new Error("Missing operation_status in response data");if("FAILED"===i.data.operation_status)throw o=i.data.operation_message||"Operation failed without specific message","session_id Unknown"===i?.data?.operation_message&&(clearLocalstorageOnLogout(),checkLogInOutButtonsVisible()),new Error(o);if("SUCCESS"===i.data.operation_status)return i.data;throw new Error("Unknown operation status: "+i.data.operation_status)},spotFixUserConfirmEmailDoboard=async e=>{e={email_confirmation_token:encodeURIComponent(e)},e=await spotfixApiCall(e,"user_confirm_email");return{sessionId:e.session_id,userId:e.user_id,email:e.email,accounts:e.accounts,operationStatus:e.operation_status}},createTaskDoboard=async(e,t)=>{var o=t.accountId,e={session_id:e,project_token:t.projectToken,project_id:t.projectId,user_id:localStorage.getItem("spotfix_user_id"),name:t.taskTitle,comment:t.taskDescription,meta:t.taskMeta,task_type:"PUBLIC"};return{taskId:(await spotfixApiCall(e,"task_add",o)).task_id}},createTaskCommentDoboard=async(e,t,o,r,n,a="ACTIVE")=>{t={session_id:t,project_token:n,task_id:o,comment:r,status:a};return{commentId:(await spotfixApiCall(t,"comment_add",e)).comment_id}},attachmentAddDoboard=async e=>{var t=e.params.accountId,e={session_id:e.sessionId,project_token:e.params.projectToken,account_id:e.params.accountId,comment_id:e.commentId,filename:e.fileName,file:e.fileBinary,attachment_order:e.attachmentOrder};await spotfixApiCall(e,"attachment_add",t)},registerUserDoboard=async(t,e,o,r,n)=>{t={project_token:t,account_id:e,confirmation_url:o};if(o&&r&&(t.email=o,t.name=r),localStorage.getItem("bot_detector_event_token"))try{var a=JSON.parse(localStorage.getItem("bot_detector_event_token"));a?.value&&(t.bot_detector_event_token=a?.value)}catch(e){t.bot_detector_event_token=""}e=await spotfixApiCall(t,"user_registration");return{sessionId:e.session_id,userId:e.user_id,email:e.email,accountExists:1===e.user_email_confirmed,operationMessage:e.operation_message,operationStatus:e.operation_status,userEmailConfirmed:e.user_email_confirmed,accounts:e.accounts}},loginUserDoboard=async(e,t)=>{e={email:e,password:t},t=await spotfixApiCall(e,"user_authorize");return{sessionId:t.session_id,userId:t.user_id,email:t.email,accountExists:1===t.user_email_confirmed,operationMessage:t.operation_message,operationStatus:t.operation_status,userEmailConfirmed:t.user_email_confirmed,accounts:t.accounts}},forgotPasswordDoboard=async e=>{e={email:e};return spotfixApiCall(e,"user_password_reset")},logoutUserDoboard=async e=>{var t,o=localStorage.getItem("spotfix_session_id"),r=localStorage.getItem("spotfix_accounts"),r="undefined"!==r?JSON.parse(r||"[]"):[],r=0<r.length?r[0].account_id:1;o&&r&&(o={session_id:o},(t=localStorage.getItem("spotfix_email")||"")&&t.includes("spotfix_")&&(o.project_token=e),"SUCCESS"===(await spotfixApiCall(o,"user_unauthorize",r)).operation_status)&&(clearLocalstorageOnLogout(),checkLogInOutButtonsVisible())},getTasksDoboard=async(e,t,o,r,n)=>{t={session_id:t,project_token:e,project_id:r,task_type:"PUBLIC",status:"ACTIVE,DONE"};n&&(t.user_id=n);e=(await spotfixApiCall(t,"task_get",o)).tasks.map(e=>({taskId:e.task_id,taskTitle:e.name,userId:e.user_id,taskLastUpdate:e.updated,taskCreated:e.created,taskCreatorTaskUser:e.creator_user_id,taskMeta:e.meta,taskStatus:e.status}));return await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_TASKS,e),storageSaveTasksCount(e),e},getTasksCommentsDoboard=async(e,t,o,r="ACTIVE")=>{e={session_id:e,project_token:o,status:r},o=(await spotfixApiCall(e,"comment_get",t)).comments.map(e=>({taskId:e.task_id,commentId:e.comment_id,userId:e.user_id,commentBody:e.comment,commentDate:e.updated,status:e.status,issueTitle:e.task_name}));return await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_COMMENTS,o),o},getUserDoboard=async(e,t,o,r)=>{e={session_id:e,project_token:t},r&&(e.user_id=r),t=await spotfixApiCall(e,"user_get",o);return e.user_id?await spotfixIndexedDB.put(SPOTFIX_TABLE_USERS,t.users):await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_USERS,t.users),t.users},userUpdateDoboard=async(e,t,o,r,n)=>{o={session_id:o,project_token:e,user_id:r,timestamp:n};return await spotfixApiCall(o,"user_update",t),{success:!0}},getReleaseVersion=async()=>{try{var e=await(await fetch("https://api.github.com/repos/CleanTalk/SpotFix/tags")).json();return 0<e.length&&e[0].name?(storageSaveSpotfixVersion(e[0].name),e[0].name):0<(e=await(await fetch("https://api.github.com/repos/CleanTalk/SpotFix/releases")).json()).length&&e[0].tag_name?(storageSaveSpotfixVersion(e[0].tag_name),e[0].tag_name):null}catch(e){return null}},socket=null,heartbeatInterval=null,messageCallback=null,lastEventId=null,pendingUpdate=!1,reconnectTimer=null,isIntentionalClose=!1,WS_URL="wss://ws.doboard.com",getSessionId=()=>localStorage.getItem("spotfix_session_id"),buildMessage=e=>({channel:"account:"+localStorage.getItem("spotfix_company_id"),action:e,account_id:localStorage.getItem("spotfix_company_id"),session_id:getSessionId(),project_token:localStorage.getItem("spotfix_project_token")}),handleIncomingData=async t=>{switch(t.object){case"users":await spotfixIndexedDB.put(SPOTFIX_TABLE_USERS,t.data);break;case"tasks":var e;"REMOVED"===t.data.status?(await spotfixIndexedDB.delete(SPOTFIX_TABLE_TASKS,t.data.task_id),e=(await spotfixIndexedDB.getAll(SPOTFIX_TABLE_COMMENTS)).filter(e=>+e.taskId!=+t.data.task_id),await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_COMMENTS,e)):await spotfixIndexedDB.put(SPOTFIX_TABLE_TASKS,{taskId:t.data.task_id,taskTitle:t.data.name,userId:t.data.user_id,taskLastUpdate:t.data.updated,taskCreated:t.data.created,taskCreatorTaskUser:t.data.creator_user_id,taskMeta:t.data.meta,taskStatus:t.data.status});break;case"comments":"REMOVED"===t.data.status?await spotfixIndexedDB.delete(SPOTFIX_TABLE_COMMENTS,t.data.comment_id):await spotfixIndexedDB.put(SPOTFIX_TABLE_COMMENTS,{taskId:t.data.task_id,commentId:t.data.comment_id,userId:t.data.user_id,commentBody:t.data.comment,commentDate:t.data.updated,status:t.data.status,issueTitle:t.data.task_name})}},wsSpotfix={connect(){reconnectTimer&&(clearTimeout(reconnectTimer),reconnectTimer=null),socket&&socket.readyState===WebSocket.OPEN||!getSessionId()||(isIntentionalClose=!1,(socket=new WebSocket(WS_URL)).onopen=()=>{heartbeatInterval=setInterval(()=>{socket?.readyState===WebSocket.OPEN&&socket.send("heartbeat")},5e4),wsSpotfix.send(buildMessage("SUBSCRIBE"))},socket.onmessage=async t=>{if("heartbeat"!==t.data){let e;try{e=JSON.parse(t.data)}catch{return void console.warn("WS non-JSON message:",t.data)}!["users","tasks","comments"].includes(e.object)||(t=e.id?e.object+"-"+e.id:JSON.stringify(e))===lastEventId||(lastEventId=t,await handleIncomingData(e),pendingUpdate)||(pendingUpdate=!0,setTimeout(()=>{pendingUpdate=!1,messageCallback&&messageCallback()},3e3))}},socket.onclose=()=>{socket=null,heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null),isIntentionalClose||(reconnectTimer=setTimeout(()=>{wsSpotfix.connect()},2e3))},socket.onerror=e=>{console.error("WS error:",e)})},send(e){socket?.readyState===WebSocket.OPEN&&socket.send(JSON.stringify(e))},close(){isIntentionalClose=!0,reconnectTimer&&(clearTimeout(reconnectTimer),reconnectTimer=null),socket?.close()},subscribe(){socket?.readyState===WebSocket.OPEN&&wsSpotfix.send(buildMessage("SUBSCRIBE"))},unsubscribe(){socket?.readyState===WebSocket.OPEN&&wsSpotfix.send(buildMessage("UNSUBSCRIBE"))},onMessage(e){messageCallback=e}},SPOTFIX_VERSION="1.1.13";async function spotFixConfirmUserEmail(e,t){var e=await spotFixUserConfirmEmailDoboard(e),o=(localStorage.setItem("spotfix_email",e.email),localStorage.setItem("spotfix_session_id",e.sessionId),localStorage.setItem("spotfix_user_id",e.userId),localStorage.setItem("spotfix_widget_is_closed","0"),await spotfixIndexedDB.init(),wsSpotfix.connect(),wsSpotfix.subscribe(),localStorage.getItem("spotfix_pending_task"));if(!o)throw new Error("No pending task data");let r;try{r=JSON.parse(o)}catch(e){throw new Error("Invalid pending task data")}o={taskTitle:r.selectedText||"New Task",taskDescription:r.description||"",selectedData:r,projectToken:t.projectToken,projectId:t.projectId,accountId:t.accountId,taskMeta:JSON.stringify(r)},t=await handleCreateTask(e.sessionId,o);return localStorage.removeItem("spotfix_pending_task"),t}async function getTasksFullDetails(e,t,o,r=!1){var n,a;if(0<t.length)return n=localStorage.getItem("spotfix_session_id"),r||await getTasksCommentsDoboard(n,e.accountId,e.projectToken),a=await spotfixIndexedDB.getAll(SPOTFIX_TABLE_COMMENTS),r||await getUserDoboard(n,e.projectToken,e.accountId),{comments:a,users:await spotfixIndexedDB.getAll(SPOTFIX_TABLE_USERS),taskStatus:(r=t.find(e=>+e.taskId==+o))?.taskStatus,taskName:r?.taskTitle}}async function getUserDetails(e,t=!1){var o=localStorage.getItem("spotfix_session_id");let r=localStorage.getItem("spotfix_user_id");if(r)return t||await getUserDoboard(o,e.projectToken,e.accountId,r),(await spotfixIndexedDB.getAll(SPOTFIX_TABLE_USERS)).find(e=>+e.user_id==+r)||{}}async function handleCreateTask(e,t){try{var o,r=await createTaskDoboard(e,t);return r&&r.taskId&&t.taskDescription&&(o=`<br><br><br><em>The spot has been posted at the following URL <a href="${window.location.href}"><span class="task-link task-link--done">${window.location.href}</span></a></em>`,await addTaskComment({projectToken:t.projectToken,accountId:t.accountId},r.taskId,t.taskDescription+o)),r}catch(e){throw e}}async function addTaskComment(e,t,o){var r=localStorage.getItem("spotfix_session_id");if(!r)throw new Error("No session");if(e.projectToken&&e.accountId)return createTaskCommentDoboard(e.accountId,r,t,o,e.projectToken);throw new Error("Missing params")}async function getAllTasks(e,t=!1){var o=e.projectToken,r=localStorage.getItem("spotfix_session_id")||"",t=(t||await getTasksDoboard(o,r,e.accountId,e.projectId),await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS)),o=(storageSaveTasksCount(t),t.filter(e=>e.taskMeta));return o}function formatDate(e){if(!e)return{date:"",time:""};let t;return t=!e.includes("T")&&e.includes(" ")?new Date(e.replace(" ","T")):new Date(e),isNaN(t.getTime())?{date:"",time:""}:(e=t.getTimezoneOffset(),{date:["January","February","March","April","May","June","July","August","September","October","November","December"][(e=new Date(t.getTime()-6e4*e)).getMonth()]+" "+e.getDate(),time:e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")})}function getTaskAuthorDetails(e,t){localStorage.getItem("spotfix_session_id");var o=[{taskId:"1",taskAuthorAvatarImgSrc:"https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/avatars/081a1b65d20fe318/m.jpg",taskAuthorName:"Test All Issues Single Author Name"}].find(e=>e.taskId===t);return void 0===o?{taskId:null,taskAuthorAvatarImgSrc:null,taskAuthorName:"Task Author"}:o}function getIssuesCounterString(e,t){return` (${e}/${t})`}function getAvatarSrc(e){if(e&&e.avatar){if("object"==typeof e.avatar&&e.avatar.m)return e.avatar.m;if("string"==typeof e.avatar)return e.avatar}return null}function getAuthorName(e){if(e){if(e.name&&0<e.name.trim().length)return e.name;if(e.email&&0<e.email.trim().length)return e.email}return"Unknown Author"}function registerUser(e){let o=e.userEmail,r=e.userName,n=e.projectToken,a=e.accountId,A=e.selectedData.pageURL||window.location.href;return t=>registerUserDoboard(n,a,o,r,A).then(e=>{if(e.accountExists)document.querySelector(".doboard_task_widget-accordion>.doboard_task_widget-input-container").innerText=ksesFilter("Account already exists. Please, login usin your password."),document.querySelector(".doboard_task_widget-accordion>.doboard_task_widget-input-container.hidden").classList.remove("hidden"),document.getElementById("doboard_task_widget-user_password").focus();else if(e.sessionId)localStorage.setItem("spotfix_session_id",e.sessionId),localStorage.setItem("spotfix_user_id",e.userId),localStorage.setItem("spotfix_email",e.email),localStorage.setItem("spotfix_accounts",JSON.stringify(e.accounts)),spotfixIndexedDB.init(),localStorage.setItem("spotfix_widget_is_closed","0"),wsSpotfix.connect(),wsSpotfix.subscribe(),userUpdate(n,a);else{if(!("SUCCESS"===e.operationStatus&&e.operationMessage&&0<e.operationMessage.length))throw new Error("Session ID not found in response");"Waiting for email confirmation"==e.operationMessage&&(e.operationMessage="Waiting for an email confirmation. Please check your Inbox.")===document.getElementById("doboard_task_widget-error_message").innerText&&(e.operationMessage="Incorrect email address. Please confirm your email to create the spot."),"function"==typeof t&&t(e.operationMessage,"notice");e=document.getElementById("doboard_task_widget-submit_button");e.disabled=!0,e.innerText=ksesFilter("Create spot")}}).catch(e=>{throw e})}function loginUser(e){let o=e.userEmail,r=e.userPassword;return t=>loginUserDoboard(o,r).then(e=>{if(e.sessionId)localStorage.setItem("spotfix_session_id",e.sessionId),localStorage.setItem("spotfix_user_id",e.userId),localStorage.setItem("spotfix_email",o),localStorage.setItem("spotfix_accounts",JSON.stringify(e.accounts)),checkLogInOutButtonsVisible(),localStorage.setItem("spotfix_widget_is_closed","0"),spotfixIndexedDB.init(),wsSpotfix.connect(),wsSpotfix.subscribe();else{if(!("SUCCESS"===e.operationStatus&&e.operationMessage&&0<e.operationMessage.length))throw new Error("Session ID not found in response");"function"==typeof t&&t(e.operationMessage,"notice")}}).catch(e=>{throw e})}function forgotPassword(e){return r=>forgotPasswordDoboard(e).then(e=>{if(console.log("response ",e),"SUCCESS"!==e?.operation_status)throw new Error("Response error");r("New password sent to email","notice");var e=document.getElementById("doboard_task_widget-container-login-forgot-password-form"),t=document.getElementById("doboard_task_widget-input-container-login"),o=document.getElementById("doboard_task_widget-submit_button");e&&e.classList.add("doboard_task_widget-hidden"),t&&(t.classList.remove("doboard_task_widget-hidden"),o)&&o.closest(".doboard_task_widget-field").classList.add("doboard_task_widget-hidden")}).catch(e=>{throw e})}function userUpdate(e,t){var o=localStorage.getItem("spotfix_session_id"),r=localStorage.getItem("spotfix_user_id"),n=Intl.DateTimeFormat().resolvedOptions().timeZone;return userUpdateDoboard(e,t,o,r,n)}function spotFixSplitUrl(e){try{var t,o,r,n;return e&&""!==e.trim()?(o=(t=new URL(e)).host,0===(r=t.pathname.split("/").filter(Boolean)).length?o:((n=r.reverse()).push(o),n.join(" / "))):""}catch(e){return""}}function setToggleStatus(t){var e=document.getElementById("widget_visibility");e&&(e.checked=!0,e.addEventListener("click",()=>{let e=setTimeout(()=>{localStorage.setItem("spotfix_widget_is_closed","1"),wsSpotfix.close(),t.hide(),clearTimeout(e)},300)}))}function checkLogInOutButtonsVisible(){var e;localStorage.getItem("spotfix_session_id")?((e=document.getElementById("doboard_task_widget-user_menu-logout_button")?.closest(".doboard_task_widget-user_menu-item"))&&(e.style.display="block"),(e=document.getElementById("doboard_task_widget-input-container-login"))&&e.classList.add("doboard_task_widget-hidden")):((e=document.getElementById("doboard_task_widget-user_menu-logout_button")?.closest(".doboard_task_widget-user_menu-item"))&&(e.style.display="none"),(e=document.getElementById("doboard_task_widget-input-container-login"))&&e.classList.remove("doboard_task_widget-hidden"),clearUserMenuData())}async function clearUserMenuData(){var e=document.querySelector(".doboard_task_widget-user_menu-header-user-name"),t=document.querySelector(".doboard_task_widget-user_menu-header-email"),o=document.querySelector(".doboard_task_widget-user_menu-header-avatar");e&&(e.innerText="Guest"),t&&(t.innerText=""),o&&(o.src=SpotFixSVGLoader.getAsDataURI("iconAvatar"))}function changeSize(e){e&&+localStorage.getItem("maximize")?e.classList.add("doboard_task_widget-container-maximize"):e&&e.classList.remove("doboard_task_widget-container-maximize")}class CleanTalkWidgetDoboard{selectedText="";selectedData={};widgetElement=null;params={};currentActiveTaskId=0;savedIssuesQuantityOnPage=0;savedIssuesQuantityAll=0;allTasksData={};srcVariables={};constructor(e,t){this.selectedData=e||"",this.selectedText=e?.selectedText||"",this.descriptionText=localStorage.getItem("spotfix-description-ls")||"",this.srcVariables={buttonCloseScreen:SpotFixSVGLoader.getAsDataURI("buttonCloseScreen"),iconEllipsesMore:SpotFixSVGLoader.getAsDataURI("iconEllipsesMore"),iconPlus:SpotFixSVGLoader.getAsDataURI("iconPlus"),iconMaximize:SpotFixSVGLoader.getAsDataURI("iconMaximize"),chevronBack:SpotFixSVGLoader.getAsDataURI("chevronBack"),buttonPaperClip:SpotFixSVGLoader.getAsDataURI("buttonPaperClip"),buttonSendMessage:SpotFixSVGLoader.getAsDataURI("buttonSendMessage"),logoDoBoardGreen:SpotFixSVGLoader.getAsDataURI("logoDoBoardGreen"),logoDoBoardWrap:SpotFixSVGLoader.getAsDataURI("logoDoBoardWrap"),iconSpotWidgetWrapPencil:SpotFixSVGLoader.getAsDataURI("iconSpotWidgetWrapPencil"),iconMarker:SpotFixSVGLoader.getAsDataURI("iconMarker"),iconSpotPublic:SpotFixSVGLoader.getAsDataURI("iconSpotPublic"),iconSpotPrivate:SpotFixSVGLoader.getAsDataURI("iconSpotPrivate"),iconLinkChain:SpotFixSVGLoader.getAsDataURI("iconLinkChain")},this.fileUploader=new FileUploader(this.escapeHtml),this.init(t)}async init(e){this.params=this.getParams();var t=new URLSearchParams(window.location.search),o=t.get("email_confirmation_token");if(o)try{var r=await spotFixConfirmUserEmail(o,this.params),n=(this.allTasksData=await getAllTasks(this.params,this.nonRequesting),this.currentActiveTaskId=r.taskId,storageSetWidgetIsClosed(!(e="concrete_issue")),t.delete("email_confirmation_token"),window.location.pathname+(t.toString()?"?"+t.toString():""));window.history.replaceState({},document.title,n)}catch(e){this.registrationShowMessage("Error confirming email: "+e.message,"error")}else{o=localStorage.getItem("spotfix_widget_is_closed");(!o||this.selectedText)&&o||(this.allTasksData=await getAllTasks(this.params,this.nonRequesting))}let a;storageTasksHasUnreadUpdates()?a=!0:"wrap_review"===e&&(a=await checkIfTasksHasSiteOwnerUpdates(this.allTasksData,this.params)),storageSaveTasksUpdateData(this.allTasksData),storageWidgetCloseIsSet()||storageSetWidgetIsClosed(!0),a&&storageSetWidgetIsClosed(!1),this.widgetElement=await this.createWidgetElement(e),this.bindWidgetInputsInteractive()}getParams(){var e=document.querySelector('script[src*="doboard-widget-bundle."]');if(!e||!e.src)throw new Error("Script not provided");e=new URL(e.src),e=Object.fromEntries(e.searchParams.entries());if(!e)throw new Error("Script params not provided");if(e.projectToken&&e.accountId&&e.projectId)return e.accountId&&localStorage.setItem("spotfix_company_id",e.accountId),e.projectToken&&localStorage.setItem("spotfix_project_token",e.projectToken),e;throw new Error("Necessary script params not provided")}bindCreateTaskEvents(){var e=document.getElementById("doboard_task_widget-submit_button");e&&e.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-title"),a=e.value;if(a){var t=document.getElementById("doboard_task_widget-description"),A=t.value;if(A){let t="",o="",r="";var i=document.querySelector(".doboard_task_widget-login");if(!!!localStorage.getItem("spotfix_session_id")&&i&&i.classList.contains("active")){let e=document.getElementById("doboard_task_widget-user_email");var i=document.getElementById("doboard_task_widget-user_name"),s=document.getElementById("doboard_task_widget-user_password");if(!(o=e.value))return e.style.borderColor="red",e.focus(),void e.addEventListener("input",function(){this.style.borderColor=""});if(e&&i&&!(t=i.value))return i.style.borderColor="red",i.focus(),void i.addEventListener("input",function(){this.style.borderColor=""});if(e&&s&&!i&&!(r=s.value))return s.style.borderColor="red",s.focus(),void s.addEventListener("input",function(){this.style.borderColor=""})}let e=document.getElementById("doboard_task_widget-user_email");o=e.value;i=document.getElementById("doboard_task_widget-submit_button"),s=(i.disabled=!0,i.innerText=ksesFilter("Creating spot..."),{taskTitle:a,taskDescription:A,selectedData:this.selectedData,projectToken:this.params.projectToken,projectId:this.params.projectId,accountId:this.params.accountId,taskMeta:JSON.stringify(this.selectedData||{pageURL:window.location.href})});o&&(s.userEmail=o),t&&(s.userName=t),r&&(s.userPassword=r),localStorage.setItem("spotfix_pending_task",JSON.stringify({...this.selectedData,description:A}));let n;try{n=await this.submitTask(s)}catch(e){return void this.registrationShowMessage(e.message)}i.disabled=!1,i.style.cursor="pointer",n.needToLogin||(void 0!==n.isPublic&&(this.selectedData.isPublic=n.isPublic),this.allTasksData=await getAllTasks(this.params,this.nonRequesting),storageSaveTasksUpdateData(this.allTasksData),this.selectedData={},await this.createWidgetElement("all_issues"),storageSetWidgetIsClosed(!1),hideContainersSpinner(!1))}else t.style.borderColor="red",t.focus(),t.addEventListener("input",function(){this.style.borderColor=""})}else e.style.borderColor="red",e.focus(),e.addEventListener("input",function(){this.style.borderColor=""})})}resetLoginForm(){var e=document.querySelector(".doboard_task_widget-input-container-login"),t=document.querySelector(".doboard_task_widget-input-container-phantom"),o=document.getElementById("doboard_task_widget-submit_button");e&&e.classList.add("doboard_task_widget-hidden"),t&&t.classList.remove("doboard_task_widget-hidden"),o&&o.closest(".doboard_task_widget-field").classList.remove("doboard_task_widget-hidden")}bindShowLoginFormEvents(){var e=document.getElementById("doboard_task_widget-show_login_form"),t=document.getElementById("doboard_task_widget-on_phantom_login_page"),o=document.getElementById("doboard_task_widget-forgot_password"),r=document.getElementById("doboard_task_widget-forgot_password-black"),n=document.getElementById("doboard_task_widget-login_button"),a=document.getElementById("doboard_task_widget-restore_password_button"),e=(e&&e.addEventListener("click",async()=>{var e=document.querySelector(".doboard_task_widget-input-container-login"),t=document.querySelector(".doboard_task_widget-input-container-phantom"),o=document.getElementById("doboard_task_widget-submit_button");e&&(e.classList.toggle("doboard_task_widget-hidden"),o)&&(e.classList.contains("doboard_task_widget-hidden")?o.closest(".doboard_task_widget-field").classList.remove("doboard_task_widget-hidden"):o.closest(".doboard_task_widget-field").classList.add("doboard_task_widget-hidden")),t&&t.classList.toggle("doboard_task_widget-hidden")}),t&&t.addEventListener("click",async()=>{var e=document.querySelector(".doboard_task_widget-input-container-login"),t=document.querySelector(".doboard_task_widget-input-container-phantom"),o=document.getElementById("doboard_task_widget-submit_button");e&&(e.classList.toggle("doboard_task_widget-hidden"),o)&&(e.classList.contains("doboard_task_widget-hidden")?o.closest(".doboard_task_widget-field").classList.remove("doboard_task_widget-hidden"):o.closest(".doboard_task_widget-field").classList.add("doboard_task_widget-hidden")),t&&t.classList.toggle("doboard_task_widget-hidden")}),o&&(o.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-container-login-forgot-password-form"),t=document.getElementById("doboard_task_widget-input-container-login");e&&e.classList.remove("doboard_task_widget-hidden"),t&&t.classList.add("doboard_task_widget-hidden")}),r.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-container-login-forgot-password-form"),t=document.getElementById("doboard_task_widget-input-container-login"),o=document.getElementById("doboard_task_widget-submit_button");e&&e.classList.add("doboard_task_widget-hidden"),t&&(t.classList.remove("doboard_task_widget-hidden"),o)&&o.closest(".doboard_task_widget-field").classList.add("doboard_task_widget-hidden")})),document.querySelector(".doboard_task_widget-input-container-login-menu #doboard_task_widget-forgot_password")),t=(e&&e.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-container-login-forgot-password-form"),t=document.querySelector(".doboard_task_widget-input-container-login-menu");e&&e.classList.remove("doboard_task_widget-hidden"),t&&t.classList.add("doboard_task_widget-hidden")}),document.querySelector(".doboard_task_widget-input-container-login-menu ~ #doboard_task_widget-container-login-forgot-password-form #doboard_task_widget-forgot_password-black")),o=(t&&t.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-container-login-forgot-password-form"),t=document.querySelector(".doboard_task_widget-input-container-login-menu");e&&e.classList.add("doboard_task_widget-hidden"),t&&t.classList.remove("doboard_task_widget-hidden")}),n&&n.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-login_email"),t=document.getElementById("doboard_task_widget-login_password"),o=(document.querySelector(".doboard_task_widget-login-is-invalid").classList.add("doboard_task_widget-hidden"),e.value.trim());if(o)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){var r=t.value;if(r)if(r.length<6)t.style.borderColor="red",t.focus(),t.addEventListener("input",function(){this.style.borderColor=""});else{try{await loginUser({userEmail:o,userPassword:r})(this.registrationShowMessage),this.setUserMenuData();var n=document.getElementById("doboard_task_widget-submit_button");n&&n.closest(".doboard_task_widget-field").classList.remove("doboard_task_widget-hidden")}catch(e){document.querySelector(".doboard_task_widget-login-is-invalid").classList.remove("doboard_task_widget-hidden")}o=!!localStorage.getItem("spotfix_session_id"),r=localStorage.getItem("spotfix_email");o&&r&&!r.includes("spotfix_")?document.querySelector(".doboard_task_widget-login")?.classList?.add("doboard_task_widget-hidden"):document.querySelector(".doboard_task_widget-login-is-invalid").classList.remove("doboard_task_widget-hidden")}else t.style.borderColor="red",t.focus(),t.addEventListener("input",function(){this.style.borderColor=""})}else e.style.borderColor="red",e.focus(),e.addEventListener("input",function(){this.style.borderColor=""});else e.style.borderColor="red",e.focus(),e.addEventListener("input",function(){this.style.borderColor=""})}),document.getElementById("doboard_task_widget-password-toggle"));let A=document.getElementById("doboard_task_widget-login_password");o&&A&&o.addEventListener("click",function(){var e="password"===A.type;A.type=e?"text":"password",this.classList.toggle("doboard_task_widget-bottom-eye-off-icon"),this.classList.toggle("doboard_task_widget-bottom-eye-icon")}),a&&a.addEventListener("click",async()=>{var e=document.getElementById("doboard_task_widget-forgot_password_email"),t=e.value.trim();if(t)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))try{await forgotPassword(t)(this.registrationShowMessage)}catch(e){this.registrationShowMessage(e.message,"error")}else e.style.borderColor="red",e.focus();else e.style.borderColor="red",e.focus(),e.addEventListener("input",function(){this.style.borderColor=""})})}async createWidgetElement(e,t=!1,A=!1){var i=document.querySelector(".doboard_task_widget")?document.querySelector(".doboard_task_widget"):document.createElement("div");i.className="doboard_task_widget",t||(i.innerHTML=ksesFilter("")),i.removeAttribute("style");let o="",s,l={};var r=window.SpotfixWidgetConfig;switch(e){case"create_issue":o="create_issue",this.type_name=o,this.socket_type_name=o,this.nonRequesting=t,l={selectedText:this.selectedText||localStorage.getItem("spotfix-title-ls")||"",currentDomain:document.location.hostname||"",descriptionText:this.descriptionText||localStorage.getItem("spotfix-description-ls")||"",buttonCloseScreen:SpotFixSVGLoader.getAsDataURI("buttonCloseScreen"),iconMaximize:SpotFixSVGLoader.getAsDataURI("iconMaximize"),iconEllipsesMore:SpotFixSVGLoader.getAsDataURI("iconEllipsesMore"),...this.srcVariables},storageGetUserIsDefined()&&storageSetWidgetIsClosed(!1);break;case"wrap":if(storageGetWidgetIsClosed())return;o="wrap",this.type_name=o,this.socket_type_name=o,this.nonRequesting=t,l={position:Number.isNaN(Number(r?.verticalPosition))?"0vh":Number(r?.verticalPosition)+"vh",...this.srcVariables};break;case"wrap_review":o="wrap_review",this.type_name=o,this.socket_type_name=o,this.nonRequesting=t,l={position:Number.isNaN(Number(r?.verticalPosition))?"0vh":Number(r?.verticalPosition)+"vh",...this.srcVariables};break;case"all_issues":o="all_issues",this.type_name=o,this.socket_type_name=o,this.nonRequesting=t,l={...this.srcVariables};break;case"user_menu":o="user_menu",this.socket_type_name=o,this.nonRequesting=t;var n=localStorage.getItem("spotfix_app_version")||SPOTFIX_VERSION;l={spotfixVersion:n?"Spotfix version "+n+".":"",avatar:SpotFixSVGLoader.getAsDataURI("iconAvatar"),iconEye:SpotFixSVGLoader.getAsDataURI("iconEye"),iconDoor:SpotFixSVGLoader.getAsDataURI("iconDoor"),chevronBackDark:SpotFixSVGLoader.getAsDataURI("chevronBackDark"),buttonCloseScreen:SpotFixSVGLoader.getAsDataURI("buttonCloseScreen"),userName:"Guest",email:localStorage.getItem("spotfix_email")||"",...this.srcVariables};break;case"concrete_issue":o="concrete_issue",this.type_name=o,this.socket_type_name=o,this.nonRequesting=t,this.savedIssuesQuantityAll=Array.isArray(this.allTasksData)?this.allTasksData.length:0,this.savedIssuesQuantityOnPage=Array.isArray(this.allTasksData)?this.allTasksData.filter(e=>{try{return(e.taskMeta?JSON.parse(e.taskMeta):{}).pageURL===window.location.href}catch(e){return!1}}).length:0,l={issueTitle:"...",issueComments:[],issuesCounter:getIssuesCounterString(this.savedIssuesQuantityOnPage,this.savedIssuesQuantityAll),...this.srcVariables}}t||(i.innerHTML=this.loadTemplate(o,l),document.body.appendChild(i),spotFixRemoveHighlights());let d=document.querySelector(".doboard_task_widget-container");switch(e){case"create_issue":d&&+localStorage.getItem("maximize")?d.classList.add("doboard_task_widget-container-maximize"):d&&d.classList.remove("doboard_task_widget-container-maximize");var c=window.getSelection(),u=!!localStorage.getItem("spotfix_session_id"),g=localStorage.getItem("spotfix_email");l.selectedText&&(document.querySelector(".spotfix_placeholder_title").style.display="none"),u&&g&&!g.includes("spotfix_")&&document.querySelector(".doboard_task_widget-login").classList.add("hidden"),"Range"===c.type&&(u=spotFixGetSelectedData(c))&&(spotFixScrollToNodePath(u.nodePath),this.positionWidgetContainer()),this.bindCreateTaskEvents(),this.bindShowLoginFormEvents(),SpotFixTinyMCE.get("doboard_task_widget-description")&&SpotFixTinyMCE.remove("#doboard_task_widget-description");let e=localStorage.getItem("spotfix-description-ls")||"";SpotFixTinyMCE.init({selector:"#doboard_task_widget-description",plugins:"link lists",menubar:!1,statusbar:!1,toolbar_location:"bottom",height:"100%",width:"100%",toolbar:"screenshotButton emoticons bullist numlist bold italic strikethrough underline blockquote",file_picker_types:"file image media",setup:function(t){t.on("init",function(){e&&t.setContent(e,{format:"html"}),setTimeout(()=>{t.save()})}),t.on("change",function(){t.save();var e=t.getContent();localStorage.setItem("spotfix-description-ls",e)}),t.ui.registry.addButton("screenshotButton",{icon:"screenshot",tooltip:"In development",disabled:!0,onAction:e=>{}})}});break;case"wrap":await this.getTaskCount(),document.querySelector(".doboard_task_widget-wrap").addEventListener("click",e=>{e=e.currentTarget.classList;e&&!e.contains("hidden")&&this.createWidgetElement("all_issues")}),hideContainersSpinner(!1);break;case"wrap_review":document.querySelector("#doboard_task_widget_button").addEventListener("click",e=>{spotFixOpenWidget(this.selectedData,"create_issue")});break;case"all_issues":this.nonRequesting?hideContainersSpinner():changeSize(d),spotFixRemoveHighlights();let a=0;this.allTasksData=await getAllTasks(this.params,this.nonRequesting);var g=this.allTasksData,m=(s=await getTasksFullDetails(this.params,g,this.currentActiveTaskId,this.nonRequesting),[]);if(0<g.length){let o=window.location.href;var p=g.sort((e,t)=>{e=JSON.parse(e.taskMeta).pageURL===o?1:0;return(JSON.parse(t.taskMeta).pageURL===o?1:0)-e});document.querySelector(".doboard_task_widget-all_issues-container").innerHTML="";for(let n=0;n<p.length;n++){var h=p[n],f=h.taskId,b=h.taskTitle,v=h.taskMeta;let t=null;if(v)try{(t=JSON.parse(v)).isFixed="DONE"===h.taskStatus,t.taskId=h.taskId}catch(e){t=null}var w,x,v=t?t.pageURL:"";let e="",o="",r="Task publicity is unknown";t&&void 0!==t.isPublic&&(r=t.isPublic?(o=this.srcVariables.iconSpotPublic,"The task is public"):(o=this.srcVariables.iconSpotPrivate,"The task is private and visible only for registered DoBoard users")),v===window.location.href&&(a++,e=t?t.nodePath:""),A&&v!==window.location.href||(x=getAvatarData(w=getTaskFullDetails(s,f)),b={taskTitle:b||"",taskAuthorAvatarImgSrc:w.taskAuthorAvatarImgSrc,taskAuthorName:w.taskAuthorName,taskPublicStatusImgSrc:o,taskPublicStatusHint:r,taskLastMessage:ksesFilter(w.lastMessageText),taskPageUrlFull:v,iconLinkChain:this.srcVariables.iconLinkChain,taskFormattedPageUrl:spotFixSplitUrl(v),taskPageUrl:"1"===localStorage.getItem("maximize")?v:spotFixSplitUrl(v),taskLastUpdate:w.lastMessageTime,nodePath:this.sanitizeNodePath(e),taskId:f,avatarCSSClass:x.avatarCSSClass,avatarStyle:x.avatarStyle,taskAuthorInitials:x.taskAuthorInitials,initialsClass:x.initialsClass,classUnread:"",elementBgCSSClass:"DONE"!==h.taskStatus?"":"doboard_task_widget-task_row-green",statusFixedHtml:"DONE"!==h.taskStatus?"":this.loadTemplate("fixedHtml")},storageProvidedTaskHasUnreadUpdates(w.taskId)&&(b.classUnread="unread"),document.querySelector(".doboard_task_widget-all_issues-container").innerHTML+=this.loadTemplate("list_issues",b),this.isSpotHaveToBeHighlighted(t)&&m.push(t))}this.savedIssuesQuantityOnPage=a,this.savedIssuesQuantityAll=g.length,spotFixHighlightElements(m,this),document.querySelector(".doboard_task_widget-header span").innerHTML=ksesFilter("All spots "+getIssuesCounterString(this.savedIssuesQuantityOnPage,this.savedIssuesQuantityAll))}0===g.length&&(document.querySelector(".doboard_task_widget-all_issues-container").innerHTML=ksesFilter('<div class="doboard_task_widget-issues_list_empty">The issues list is empty</div>')),this.bindIssuesClick(),hideContainersSpinner(!1);break;case"user_menu":setToggleStatus(this),checkLogInOutButtonsVisible();c=await getUserDetails(this.params,this.nonRequesting),u=(this.nonRequesting||await getReleaseVersion(),localStorage.getItem("spotfix_app_version")||SPOTFIX_VERSION);l.spotfixVersion=(u?`Spotfix version ${u}.`:"")||"",c&&(l.userName=c.name||"Guest",l.email=c.email||localStorage.getItem("spotfix_email")||"",c?.avatar?.s)&&(l.avatar=c?.avatar?.s),i.innerHTML=this.loadTemplate("user_menu",l),document.body.appendChild(i),setToggleStatus(this),checkLogInOutButtonsVisible(),this.bindShowLoginFormEvents(),this.bindWidgetInputsInteractive();break;case"concrete_issue":this.nonRequesting?(hideContainersSpinner(),this.allTasksData=await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS)):changeSize(d);let o=await getTaskFullDetails(s=await getTasksFullDetails(this.params,this.allTasksData,this.currentActiveTaskId,this.nonRequesting),this.currentActiveTaskId,this.nonRequesting);g=document.querySelector(".doboard_task_widget-issue-title");g&&(g.innerText=ksesFilter(s.taskName||o?.issueTitle)),l.issueTitle=s.taskName||o?.issueTitle,l.issueComments=o?.issueComments;let t=null;u=this.allTasksData.find(e=>String(e.taskId)===String(o.taskId));let r=null;if(u&&u.taskMeta)try{r=JSON.parse(u.taskMeta),t=r.nodePath||null}catch(e){t=null,r=null}l.taskPageUrl=r.pageURL;c=r.pageURL.replace(window.location.origin,""),g=(l.taskFormattedPageUrl=c.length<2?r.pageURL.replace(/^https?:\/\//,""):c,document.getElementById("spotfix_doboard_task_widget_url")),c=(g&&(g.innerHTML=`<a rel="nofollow" href="${r.pageURL}">${l.taskFormattedPageUrl}</a>`),l.contenerClasess=+localStorage.getItem("maximize")?"doboard_task_widget-container-maximize doboard_task_widget-container":"doboard_task_widget-container",this.nonRequesting&&(u=document.getElementById("doboard_task_widget_concrete-container"))&&(u.className=l.contenerClasess),this.nonRequesting||(i.innerHTML=this.loadTemplate("concrete_issue",l),document.body.appendChild(i)),spotFixRemoveHighlights(),r&&t&&(spotFixHighlightElements([r],this),"function"==typeof spotFixScrollToNodePath)&&spotFixScrollToNodePath(t),document.querySelector(".doboard_task_widget-concrete_issues-container"));if(!c)return;c.scrollTop;var B=[],y=localStorage.getItem("spotfix_user_id");if(0<o.issueComments.length){storageRemoveUnreadUpdateForTaskID(o.taskId),c.innerHTML=ksesFilter("");for(var C of o.issueComments){var _=Number(y)===Number(C.commentUserId),k=getAvatarData({taskAuthorAvatarImgSrc:C.commentAuthorAvatarSrc,taskAuthorName:C.commentAuthorName}),k={commentAuthorName:C.commentAuthorName,commentBody:C.commentBody,commentDate:C.commentDate,commentTime:C.commentTime,issueTitle:l.issueTitle,avatarCSSClass:k.avatarCSSClass,avatarStyle:k.avatarStyle,taskAuthorInitials:k.taskAuthorInitials,initialsClass:k.initialsClass,issueMessageClassOwner:_?"owner":"guest"};void 0===B[C.commentDate]&&(B[C.commentDate]=[]),B[C.commentDate].push(k)}let t="";for(var E in B){var F,S=B[E];let e="";for(F in S.sort((e,t)=>e.commentTime.localeCompare(t.commentTime)),S){var Q=S[F];e+=this.loadTemplate("concrete_issue_messages",Q)}t+=this.loadTemplate("concrete_issue_day_content",{dayContentMonthDay:E,dayContentMessages:e,statusFixedHtml:"DONE"!==s?.taskStatus?"":this.loadTemplate("fixedTaskHtml")})}(!this.nonRequesting||c.innerHTML!==t)&&(c.innerHTML=t)}else c.innerHTML=ksesFilter("No comments");g=document.querySelector(".doboard_task_widget-send_message_input");if(g){function U(){40<this.value.length?this.classList.add("high"):this.classList.remove("high")}g.addEventListener("input",U),g.addEventListener("change",U);let t=this.fileUploader;SpotFixTinyMCE.get("doboard_task_widget-send_message_input_SpotFix")&&SpotFixTinyMCE.remove("#doboard_task_widget-send_message_input_SpotFix"),SpotFixTinyMCE.init({selector:"#doboard_task_widget-send_message_input_SpotFix",plugins:"link lists",menubar:!1,statusbar:!1,toolbar_location:"bottom",toolbar:"attachmentButton screenshotButton emoticons bullist numlist bold italic strikethrough underline blockquote",height:120,file_picker_types:"file image media",setup:function(e){e.on("change",function(){e.save()}),e.on("init",()=>{if(!this.nonRequesting){let t=document.querySelector(".doboard_task_widget-concrete_issues-container");t&&setTimeout(()=>{var e=t.scrollHeight;t.scrollTo({top:e,behavior:"smooth"})},50)}}),e.ui.registry.addButton("attachmentButton",{icon:"paperclip",tooltip:"Add file",disabled:!0,onAction:e=>{t?.fileInput?.click(e)}}),e.ui.registry.addButton("screenshotButton",{icon:"screenshot",tooltip:"Screenshot",disabled:!0,onAction:e=>{t?.makeScreenshot()}})}})}if(this.nonRequesting){let t=document.querySelector(".doboard_task_widget-concrete_issues-container");t&&setTimeout(()=>{var e=t.scrollHeight;t.scrollTo({top:e,behavior:"smooth"})},50)}hideContainersSpinner();let n=document.querySelector(".doboard_task_widget-send_message_button");if(n){this.fileUploader.init();let r=this;this._sendButtonClickHandler&&n.removeEventListener("click",this._sendButtonClickHandler);u=async t=>{t.preventDefault();var t=n.closest(".doboard_task_widget-send_message").querySelector(".doboard_task_widget-send_message_input"),o=t.value.trim();if(o){t.disabled=!0,n.disabled=!0;let e=null;try{e=await addTaskComment(this.params,this.currentActiveTaskId,o),t.value="",await this.createWidgetElement("concrete_issue"),hideContainersSpinner(!1)}catch(e){alert("Error when adding a comment: "+e.message)}r.fileUploader.hasFiles()&&null!==e&&e.hasOwnProperty("commentId")&&(o=localStorage.getItem("spotfix_session_id"),(o=await r.fileUploader.sendAttachmentsForComment(r.params,o,e.commentId)).success||(r.fileUploader.showError("Some files where no sent, see details in the console."),o=JSON.stringify(o),console.log(o))),t.disabled=!1,n.disabled=!1}};this._sendButtonClickHandler=u,n.addEventListener("click",u)}}e=document.querySelector(".doboard_task_widget_return_to_all");let a=this;e&&e.addEventListener("click",function(e,t=a){t.createWidgetElement("all_issues")});e=document.querySelector(".doboard_task_widget-send_message_paperclip");return e&&this.fileUploader.bindPaperClipAction(e),document.querySelector(".doboard_task_widget-close_btn")?.addEventListener("click",e=>{e=e.target.closest(".doboard_task_widget-container");e&&e.querySelector(".doboard_task_widget-create_issue")&&storageSetWidgetIsClosed(!1),this.hide()}),document.querySelector("#openUserMenuButton")?.addEventListener("click",()=>{this.createWidgetElement("user_menu")}),document.querySelector("#doboard_task_widget-user_menu-logout_button")?.addEventListener("click",()=>{logoutUserDoboard(this.params.projectToken)}),document.getElementById("addNewTaskButton")?.addEventListener("click",()=>{spotFixShowWidget()}),document.getElementById("maximizeWidgetContainer")?.addEventListener("click",()=>{var e=document.querySelector(".doboard_task_widget-container");+localStorage.getItem("maximize")&&e.classList.contains("doboard_task_widget-container-maximize")?(localStorage.setItem("maximize","0"),e.classList.remove("doboard_task_widget-container-maximize"),"all_issues"===this.type_name&&(document.querySelectorAll(".spotfix_widget_task_url-full").forEach(e=>e.style.display="none"),document.querySelectorAll(".spotfix_widget_task_url").forEach(e=>e.style.display="none"),document.querySelectorAll(".spotfix_widget_task_url-short").forEach(e=>e.style.display="inline"))):(localStorage.setItem("maximize","1"),e.classList.add("doboard_task_widget-container-maximize"),"all_issues"===this.type_name&&(document.querySelectorAll(".spotfix_widget_task_url-full").forEach(e=>e.style.display="inline"),document.querySelectorAll(".spotfix_widget_task_url-short").forEach(e=>e.style.display="none"),document.querySelectorAll(".spotfix_widget_task_url").forEach(e=>e.style.display="none")))}),document.querySelector("#doboard_task_widget-user_menu-signlog_button")?.addEventListener("click",()=>{spotFixShowWidget()}),document.querySelector("#spotfix_back_button")?.addEventListener("click",()=>{this.createWidgetElement(this.type_name),this.bindWidgetInputsInteractive()}),wsSpotfix.onMessage(()=>{this.createWidgetElement(this.socket_type_name,!0)}),document.getElementById("doboard_task_widget-title")?.addEventListener("change",e=>{localStorage.setItem("spotfix-title-ls",e.target.value),e.target.value.length<1&&(document.querySelector(".spotfix_placeholder_title").style.display="block")}),i}bindIssuesClick(){document.querySelectorAll(".issue-item").forEach(o=>{o.addEventListener("click",async e=>{e=e.target.closest(".doboard_task_widget-task_title");if(e&&o.contains(e)){let t=null;try{t=JSON.parse(o.getAttribute("data-node-path"))}catch(e){t=null}t&&spotFixScrollToNodePath(t),this.currentActiveTaskId=o.getAttribute("data-task-id"),await this.showOneTask()}})})}async showOneTask(){await this.createWidgetElement("concrete_issue");var e=this.getTaskHighlightData(this.currentActiveTaskId);e&&(spotFixRemoveHighlights(),spotFixHighlightElements([e],this),this.positionWidgetContainer()),hideContainersSpinner(!1)}loadTemplate(t,e={}){let o=SpotFixTemplatesLoader.getTemplateCode(t);for(var[r,n]of Object.entries(e)){r=`{{${r}}}`;let e;e=this.isPlaceholderInAttribute(o,r)?this.escapeHtml(String(n)):ksesFilter(String(n),{template:t,imgFilter:!0}),o=o.replaceAll(r,e)}return ksesFilter(o,{template:t})}isPlaceholderInAttribute(e,t){t=t.replace(/[{}]/g,"\\$&");return new RegExp(`[\\w-]+\\s*=\\s*["'][^"']*${t}[^"']*["']`,"g").test(e)}escapeHtml=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");async getTaskCount(){if(!localStorage.getItem("spotfix_session_id"))return{};var e=this.params.projectToken,t=localStorage.getItem("spotfix_session_id"),o=localStorage.getItem("spotfix_tasks_count");let r;r=void 0===o?(this.nonRequesting||await getTasksDoboard(e,t,this.params.accountId,this.params.projectId),storageSaveTasksCount(e=await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS)),e.filter(e=>e.taskMeta).length):this.nonRequesting?(storageSaveTasksCount(t=await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS)),t.filter(e=>e.taskMeta).length):o;e=document.getElementById("doboard_task_widget-task_count");e&&(e.innerText=ksesFilter(r),e.classList.remove("hidden"))}async submitTask(e){localStorage.getItem("spotfix_session_id")||(await registerUser(e)(this.registrationShowMessage),e.userPassword&&(await loginUser(e)(this.registrationShowMessage),checkLogInOutButtonsVisible()));var t=localStorage.getItem("spotfix_session_id");return t?handleCreateTask(t,e):{needToLogin:!0}}hide(){spotFixRemoveHighlights(),this.createWidgetElement("wrap")}wrapElementWithSpotfixHighlight(e){var t=e.cloneNode(),o=document.createElement("span");return o.className="doboard_task_widget-text_selection image-highlight",e.insertAdjacentElement("beforebegin",o),o.appendChild(t),o}getTaskHighlightData(t){var e=this.allTasksData.find(e=>e.taskId.toString()===t.toString());if(e&&void 0!==e.taskMeta){let t=null;try{t=JSON.parse(e.taskMeta)}catch(e){t=null}if(null!==t&&"object"==typeof t)return t}return null}bindWidgetInputsInteractive(){document.querySelectorAll(".doboard_task_widget-field").forEach(e=>{e.value&&e.classList.add("has-value"),e.addEventListener("input",()=>{e.value?e.classList.add("has-value"):e.classList.remove("has-value")}),e.addEventListener("blur",()=>{e.value||e.classList.remove("has-value")})});var t=document.querySelector(".doboard_task_widget-login span");if(t){let e=this;t.addEventListener("click",function(){this.closest(".doboard_task_widget-login").classList.toggle("active"),e.positionWidgetContainer(),setTimeout(()=>{var e=document.querySelector(".doboard_task_widget-content");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},0)})}window.addEventListener("scroll",this.handleScroll.bind(this)),window.addEventListener("resize",this.handleResize.bind(this))}registrationShowMessage(e,t="error"){var o=document.getElementById("doboard_task_widget-error_message-header"),r=document.getElementById("doboard_task_widget-error_message"),n=document.querySelector(".doboard_task_widget-message-wrapper");"string"==typeof e&&null!==r&&null!==n&&(r.innerText=ksesFilter(e),n.classList.remove("hidden"),r.classList.remove("doboard_task_widget-notice_message","doboard_task_widget-error_message"),"notice"===t?(o.innerText=ksesFilter(""),n.classList.add("doboard_task_widget-notice_message"),r.style.color="#2a5db0"):(o.innerText=ksesFilter("Registration error"),n.classList.add("doboard_task_widget-error_message"),r.style.color="red"))}positionWidgetContainer(){var t=document.querySelector(".doboard_task_widget-text_selection"),o=document.querySelector(".doboard_task_widget"),r=document.querySelector(".doboard_task_widget-content.doboard_task_widget-create_issue"),n=document.querySelector(".doboard_task_widget-concrete_issues-container");if((r||n)&&t){var r=window.scrollY,n=window.innerHeight,t=t.getBoundingClientRect().top+r,a=o.offsetHeight;let e;t-r<0?e=10:(n<t-r||n-a<(e=t-r))&&(e=n-a-10),o&&(o.style.top=e+"px",o.style.bottom="auto")}}handleScroll(){clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(()=>{this.positionWidgetContainer()},10)}handleResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.positionWidgetContainer()},100)}isSpotHaveToBeHighlighted(e){return!0}sanitizeNodePath(e){e=Array.isArray(e)?JSON.stringify(e):String(e);return/^[\[\]0-9,\s]*$/.test(e)?e:""}async setUserMenuData(){var e=this.params;let t=null;if(localStorage.getItem("spotfix_session_id"))try{t=await getUserDetails(e)}catch(e){console.error("Error fetching user details:",e)}var e=document.querySelector('.doboard_task_widget-user_menu-header span[style*="font-size: 16px"]'),o=document.querySelector('.doboard_task_widget-user_menu-header span[style*="font-size: 12px"]'),r=document.querySelector(".doboard_task_widget-user_menu-header-avatar");e&&(t&&t.name?e.innerText=t.name:e.innerText="Guest"),o&&(t&&t.email?o.innerText=t.email:(e=localStorage.getItem("spotfix_email")||"",o.innerText=e.includes("spotfix_")?"":e)),r&&(t&&t.avatar&&t.avatar.s?r.src=t.avatar.s:r.src="")}}var spotFixShowDelayTimeout=null;let SPOTFIX_DEBUG=!1,SPOTFIX_SHOW_DELAY=1e3;function spotFixInit(){spotfixIndexedDB.init(),wsSpotfix.connect(),wsSpotfix.subscribe(),new SpotFixSourcesLoader,new CleanTalkWidgetDoboard({},"wrap"),loadBotDetector(),loadTinyMCE()}function loadBotDetector(){var e;0<document.querySelectorAll('script[src*="fd.cleantalk.org/ct-bot-detector-wrapper.js"]').length||document.getElementById("ct-bot-detector-script")||((e=document.createElement("script")).src="https://fd.cleantalk.org/ct-bot-detector-wrapper.js",e.async=!0,e.id="ct-bot-detector-script",document.head.appendChild(e))}function loadTinyMCE(){window.SpotFixTinyMCE=window.tinymce}function spotFixShowWidget(){new CleanTalkWidgetDoboard(null,"create_issue")}function spotFixIsInsideWidget(t){if(t){let e=t.nodeType===Node.ELEMENT_NODE?t:t.parentElement;for(;e;){if(e.classList&&e.classList.contains("doboard_task_widget"))return!0;e=e.parentElement}}return!1}function spotFixOpenWidget(e,t){e&&new CleanTalkWidgetDoboard(e,t)}function spotFixDebugLog(e){SPOTFIX_DEBUG&&console.log(e)}function hideContainersSpinner(){var t=document.getElementsByClassName("doboard_task_widget-spinner_wrapper_for_containers");if(0<t.length)for(let e=0;e<t.length;e++)t[e].style.display="none";var o=["doboard_task_widget-all_issues-container","doboard_task_widget-concrete_issues-container"];for(let e=0;e<o.length;e++){var r=document.getElementsByClassName(o[e]);if(0<r.length)for(let e=0;e<r.length;e++)r[e].style.display="block"}}function getTaskFullDetails(e,t){var o=e.comments.filter(e=>e?.taskId?.toString()===t?.toString());let n=e.users,r=0<o.length?o[0]:null,a=null,A=(r&&n&&0<n.length&&(a=n.find(e=>String(e.user_id)===String(r.userId))),"");r&&((e=formatDate(r.commentDate)).date,A=e.time);var e=getAvatarSrc(a),i=getAuthorName(a);return{taskId:t,taskAuthorAvatarImgSrc:e,taskAuthorName:i,lastMessageText:r?r.commentBody:"No messages yet",lastMessageTime:A,issueTitle:0<o.length?o[0].issueTitle:"No Title",issueComments:o.sort((e,t)=>new Date(e.commentDate)-new Date(t.commentDate)).map(t=>{var{date:e,time:o}=formatDate(t.commentDate);let r=null;return{commentAuthorAvatarSrc:getAvatarSrc(r=n&&0<n.length?n.find(e=>String(e.user_id)===String(t.userId)):r),commentAuthorName:getAuthorName(r),commentBody:t.commentBody,commentDate:e,commentTime:o,commentUserId:t.userId||"Unknown User"}})}}function getAvatarData(e){let t,o;var r=e.taskAuthorName&&"Anonymous"!=e.taskAuthorName?e.taskAuthorName.trim().charAt(0).toUpperCase():null;let n="doboard_task_widget-avatar-initials";return null===e.taskAuthorAvatarImgSrc&&null!==r&&(t="display: flex;background-color: #f8de7e;justify-content: center;align-items: center;",o="doboard_task_widget-avatar_container"),null===e.taskAuthorAvatarImgSrc&&null===r&&(t="background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAE9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZmFiLCAyMDIyLzA4LzE2LTIyOjM1OjQxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDQtMTBUMTk6MDg6MDkrMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNWRjOWI0Yy04ZWVmLTRkNTEtYmE0MS1kOTkzZTZmNjNmMTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTVkYzliNGMtOGVlZi00ZDUxLWJhNDEtZDk5M2U2ZjYzZjEyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MTVkYzliNGMtOGVlZi00ZDUxLWJhNDEtZDk5M2U2ZjYzZjEyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxNWRjOWI0Yy04ZWVmLTRkNTEtYmE0MS1kOTkzZTZmNjNmMTIiIHN0RXZ0OndoZW49IjIwMjQtMDQtMTBUMTk6MDg6MDkrMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNC4wIChNYWNpbnRvc2gpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuPRTtsAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAL0UExURUdwTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKGw/wAAAAAAAAAAAAAAAAAAAAAAAAAAAKOy/6Sw/gAAAAAAAAAAAAAAAIKPz6Kw/6Cw/6Kx/6Gw/6Gw/6Gw/6Gv/qCw/6Gw/6i0/6Oy/67D/6Gw/6Gx/6ez/6u9/6Gw/6Kx/6i5/624/6Cy/wAAAJ6r/6Oy/6W1/qCv/4aR1LPE/4eU0o+d3qGw/6Sy/6Ku/6Cv/KGw/6Cu/4WT1KKr/5up9Q8RGhodK7jI/4mY1K27/6Cv/8PW/7LE/6Gw/7nL/1RchUVLbbnN/0pXfBQVHjY5U2Vwm2ZwnyMmNrDB/6e2/629/7XG/6Kw/6Kw/67A/629/3N+vKe3/77Q/52r7HmEtrPE/6Oz8RgaKbTF/7TG/xgaKnaCtsLV/6Sv/7TI/wCv/6Gw/wAAAKCv/6e2/73O/6a1/6Oz/6u7/7zN/6q5/7fJ/629/7PD/wAAAQwNE5+u/7DA/6S0/7bH/7XG/6Gx/6i4/yUoOQQFBwICA7HC/7nL/zM4UouY3RcaJK+//y4ySL7Q/ygsPx8iME9WfTA1TXJ8sp2s9VxkjoSQ0RESGl9ok5up9XR/t213rRQWHkRKbJKf53mEwUxSeKGv+qy8/5Ce4jk+WQkKDjxBYCouQpSh6lZfiEFHZVpijJ6t/GFqmWdxoT5DY4eU1mp0qXiDvHyHxZak5n2KxlFZg8LU/32Kv4mV2ZSj7FBYgJGe50VLbS7TJ5EAAACrdFJOUwAPCsvhFe/y+w0C/fc8LUGd9SWvHnW1BPOTw/7NCbtcyNpxsr+4WVKbIETkCOiij0d96tQGEhCmijeFGGxw0Gp6qZhKxmbeYCtNG9NMgKzX5iduYwXl2GVVAZNEVKrs9opx5j/ZFcMIER77LlsYnDAbbDlLDH3+/v2wIlDxy8E95PP9un2PvJ1Pv2VX9kmOqeG89a2m+efFg2aYq9fPqexM0cHR6vWeMdh9ztTtu0oAAA1/SURBVHja7FxnWBPZGs5SQoAAocMiJEjv0qQEpMhCgAVRUFFEaYq9d7f3vb333u99ZpIAafTQ24Jg13XtfV3b7t1d7/65cyaTBiFMkknbZ94f6DOZnG/eOd/56jmhUEiQIEGCBAkSJEiQIEGCBAkSJEiQIEGCBAkS1o6cUAeH0FVWT8OeBaNg2Vs3D6dlMIZlTlZNJAtwoNHB3xyrJmKLMAgqYYch/9haM49YBximp1AoKcicOMRaOxFfCsXX2omgqhVWUmL1qoUtdpr1L3YV87vOyh1igYxHgZU7RATZiGLRvL8NwRZiuRy+DTwcARFHckYsB6l+MOyXasUEUjwichM8C1bEBcBwQMWKAs+E3AiPQGsLTVwSy1fDcxGQ5FPmYjWhSmA4IwnWgjhGuI0V0HDxj1N/bhrdz49OV79GzXexcBrMF1XefFCCd7ULpyTV0TG1hONS7Z0QqjJTLzItmEZRsvwxVzOyXDWshVjXLEaF/J7kIgulESEPEO0S3FK0WLPoBDvsxkURFkhjTxj2dOURvgvd6xvhid0ctsfSeCRi9jXSFd/9rvkBsm+UWdZ0YGs80mO+O6qaDx5srlK9spKBrXpXC1rkaAoIh2Ro+GxXTX1d7ZbSho2vvLKxoXRLbV19zWY5fR+ZfbaYRe+PPk9M9VwSO9eXboLmYFPp+l9vQ2+ojkG/6m8RNGxkqzxvdgq4rf49DSTk2P5ePeCSmod+OcgCXD0b9R0BL826vKF2uxTSju3HPgBq6Yz6lBJz8/BCfUKhuhVdV1m6EAsUnaXfQRZ9MOp7oszLIwpV8lD1dKOyCcILbhNCBdXNCi+z1kjQWD1P7dqBV6UQfnC5/9lPyUeNhRnrLIGoVkSqXtpbK9WFB9Av4fsUbzDOCvMlKqFzeGzYCOkMLvSvf+aitsus/kNVr9bt5kKQPkz47/yDZj5/wkQDDJULx1/ViwdYKIK//BXEXmbJUaKAA4hR8WSNGyG90Tn8xzeBOzKHEUazj5Uqy0MKGYBOwWEwJcvMFLerhHuVkIH46FMwYq7JFQvNoQjkweUJRsCYplYukIBQlQtkA2QwOiWnboIowbQ8XgYvT5lxv94NEcDko8dg1OUmJVKo9u72bpISQITLE02CANSkKSF4dcq0tknKhYiYEtFXsImdiZ1aaLKbEBoIpPxbIKI3HY9q4LvYioVOFA+I2/u/dmToapMRWaQ6IVs3QYRByv8M1O1MxSNDzd4fI44HMiWjYGxTVe0iEVk+igirm0AiUGvPBDJ4vml4pDggstASlq9XdM4bbUQS4Q7PAE+bYppiNSJqTaDr2kyfGBp8Y4jQGYGE0rPI8MUmIVIOeh9YY639soRLKBGp4Js5VQCjqJVbYohq6+kzvpRQHhBX9AlafU10M2LNbmV2vHpbjVZ4hOAJQXSL24FMNOJOqHnZK41AwtctfYUqB3pheSaz5E8ionlArb03ZETQwkr6El9CabglxKhNRcjL9uim0T9AhBPhCkCC1aEQFZPgRphGJarMRTCDivzFwpNdnYTzgKChM4iAt34arJS5ItGDABrL8xQD+vnkZjiBfZZJ2B7eesgIED5ApuPmCYqrt4+7YqOBp6FZCpMlHyspMnwpuFKsUknbYgwivLbbiIjXwPhLwyMVDW2WIdF9uLxP6x4fLq9n5ioLabuMwQNqFX2MiPgCa2vFRsTL5yU5XE8a0fLmf0GOvXp5cbHsvzuNQgTi30dEfLNTWSnPKZBvMtBn3b+A9SrhNPVvhygTht3GISICqfvIb9SsZhr2MIwXdOWxBGvqMzizPgBvB9tIUmocIhLg2/t/ry6Wg71XuyW68cjFZmNOZrBuDXJZRm7zUeMQ6XqEiBg7unmWZA5mPnUq4aGdF9g2WoOHr0AiE9mSqTEOD0h8ZxCGzz5onLtobeE5fQztiEe/kKnpIyc7Ral5n9QoPDpFj5AAZYy7T4P0TPTB4nXqe1DnUcYg5LMEVMnqjEGEyx3/L8jbp4fqNC5dqg59+XC0Tztf5Jmj2Of+207iaUjH+eIvgISHw7UaxXsU4i59LQW9o9XseTMS1NeyXvKlvC0mmAXE6xl+dv8tMP4lYd+H8/T1wX4v2lIcRICdc9aSCbhhdjDzd72CcQLz3JYhft+X9wZkox8WdZbOF8OCBhNjYR5sMI7W03YR8g2K/aevdwm6eESE8i3j/K4jd6ewgTu+FHChhqp55K+ClfG3FoBO8ZoF4nq5n4UHJ06PXuP3ClsN4MJt7Rvii6+fvo0lU/DAvWfDyMtpmvecBojwFz41ALYhZC+YopQVyrm09598ckrCl7S16EWCJx4WdR++OzkoH2/s7rPhISTPkVbOK32xal1Na8MAx1YwJ2Y5TZGodNy4//l5sUAkFrbgN8lSnnBIIOq7/PDjMcVAgzdmugVdUi5ihX81v2xXXM0HPyQfx3e2wGtxgUr22zHxfOb6VbFgWCIW8lq1B+o8oVgiGG47debTb6YGlENMnr7eK+pDtIrb8O4OLYId6XiODeAnAlTMO5TWrnySwUvTVx4+vXy1TyIQiCRd4jZhH4/Ha2np7m5B/u0TCsVdkh6BQCK8evnJuSu3O1Tew2D/3VGxYBxdbFsqm7VKxUcEp2opUJLzwzcH1SoTA2cnb508/fjJmTunHiAvv+2aeHwc4cRr5Z668+jpxXMnb01eGlD7xs2Rc0euCbpagC9pqtuxkEh8qoVrsavj4Hd/8KNLg3M3wQ90XJrqn5yYmB4ZmZ643T811jGg4ab+KxfODwnGeUDpGtbXrKMseKoM32IH5jdYNyJOFErV/nd+/L3+DlgntJ8deT7zdZugpw31q6V1jVW45OEzvws7xPmweWfdaz+5MjLV0b4wh5tTt54/Hr06zu+5xgOGrmH3vuN45aAOEcfmLjRE4eiZ52/9/qFjb4xeOHfy3nQ/oknq+tY+0DHWP33v5LkLX53nSfiicWGLbM/pvh3N+EVwcIYosqAxzoDNklXbPjj0/i9/8XPo/NejZz7/5MLMxYsXZy48eXpm9M55qEXcyx/u7WrrQ7Rpe8OH6+trtoKUQAfjEoc3aJSF8XaGFpCb9zZWHnr3Z2//+W9/7+3p6e2VSIaA7eprObppY9OW2vX/rmzc26z7sCvRWgLOwpDWxEp3RluP79jfWHPgxIYTBw7U7N9xfGuz/oMtRxOrBAJSXfNCx1RXUXxYYlk0sOKDTq1SrByUZ0HHO/QqB6kU6CzkUIQrVqArjCaqZGoWKEum+hz6dZMXsVlZZj2Mbp/FMqSIPautwDTTwYjYiHi6oW0FzY0eU2Ipk0FMo0fWeguQj+Xuk5uRYioSKXtUW2/lRGwQ9EhMVgZ+MYzsDKNvxg/k5DBUziwHl3kQZjXU2tNJIWXF9r5GIsEuLgtRPbNsl0Cs1ZyzYcDOM5PJIdQC2HCYZWlr1I4nE75hAIs8s+Pj1I9BU1nxmVnRXgYunBS2y9rMeBZVbWh6knG2cMjhqSHdo8WxPP0T1y7fw7bR4Ue0nGzYe5avTfT3ZM16OzJ4GtkggteWXuTPcteUwNKphbZhaf5l3llF4cVuGa4eHlElbHtwDNyeXRLl4eGa4VYcXpTlXeafFmZbSNX0/LAfy78oHUy2cY096OnGoBGMy6rMEDua9sw8wNmZRqO7Ozi4u9NoNOcA7XfTKoLSs1zQti0wLSHG5JGhvpMcbAXMTLOl0mCD4Ey1TcvMUV1qYJMenGFEIos0bma1YWdELE5PC1oW567L87vHLQtKS88Nd4uywSmIMCz0omJTOS7FzKzE9Pz4cp9Q2+TgQruKJCr4ORFqUoVdYXCybahPeXx+emIWs9iFkxqLe+qJhs6q6+SbEsgGP/DCDkzxddJrMRoDoFQJ636AU6+f3PGCcZUT9fO87nqdsNPzR5BAKYdunN9OQoe2MRURR3djHUxEJ3sxxVREKNn/b+dsdhIGojBqoZRCY4QIgokSLUyCJSSQEONGFiILExZKoj4GT8Y7ynRouVBiMr93c09YsOrH7XSmZ4Z2rLxx1SnV+opv1ynvr8Wnp/1ayZw1PsXDsh9UFRtEvZB0bKkGfnkYm2iYj14EbJctXBWyYMCGI6b7tPxzwXavPReFGMg9XonJnr4FZ+exYr+QCnjqN1DMLSjPdjtob7hYh1Ox38ad/UJELptyG33ZtAcquZBluirGn2D0xaB+ma7ZLW0Xkufe7l+CU8mFlDO36uzuTmH6Y26kt1dVKCTPrUVim12VXLgqw3++6GOT8eck/eLtWrt7b7cQmDsaq+bCA3bzA17M9rMeJ4UYyT1t4pN/5p1dWtq5hU73Dva9E53u10ln1809O/xetTyvleyHQckToz786uWevzGFzWa2wvAjeWOq80Lq7nOP8YqqIGsbMz7VnbnPPWXFwGJPyFaSq6xxY84XH+aN+Mtl7nmNf+UaH/gPb7I6vWDwnMqas3ruvxMr+QmOCYNVyTVN3mGj9KNvsFiIIbS3TnYeHiTrnq7BYnEwZ75LuQGDxSI3WP76e6BvsFhAg/0eJQbED6sQ4waLeWkZNVjUzm7UYHGHX4MGi35DNGawWFgwWCwsGCwWVgyWIAiCIAiCIAiCIAiCIAiCIAgU/gAyRDCHjvicJQAAAABJRU5ErkJggg==');",o="doboard_task_widget-avatar_container",n+=" doboard_task_widget-hidden_element"),null!==e.taskAuthorAvatarImgSrc&&(t=`background-image:url('${e.taskAuthorAvatarImgSrc}');`,o="doboard_task_widget-avatar_container",n="doboard_task_widget-hidden_element"),{avatarStyle:t,avatarCSSClass:o,taskAuthorInitials:r,initialsClass:n}}function isAnyTaskUpdated(t){var o=[];for(let e=0;e<t.length;e++){var r=t[e],n=localStorage.getItem("spotfix_user_id");r.taskId&&r.taskLastUpdate&&r.taskCreatorTaskUser.toString()===n.toString()&&storageCheckTaskUpdate(r.taskId,r.taskLastUpdate)&&o.push(r.taskId.toString())}return 0!==o.length&&o}async function checkIfTasksHasSiteOwnerUpdates(e,t){var o=isAnyTaskUpdated(e);let r=!1;if(!o)return!1;for(let e=0;e<o.length;e++){var n,a=o[e];"string"==typeof a&&(n=await getTasksFullDetails(t,[a])).comments&&void 0!==(n=n.comments[0]).commentUserId&&n.commentUserId!==localStorage.getItem("spotfix_user_id")&&"Anonymous"!==n.commentAuthorName&&(storageAddUnreadUpdateForTaskID(a),r=!0)}return r}function isSelectionCorrect(e){return!0}function ksesFilter(e,i=!1){let s={a:!0,b:!0,i:!0,strong:!0,em:!0,ul:!0,ol:!0,li:!0,p:!0,s:!0,br:!0,span:!0,blockquote:!0,blockquote:!0,pre:!0,pre:!0,div:!0,img:!0,input:!0,label:!0,textarea:!0,button:!0,details:!0,summary:!0},l={a:["href","title","target","rel","style","class"],span:["style","class","id"],p:["style","class"],div:["style","class","id","data-node-path","data-task-id"],img:["src","alt","title","class","style","width","height"],input:["type","class","style","id","multiple","accept","value"],label:["for","class","style"],textarea:["class","id","style","rows","cols","readonly","required","name"],button:["type","class","style","id"],details:["class","style","open"],summary:["class","style"]};i&&"list_issues"===i.template&&(s={...s,br:!1});let d=(new DOMParser).parseFromString(e,"text/html");return[...d.body.childNodes].forEach(function e(r){if(r.nodeType===Node.ELEMENT_NODE){let o=r.tagName.toLowerCase();if(i){var t,n,a,A;if(s[o]&&"img"===o&&"concrete_issue_day_content"===i.template&&i.imgFilter)return n=r.getAttribute("src")||"",a=r.getAttribute("alt")||"[image]",(t=d.createElement("a")).href=n,t.target="_blank",t.className="doboard_task_widget-img-link",(A=d.createElement("img")).src=n,A.alt=a,A.className="doboard_task_widget-comment_body-img-strict",t.appendChild(A),r.parentNode.insertBefore(t,r),void r.remove();if(!s[o])return"img"===o&&"list_issues"===i.template&&i.imgFilter&&(n=r.getAttribute("src")||"",a=r.getAttribute("alt")||"[image]",(A=d.createElement("a")).href=n,A.target="_blank",A.textContent=a,r.parentNode.insertBefore(A,r)),void r.remove()}[...r.attributes].forEach(e=>{var t=e.name.toLowerCase();l[o]?.includes(t)&&!t.startsWith("on")&&!e.value.toLowerCase().includes("javascript:")||r.removeAttribute(e.name)})}[...r.childNodes].forEach(e)}),d.body.innerHTML}"loading"!==document.readyState?document.addEventListener("spotFixLoaded",spotFixInit):document.addEventListener("DOMContentLoaded",spotFixInit),document.addEventListener("selectionchange",function(e){var t;e.target===document&&(e=!!document.getElementsByClassName("wrap_review")[0],(t=document.getSelection())&&""!==t.toString()||!e?(spotFixShowDelayTimeout&&clearTimeout(spotFixShowDelayTimeout),spotFixShowDelayTimeout=setTimeout(()=>{var e,t,o=window.getSelection();"Range"===o.type&&(t=o.anchorNode,e=o.focusNode,spotFixIsInsideWidget(t)||spotFixIsInsideWidget(e)||(t=spotFixGetSelectedData(o))&&spotFixOpenWidget(t,"wrap_review"))},SPOTFIX_SHOW_DELAY)):new CleanTalkWidgetDoboard({},"wrap"))});let SPOTFIX_SELECTION_TYPE_TEXT="text",SPOTFIX_SELECTION_TYPE_IMG="image",SPOTFIX_SELECTION_TYPE_ELEMENT="element";function spotFixGetSelectionType(e){var t=e.getRangeAt(0),o=t.commonAncestorContainer;return spotFixGetSelectedImage(e)?SPOTFIX_SELECTION_TYPE_IMG:o.nodeType===Node.ELEMENT_NODE&&1<o.childNodes.length&&""===t.toString().trim()&&t.startContainer===t.endContainer&&t.startContainer.nodeType===Node.ELEMENT_NODE?SPOTFIX_SELECTION_TYPE_ELEMENT:(e=0<t.toString().trim().length,o=o.nodeType===Node.TEXT_NODE,t=t.collapsed,!e||!o&&t?null:SPOTFIX_SELECTION_TYPE_TEXT)}function spotFixGetSelectedData(e){if(!e)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Selection not provided`"),null;if(0===e.rangeCount)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Range not provided`"),null;if(1<e.rangeCount)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Several ranges provided`"),null;var t=e.getRangeAt(0);if(t.startContainer!==t.endContainer)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Selection within several tags nodes`"),null;var o=spotFixGetSelectionType(e);if(!o)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Selection type not determined`"),null;let r="",n=0,a=0,A="";var i=t.commonAncestorContainer;switch(o){case SPOTFIX_SELECTION_TYPE_TEXT:if(0===t.toString().trim().length)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Selection text is empty`"),null;var s=i.nodeType===Node.ELEMENT_NODE?i:i.parentElement;r=t.toString(),n=t.startOffset,a=t.endOffset,0===n&&r.length>a&&(a=r.length),A=spotFixCalculateNodePath(s);break;case SPOTFIX_SELECTION_TYPE_IMG:var s=t.startContainer,l=spotFixGetSelectedImage(e);r=`Image (${l.alt||"no description"})`,A=spotFixCalculateNodePath(l),n=Array.from(s.parentNode.children).indexOf(s),a=n+1;break;case SPOTFIX_SELECTION_TYPE_ELEMENT:l=i.nodeType===Node.ELEMENT_NODE?i:i.parentElement;if(l.childNodes.length<=1)return spotFixDebugLog("`spotFixGetSelectedData` skip by `Selection have not inner data`"),null;r=l.textContent||"",A=spotFixCalculateNodePath(l),n=Array.from(l.parentNode.children).indexOf(l),a=n+1}var d=window.location.href;return{startSelectPosition:n,endSelectPosition:a,selectedText:r.trim(),pageURL:d,nodePath:A,selectionType:o,imageUrl:(SPOTFIX_SELECTION_TYPE_IMG,"")}}function spotFixHighlightElements(e,r){if(0!==e.length){let o=new Map;e.forEach(e=>{var t;e?.nodePath&&Array.isArray(e?.nodePath)?this.spotFixIsValidNodePath(e.nodePath)?(t=spotFixRetrieveNodeFromPath(e.nodePath))?e.selectionType?e.selectionType&&![SPOTFIX_SELECTION_TYPE_TEXT,SPOTFIX_SELECTION_TYPE_IMG,SPOTFIX_SELECTION_TYPE_ELEMENT].includes(e.selectionType)?spotFixDebugLog("Invalid selection type: "+e.selectionType):(o.has(t)||o.set(t,[]),o.get(t).push(e)):spotFixDebugLog("Selection type is not provided."):spotFixDebugLog("Element not found for path: "+e.nodePath):spotFixDebugLog("Invalid nodePath format: "+e.nodePath):spotFixDebugLog("Invalid spot: missing or invalid nodePath: "+e)}),o.forEach((e,t)=>{var o=e[0].selectionType;switch(o){case"image":this.spotFixHighlightImageElement(t);break;case"element":this.spotFixHighlightNestedElement(t);break;case"text":this.spotFixHighlightTextInElement(t,e,r);break;default:spotFixDebugLog("Unknown selection type: "+o)}})}}function spotFixHighlightImageElement(e){"IMG"!==e.tagName?spotFixDebugLog("Expected IMG element for image highlight, got: "+e.tagName):e.classList.add("doboard_task_widget-image_selection")}function spotFixHighlightNestedElement(e){e.classList.add("doboard_task_widget-element_selection")}function spotFixHighlightTextInElement(e,t,n){let o="";let a=`<span class="doboard_task_widget-text_selection"><span class="doboard_task_widget-text_selection_tooltip">${`<div class="doboard_task_widget-text_selection_tooltip_element">
                            <span class="doboard_task_widget-text_selection_tooltip_icon"></span>
                            <span>
                                <div>${o=t[0].isFixed?"This issue already fixed.":"We are already working on this issue."}</div>
                                <div>You can see history <span class="doboard_task_widget-see-task doboard_task_widget-see-task__task-id-${t[0].taskId}">Here</span></div>
                            </span>
                        </div>`}</span>`,A=e.textContent;var i=t[0].selectedText;if(i){let r=[];if(t.forEach(e=>{var t=parseInt(e.startSelectPosition)||0,o=parseInt(e.endSelectPosition)||0;t<0||o>A.length||o<t?spotFixDebugLog("Invalid text positions: "+e):(r.push({position:t,type:"start"}),r.push({position:o,type:"end"}))}),0!==r.length)if(r.sort((e,t)=>t.position-e.position),A.slice(r[1].position,r[0].position)!==i)spotFixDebugLog("It is not allow to highlight element by provided metadata.");else{let o=A;r.forEach(e=>{var t="start"===e.type?a:"</span>";o=o.slice(0,e.position)+t+o.slice(e.position)});try{e.innerHTML=ksesFilter(o),document.querySelectorAll(".doboard_task_widget-see-task").forEach(o=>{o.addEventListener("click",e=>{e.preventDefault();e=o.className.split(" ").find(e=>e.includes("__task-id-"));let t=null;(t=e?e.split("__task-id-")[1]:t)&&(n.currentActiveTaskId=t,n.showOneTask())})})}catch(e){spotFixDebugLog("Error updating element content: "+e)}}}else spotFixDebugLog("Provided metadata is invalid.")}function spotFixScrollToNodePath(e){e=spotFixRetrieveNodeFromPath(e);return!(!e||!e.scrollIntoView||(e.scrollIntoView({behavior:"smooth",block:"center"}),0))}function spotFixRemoveHighlights(){var e=document.querySelectorAll(".doboard_task_widget-text_selection");let r=new Set,t=(e.forEach(e=>{var t=e.parentNode,o=(r.add(t),e.querySelector(".doboard_task_widget-text_selection_tooltip"));for(o&&o.remove();e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}),r.forEach(e=>e.normalize()),"doboard_task_widget-element_selection"),o=(document.querySelectorAll("."+t).forEach(e=>{e.classList.remove(t)}),"doboard_task_widget-image_selection");document.querySelectorAll("."+o).forEach(e=>{e.classList.remove(o)})}function spotFixIsValidNodePath(e){return!!Array.isArray(e)&&0!==e.length&&e.every(e=>Number.isInteger(e)&&0<=e&&e<1e3)}function spotFixGetSelectedImage(e){if(e&&0!==e.rangeCount&&!e.isCollapsed){let t=e.getRangeAt(0);if(t.startContainer===t.endContainer&&t.startContainer.nodeType===Node.ELEMENT_NODE&&"IMG"===t.startContainer.tagName)return t.startContainer;e=document.createTreeWalker(t.commonAncestorContainer,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return"IMG"===e.tagName&&spotFixIsElementInRange(e,t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}).nextNode();if(e)return e;var o,e=spotFixGetElementFromNode(t.startContainer),r=spotFixGetElementFromNode(t.endContainer);if(e&&"IMG"===e.tagName&&spotFixIsElementPartiallySelected(e,t))return e;if(r&&"IMG"===r.tagName&&spotFixIsElementPartiallySelected(r,t))return r;for(o of spotFixFindNearbyElements(t))if("IMG"===o.tagName)return o}return null}function spotFixIsElementInRange(e,t){var o=document.createRange();return o.selectNode(e),t.compareBoundaryPoints(Range.START_TO_START,o)<=0&&0<=t.compareBoundaryPoints(Range.END_TO_END,o)}function spotFixIsElementPartiallySelected(e,t){e=e.getBoundingClientRect(),t=t.getBoundingClientRect();return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function spotFixGetElementFromNode(e){return e.nodeType===Node.ELEMENT_NODE?e:e.parentElement}function spotFixFindNearbyElements(t){var o=[],e=t.commonAncestorContainer,r=e.previousElementSibling,n=e.nextElementSibling;if(r&&o.push(r),n&&o.push(n),e.nodeType===Node.ELEMENT_NODE){var a=e.children;for(let e=0;e<a.length;e++)spotFixIsElementPartiallySelected(a[e],t)&&o.push(a[e])}return o}function spotFixCalculateNodePath(o){for(var r=[];o;){let e=0,t=o.previousSibling;for(;t;)1===t.nodeType&&e++,t=t.previousSibling;r.unshift(e),o=o.parentNode}return r.shift(),r}function spotFixRetrieveNodeFromPath(t){if(!t)return null;let o=document;for(let e=0;e<t.length;e++)if(!(o=o.children[t[e]]))return null;return o}function storageGetWidgetIsClosed(){return"1"===localStorage.getItem("spotfix_widget_is_closed")}function storageWidgetCloseIsSet(){return null!==localStorage.getItem("spotfix_widget_is_closed")}function storageSetWidgetIsClosed(e){localStorage.setItem("spotfix_widget_is_closed",e?"1":"0"),e?wsSpotfix.close():(wsSpotfix.connect(),wsSpotfix.subscribe())}function storageGetUserIsDefined(){return null!==localStorage.getItem("spotfix_user_id")}function storageSaveTasksUpdateData(e){if(e&&Array.isArray(e)){let t={};try{t=JSON.parse(localStorage.getItem("spotfix_task_updates")||"{}")}catch(e){t={}}e.forEach(e=>{e.taskId&&e.taskLastUpdate&&(t[e.taskId]={taskId:e.taskId,taskLastUpdate:e.taskLastUpdate})}),localStorage.setItem("spotfix_task_updates",JSON.stringify(t))}}function storageSaveTasksCount(e){e&&Array.isArray(e)&&(e=e.filter(e=>e.taskMeta)?.length,localStorage.setItem("spotfix_tasks_count",""+e))}function storageCheckTaskUpdate(e,t){if(!e||!t)return null;let o={};try{o=JSON.parse(localStorage.getItem("spotfix_task_updates")||"{}")}catch(e){o={}}e=o[e];return!!e&&new Date(e.taskLastUpdate)<new Date(t)}function storageAddUnreadUpdateForTaskID(e){if(e){let t=[];try{t=JSON.parse(localStorage.getItem("spotfix_unread_updates")||"[]")}catch(e){t=[]}t.includes(e)||t.push(e),localStorage.setItem("spotfix_unread_updates",JSON.stringify(t))}}function storageRemoveUnreadUpdateForTaskID(o){if(o){let t=[];try{t=JSON.parse(localStorage.getItem("spotfix_unread_updates")||"[]")}catch(e){t=[]}t=t.filter(e=>e!==o),localStorage.setItem("spotfix_unread_updates",JSON.stringify(t))}}function storageTasksHasUnreadUpdates(){let t=[];try{t=JSON.parse(localStorage.getItem("spotfix_unread_updates")||"[]")}catch(e){t=[]}return 0<t.length}function storageProvidedTaskHasUnreadUpdates(e){if(!e)return!1;let t=[];try{t=JSON.parse(localStorage.getItem("spotfix_unread_updates")||"[]")}catch(e){t=[]}return t.includes(e.toString())}function storageSaveSpotfixVersion(e){e?localStorage.setItem("spotfix_app_version",""+e):localStorage.setItem("spotfix_app_version","")}function clearLocalstorageOnLogout(){localStorage.removeItem("spotfix_email"),localStorage.removeItem("spotfix_session_id"),localStorage.removeItem("spotfix_user_id"),localStorage.removeItem("spotfix_accounts"),localStorage.setItem("spotfix_widget_is_closed","1"),wsSpotfix.close()}class FileUploader{constructor(e){this.files=[],this.maxFileSize=5242880,this.maxTotalSize=26214400,this.maxFiles=5,this.allowedTypes=["image/jpeg","image/png","image/gif","application/pdf","text/plain","application/msword"],this.escapeHtmlHandler=e,this.SIZE_UNITS=["Bytes","KB","MB","GB"]}init(){this.initializeElements(),this.bindFilesInputChange()}initializeElements(){this.fileInput=document.getElementById("doboard_task_widget__file-upload__file-input-button"),this.fileList=document.getElementById("doboard_task_widget__file-upload__file-list"),this.uploaderWrapper=document.getElementById("doboard_task_widget__file-upload__wrapper"),this.errorMessage=document.getElementById("doboard_task_widget__file-upload__error"),this.fileInput&&this.fileList&&this.errorMessage&&!this.uploaderWrapper||console.warn("File uploader elements not found")}bindFilesInputChange(){this.fileInput&&this.fileInput.addEventListener("change",e=>this.handleFileInputChange(e))}bindPaperClipAction(e){e.addEventListener("click",e=>{e.preventDefault(),this.fileInput&&this.fileInput.click()})}handleFileInputChange(e){this.clearError();var t=Array.from(e.target.files);this.files.length+t.length>this.maxFiles?this.showError(`Maximum ${this.maxFiles} files can be attached.`):(t.filter(e=>this.validateFile(e)).forEach(e=>this.addFile(e)),e.target.value="",this.uploaderWrapper.style.display="block")}validateFile(e){return e.size>this.maxFileSize?(this.showError(`File "${e.name}" is too large. Maximum size: `+this.formatFileSize(this.maxFileSize)),!1):this.getTotalSize()+e.size>this.maxTotalSize?(this.showError("Total files size exceeded. Maximum: "+this.formatFileSize(this.maxTotalSize)),!1):!(0<this.allowedTypes.length&&!this.allowedTypes.includes(e.type)&&(this.showError(`File type "${e.type}" for "${e.name}" is not supported.`),1))}getTotalSize(){return this.files.reduce((e,t)=>e+t.file.size,0)}addFile(e){e={id:this.generateFileId(),file:e};this.files.push(e),this.renderFileList()}generateFileId(){return Date.now()+Math.random().toString(36).substr(2,9)}removeFile(t){this.files=this.files.filter(e=>e.id!==t),this.renderFileList(),this.clearError()}renderFileList(){var e;this.fileList&&(0===this.files.length?this.fileList.innerHTML=ksesFilter('<div style="text-align: center; color: #444c529e;">No files attached</div>'):(e=this.files.map(e=>this.createFileItem(e)),this.fileList.innerHTML=ksesFilter(""),e.forEach(e=>this.fileList.appendChild(e))))}createFileItem(e){let{file:t,id:o}=e;e=document.createElement("div");return e.className="doboard_task_widget__file-upload__file-item",e.innerHTML=ksesFilter(`
            <div class="doboard_task_widget__file-upload__file-item-content">
                <div class="doboard_task_widget__file-upload__file_info">
                    <div class="doboard_task_widget__file-upload__file-name">${this.escapeHtmlHandler(String(t.name))}</div>
                    <div class="doboard_task_widget__file-upload__file_size">${this.formatFileSize(t.size)}</div>
                </div>
            </div>
            <button type="button" class="doboard_task_widget__file-upload__remove-btn" data-file-id="${o}" aria-label="Remove file">ร</button>
        `),e.querySelector(".doboard_task_widget__file-upload__remove-btn").addEventListener("click",()=>this.removeFile(o)),e}formatFileSize(e){var t;return 0===e?"0 Bytes":(t=Math.floor(Math.log(e)/Math.log(1024)),parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+this.SIZE_UNITS[t])}showError(e){this.errorMessage&&(this.errorMessage.textContent=e,this.errorMessage.style.display="block")}clearError(){this.errorMessage&&(this.errorMessage.textContent="",this.errorMessage.style.display="none")}hasFiles(){return 0<this.files.length}clearFiles(){this.files=[],this.renderFileList()}validateFileData(e){var t;for(t of[{field:"sessionId",type:"string",message:"No valid session found."},{field:"params.accountId",type:"string",message:"No valid account ID found."},{field:"params.projectToken",type:"string",message:"No valid project token found."},{field:"commentId",type:"string",message:"No valid commentId found."},{field:"fileName",type:"string",message:"No valid filename found."}]){var o=this.getNestedValue(e,t.field);if(!o||typeof o!==t.type)throw new Error(t.message)}if(e.fileBinary&&e.fileBinary instanceof File)return e;throw new Error("No valid file object found.")}getNestedValue(e,t){return t.split(".").reduce((e,t)=>e?.[t],e)}async sendSingleAttachment(e){e=await this.validateFileData(e);return attachmentAddDoboard(e)}async sendAttachmentsForComment(t,o,r){var n={preparedFilesCount:this.files.length,sentFilesCount:0,fileResults:[],success:!0};for(let e=0;e<this.files.length;e++){var a=this.files[e],A={success:!1,response:null,error:null};try{var i={params:t,sessionId:o,commentId:r,fileName:a.file.name,fileBinary:a.file,attachmentOrder:e},s=await this.sendSingleAttachment(i);A.response=s,A.success=200===s.status,A.success&&n.sentFilesCount++}catch(e){A.error=e.message}n.fileResults.push(A)}return n.success=n.preparedFilesCount===n.sentFilesCount,this.clearFiles(),n}async makeScreenshot(){if("undefined"==typeof html2canvas)return console.error("SpotFix Error: in Screenshot Library"),null;try{let t=await html2canvas(document.body,{useCORS:!0,allowTaint:!0,logging:!1,scale:window.devicePixelRatio||1});var e=await new Promise(e=>t.toBlob(e,"image/png"));if(!e)return null;var o=new Date,r=String(o.getHours()).padStart(2,"0"),n=String(o.getMinutes()).padStart(2,"0"),a=String(o.getDate()).padStart(2,"0"),A=String(o.getMonth()+1).padStart(2,"0"),i=o.getFullYear(),s=new File([e],`Screenshot_${r}-${n}_${a}_${A}_${i}.png`,{type:"image/png",lastModified:Date.now()});this.uploaderWrapper&&"block"!==this.uploaderWrapper.style.display&&(this.uploaderWrapper.style.display="block"),this.clearError(),this.addFile(s)}catch(e){return console.error("SpotFix Error: creating screenshot:",e),null}}}class SpotFixTemplatesLoader{static getTemplateCode(e){var t=this[e];if("function"!=typeof t)throw new Error(`Template method '${e}' not found`);return t.call(this).trim()}static all_issues(){return`
<div class="doboard_task_widget-container">
    <div class="doboard_task_widget-header">
        <div style="display: flex;align-items: center;gap: 8px;">
            <img src="{{logoDoBoardGreen}}"  alt="">
            <span>All spots </span>
        </div>
        <div class="doboard_task_widget-header-icons">
            <span id="addNewTaskButton">
                <img src="{{iconPlus}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <span id="openUserMenuButton">
                <img src="{{iconEllipsesMore}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <span id="maximizeWidgetContainer">
                <img src="{{iconMaximize}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <img src="{{buttonCloseScreen}}"  alt="" class="doboard_task_widget-close_btn doboard_task_widget_cursor-pointer">
        </div>
    </div>
    <div class="doboard_task_widget-content doboard_task_widget-all_issues">
        <div class="doboard_task_widget-spinner_wrapper_for_containers">
            <div class="doboard_task_widget-spinner_for_containers"></div>
        </div>
        <div class="doboard_task_widget-all_issues-container">
        </div>
        <div class="doboard_task_widget_tasks_list">
            <span>doBoard / SpotFix</span>
        </div>
    </div>
</div>`}static concrete_issue(){return`
<div id="doboard_task_widget_concrete-container" class="{{contenerClasess}}">
    <div class="doboard_task_widget-header">
        <div class="doboard_task_widget_return_to_all doboard_task_widget_cursor-pointer">
            <img src="{{chevronBack}}" alt="" title="Return to all spots list">
            <span title="Return to all spots list"> All {{issuesCounter}}</span>
        </div>
        <div class="doboard_task_widget-issue-title">{{issueTitle}}</div>
        <div class="doboard_task_widget-header-icons">
            <span id="addNewTaskButton">
                <img src="{{iconPlus}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <span id="openUserMenuButton">
                <img src="{{iconEllipsesMore}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <span id="maximizeWidgetContainer">
                <img src="{{iconMaximize}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <img src="{{buttonCloseScreen}}"  alt="" class="doboard_task_widget-close_btn doboard_task_widget_cursor-pointer">
        </div>
    </div>
    <div class="doboard_task_widget-content doboard_task_widget-concrete_issue">
        <div id="spotfix_doboard_task_widget_url" style="background-color: #D6DDE3; padding: 12px 16px">
                <a rel="nofollow" style="word-break: break-all" href="{{taskPageUrl}}">{{taskFormattedPageUrl}}</a>
        </div>
        <div class="doboard_task_widget-spinner_wrapper_for_containers">
            <div class="doboard_task_widget-spinner_for_containers"></div>
        </div>
        <div class="doboard_task_widget-concrete_issues-container">
        </div>
        <div class="doboard_task_widget-send_message">
             <textarea name="doboard_task_widget_message" id="doboard_task_widget-send_message_input_SpotFix" class="doboard_task_widget-send_message_input" placeholder="Write a message..."></textarea>
            <div>
              <div class="doboard_task_widget-field">
                <button id="doboard_task_widget-submit_button" class="doboard_task_widget-submit_button doboard_task_widget-send_message_button">Submit</button>
            </div>
            </div>
            <div class="doboard_task_widget__file-upload__wrapper" id="doboard_task_widget__file-upload__wrapper">
                <div class="doboard_task_widget__file-upload__list-header">Attached files</div>
                <div class="doboard_task_widget__file-upload__file-list" id="doboard_task_widget__file-upload__file-list"></div>
                <div class="doboard_task_widget__file-upload__error" id="doboard_task_widget__file-upload__error"></div>
                <input type="file" class="doboard_task_widget__file-upload__file-input-button" id="doboard_task_widget__file-upload__file-input-button" multiple accept="*/*">
            </div>
        </div>
    </div>
</div>
`}static concrete_issue_day_content(){return`
<div class="doboard_task_widget-concrete_issue-day_content">
    <div class="doboard_task_widget-concrete_issue_day_content-month_day">{{dayContentMonthDay}}</div>
    <div class="doboard_task_widget-concrete_issue_day_content-messages_wrapper">{{dayContentMessages}}</div>
    {{statusFixedHtml}}
</div>
`}static concrete_issue_messages(){return`
<div class="doboard_task_widget-comment_data_wrapper doboard_task_widget-comment_data_{{issueMessageClassOwner}}">
    <div class="{{avatarCSSClass}}" style="{{avatarStyle}}">
        <span class="doboard_task_widget-avatar-initials {{initialsClass}}">{{taskAuthorInitials}}</span>
    </div>
    <div class="doboard_task_widget-comment_text_container">
        <div class="doboard_task_widget-comment_body">{{commentBody}}</div>
        <div class="doboard_task_widget-comment_time">{{commentTime}}</div>
    </div>
</div>
`}static create_issue(){return`
<div class="doboard_task_widget-container">
    <div class="doboard_task_widget-header">
        <div style="display: flex;align-items: center;gap: 8px;">
            <img src="{{logoDoBoardGreen}}"  alt="">
            <span>Report an issue</span>
        </div>
        <div class="doboard_task_widget-header-icons">
            <span id="openUserMenuButton">
                 <img src="{{iconEllipsesMore}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <span id="maximizeWidgetContainer">
                <img src="{{iconMaximize}}"  alt="" class="doboard_task_widget_cursor-pointer">
            </span>
            <img src="{{buttonCloseScreen}}"  alt="" class="doboard_task_widget-close_btn doboard_task_widget_cursor-pointer">
        </div>
    </div>
    <div class="doboard_task_widget-content doboard_task_widget-create_issue" style="display: flex; flex-direction: column">

        <div class="doboard_task_widget-element-container">
            <span>
                Tell us about any issue youโre experiencing on <span style="color: #000000;">{{currentDomain}}</span>. 
                Youโre also welcome to review spelling, grammar, or ask a question related to this page.
            </span>
        </div>

        <div class="doboard_task_widget-input-container">
            <input id="doboard_task_widget-title" class="doboard_task_widget-field" name="title" value="{{selectedText}}" required>
            <label class="spotfix_placeholder_title" for="doboard_task_widget-title">Report about</label>
        </div>

        <div class="doboard_task_widget-input-container doboard_task_widget-input-container-textarea" style="flex-grow: 1; min-height: 120px">
            <textarea id="doboard_task_widget-description" class="doboard_task_widget-field" name="description" placeholder=" " required></textarea>
            <label for="doboard_task_widget-description" class="doboard_task_widget-field-textarea-label" >Description</label>
        </div>

        <div class="doboard_task_widget-login">

            <span  class="doboard_task_widget-login-icon" >If you want to receive notifications by email write here you email contacts.</span>

            <div class="doboard_task_widget-accordion">
            
                   <div class="doboard_task_widget-input-container-phantom">
                        <div class="doboard_task_widget-input-container">
                            <input id="doboard_task_widget-user_name" class="doboard_task_widget-field" type="text" name="user_name">
                            <label for="doboard_task_widget-user_name">Nickname</label>
                        </div>
        
                        <div class="doboard_task_widget-input-container">
                            <input id="doboard_task_widget-user_email" class="doboard_task_widget-field" type="email" name="user_email">
                            <label for="doboard_task_widget-user_email">Email</label>
                        </div>
        
                        <div class="doboard_task_widget-input-container hidden">
                            <input id="doboard_task_widget-user_password" class="doboard_task_widget-field" type="password" name="user_password">
                            <label for="doboard_task_widget-user_password">Password</label>
                        </div>
        
                        <i>Note about DoBoard register and accepting email notifications about tasks have to be here.</i>
                        </br>
                        <i>If you are a doBoard user, use same Email and password as at <a href="https://doboard.com" target="_blank" rel="nofollow">doboard.com</a>
                            on the <span id="doboard_task_widget-show_login_form" class="doboard_task_widget-show_login_form">login page</span>
                         </i>
                 </div> 
                     
                 <div id="doboard_task_widget-input-container-login" class="doboard_task_widget-input-container-login doboard_task_widget-hidden">
                        <div class="doboard_task_widget-input-container">
                            <input id="doboard_task_widget-login_email" class="doboard_task_widget-field" type="email" name="login_email">
                            <label for="doboard_task_widget-login_email">Email</label>
                        </div>
                        <div class="doboard_task_widget-input-container">
                            <input id="doboard_task_widget-login_password" class="doboard_task_widget-field" type="password" name="login_password">
                            <label for="doboard_task_widget-login_password">Password</label>
                            <span class="doboard_task_widget-bottom-eye-icon" id="doboard_task_widget-password-toggle"></span>
                        </div>
                        <div>  
                                <span id="doboard_task_widget-forgot_password" class="doboard_task_widget-forgot_password">Forgot Password?</span>
                        </div> 
                        <div class="doboard_task_widget-login-buttons-wrapper">
                            <button id="doboard_task_widget-on_phantom_login_page" class="doboard_task_widget-submit_button">Cancel</button>
                            <button id="doboard_task_widget-login_button" class="doboard_task_widget-submit_button">Log in</button>
                        </div>
                        <div>
                            <i><span id="doboard_task_widget-login-is-invalid" class="doboard_task_widget-login-is-invalid doboard_task_widget-hidden">Login or password is invalid </span></i>
                        </div>
                 </div>
                 <div id="doboard_task_widget-container-login-forgot-password-form" class="doboard_task_widget-forgot_password_form doboard_task_widget-hidden">
                     <div class="doboard_task_widget-input-container">
                         <input id="doboard_task_widget-forgot_password_email" class="doboard_task_widget-field" type="email" name="forgot_password_email">
                         <label for="doboard_task_widget-forgot_password_email">Email</label>
                     </div>
                     <div class="doboard_task_widget-login-buttons-wrapper">
                         <button id="doboard_task_widget-forgot_password-black" class="doboard_task_widget-submit_button">Cancel</button>
                         <button id="doboard_task_widget-restore_password_button" class="doboard_task_widget-submit_button">Restore password</button>
                     </div>
                </div>
            </div>

        </div>

        <div class="doboard_task_widget-field">
            <button id="doboard_task_widget-submit_button" class="doboard_task_widget-submit_button">Submit</button>
        </div>

        <div class="doboard_task_widget-message-wrapper hidden">
            <span id="doboard_task_widget-error_message-header"></span>
            <div id="doboard_task_widget-error_message"></div>
        </div>
    </div>
</div>
`}static list_issues(){return`
<div class="doboard_task_widget-task_row issue-item {{elementBgCSSClass}}" data-node-path='[{{nodePath}}]' data-task-id='{{taskId}}'>
    <div class="{{avatarCSSClass}}" style="{{avatarStyle}}">
        <span class="doboard_task_widget-avatar-initials {{initialsClass}}">{{taskAuthorInitials}}</span>
    </div>
    <div class="doboard_task_widget-description_container" style="cursor: default">
        <div class="doboard_task_widget-task_title" style="cursor: pointer">
            <div class="doboard_task_widget-task_title-details">
                <span class="doboard_task_widget-task_title-text">{{taskTitle}}</span>
                <div class="doboard_task_widget-task_title_public_status_img">
                    <img src="{{taskPublicStatusImgSrc}}" alt="" title="{{taskPublicStatusHint}}">
                </div>
                <span class="doboard_task_widget-task_title-unread_block {{classUnread}}"></span>
            </div>
<!--            <div class="doboard_task_widget-task_title-last_update_time">{{taskLastUpdate}}</div>-->
        </div>
        <div class="doboard_task_widget-bottom">
            <div class="doboard_task_widget-task_page_url">
                <img src="{{iconLinkChain}}" />
                   <a class="spotfix_widget_task_url" title="The spot is located on this {{taskPageUrlFull}}">{{taskPageUrl}}</a>
                   <a class="spotfix_widget_task_url-short" style="display: none" title="The spot is located on this {{taskPageUrlFull}}">{{taskFormattedPageUrl}}</a>
                   <a class="spotfix_widget_task_url-full" style="display: none" title="The spot is located on this {{taskPageUrlFull}}">{{taskPageUrlFull}}</a>
             </div>
                {{statusFixedHtml}}
        </div>
    </div>
</div>
`}static user_menu(){return`
<div class="doboard_task_widget-container">
    <div class="doboard_task_widget-user_menu-header">
        <div class="doboard_task_widget-user_menu-header-top">
            <div id="spotfix_back_button" class="doboard_task_widget_cursor-pointer" 
            style="display: flex;align-items: center;gap: 8px;">
                <img src="{{chevronBackDark}}" alt="">
                <span> Back</span>
            </div>
            <div>
                <img src="{{buttonCloseScreen}}"  alt="" class="doboard_task_widget-close_btn doboard_task_widget_cursor-pointer">
            </div>
        </div>
        <div style="display: flex; flex-direction: column; align-items: center">
             <img class="doboard_task_widget-user_menu-header-avatar" src="{{avatar}}" alt="">
             <span style="font-size: 16px; font-weight: 700">{{userName}}</span>
             <span style="font-size: 12px;">{{email}}</span>
             <span id="doboard_task_widget-user_menu-signlog_button">
                 <a style="cursor: pointer" rel="nofollow" target="_blank">Sign up or Log in</a>
             </span>
        </div>
    </div>
    <div class="doboard_task_widget-content" style="min-height:200px ">
        <div style="height: 392px">
        <div style="position: sticky; top: 0">
            <div class="doboard_task_widget-user_menu-item">
                <img src="{{iconEye}}" alt="" style="margin-right: 12px">
                <div style="display: flex; justify-content: space-between; flex-grow: 1; align-items: center">
                    <span style="display: inline-flex; flex-direction: column">
                        <span style="font-weight: 500; font-size: 14px; color: #252A2F">
                        Show widget on my screen</span>
                        <span style="font-size: 10px; color: #40484F">
                        The widget will be visible again if you select any text on the site</span>
                    </span>
                    <label class="toggle" style="margin-left: 8px">
                      <input id="widget_visibility" type="checkbox">
                      <span class="slider"></span>
                    </label>
                </div>
            </div>
            <div class="doboard_task_widget-user_menu-item">
                <span id="doboard_task_widget-user_menu-logout_button">
                    <img src="{{iconDoor}}" alt="" style="margin-right: 12px; cursor: pointer">
                    <span class="logout_button">Log out</span>
                </span>
            </div>
            
            <div id="doboard_task_widget-input-container-login" class="doboard_task_widget-input-container-login doboard_task_widget-input-container-login-menu ">
                <div class="doboard_task_widget-input-container">
                    <input id="doboard_task_widget-login_email" class="doboard_task_widget-field" type="email" name="login_email">
                    <label for="doboard_task_widget-login_email">Email</label>
                </div>
                <div class="doboard_task_widget-input-container">
                    <input id="doboard_task_widget-login_password" class="doboard_task_widget-field" type="password" name="login_password">
                    <label for="doboard_task_widget-login_password">Password</label>
                    <span class="doboard_task_widget-bottom-eye-icon" id="doboard_task_widget-password-toggle"></span>
                </div>
                <div>
                        <span id="doboard_task_widget-forgot_password" class="doboard_task_widget-forgot_password">Forgot Password?</span>
                </div>
                <div class="doboard_task_widget-field">
                    <button id="doboard_task_widget-login_button" class="doboard_task_widget-submit_button">Log in</button>
                </div>
                <div>
                    <i><span id="doboard_task_widget-login-is-invalid" class="doboard_task_widget-login-is-invalid doboard_task_widget-hidden">Login or password is invalid </span></i>
                </div>
             </div>
             <div id="doboard_task_widget-container-login-forgot-password-form" class="doboard_task_widget-forgot_password_form doboard_task_widget-forgot_password_form-menu doboard_task_widget-hidden">
                 <div class="doboard_task_widget-input-container">
                     <input id="doboard_task_widget-forgot_password_email" class="doboard_task_widget-field" type="email" name="forgot_password_email">
                     <label for="doboard_task_widget-forgot_password_email">Email</label>
                 </div>
                 <div class="doboard_task_widget-login-buttons-wrapper">
                     <button id="doboard_task_widget-forgot_password-black" class="doboard_task_widget-submit_button">Cancel</button>
                     <button id="doboard_task_widget-restore_password_button" class="doboard_task_widget-submit_button">Restore password</button>
                 </div>
            </div>
            
        </div>
        </div>
        <div style="padding: 16px; font-size: 13px; position: sticky; bottom: 0">
            <span>{{spotfixVersion}}</span>
            <span>Powered by
            <a rel="nofollow" target="_blank" href="https://doboard.com">
             doBoard
            </a></span>
        </div>
        <div class="doboard_task_widget-message-wrapper hidden">
            <span id="doboard_task_widget-error_message-header"></span>
        <div id="doboard_task_widget-error_message"></div>
    </div>
    </div>
</div>`}static wrap(){return`
<div class="doboard_task_widget-wrap" style="bottom: {{position}}">
<img src="{{iconMarker}}" />
<!--    <img src="{{logoDoBoardWrap}}" alt="Doboard logo">-->
    <div id="doboard_task_widget-task_count" class="hidden"></div>
</div>`}static wrap_review(){return`
<button id="doboard_task_widget_button" class="doboard_task_widget-wrap wrap_review" style="bottom: {{position}};">
<img src="{{iconMarker}}" />
<span id="review_content_button_text">Review content</span>
</button>`}static fixedHtml(){return'<p><span class="doboard_task_widget-bottom-is-fixed">Finished</span></p>'}static fixedTaskHtml(){return'<p class="doboard_task_widget-bottom-is-fixed-task-block"><span class="doboard_task_widget-bottom-is-fixed-task">This issue already fixed</span></p>'}}class SpotFixSVGLoader{static loadSVG(e){var t=this[e];if("function"!=typeof t)throw new Error(`Template method '${e}' not found`);return t.call(this).trim()}static getAsRawSVG(e){return this.loadSVG(e)}static getAsDataURI(e){e=this.loadSVG(e);return this.svgToDataURI(e)}static svgToDataURI(e){e=(new TextEncoder).encode(e);return"data:image/svg+xml;base64,"+btoa(String.fromCharCode(...e))}static chevronBack(){return`
<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M7 13L1 7L7 1" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static chevronBackDark(){return`
<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M7 13L1 7L7 1" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static buttonCloseScreen(){return`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18 6L6 18" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6 6L18 18" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static buttonSendMessage(){return`
<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="15" cy="15" r="15" fill="#22A475"/>
    <g clip-path="url(#clip0_458_94)">
        <path d="M22.3337 7.6665L13.167 16.8332" stroke="white" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M22.3337 7.6665L16.5003 24.3332L13.167 16.8332L5.66699 13.4998L22.3337 7.6665Z" stroke="white" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
    <defs>
        <clipPath id="clip0_458_94">
            <rect width="20" height="20" fill="white" transform="translate(4 6)"/>
        </clipPath>
    </defs>
</svg>`}static buttonPaperClip(){return`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M21.4393 11.0499L12.2493 20.2399C11.1235 21.3658 9.5965 21.9983 8.00431 21.9983C6.41213 21.9983 4.88516 21.3658 3.75931 20.2399C2.63347 19.1141 2.00098 17.5871 2.00098 15.9949C2.00098 14.4027 2.63347 12.8758 3.75931 11.7499L12.9493 2.55992C13.6999 1.80936 14.7179 1.3877 15.7793 1.3877C16.8408 1.3877 17.8588 1.80936 18.6093 2.55992C19.3599 3.31048 19.7815 4.32846 19.7815 5.38992C19.7815 6.45138 19.3599 7.46936 18.6093 8.21992L9.40931 17.4099C9.03403 17.7852 8.52504 17.996 7.99431 17.996C7.46359 17.996 6.95459 17.7852 6.57931 17.4099C6.20403 17.0346 5.9932 16.5256 5.9932 15.9949C5.9932 15.4642 6.20403 14.9552 6.57931 14.5799L15.0693 6.09992" stroke="#707A83" stroke-width="1.71429" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static logoDoBoardGreen(){return`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.3435 1.87294e-10H0V24H7.04064H12.3435C27.8855 24 27.8855 -7.7417e-05 12.3435 1.87294e-10ZM7.04064 24C3.18002 24 0.0503678 20.7764 0.0503678 16.8C0.0503678 12.8236 3.18002 9.6 7.04064 9.6C10.9012 9.6 14.0309 12.8236 14.0309 16.8C14.0309 20.7764 10.9012 24 7.04064 24Z" fill="#1C7857"/>
</svg>`}static logoDoBoardWrap(){return`
<svg width="71" height="72" viewBox="0 0 71 72" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.113132 71.1182L0.109378 35.8851C0.106353 28.9195 2.16921 22.1096 6.03703 16.3165C9.90485 10.5235 15.4039 6.00773 21.8385 3.34038C28.2731 0.673036 35.3543 -0.0260367 42.1862 1.33159C49.0182 2.68922 55.2941 6.04255 60.22 10.9674C65.1459 15.8923 68.5006 22.1675 69.8597 28.9991C71.2188 35.8308 70.5212 42.9121 67.8552 49.3473C65.1893 55.7825 60.6746 61.2825 54.8824 65.1515C49.0903 69.0206 42.2807 71.0849 35.3151 71.0834L0.113132 71.1182Z" fill="#1C7857"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M37.5152 20H19V56H29.561H37.5152C60.8283 56 60.8283 19.9999 37.5152 20ZM29.561 56C23.77 56 19.0756 51.1647 19.0756 45.2C19.0756 39.2353 23.77 34.4 29.561 34.4C35.3519 34.4 40.0463 39.2353 40.0463 45.2C40.0463 51.1647 35.3519 56 29.561 56Z" fill="white"/>
</svg>`}static iconSpotPublic(){return`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0008 3.00027C7.17178 2.96187 2.97093 7.00382 3.00088 12.0003C2.91808 17.8096 8.71723 22.2578 14.3059 20.7002C24.3554 17.8039 22.5675 3.27107 12.0008 3.00027ZM17.2508 14.9653C16.9608 17.0153 15.9608 18.4703 14.8258 19.4853C14.6508 19.5503 14.4758 19.6103 14.2958 19.6603C14.1558 17.2853 13.0958 16.9203 12.0608 16.5603C10.7322 16.2243 9.99648 15.2916 9.96088 14.0202C9.89083 13.3953 9.82083 12.7453 9.14083 12.2903C8.43083 11.8203 7.81583 11.7753 7.27078 11.7303C6.62578 11.6803 6.15578 11.6453 5.71578 10.8753C4.81578 9.30527 5.90578 7.25027 7.28578 5.54027C8.61078 4.57527 10.2408 4.00027 12.0008 4.00027C12.8538 3.90392 14.0209 4.33902 14.2658 5.08032C14.5767 5.92247 13.1037 6.60767 12.7758 7.39027C12.4607 8.02027 12.6508 8.49527 12.7908 8.84027C12.9208 9.16027 12.9258 9.22027 12.8258 9.32527C12.5558 9.59027 12.1558 9.42527 11.5258 9.13527C10.8908 8.84527 10.1708 8.51527 9.42078 8.76527C7.72903 9.29942 8.01078 11.1962 9.50078 11.2503C9.94588 11.2463 10.8294 10.9818 11.1558 11.2353C11.1958 11.2703 11.2508 11.3353 11.2508 11.5003C11.3243 12.6158 12.6735 12.6987 13.6107 12.2253C14.4508 11.8053 14.5508 11.9053 15.3258 12.6752C16.081 13.5538 17.4843 13.5449 17.2508 14.9653Z" fill="#252A2F"/>
</svg>`}static iconSpotPrivate(){return`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0008 2.99978C7.17178 2.96138 2.97093 7.00333 3.00088 11.9998C2.91808 17.8091 8.71723 22.2573 14.3059 20.6997C24.3554 17.8034 22.5675 3.27058 12.0008 2.99978ZM17.2508 14.9648C16.9608 17.0148 15.9608 18.4698 14.8258 19.4848C14.6508 19.5498 14.4758 19.6098 14.2958 19.6598C14.1558 17.2848 13.0958 16.9198 12.0608 16.5598C10.7322 16.2238 9.99648 15.2911 9.96088 14.0197C9.89083 13.3948 9.82083 12.7448 9.14083 12.2898C8.43083 11.8198 7.81583 11.7748 7.27078 11.7298C6.62578 11.6798 6.15578 11.6448 5.71578 10.8748C4.81578 9.30478 5.90578 7.24978 7.28578 5.53978C8.61078 4.57478 10.2408 3.99978 12.0008 3.99978C12.8538 3.90343 14.0209 4.33853 14.2658 5.07983C14.5767 5.92198 13.1037 6.60718 12.7758 7.38978C12.4607 8.01978 12.6508 8.49478 12.7908 8.83978C12.9208 9.15978 12.9258 9.21978 12.8258 9.32478C12.5558 9.58978 12.1558 9.42478 11.5258 9.13478C10.8908 8.84478 10.1708 8.51478 9.42078 8.76478C7.72903 9.29893 8.01078 11.1957 9.50078 11.2498C9.94588 11.2458 10.8294 10.9813 11.1558 11.2348C11.1958 11.2698 11.2508 11.3348 11.2508 11.4998C11.3243 12.6153 12.6735 12.6982 13.6107 12.2248C14.4508 11.8048 14.5508 11.9048 15.3258 12.6747C16.081 13.5533 17.4843 13.5444 17.2508 14.9648Z" fill="#252A2F"/>
<path d="M4.5001 20.5L21.5 4.5" stroke="white" stroke-width="1.5"/>
<line x1="3.08787" y1="19.8516" x2="21.0879" y2="3.05161" stroke="#252A2F" stroke-width="1.5"/>
</svg>`}static iconSpotWidgetWrapPencil(){return`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17 2.99981C17.2626 2.73717 17.5744 2.52883 17.9176 2.38669C18.2608 2.24455 18.6286 2.17139 19 2.17139C19.3714 2.17139 19.7392 2.24455 20.0824 2.38669C20.4256 2.52883 20.7374 2.73717 21 2.99981C21.2626 3.26246 21.471 3.57426 21.6131 3.91742C21.7553 4.26058 21.8284 4.62838 21.8284 4.99981C21.8284 5.37125 21.7553 5.73905 21.6131 6.08221C21.471 6.42537 21.2626 6.73717 21 6.99981L7.5 20.4998L2 21.9998L3.5 16.4998L17 2.99981Z" stroke="white" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static iconLinkChain(){return`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.25 5.25H13.5C13.9925 5.25 14.4801 5.347 14.9351 5.53545C15.39 5.72391 15.8034 6.00013 16.1517 6.34835C16.4999 6.69657 16.7761 7.10997 16.9645 7.56494C17.153 8.01991 17.25 8.50754 17.25 9C17.25 9.49246 17.153 9.98009 16.9645 10.4351C16.7761 10.89 16.4999 11.3034 16.1517 11.6517C15.8034 11.9999 15.39 12.2761 14.9351 12.4645C14.4801 12.653 13.9925 12.75 13.5 12.75H11.25M6.75 12.75H4.5C4.00754 12.75 3.51991 12.653 3.06494 12.4645C2.60997 12.2761 2.19657 11.9999 1.84835 11.6517C1.14509 10.9484 0.75 9.99456 0.75 9C0.75 8.00544 1.14509 7.05161 1.84835 6.34835C2.55161 5.64509 3.50544 5.25 4.5 5.25H6.75" stroke="#707A83" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6 9H12" stroke="#707A83" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static iconEllipsesMore(){return`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>`}static iconAvatar(){return`<svg viewBox="0 0 128 128" version="1.1" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="xxlarge">
    <g>
        <circle cx="64" cy="64" r="64" fill="#c1c7d0" />
        <g>
            <path fill="#fff"
                d="M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z" />
            <path fill="#fff"
                d="M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24" />
        </g>
    </g>
</svg>
`}static iconEye(){return`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.2194 15.0246C16.2119 17.3608 14.3025 19.2659 11.9713 19.2627C9.62876 19.2596 7.71314 17.3327 7.72876 14.9952C7.74439 12.6571 9.66064 10.7565 11.9888 10.7696C14.3275 10.7827 16.2269 12.6933 16.2194 15.0246Z" fill="#252A2F"/>
<path d="M5.06499 9.76998C4.65374 9.05685 4.24999 8.36435 3.85312 7.66748C3.67124 7.3481 3.71062 7.00623 3.94249 6.7581C4.16437 6.5206 4.53687 6.44123 4.81999 6.60935C4.96 6.69248 5.08749 6.82748 5.17249 6.9681C5.54249 7.58185 5.89374 8.20685 6.25249 8.82685C6.29124 8.89373 6.33249 8.95873 6.38124 9.03873C7.91124 8.2956 9.52062 7.87935 11.2256 7.76685C11.2256 7.02498 11.2237 6.3006 11.2262 5.57685C11.2275 5.1956 11.4331 4.90873 11.7619 4.81435C12.25 4.67435 12.715 5.02185 12.7212 5.54435C12.7287 6.19185 12.7231 6.83873 12.7231 7.48623C12.7231 7.57123 12.7231 7.6556 12.7231 7.76623C14.4225 7.87873 16.0331 8.28998 17.5725 9.04185C17.6937 8.83248 17.8094 8.63123 17.9256 8.4306C18.2144 7.93185 18.5 7.4306 18.7925 6.93435C19.0269 6.53685 19.465 6.40935 19.8331 6.6231C20.2019 6.83685 20.3137 7.27998 20.0875 7.67935C19.7337 8.3031 19.3719 8.92123 19.0144 9.54248C18.9725 9.6156 18.9337 9.68998 18.8969 9.7581C19.3437 10.1037 19.8069 10.4119 20.2106 10.785C20.9894 11.5037 21.74 12.2537 22.4906 13.0025C22.7912 13.3025 22.77 13.7669 22.4775 14.0531C22.1831 14.3406 21.7362 14.3456 21.4262 14.0437C20.8787 13.5106 20.3506 12.9581 19.8 12.4275C17.8019 10.5012 15.4112 9.42373 12.6444 9.27498C9.33875 9.09748 6.47437 10.1775 4.08812 12.4875C3.57249 12.9862 3.07062 13.4994 2.56437 14.0075C2.35687 14.2156 2.11374 14.3156 1.82187 14.2462C1.26124 14.1144 1.04187 13.4231 1.45249 13.01C2.56687 11.8887 3.62624 10.7037 4.97562 9.84185C5.00124 9.8256 5.02312 9.80435 5.06499 9.76998Z" fill="#252A2F"/>
</svg>
`}static iconDoor(){return`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M22.9287 10.734C22.882 10.6222 22.8151 10.5204 22.7298 10.4352L19.9807 7.68609C19.6223 7.32859 19.043 7.32859 18.6846 7.68609C18.3262 8.04449 18.3262 8.62474 18.6846 8.98224L19.8698 10.1675H14.7493C14.2424 10.1675 13.8326 10.5781 13.8326 11.0841C13.8326 11.5901 14.2424 12.0008 14.7493 12.0008H19.8698L18.6845 13.186C18.3261 13.5444 18.3261 14.1247 18.6845 14.4822C18.8633 14.6618 19.0979 14.7508 19.3326 14.7508C19.5673 14.7508 19.802 14.6619 19.9807 14.4822L22.7298 11.7331C22.8151 11.6487 22.882 11.547 22.9287 11.4343C23.0213 11.2107 23.0213 10.9577 22.9287 10.734Z" fill="#252A2F"/>
<path d="M16.5823 13.8333C16.0754 13.8333 15.6656 14.244 15.6656 14.75V19.3333H11.999V4.66665C11.999 4.2624 11.7332 3.9049 11.3454 3.78849L8.16181 2.83334H15.6656V7.41668C15.6656 7.92268 16.0754 8.33333 16.5823 8.33333C17.0892 8.33333 17.4989 7.92268 17.4989 7.41668V1.91669C17.4989 1.41065 17.0892 1 16.5823 1H1.91567C1.88267 1 1.85333 1.01375 1.82127 1.0174C1.77817 1.022 1.73877 1.0293 1.69752 1.0394C1.60127 1.06415 1.51417 1.10175 1.43262 1.15305C1.41247 1.1659 1.38772 1.1668 1.36847 1.18146C1.36108 1.187 1.35833 1.1971 1.35098 1.2026C1.25108 1.2814 1.16768 1.37765 1.10718 1.49225C1.09433 1.517 1.09158 1.5436 1.08152 1.56925C1.05218 1.6389 1.02012 1.70675 1.00912 1.78375C1.00452 1.81125 1.01277 1.8369 1.01187 1.8635C1.01097 1.88185 0.999023 1.89835 0.999023 1.91665V20.25C0.999023 20.6872 1.30793 21.0631 1.73602 21.1483L10.9027 22.9817C10.9623 22.9945 11.0228 23 11.0823 23C11.2922 23 11.4985 22.9276 11.6635 22.7919C11.8752 22.6178 11.999 22.3583 11.999 22.0833V21.1667H16.5823C17.0892 21.1667 17.4989 20.756 17.4989 20.25V14.75C17.4989 14.244 17.0892 13.8333 16.5823 13.8333Z" fill="#252A2F"/>
</svg>
`}static iconPlus(){return`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11 4.58398V17.4173" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M4.58331 11H17.4166" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`}static iconMaximize(){return`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.75 2.75H19.25V8.25" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8.25 19.25H2.75V13.75" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M19.25 2.75L12.8333 9.16667" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2.75 19.2507L9.16667 12.834" stroke="#252A2F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`}static iconMarker(){return`<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAMwElEQVR4AeydX2wcRx3Hf3P+m9hx4z9t0lS2U5FGgpSEOAFREKKBSiW0IChqH0AgQEFU0FIeEKgSLzzwEB55AOWhLxQJAaIpghbSVrRvICFVyQMVaqI2thM7se/893x/nLubznd9Y5/vdvf2z+zd7N5Y99vZnZ2dm9/397mZ2d3zXopa8Mcvf+9//PI5btmVc/P8T0922b0t55xlcnxGGIct5fhVu3ImT50CkQLAOTEEnYh/ZLvJnA7S0btK/P/f3bedJ1ZE8PuW8lQRq+PCrBcnOgIQ3uS828owC+UKRAYAgk9XziGg9o0upNYkBNXgF+wLEh3P0x0DgZM64fIjAaBp8GWbAcHchTHxyXcMvixqIJBKqE2VA+A5+NKPhf8uskrT+FulDQSWDEoXSgHwHfyqK8PXniUDQVWMFifKAAgafOmvXwjEvMH2TELWZ1JvCigBIGzwZVP9QCDmDSUzMZTK+U/lEaEBUBV82SA/EJg5gVQteBoKANXBl24YCKQS0aeBAYgq+NJlA4FUIto0EABRB1+6bCCQSkSX+gagVcGXLhsIpBLRpL4AaHXwpcsGAqmE+tQzAO0KvnTZQCCVUJt6AqDdwZcuGwikEsHT+iObAqBL8GXDtyAoyk3X1FwncJXH2ukKAIK/8dYTzrd0rSpavxi+9oy5d6BIdkcAEPz0Xx+p9A8OKXortdUMmxtISgR1BADBxztUSneQaGkGgvBhsQXg9kuff0hWvZ5Oy1Ut0y0IzJwgaHBsAUil2FdlhZVymQrr63JTy3TYmhMYCIIExxYARuzftZVlMxkqZOMAgflmUW3cvKzbAjD2ldcv1h+cTccBAvPNovq4yW2n1BYAq3C565CV1iwMBDViJGTVEYC7v3Zpnvf03lvvpwWB9nMC0xPUx81p2xEAHHDPY6/esoUAcwIDASSKvbkCAO9Wv/jK8s2P/hGru8yaGBoIdmkSxw1XAK5y3rc2S4VyzwgZCOIY3uZtdgRABl9WEXcIyPq3Q+mNc9ppN5AcAcAnv16mOEMw8u73691x3O4kCGwBeHuaP+KkTpwhGJo97+RWQ35SIGhwrC7DFoAKo0fryu3ajCsE3flr4jZybpcvbhudAIEtAIzoDTdhsC+uEOx//3k037MlHQJbAE5NsEteFIojBKzsvQeQGiQZAlsA4DjvpgGkzSyOEOxd/HMztxr2JxUCRwBOH2K5pELQv/xaQ4C9ZCQRAkcAIEiSIYB/QSxpELgCAIEAQXcvDZKHvzgOBx7caiiSJAiaAgDvTxxkG4kbDngZrgU23SHw6pgnAFAZeoIkQcB4+C+7JgECzwAkDQKe6odLoS3uEPgCAGqhJzBzAiixY3GGwDcAcDuRcwI4FsLiCkEgAKATeoLYzglYNA8YiyMEgQGQEMRxOMiNbf/bA9xQanGDIBQAUC6Ow0Fh2PVmJ9wKZXGCIDQAUCpOw0G58YvOcEG5tQsCv44oAQBvGhcIViZ/gea2xOIAgTIAoCggUDEnyK2soDrlttj3MDHGlNfrVqHuECgFAEKomBMAgJVb86hOmZV5Dy3u/4ay+vxUpDMEygGAMOgJwp4ilgpFSl+/TpVSCVWGsmw6TVdGf0MH7gpVTaiDdYUgEgCgFCDwMxzcOP4XHNZgSzduUGZmhsp3/F+7R0+SFhC9e/Qi9YhT/9Z2/g2uaPnLJ5EBAPf9DAeV7iGamXqdeKoPh+4yXqnQ8s2bVo+wMj9PxY2NXfvlBp5lgKBnpqetsmv5fqtO7L9vGMv2m249QaQAQG4/PQHKz37s77Q08WOs2lqpWKT1xUUrwPh019rS7CwBAM45LTzwK5o79qJVxwHNHnOkEwSRA4AI+OkJUD479pj1yV2aeA6bPoxR+v6fW8cW9p20jtsnbvrt6bVWtVqohiCocy0BAI3z2xPgmOzY41YwMTQsHvkl5UY+RyVcyGFbzS71HqSN0UfFp/18tdxrlBv+LA61bFAEf9TTd5ms4i1f6ADBlpItch09gdeJYX2T8kOfoPTh52nuwd/RzMlLVsDnHnyRMpM/ocK+qfridPc+ojGNgy8b3G4IWgoAnAYETqeIe3tpAWXCWEp4dHiMaKBxLhmm2kiPbScEQq5IfbOt3Gk4yG3SPWLM3rhXnK/7vWDXJTwZHyGaEGb7pppntgsCIVt7lEFPYDccrBdoQIBQnhwlwicZM/g9PY1tBCD4lB+8a6scgg8IGkvGJ6cdELQNAIQFENgNB6t56lqqnurvETN4XMEDDLUGQDDO99vAgbrjaLki0dAs3RGnsS27ZtVWABAkDAd2EKzliZarEKBc0g3BX6g+ivHtWaq0CoK2A4DAOkEgeoKOgKA2+NADBgiQNrOw+7UAAE50KgR2wYceGO4yOXFJExsRmjYAwMdOg8At+NADJiCoDgzYUm9aAQD3OgUCL8GHHsIGl3L8XyKN5KUdAPAy6RD4CD7kIE50JpPlX7A2FC+0BAA+JhUCv8GHFpal6B9WqnihLQDwM2kQBA4+xBAm5gPTIlH60hoAeJoUCMIGH1oIm8hyfkCkyl7aAwBP4w6BouBDCirk6T2sqLJYAABn4wqByuBDB3GNeO+bXFw7xYYCiw0A8DVuEKgOPjSAncjRC0hVWKwAgMNxgSCq4EMDzuhbSFVY7ACA07pDEGXw4b9KiyUAEEBXCFoV/LUCPwodwlpsAYDjukHQquDD980KPYE0rMUaADivCwStDD78FoH7NNKwJuoJW0X7j283BK0Mfo3aH65ZD7yaCADgfbsgaFPwcYOo4XcdoYNfSwwAcLzVELQr+PBV2B5hoV+JAgBqtAqCNgcfriqxxAEAVaKGICnBh1aJBACORQVBkoIPnRILAJxTDUHSgg+NEg0AHFQFQRKDD30SDwCcDAuBDsGHH1FYRwAA4YJCkOTgQ5eOAQDO+oVA9+AvbPCz8CuMdRQAEMorBLoHH750p+hnSMNYxwEAsZpBEIfgww/Oaed5OMgIYB0JAHRygmBmmdPlmxUU2WX4X71dGZpszHG+N0xTOhYAiAYIah9SsZLndH2pQotZTnNrOxDoGnz40JenfyINah0NAESTD6lA8KeXd4IOCGbEts7BR/uFfUZY4FfHAwDl0BNkrrA+rNfaxHCK5qJ5cHnt27iue9mZ2eCveilnV8YAUFXlqafY5uBM1zYEJw51WXs2S0TTaWtV3wWjs1c53267n4YaAGrUkhDI4MtdXKxcFxBsFMWKpq/RAq0GaZoBoE41QDA1Tra6LK5v9QblnalC3dHt2xSnhH1LBX7ebwtsHfVbSdLKM8b4qQnGiDd+qtAbzC5tgZDf1MtzXqGfzuf5YT+tMgC4qHVqku1nRH+wK8JF5u01IgwN0xmilRyRDj1DL6f3Oeee4+q5oPC3I19TE+zrxOgBN+dF92sBgJ4BQLjZjIBlXpxZ4BF4mGC61Rt031Keyl6PNQB4UOrUOLuGIUH0Br/1UNy1SEV0HUVxZoFH4OEUU8KC+YXY5Xqsn52ZHM96KW8A8KJStYzoDX5ggcDo19UsZQnOMHC6CUPPoKDigfQGv9WsHgNAM4Vs9k+Ns+cAAh+k/UR0QZiy8wL0AugZMK/A0CLqDvwS09gDoid40q0CA4CbOk32nR5hqwKEp4V1CWO11sNpRAwZ94n0Q3c4HUsxOlOp0DkRFPQe7zSpmhB8QIChoVlZt/3ifQdc97vtNPuCK3B8ki2LIWNOpO99cpK9c3KcvfXxw+yFau9xTMIiTt3wHz6ON3QwNGCegJ7Bb2tYZZP2X/nRS27HmR7ATZ0W7Dt9mM0LGM4KY+K6w5ed3hJzg6KPX85jvEjD135I1J9f5f951vFnswwAToq3IV9cd/hbFYRv2r39/CqRfIy+3X6Zh0/+8NVn5KYrBAaAHZm0WRMg/L4KwvX6RuEx+gChPl9uW8HHJ19myNShJzAASIE0TAUI94th4en6pmEouLFcn0vkGHyq/tlAYACoaqNLUt8OAcGF7k1qeDhkSVzrw1VFWZ5VCltjvsxwSusgMAA4CaVR/okjbGHK5g4lririDGF6oUjlN75EhXVPF/92zQkMABoF2q0pTN6hJNr1rQRWKdL45cetQ7OZtG8IDACWdPFZiMlhv7gmcLva4owMfnWb/EKQ4tlXDvKVi9xYfDQ4NfTygamhl0nY6MinviNjv536gSBFpc357SPNSuwUSPXupTAQmCEgdiFvbHAYCAwAjXrGMicoBAYATcKtohlBIDAAqFBeozr8QmAA0Ch4qpriBwIDgCrVNavHKwQGAM0Cp7I5XiAwAKhUXMO6mkFgANAwaKqb5AaBAUC12prWZ0Hw0LcbWpcizh9uyDUZLVOglW+U6hugkVoIOJ35AAAA//82+rYoAAAABklEQVQDAHW6rCby9TYeAAAAAElFTkSuQmCC" 
height="100%" width="100%"/></svg>`}}class SpotFixSourcesLoader{constructor(){this.loadAll()}getCSSCode(){return spotFixCSS}loadAll(){this.loadFonts(),this.loadCSS()}loadFonts(){var e=document.createElement("link"),e=(e.rel="preconnect",e.href="https://fonts.googleapis.com",document.head.appendChild(e),document.createElement("link")),e=(e.rel="preconnect",e.href="https://fonts.gstatic.com",e.crossOrigin="crossorigin",document.head.appendChild(e),document.createElement("link"));e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap",document.head.appendChild(e)}loadCSS(){var e=document.createElement("style");e.setAttribute("id","spotfix_css"),e.textContent=this.getCSSCode(),document.head.appendChild(e)}}document.dispatchEvent(new CustomEvent("spotFixLoaded",{detail:{timestamp:(new Date).toISOString(),message:"All scripts loaded successfully"}}));
//# sourceMappingURL=doboard-widget-bundle.min.js.map
