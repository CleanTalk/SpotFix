{"version":3,"file":"doboard-widget-bundle.min.js","sources":["doboard-widget-bundle.js"],"sourcesContent":["/*!\r\n * html2canvas 1.4.1 <https://html2canvas.hertzen.com>\r\n * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n * Released under MIT License\r\n */\r\n(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.html2canvas = factory());\r\n}(this, (function () { 'use strict';\r\n\r\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArray(to, from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i] = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || from);\r\n    }\r\n\r\n    var Bounds = /** @class */ (function () {\r\n        function Bounds(left, top, width, height) {\r\n            this.left = left;\r\n            this.top = top;\r\n            this.width = width;\r\n            this.height = height;\r\n        }\r\n        Bounds.prototype.add = function (x, y, w, h) {\r\n            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\r\n        };\r\n        Bounds.fromClientRect = function (context, clientRect) {\r\n            return new Bounds(clientRect.left + context.windowBounds.left, clientRect.top + context.windowBounds.top, clientRect.width, clientRect.height);\r\n        };\r\n        Bounds.fromDOMRectList = function (context, domRectList) {\r\n            var domRect = Array.from(domRectList).find(function (rect) { return rect.width !== 0; });\r\n            return domRect\r\n                ? new Bounds(domRect.left + context.windowBounds.left, domRect.top + context.windowBounds.top, domRect.width, domRect.height)\r\n                : Bounds.EMPTY;\r\n        };\r\n        Bounds.EMPTY = new Bounds(0, 0, 0, 0);\r\n        return Bounds;\r\n    }());\r\n    var parseBounds = function (context, node) {\r\n        return Bounds.fromClientRect(context, node.getBoundingClientRect());\r\n    };\r\n    var parseDocumentSize = function (document) {\r\n        var body = document.body;\r\n        var documentElement = document.documentElement;\r\n        if (!body || !documentElement) {\r\n            throw new Error(\"Unable to get document size\");\r\n        }\r\n        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\r\n        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\r\n        return new Bounds(0, 0, width, height);\r\n    };\r\n\r\n    /*\r\n     * css-line-break 2.1.0 <https://github.com/niklasvh/css-line-break#readme>\r\n     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var toCodePoints$1 = function (str) {\r\n        var codePoints = [];\r\n        var i = 0;\r\n        var length = str.length;\r\n        while (i < length) {\r\n            var value = str.charCodeAt(i++);\r\n            if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n                var extra = str.charCodeAt(i++);\r\n                if ((extra & 0xfc00) === 0xdc00) {\r\n                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n                }\r\n                else {\r\n                    codePoints.push(value);\r\n                    i--;\r\n                }\r\n            }\r\n            else {\r\n                codePoints.push(value);\r\n            }\r\n        }\r\n        return codePoints;\r\n    };\r\n    var fromCodePoint$1 = function () {\r\n        var codePoints = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            codePoints[_i] = arguments[_i];\r\n        }\r\n        if (String.fromCodePoint) {\r\n            return String.fromCodePoint.apply(String, codePoints);\r\n        }\r\n        var length = codePoints.length;\r\n        if (!length) {\r\n            return '';\r\n        }\r\n        var codeUnits = [];\r\n        var index = -1;\r\n        var result = '';\r\n        while (++index < length) {\r\n            var codePoint = codePoints[index];\r\n            if (codePoint <= 0xffff) {\r\n                codeUnits.push(codePoint);\r\n            }\r\n            else {\r\n                codePoint -= 0x10000;\r\n                codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\r\n            }\r\n            if (index + 1 === length || codeUnits.length > 0x4000) {\r\n                result += String.fromCharCode.apply(String, codeUnits);\r\n                codeUnits.length = 0;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    var chars$2 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup$2 = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i$2 = 0; i$2 < chars$2.length; i$2++) {\r\n        lookup$2[chars$2.charCodeAt(i$2)] = i$2;\r\n    }\r\n\r\n    /*\r\n     * utrie 1.0.2 <https://github.com/niklasvh/utrie>\r\n     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var chars$1$1 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup$1$1 = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i$1$1 = 0; i$1$1 < chars$1$1.length; i$1$1++) {\r\n        lookup$1$1[chars$1$1.charCodeAt(i$1$1)] = i$1$1;\r\n    }\r\n    var decode$1 = function (base64) {\r\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\r\n        if (base64[base64.length - 1] === '=') {\r\n            bufferLength--;\r\n            if (base64[base64.length - 2] === '=') {\r\n                bufferLength--;\r\n            }\r\n        }\r\n        var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n            typeof Uint8Array !== 'undefined' &&\r\n            typeof Uint8Array.prototype.slice !== 'undefined'\r\n            ? new ArrayBuffer(bufferLength)\r\n            : new Array(bufferLength);\r\n        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n        for (i = 0; i < len; i += 4) {\r\n            encoded1 = lookup$1$1[base64.charCodeAt(i)];\r\n            encoded2 = lookup$1$1[base64.charCodeAt(i + 1)];\r\n            encoded3 = lookup$1$1[base64.charCodeAt(i + 2)];\r\n            encoded4 = lookup$1$1[base64.charCodeAt(i + 3)];\r\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n        }\r\n        return buffer;\r\n    };\r\n    var polyUint16Array$1 = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 2) {\r\n            bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n    var polyUint32Array$1 = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 4) {\r\n            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n\r\n    /** Shift size for getting the index-2 table offset. */\r\n    var UTRIE2_SHIFT_2$1 = 5;\r\n    /** Shift size for getting the index-1 table offset. */\r\n    var UTRIE2_SHIFT_1$1 = 6 + 5;\r\n    /**\r\n     * Shift size for shifting left the index array values.\r\n     * Increases possible data size with 16-bit index values at the cost\r\n     * of compactability.\r\n     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n     */\r\n    var UTRIE2_INDEX_SHIFT$1 = 2;\r\n    /**\r\n     * Difference between the two shift sizes,\r\n     * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n     */\r\n    var UTRIE2_SHIFT_1_2$1 = UTRIE2_SHIFT_1$1 - UTRIE2_SHIFT_2$1;\r\n    /**\r\n     * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n     * lead surrogate code _units_ not code _points_.\r\n     * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n     */\r\n    var UTRIE2_LSCP_INDEX_2_OFFSET$1 = 0x10000 >> UTRIE2_SHIFT_2$1;\r\n    /** Number of entries in a data block. 32=0x20 */\r\n    var UTRIE2_DATA_BLOCK_LENGTH$1 = 1 << UTRIE2_SHIFT_2$1;\r\n    /** Mask for getting the lower bits for the in-data-block offset. */\r\n    var UTRIE2_DATA_MASK$1 = UTRIE2_DATA_BLOCK_LENGTH$1 - 1;\r\n    var UTRIE2_LSCP_INDEX_2_LENGTH$1 = 0x400 >> UTRIE2_SHIFT_2$1;\r\n    /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n    var UTRIE2_INDEX_2_BMP_LENGTH$1 = UTRIE2_LSCP_INDEX_2_OFFSET$1 + UTRIE2_LSCP_INDEX_2_LENGTH$1;\r\n    /**\r\n     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n     */\r\n    var UTRIE2_UTF8_2B_INDEX_2_OFFSET$1 = UTRIE2_INDEX_2_BMP_LENGTH$1;\r\n    var UTRIE2_UTF8_2B_INDEX_2_LENGTH$1 = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n    /**\r\n     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n     * Variable length, for code points up to highStart, where the last single-value range starts.\r\n     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n     * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n     *\r\n     * The part of the index-2 table for supplementary code points starts\r\n     * after this index-1 table.\r\n     *\r\n     * Both the index-1 table and the following part of the index-2 table\r\n     * are omitted completely if there is only BMP data.\r\n     */\r\n    var UTRIE2_INDEX_1_OFFSET$1 = UTRIE2_UTF8_2B_INDEX_2_OFFSET$1 + UTRIE2_UTF8_2B_INDEX_2_LENGTH$1;\r\n    /**\r\n     * Number of index-1 entries for the BMP. 32=0x20\r\n     * This part of the index-1 table is omitted from the serialized form.\r\n     */\r\n    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1 = 0x10000 >> UTRIE2_SHIFT_1$1;\r\n    /** Number of entries in an index-2 block. 64=0x40 */\r\n    var UTRIE2_INDEX_2_BLOCK_LENGTH$1 = 1 << UTRIE2_SHIFT_1_2$1;\r\n    /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n    var UTRIE2_INDEX_2_MASK$1 = UTRIE2_INDEX_2_BLOCK_LENGTH$1 - 1;\r\n    var slice16$1 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var slice32$1 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var createTrieFromBase64$1 = function (base64, _byteLength) {\r\n        var buffer = decode$1(base64);\r\n        var view32 = Array.isArray(buffer) ? polyUint32Array$1(buffer) : new Uint32Array(buffer);\r\n        var view16 = Array.isArray(buffer) ? polyUint16Array$1(buffer) : new Uint16Array(buffer);\r\n        var headerLength = 24;\r\n        var index = slice16$1(view16, headerLength / 2, view32[4] / 2);\r\n        var data = view32[5] === 2\r\n            ? slice16$1(view16, (headerLength + view32[4]) / 2)\r\n            : slice32$1(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n        return new Trie$1(view32[0], view32[1], view32[2], view32[3], index, data);\r\n    };\r\n    var Trie$1 = /** @class */ (function () {\r\n        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n            this.initialValue = initialValue;\r\n            this.errorValue = errorValue;\r\n            this.highStart = highStart;\r\n            this.highValueIndex = highValueIndex;\r\n            this.index = index;\r\n            this.data = data;\r\n        }\r\n        /**\r\n         * Get the value for a code point as stored in the Trie.\r\n         *\r\n         * @param codePoint the code point\r\n         * @return the value\r\n         */\r\n        Trie.prototype.get = function (codePoint) {\r\n            var ix;\r\n            if (codePoint >= 0) {\r\n                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n                    // Ordinary BMP code point, excluding leading surrogates.\r\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n                    // 16 bit data is stored in the index array itself.\r\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2$1];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT$1) + (codePoint & UTRIE2_DATA_MASK$1);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0xffff) {\r\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\r\n                    // lead surrogate code units and code points.\r\n                    //   The main index has the code unit data.\r\n                    //   For this function, we need the code point data.\r\n                    // Note: this expression could be refactored for slightly improved efficiency, but\r\n                    //       surrogate code points will be so rare in practice that it's not worth it.\r\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1 + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2$1)];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT$1) + (codePoint & UTRIE2_DATA_MASK$1);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint < this.highStart) {\r\n                    // Supplemental code point, use two-level lookup.\r\n                    ix = UTRIE2_INDEX_1_OFFSET$1 - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1 + (codePoint >> UTRIE2_SHIFT_1$1);\r\n                    ix = this.index[ix];\r\n                    ix += (codePoint >> UTRIE2_SHIFT_2$1) & UTRIE2_INDEX_2_MASK$1;\r\n                    ix = this.index[ix];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT$1) + (codePoint & UTRIE2_DATA_MASK$1);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0x10ffff) {\r\n                    return this.data[this.highValueIndex];\r\n                }\r\n            }\r\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n            return this.errorValue;\r\n        };\r\n        return Trie;\r\n    }());\r\n\r\n    /*\r\n     * base64-arraybuffer 1.0.2 <https://github.com/niklasvh/base64-arraybuffer>\r\n     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var chars$3 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup$3 = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i$3 = 0; i$3 < chars$3.length; i$3++) {\r\n        lookup$3[chars$3.charCodeAt(i$3)] = i$3;\r\n    }\r\n\r\n    var base64$1 = 'KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==';\r\n\r\n    var LETTER_NUMBER_MODIFIER = 50;\r\n    // Non-tailorable Line Breaking Classes\r\n    var BK = 1; //  Cause a line break (after)\r\n    var CR$1 = 2; //  Cause a line break (after), except between CR and LF\r\n    var LF$1 = 3; //  Cause a line break (after)\r\n    var CM = 4; //  Prohibit a line break between the character and the preceding character\r\n    var NL = 5; //  Cause a line break (after)\r\n    var WJ = 7; //  Prohibit line breaks before and after\r\n    var ZW = 8; //  Provide a break opportunity\r\n    var GL = 9; //  Prohibit line breaks before and after\r\n    var SP = 10; // Enable indirect line breaks\r\n    var ZWJ$1 = 11; // Prohibit line breaks within joiner sequences\r\n    // Break Opportunities\r\n    var B2 = 12; //  Provide a line break opportunity before and after the character\r\n    var BA = 13; //  Generally provide a line break opportunity after the character\r\n    var BB = 14; //  Generally provide a line break opportunity before the character\r\n    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context\r\n    var CB = 16; //   Provide a line break opportunity contingent on additional information\r\n    // Characters Prohibiting Certain Breaks\r\n    var CL = 17; //  Prohibit line breaks before\r\n    var CP = 18; //  Prohibit line breaks before\r\n    var EX = 19; //  Prohibit line breaks before\r\n    var IN = 20; //  Allow only indirect line breaks between pairs\r\n    var NS = 21; //  Allow only indirect line breaks before\r\n    var OP = 22; //  Prohibit line breaks after\r\n    var QU = 23; //  Act like they are both opening and closing\r\n    // Numeric Context\r\n    var IS = 24; //  Prevent breaks after any and before numeric\r\n    var NU = 25; //  Form numeric expressions for line breaking purposes\r\n    var PO = 26; //  Do not break following a numeric expression\r\n    var PR = 27; //  Do not break in front of a numeric expression\r\n    var SY = 28; //  Prevent a break before; and allow a break after\r\n    // Other Characters\r\n    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\r\n    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\r\n    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.\r\n    var EB = 32; //  Do not break from following Emoji Modifier\r\n    var EM = 33; //  Do not break from preceding Emoji Base\r\n    var H2 = 34; //  Form Korean syllable blocks\r\n    var H3 = 35; //  Form Korean syllable blocks\r\n    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\r\n    var ID = 37; //  Break before or after; except in some numeric context\r\n    var JL = 38; //  Form Korean syllable blocks\r\n    var JV = 39; //  Form Korean syllable blocks\r\n    var JT = 40; //  Form Korean syllable blocks\r\n    var RI$1 = 41; //  Keep pairs together. For pairs; break before and after other classes\r\n    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\r\n    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\r\n    var ea_OP = [0x2329, 0xff08];\r\n    var BREAK_MANDATORY = '!';\r\n    var BREAK_NOT_ALLOWED$1 = '';\r\n    var BREAK_ALLOWED$1 = '';\r\n    var UnicodeTrie$1 = createTrieFromBase64$1(base64$1);\r\n    var ALPHABETICS = [AL, HL];\r\n    var HARD_LINE_BREAKS = [BK, CR$1, LF$1, NL];\r\n    var SPACE$1 = [SP, ZW];\r\n    var PREFIX_POSTFIX = [PR, PO];\r\n    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE$1);\r\n    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\r\n    var HYPHEN = [HY, BA];\r\n    var codePointsToCharacterClasses = function (codePoints, lineBreak) {\r\n        if (lineBreak === void 0) { lineBreak = 'strict'; }\r\n        var types = [];\r\n        var indices = [];\r\n        var categories = [];\r\n        codePoints.forEach(function (codePoint, index) {\r\n            var classType = UnicodeTrie$1.get(codePoint);\r\n            if (classType > LETTER_NUMBER_MODIFIER) {\r\n                categories.push(true);\r\n                classType -= LETTER_NUMBER_MODIFIER;\r\n            }\r\n            else {\r\n                categories.push(false);\r\n            }\r\n            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\r\n                // U+2010,  U+2013,  U+301C,  U+30A0\r\n                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\r\n                    indices.push(index);\r\n                    return types.push(CB);\r\n                }\r\n            }\r\n            if (classType === CM || classType === ZWJ$1) {\r\n                // LB10 Treat any remaining combining mark or ZWJ as AL.\r\n                if (index === 0) {\r\n                    indices.push(index);\r\n                    return types.push(AL);\r\n                }\r\n                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\r\n                // the base character in all of the following rules. Treat ZWJ as if it were CM.\r\n                var prev = types[index - 1];\r\n                if (LINE_BREAKS.indexOf(prev) === -1) {\r\n                    indices.push(indices[index - 1]);\r\n                    return types.push(prev);\r\n                }\r\n                indices.push(index);\r\n                return types.push(AL);\r\n            }\r\n            indices.push(index);\r\n            if (classType === CJ) {\r\n                return types.push(lineBreak === 'strict' ? NS : ID);\r\n            }\r\n            if (classType === SA) {\r\n                return types.push(AL);\r\n            }\r\n            if (classType === AI) {\r\n                return types.push(AL);\r\n            }\r\n            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\r\n            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\r\n            // to take into account the actual line breaking properties for these characters.\r\n            if (classType === XX) {\r\n                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\r\n                    return types.push(ID);\r\n                }\r\n                else {\r\n                    return types.push(AL);\r\n                }\r\n            }\r\n            types.push(classType);\r\n        });\r\n        return [indices, types, categories];\r\n    };\r\n    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {\r\n        var current = classTypes[currentIndex];\r\n        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\r\n            var i = currentIndex;\r\n            while (i <= classTypes.length) {\r\n                i++;\r\n                var next = classTypes[i];\r\n                if (next === b) {\r\n                    return true;\r\n                }\r\n                if (next !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (current === SP) {\r\n            var i = currentIndex;\r\n            while (i > 0) {\r\n                i--;\r\n                var prev = classTypes[i];\r\n                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\r\n                    var n = currentIndex;\r\n                    while (n <= classTypes.length) {\r\n                        n++;\r\n                        var next = classTypes[n];\r\n                        if (next === b) {\r\n                            return true;\r\n                        }\r\n                        if (next !== SP) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (prev !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var previousNonSpaceClassType = function (currentIndex, classTypes) {\r\n        var i = currentIndex;\r\n        while (i >= 0) {\r\n            var type = classTypes[i];\r\n            if (type === SP) {\r\n                i--;\r\n            }\r\n            else {\r\n                return type;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {\r\n        if (indicies[index] === 0) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        var currentIndex = index - 1;\r\n        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        var beforeIndex = currentIndex - 1;\r\n        var afterIndex = currentIndex + 1;\r\n        var current = classTypes[currentIndex];\r\n        // LB4 Always break after hard line breaks.\r\n        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\r\n        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\r\n        var next = classTypes[afterIndex];\r\n        if (current === CR$1 && next === LF$1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\r\n            return BREAK_MANDATORY;\r\n        }\r\n        // LB6 Do not break before hard line breaks.\r\n        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB7 Do not break before spaces or zero width space.\r\n        if (SPACE$1.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\r\n            return BREAK_ALLOWED$1;\r\n        }\r\n        // LB8a Do not break after a zero width joiner.\r\n        if (UnicodeTrie$1.get(codePoints[currentIndex]) === ZWJ$1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // zwj emojis\r\n        if ((current === EB || current === EM) && UnicodeTrie$1.get(codePoints[afterIndex]) === ZWJ$1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB11 Do not break before or after Word joiner and related characters.\r\n        if (current === WJ || next === WJ) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB12 Do not break after NBSP and related characters.\r\n        if (current === GL) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\r\n        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB13 Do not break before ] or ! or ; or /, even after spaces.\r\n        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB14 Do not break after [, even after spaces.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB15 Do not break within [, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB17 Do not break within , even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB18 Break after spaces.\r\n        if (current === SP) {\r\n            return BREAK_ALLOWED$1;\r\n        }\r\n        // LB19 Do not break before or after quotation marks, such as   .\r\n        if (current === QU || next === QU) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB20 Break before and after unresolved CB.\r\n        if (next === CB || current === CB) {\r\n            return BREAK_ALLOWED$1;\r\n        }\r\n        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\r\n        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB21a Don't break after Hebrew + Hyphen.\r\n        if (before === HL && HYPHEN.indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB21b Dont break between Solidus and Hebrew letters.\r\n        if (current === SY && next === HL) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB22 Do not break before ellipsis.\r\n        if (next === IN) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB23 Do not break between digits and letters.\r\n        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\r\n        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\r\n            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\r\n        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\r\n            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB25 Do not break between the following pairs of classes relevant to numbers:\r\n        if (\r\n        // (PR | PO)  ( OP | HY )? NU\r\n        ([PR, PO].indexOf(current) !== -1 &&\r\n            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\r\n            // ( OP | HY )  NU\r\n            ([OP, HY].indexOf(current) !== -1 && next === NU) ||\r\n            // NU \t(NU | SY | IS)\r\n            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\r\n        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\r\n            var prevIndex = currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED$1;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\r\n        if ([PR, PO].indexOf(next) !== -1) {\r\n            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED$1;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // LB26 Do not break a Korean syllable.\r\n        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\r\n            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\r\n            ([JT, H3].indexOf(current) !== -1 && next === JT)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB27 Treat a Korean Syllable Block the same as ID.\r\n        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\r\n            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB28 Do not break between alphabetics (at).\r\n        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\r\n        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\r\n        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 &&\r\n            next === OP &&\r\n            ea_OP.indexOf(codePoints[afterIndex]) === -1) ||\r\n            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\r\n        // indicators preceding the position of the break.\r\n        if (current === RI$1 && next === RI$1) {\r\n            var i = indicies[currentIndex];\r\n            var count = 1;\r\n            while (i > 0) {\r\n                i--;\r\n                if (classTypes[i] === RI$1) {\r\n                    count++;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            if (count % 2 !== 0) {\r\n                return BREAK_NOT_ALLOWED$1;\r\n            }\r\n        }\r\n        // LB30b Do not break between an emoji base and an emoji modifier.\r\n        if (current === EB && next === EM) {\r\n            return BREAK_NOT_ALLOWED$1;\r\n        }\r\n        return BREAK_ALLOWED$1;\r\n    };\r\n    var cssFormattedClasses = function (codePoints, options) {\r\n        if (!options) {\r\n            options = { lineBreak: 'normal', wordBreak: 'normal' };\r\n        }\r\n        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];\r\n        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\r\n            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });\r\n        }\r\n        var forbiddenBreakpoints = options.wordBreak === 'keep-all'\r\n            ? isLetterNumber.map(function (letterNumber, i) {\r\n                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\r\n            })\r\n            : undefined;\r\n        return [indicies, classTypes, forbiddenBreakpoints];\r\n    };\r\n    var Break = /** @class */ (function () {\r\n        function Break(codePoints, lineBreak, start, end) {\r\n            this.codePoints = codePoints;\r\n            this.required = lineBreak === BREAK_MANDATORY;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        Break.prototype.slice = function () {\r\n            return fromCodePoint$1.apply(void 0, this.codePoints.slice(this.start, this.end));\r\n        };\r\n        return Break;\r\n    }());\r\n    var LineBreaker = function (str, options) {\r\n        var codePoints = toCodePoints$1(str);\r\n        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];\r\n        var length = codePoints.length;\r\n        var lastEnd = 0;\r\n        var nextIndex = 0;\r\n        return {\r\n            next: function () {\r\n                if (nextIndex >= length) {\r\n                    return { done: true, value: null };\r\n                }\r\n                var lineBreak = BREAK_NOT_ALLOWED$1;\r\n                while (nextIndex < length &&\r\n                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\r\n                        BREAK_NOT_ALLOWED$1) { }\r\n                if (lineBreak !== BREAK_NOT_ALLOWED$1 || nextIndex === length) {\r\n                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\r\n                    lastEnd = nextIndex;\r\n                    return { value: value, done: false };\r\n                }\r\n                return { done: true, value: null };\r\n            },\r\n        };\r\n    };\r\n\r\n    // https://www.w3.org/TR/css-syntax-3\r\n    var FLAG_UNRESTRICTED = 1 << 0;\r\n    var FLAG_ID = 1 << 1;\r\n    var FLAG_INTEGER = 1 << 2;\r\n    var FLAG_NUMBER = 1 << 3;\r\n    var LINE_FEED = 0x000a;\r\n    var SOLIDUS = 0x002f;\r\n    var REVERSE_SOLIDUS = 0x005c;\r\n    var CHARACTER_TABULATION = 0x0009;\r\n    var SPACE = 0x0020;\r\n    var QUOTATION_MARK = 0x0022;\r\n    var EQUALS_SIGN = 0x003d;\r\n    var NUMBER_SIGN = 0x0023;\r\n    var DOLLAR_SIGN = 0x0024;\r\n    var PERCENTAGE_SIGN = 0x0025;\r\n    var APOSTROPHE = 0x0027;\r\n    var LEFT_PARENTHESIS = 0x0028;\r\n    var RIGHT_PARENTHESIS = 0x0029;\r\n    var LOW_LINE = 0x005f;\r\n    var HYPHEN_MINUS = 0x002d;\r\n    var EXCLAMATION_MARK = 0x0021;\r\n    var LESS_THAN_SIGN = 0x003c;\r\n    var GREATER_THAN_SIGN = 0x003e;\r\n    var COMMERCIAL_AT = 0x0040;\r\n    var LEFT_SQUARE_BRACKET = 0x005b;\r\n    var RIGHT_SQUARE_BRACKET = 0x005d;\r\n    var CIRCUMFLEX_ACCENT = 0x003d;\r\n    var LEFT_CURLY_BRACKET = 0x007b;\r\n    var QUESTION_MARK = 0x003f;\r\n    var RIGHT_CURLY_BRACKET = 0x007d;\r\n    var VERTICAL_LINE = 0x007c;\r\n    var TILDE = 0x007e;\r\n    var CONTROL = 0x0080;\r\n    var REPLACEMENT_CHARACTER = 0xfffd;\r\n    var ASTERISK = 0x002a;\r\n    var PLUS_SIGN = 0x002b;\r\n    var COMMA = 0x002c;\r\n    var COLON = 0x003a;\r\n    var SEMICOLON = 0x003b;\r\n    var FULL_STOP = 0x002e;\r\n    var NULL = 0x0000;\r\n    var BACKSPACE = 0x0008;\r\n    var LINE_TABULATION = 0x000b;\r\n    var SHIFT_OUT = 0x000e;\r\n    var INFORMATION_SEPARATOR_ONE = 0x001f;\r\n    var DELETE = 0x007f;\r\n    var EOF = -1;\r\n    var ZERO = 0x0030;\r\n    var a = 0x0061;\r\n    var e = 0x0065;\r\n    var f = 0x0066;\r\n    var u = 0x0075;\r\n    var z = 0x007a;\r\n    var A = 0x0041;\r\n    var E = 0x0045;\r\n    var F = 0x0046;\r\n    var U = 0x0055;\r\n    var Z = 0x005a;\r\n    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };\r\n    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };\r\n    var isHex = function (codePoint) {\r\n        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\r\n    };\r\n    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };\r\n    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };\r\n    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };\r\n    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };\r\n    var isWhiteSpace = function (codePoint) {\r\n        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE;\r\n    };\r\n    var isNameStartCodePoint = function (codePoint) {\r\n        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\r\n    };\r\n    var isNameCodePoint = function (codePoint) {\r\n        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\r\n    };\r\n    var isNonPrintableCodePoint = function (codePoint) {\r\n        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||\r\n            codePoint === LINE_TABULATION ||\r\n            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\r\n            codePoint === DELETE);\r\n    };\r\n    var isValidEscape = function (c1, c2) {\r\n        if (c1 !== REVERSE_SOLIDUS) {\r\n            return false;\r\n        }\r\n        return c2 !== LINE_FEED;\r\n    };\r\n    var isIdentifierStart = function (c1, c2, c3) {\r\n        if (c1 === HYPHEN_MINUS) {\r\n            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\r\n        }\r\n        else if (isNameStartCodePoint(c1)) {\r\n            return true;\r\n        }\r\n        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var isNumberStart = function (c1, c2, c3) {\r\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n            if (isDigit(c2)) {\r\n                return true;\r\n            }\r\n            return c2 === FULL_STOP && isDigit(c3);\r\n        }\r\n        if (c1 === FULL_STOP) {\r\n            return isDigit(c2);\r\n        }\r\n        return isDigit(c1);\r\n    };\r\n    var stringToNumber = function (codePoints) {\r\n        var c = 0;\r\n        var sign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                sign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var integers = [];\r\n        while (isDigit(codePoints[c])) {\r\n            integers.push(codePoints[c++]);\r\n        }\r\n        var int = integers.length ? parseInt(fromCodePoint$1.apply(void 0, integers), 10) : 0;\r\n        if (codePoints[c] === FULL_STOP) {\r\n            c++;\r\n        }\r\n        var fraction = [];\r\n        while (isDigit(codePoints[c])) {\r\n            fraction.push(codePoints[c++]);\r\n        }\r\n        var fracd = fraction.length;\r\n        var frac = fracd ? parseInt(fromCodePoint$1.apply(void 0, fraction), 10) : 0;\r\n        if (codePoints[c] === E || codePoints[c] === e) {\r\n            c++;\r\n        }\r\n        var expsign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                expsign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var exponent = [];\r\n        while (isDigit(codePoints[c])) {\r\n            exponent.push(codePoints[c++]);\r\n        }\r\n        var exp = exponent.length ? parseInt(fromCodePoint$1.apply(void 0, exponent), 10) : 0;\r\n        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\r\n    };\r\n    var LEFT_PARENTHESIS_TOKEN = {\r\n        type: 2 /* LEFT_PARENTHESIS_TOKEN */\r\n    };\r\n    var RIGHT_PARENTHESIS_TOKEN = {\r\n        type: 3 /* RIGHT_PARENTHESIS_TOKEN */\r\n    };\r\n    var COMMA_TOKEN = { type: 4 /* COMMA_TOKEN */ };\r\n    var SUFFIX_MATCH_TOKEN = { type: 13 /* SUFFIX_MATCH_TOKEN */ };\r\n    var PREFIX_MATCH_TOKEN = { type: 8 /* PREFIX_MATCH_TOKEN */ };\r\n    var COLUMN_TOKEN = { type: 21 /* COLUMN_TOKEN */ };\r\n    var DASH_MATCH_TOKEN = { type: 9 /* DASH_MATCH_TOKEN */ };\r\n    var INCLUDE_MATCH_TOKEN = { type: 10 /* INCLUDE_MATCH_TOKEN */ };\r\n    var LEFT_CURLY_BRACKET_TOKEN = {\r\n        type: 11 /* LEFT_CURLY_BRACKET_TOKEN */\r\n    };\r\n    var RIGHT_CURLY_BRACKET_TOKEN = {\r\n        type: 12 /* RIGHT_CURLY_BRACKET_TOKEN */\r\n    };\r\n    var SUBSTRING_MATCH_TOKEN = { type: 14 /* SUBSTRING_MATCH_TOKEN */ };\r\n    var BAD_URL_TOKEN = { type: 23 /* BAD_URL_TOKEN */ };\r\n    var BAD_STRING_TOKEN = { type: 1 /* BAD_STRING_TOKEN */ };\r\n    var CDO_TOKEN = { type: 25 /* CDO_TOKEN */ };\r\n    var CDC_TOKEN = { type: 24 /* CDC_TOKEN */ };\r\n    var COLON_TOKEN = { type: 26 /* COLON_TOKEN */ };\r\n    var SEMICOLON_TOKEN = { type: 27 /* SEMICOLON_TOKEN */ };\r\n    var LEFT_SQUARE_BRACKET_TOKEN = {\r\n        type: 28 /* LEFT_SQUARE_BRACKET_TOKEN */\r\n    };\r\n    var RIGHT_SQUARE_BRACKET_TOKEN = {\r\n        type: 29 /* RIGHT_SQUARE_BRACKET_TOKEN */\r\n    };\r\n    var WHITESPACE_TOKEN = { type: 31 /* WHITESPACE_TOKEN */ };\r\n    var EOF_TOKEN = { type: 32 /* EOF_TOKEN */ };\r\n    var Tokenizer = /** @class */ (function () {\r\n        function Tokenizer() {\r\n            this._value = [];\r\n        }\r\n        Tokenizer.prototype.write = function (chunk) {\r\n            this._value = this._value.concat(toCodePoints$1(chunk));\r\n        };\r\n        Tokenizer.prototype.read = function () {\r\n            var tokens = [];\r\n            var token = this.consumeToken();\r\n            while (token !== EOF_TOKEN) {\r\n                tokens.push(token);\r\n                token = this.consumeToken();\r\n            }\r\n            return tokens;\r\n        };\r\n        Tokenizer.prototype.consumeToken = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            switch (codePoint) {\r\n                case QUOTATION_MARK:\r\n                    return this.consumeStringToken(QUOTATION_MARK);\r\n                case NUMBER_SIGN:\r\n                    var c1 = this.peekCodePoint(0);\r\n                    var c2 = this.peekCodePoint(1);\r\n                    var c3 = this.peekCodePoint(2);\r\n                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\r\n                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\r\n                        var value = this.consumeName();\r\n                        return { type: 5 /* HASH_TOKEN */, value: value, flags: flags };\r\n                    }\r\n                    break;\r\n                case DOLLAR_SIGN:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUFFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case APOSTROPHE:\r\n                    return this.consumeStringToken(APOSTROPHE);\r\n                case LEFT_PARENTHESIS:\r\n                    return LEFT_PARENTHESIS_TOKEN;\r\n                case RIGHT_PARENTHESIS:\r\n                    return RIGHT_PARENTHESIS_TOKEN;\r\n                case ASTERISK:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUBSTRING_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case PLUS_SIGN:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case COMMA:\r\n                    return COMMA_TOKEN;\r\n                case HYPHEN_MINUS:\r\n                    var e1 = codePoint;\r\n                    var e2 = this.peekCodePoint(0);\r\n                    var e3 = this.peekCodePoint(1);\r\n                    if (isNumberStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    if (isIdentifierStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDC_TOKEN;\r\n                    }\r\n                    break;\r\n                case FULL_STOP:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case SOLIDUS:\r\n                    if (this.peekCodePoint(0) === ASTERISK) {\r\n                        this.consumeCodePoint();\r\n                        while (true) {\r\n                            var c = this.consumeCodePoint();\r\n                            if (c === ASTERISK) {\r\n                                c = this.consumeCodePoint();\r\n                                if (c === SOLIDUS) {\r\n                                    return this.consumeToken();\r\n                                }\r\n                            }\r\n                            if (c === EOF) {\r\n                                return this.consumeToken();\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case COLON:\r\n                    return COLON_TOKEN;\r\n                case SEMICOLON:\r\n                    return SEMICOLON_TOKEN;\r\n                case LESS_THAN_SIGN:\r\n                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&\r\n                        this.peekCodePoint(1) === HYPHEN_MINUS &&\r\n                        this.peekCodePoint(2) === HYPHEN_MINUS) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDO_TOKEN;\r\n                    }\r\n                    break;\r\n                case COMMERCIAL_AT:\r\n                    var a1 = this.peekCodePoint(0);\r\n                    var a2 = this.peekCodePoint(1);\r\n                    var a3 = this.peekCodePoint(2);\r\n                    if (isIdentifierStart(a1, a2, a3)) {\r\n                        var value = this.consumeName();\r\n                        return { type: 7 /* AT_KEYWORD_TOKEN */, value: value };\r\n                    }\r\n                    break;\r\n                case LEFT_SQUARE_BRACKET:\r\n                    return LEFT_SQUARE_BRACKET_TOKEN;\r\n                case REVERSE_SOLIDUS:\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    break;\r\n                case RIGHT_SQUARE_BRACKET:\r\n                    return RIGHT_SQUARE_BRACKET_TOKEN;\r\n                case CIRCUMFLEX_ACCENT:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return PREFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case LEFT_CURLY_BRACKET:\r\n                    return LEFT_CURLY_BRACKET_TOKEN;\r\n                case RIGHT_CURLY_BRACKET:\r\n                    return RIGHT_CURLY_BRACKET_TOKEN;\r\n                case u:\r\n                case U:\r\n                    var u1 = this.peekCodePoint(0);\r\n                    var u2 = this.peekCodePoint(1);\r\n                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeUnicodeRangeToken();\r\n                    }\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return this.consumeIdentLikeToken();\r\n                case VERTICAL_LINE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return DASH_MATCH_TOKEN;\r\n                    }\r\n                    if (this.peekCodePoint(0) === VERTICAL_LINE) {\r\n                        this.consumeCodePoint();\r\n                        return COLUMN_TOKEN;\r\n                    }\r\n                    break;\r\n                case TILDE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return INCLUDE_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case EOF:\r\n                    return EOF_TOKEN;\r\n            }\r\n            if (isWhiteSpace(codePoint)) {\r\n                this.consumeWhiteSpace();\r\n                return WHITESPACE_TOKEN;\r\n            }\r\n            if (isDigit(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeNumericToken();\r\n            }\r\n            if (isNameStartCodePoint(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeIdentLikeToken();\r\n            }\r\n            return { type: 6 /* DELIM_TOKEN */, value: fromCodePoint$1(codePoint) };\r\n        };\r\n        Tokenizer.prototype.consumeCodePoint = function () {\r\n            var value = this._value.shift();\r\n            return typeof value === 'undefined' ? -1 : value;\r\n        };\r\n        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {\r\n            this._value.unshift(codePoint);\r\n        };\r\n        Tokenizer.prototype.peekCodePoint = function (delta) {\r\n            if (delta >= this._value.length) {\r\n                return -1;\r\n            }\r\n            return this._value[delta];\r\n        };\r\n        Tokenizer.prototype.consumeUnicodeRangeToken = function () {\r\n            var digits = [];\r\n            var codePoint = this.consumeCodePoint();\r\n            while (isHex(codePoint) && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n            }\r\n            var questionMarks = false;\r\n            while (codePoint === QUESTION_MARK && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n                questionMarks = true;\r\n            }\r\n            if (questionMarks) {\r\n                var start_1 = parseInt(fromCodePoint$1.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);\r\n                var end = parseInt(fromCodePoint$1.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);\r\n                return { type: 30 /* UNICODE_RANGE_TOKEN */, start: start_1, end: end };\r\n            }\r\n            var start = parseInt(fromCodePoint$1.apply(void 0, digits), 16);\r\n            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\r\n                this.consumeCodePoint();\r\n                codePoint = this.consumeCodePoint();\r\n                var endDigits = [];\r\n                while (isHex(codePoint) && endDigits.length < 6) {\r\n                    endDigits.push(codePoint);\r\n                    codePoint = this.consumeCodePoint();\r\n                }\r\n                var end = parseInt(fromCodePoint$1.apply(void 0, endDigits), 16);\r\n                return { type: 30 /* UNICODE_RANGE_TOKEN */, start: start, end: end };\r\n            }\r\n            else {\r\n                return { type: 30 /* UNICODE_RANGE_TOKEN */, start: start, end: start };\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeIdentLikeToken = function () {\r\n            var value = this.consumeName();\r\n            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return this.consumeUrlToken();\r\n            }\r\n            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return { type: 19 /* FUNCTION_TOKEN */, value: value };\r\n            }\r\n            return { type: 20 /* IDENT_TOKEN */, value: value };\r\n        };\r\n        Tokenizer.prototype.consumeUrlToken = function () {\r\n            var value = [];\r\n            this.consumeWhiteSpace();\r\n            if (this.peekCodePoint(0) === EOF) {\r\n                return { type: 22 /* URL_TOKEN */, value: '' };\r\n            }\r\n            var next = this.peekCodePoint(0);\r\n            if (next === APOSTROPHE || next === QUOTATION_MARK) {\r\n                var stringToken = this.consumeStringToken(this.consumeCodePoint());\r\n                if (stringToken.type === 0 /* STRING_TOKEN */) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: 22 /* URL_TOKEN */, value: stringToken.value };\r\n                    }\r\n                }\r\n                this.consumeBadUrlRemnants();\r\n                return BAD_URL_TOKEN;\r\n            }\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\r\n                    return { type: 22 /* URL_TOKEN */, value: fromCodePoint$1.apply(void 0, value) };\r\n                }\r\n                else if (isWhiteSpace(codePoint)) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: 22 /* URL_TOKEN */, value: fromCodePoint$1.apply(void 0, value) };\r\n                    }\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === QUOTATION_MARK ||\r\n                    codePoint === APOSTROPHE ||\r\n                    codePoint === LEFT_PARENTHESIS ||\r\n                    isNonPrintableCodePoint(codePoint)) {\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === REVERSE_SOLIDUS) {\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        value.push(this.consumeEscapedCodePoint());\r\n                    }\r\n                    else {\r\n                        this.consumeBadUrlRemnants();\r\n                        return BAD_URL_TOKEN;\r\n                    }\r\n                }\r\n                else {\r\n                    value.push(codePoint);\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeWhiteSpace = function () {\r\n            while (isWhiteSpace(this.peekCodePoint(0))) {\r\n                this.consumeCodePoint();\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeBadUrlRemnants = function () {\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\r\n                    return;\r\n                }\r\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    this.consumeEscapedCodePoint();\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeStringSlice = function (count) {\r\n            var SLICE_STACK_SIZE = 50000;\r\n            var value = '';\r\n            while (count > 0) {\r\n                var amount = Math.min(SLICE_STACK_SIZE, count);\r\n                value += fromCodePoint$1.apply(void 0, this._value.splice(0, amount));\r\n                count -= amount;\r\n            }\r\n            this._value.shift();\r\n            return value;\r\n        };\r\n        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {\r\n            var value = '';\r\n            var i = 0;\r\n            do {\r\n                var codePoint = this._value[i];\r\n                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\r\n                    value += this.consumeStringSlice(i);\r\n                    return { type: 0 /* STRING_TOKEN */, value: value };\r\n                }\r\n                if (codePoint === LINE_FEED) {\r\n                    this._value.splice(0, i);\r\n                    return BAD_STRING_TOKEN;\r\n                }\r\n                if (codePoint === REVERSE_SOLIDUS) {\r\n                    var next = this._value[i + 1];\r\n                    if (next !== EOF && next !== undefined) {\r\n                        if (next === LINE_FEED) {\r\n                            value += this.consumeStringSlice(i);\r\n                            i = -1;\r\n                            this._value.shift();\r\n                        }\r\n                        else if (isValidEscape(codePoint, next)) {\r\n                            value += this.consumeStringSlice(i);\r\n                            value += fromCodePoint$1(this.consumeEscapedCodePoint());\r\n                            i = -1;\r\n                        }\r\n                    }\r\n                }\r\n                i++;\r\n            } while (true);\r\n        };\r\n        Tokenizer.prototype.consumeNumber = function () {\r\n            var repr = [];\r\n            var type = FLAG_INTEGER;\r\n            var c1 = this.peekCodePoint(0);\r\n            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            while (isDigit(this.peekCodePoint(0))) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            if (c1 === FULL_STOP && isDigit(c2)) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            return [stringToNumber(repr), type];\r\n        };\r\n        Tokenizer.prototype.consumeNumericToken = function () {\r\n            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];\r\n            var c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if (isIdentifierStart(c1, c2, c3)) {\r\n                var unit = this.consumeName();\r\n                return { type: 15 /* DIMENSION_TOKEN */, number: number, flags: flags, unit: unit };\r\n            }\r\n            if (c1 === PERCENTAGE_SIGN) {\r\n                this.consumeCodePoint();\r\n                return { type: 16 /* PERCENTAGE_TOKEN */, number: number, flags: flags };\r\n            }\r\n            return { type: 17 /* NUMBER_TOKEN */, number: number, flags: flags };\r\n        };\r\n        Tokenizer.prototype.consumeEscapedCodePoint = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            if (isHex(codePoint)) {\r\n                var hex = fromCodePoint$1(codePoint);\r\n                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\r\n                    hex += fromCodePoint$1(this.consumeCodePoint());\r\n                }\r\n                if (isWhiteSpace(this.peekCodePoint(0))) {\r\n                    this.consumeCodePoint();\r\n                }\r\n                var hexCodePoint = parseInt(hex, 16);\r\n                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\r\n                    return REPLACEMENT_CHARACTER;\r\n                }\r\n                return hexCodePoint;\r\n            }\r\n            if (codePoint === EOF) {\r\n                return REPLACEMENT_CHARACTER;\r\n            }\r\n            return codePoint;\r\n        };\r\n        Tokenizer.prototype.consumeName = function () {\r\n            var result = '';\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (isNameCodePoint(codePoint)) {\r\n                    result += fromCodePoint$1(codePoint);\r\n                }\r\n                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    result += fromCodePoint$1(this.consumeEscapedCodePoint());\r\n                }\r\n                else {\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return result;\r\n                }\r\n            }\r\n        };\r\n        return Tokenizer;\r\n    }());\r\n\r\n    var Parser = /** @class */ (function () {\r\n        function Parser(tokens) {\r\n            this._tokens = tokens;\r\n        }\r\n        Parser.create = function (value) {\r\n            var tokenizer = new Tokenizer();\r\n            tokenizer.write(value);\r\n            return new Parser(tokenizer.read());\r\n        };\r\n        Parser.parseValue = function (value) {\r\n            return Parser.create(value).parseComponentValue();\r\n        };\r\n        Parser.parseValues = function (value) {\r\n            return Parser.create(value).parseComponentValues();\r\n        };\r\n        Parser.prototype.parseComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            while (token.type === 31 /* WHITESPACE_TOKEN */) {\r\n                token = this.consumeToken();\r\n            }\r\n            if (token.type === 32 /* EOF_TOKEN */) {\r\n                throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");\r\n            }\r\n            this.reconsumeToken(token);\r\n            var value = this.consumeComponentValue();\r\n            do {\r\n                token = this.consumeToken();\r\n            } while (token.type === 31 /* WHITESPACE_TOKEN */);\r\n            if (token.type === 32 /* EOF_TOKEN */) {\r\n                return value;\r\n            }\r\n            throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\");\r\n        };\r\n        Parser.prototype.parseComponentValues = function () {\r\n            var values = [];\r\n            while (true) {\r\n                var value = this.consumeComponentValue();\r\n                if (value.type === 32 /* EOF_TOKEN */) {\r\n                    return values;\r\n                }\r\n                values.push(value);\r\n                values.push();\r\n            }\r\n        };\r\n        Parser.prototype.consumeComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            switch (token.type) {\r\n                case 11 /* LEFT_CURLY_BRACKET_TOKEN */:\r\n                case 28 /* LEFT_SQUARE_BRACKET_TOKEN */:\r\n                case 2 /* LEFT_PARENTHESIS_TOKEN */:\r\n                    return this.consumeSimpleBlock(token.type);\r\n                case 19 /* FUNCTION_TOKEN */:\r\n                    return this.consumeFunction(token);\r\n            }\r\n            return token;\r\n        };\r\n        Parser.prototype.consumeSimpleBlock = function (type) {\r\n            var block = { type: type, values: [] };\r\n            var token = this.consumeToken();\r\n            while (true) {\r\n                if (token.type === 32 /* EOF_TOKEN */ || isEndingTokenFor(token, type)) {\r\n                    return block;\r\n                }\r\n                this.reconsumeToken(token);\r\n                block.values.push(this.consumeComponentValue());\r\n                token = this.consumeToken();\r\n            }\r\n        };\r\n        Parser.prototype.consumeFunction = function (functionToken) {\r\n            var cssFunction = {\r\n                name: functionToken.value,\r\n                values: [],\r\n                type: 18 /* FUNCTION */\r\n            };\r\n            while (true) {\r\n                var token = this.consumeToken();\r\n                if (token.type === 32 /* EOF_TOKEN */ || token.type === 3 /* RIGHT_PARENTHESIS_TOKEN */) {\r\n                    return cssFunction;\r\n                }\r\n                this.reconsumeToken(token);\r\n                cssFunction.values.push(this.consumeComponentValue());\r\n            }\r\n        };\r\n        Parser.prototype.consumeToken = function () {\r\n            var token = this._tokens.shift();\r\n            return typeof token === 'undefined' ? EOF_TOKEN : token;\r\n        };\r\n        Parser.prototype.reconsumeToken = function (token) {\r\n            this._tokens.unshift(token);\r\n        };\r\n        return Parser;\r\n    }());\r\n    var isDimensionToken = function (token) { return token.type === 15 /* DIMENSION_TOKEN */; };\r\n    var isNumberToken = function (token) { return token.type === 17 /* NUMBER_TOKEN */; };\r\n    var isIdentToken = function (token) { return token.type === 20 /* IDENT_TOKEN */; };\r\n    var isStringToken = function (token) { return token.type === 0 /* STRING_TOKEN */; };\r\n    var isIdentWithValue = function (token, value) {\r\n        return isIdentToken(token) && token.value === value;\r\n    };\r\n    var nonWhiteSpace = function (token) { return token.type !== 31 /* WHITESPACE_TOKEN */; };\r\n    var nonFunctionArgSeparator = function (token) {\r\n        return token.type !== 31 /* WHITESPACE_TOKEN */ && token.type !== 4 /* COMMA_TOKEN */;\r\n    };\r\n    var parseFunctionArgs = function (tokens) {\r\n        var args = [];\r\n        var arg = [];\r\n        tokens.forEach(function (token) {\r\n            if (token.type === 4 /* COMMA_TOKEN */) {\r\n                if (arg.length === 0) {\r\n                    throw new Error(\"Error parsing function args, zero tokens for arg\");\r\n                }\r\n                args.push(arg);\r\n                arg = [];\r\n                return;\r\n            }\r\n            if (token.type !== 31 /* WHITESPACE_TOKEN */) {\r\n                arg.push(token);\r\n            }\r\n        });\r\n        if (arg.length) {\r\n            args.push(arg);\r\n        }\r\n        return args;\r\n    };\r\n    var isEndingTokenFor = function (token, type) {\r\n        if (type === 11 /* LEFT_CURLY_BRACKET_TOKEN */ && token.type === 12 /* RIGHT_CURLY_BRACKET_TOKEN */) {\r\n            return true;\r\n        }\r\n        if (type === 28 /* LEFT_SQUARE_BRACKET_TOKEN */ && token.type === 29 /* RIGHT_SQUARE_BRACKET_TOKEN */) {\r\n            return true;\r\n        }\r\n        return type === 2 /* LEFT_PARENTHESIS_TOKEN */ && token.type === 3 /* RIGHT_PARENTHESIS_TOKEN */;\r\n    };\r\n\r\n    var isLength = function (token) {\r\n        return token.type === 17 /* NUMBER_TOKEN */ || token.type === 15 /* DIMENSION_TOKEN */;\r\n    };\r\n\r\n    var isLengthPercentage = function (token) {\r\n        return token.type === 16 /* PERCENTAGE_TOKEN */ || isLength(token);\r\n    };\r\n    var parseLengthPercentageTuple = function (tokens) {\r\n        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\r\n    };\r\n    var ZERO_LENGTH = {\r\n        type: 17 /* NUMBER_TOKEN */,\r\n        number: 0,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var FIFTY_PERCENT = {\r\n        type: 16 /* PERCENTAGE_TOKEN */,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var HUNDRED_PERCENT = {\r\n        type: 16 /* PERCENTAGE_TOKEN */,\r\n        number: 100,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var getAbsoluteValueForTuple = function (tuple, width, height) {\r\n        var x = tuple[0], y = tuple[1];\r\n        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\r\n    };\r\n    var getAbsoluteValue = function (token, parent) {\r\n        if (token.type === 16 /* PERCENTAGE_TOKEN */) {\r\n            return (token.number / 100) * parent;\r\n        }\r\n        if (isDimensionToken(token)) {\r\n            switch (token.unit) {\r\n                case 'rem':\r\n                case 'em':\r\n                    return 16 * token.number; // TODO use correct font-size\r\n                case 'px':\r\n                default:\r\n                    return token.number;\r\n            }\r\n        }\r\n        return token.number;\r\n    };\r\n\r\n    var DEG = 'deg';\r\n    var GRAD = 'grad';\r\n    var RAD = 'rad';\r\n    var TURN = 'turn';\r\n    var angle = {\r\n        name: 'angle',\r\n        parse: function (_context, value) {\r\n            if (value.type === 15 /* DIMENSION_TOKEN */) {\r\n                switch (value.unit) {\r\n                    case DEG:\r\n                        return (Math.PI * value.number) / 180;\r\n                    case GRAD:\r\n                        return (Math.PI / 200) * value.number;\r\n                    case RAD:\r\n                        return value.number;\r\n                    case TURN:\r\n                        return Math.PI * 2 * value.number;\r\n                }\r\n            }\r\n            throw new Error(\"Unsupported angle type\");\r\n        }\r\n    };\r\n    var isAngle = function (value) {\r\n        if (value.type === 15 /* DIMENSION_TOKEN */) {\r\n            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var parseNamedSide = function (tokens) {\r\n        var sideOrCorner = tokens\r\n            .filter(isIdentToken)\r\n            .map(function (ident) { return ident.value; })\r\n            .join(' ');\r\n        switch (sideOrCorner) {\r\n            case 'to bottom right':\r\n            case 'to right bottom':\r\n            case 'left top':\r\n            case 'top left':\r\n                return [ZERO_LENGTH, ZERO_LENGTH];\r\n            case 'to top':\r\n            case 'bottom':\r\n                return deg(0);\r\n            case 'to bottom left':\r\n            case 'to left bottom':\r\n            case 'right top':\r\n            case 'top right':\r\n                return [ZERO_LENGTH, HUNDRED_PERCENT];\r\n            case 'to right':\r\n            case 'left':\r\n                return deg(90);\r\n            case 'to top left':\r\n            case 'to left top':\r\n            case 'right bottom':\r\n            case 'bottom right':\r\n                return [HUNDRED_PERCENT, HUNDRED_PERCENT];\r\n            case 'to bottom':\r\n            case 'top':\r\n                return deg(180);\r\n            case 'to top right':\r\n            case 'to right top':\r\n            case 'left bottom':\r\n            case 'bottom left':\r\n                return [HUNDRED_PERCENT, ZERO_LENGTH];\r\n            case 'to left':\r\n            case 'right':\r\n                return deg(270);\r\n        }\r\n        return 0;\r\n    };\r\n    var deg = function (deg) { return (Math.PI * deg) / 180; };\r\n\r\n    var color$1 = {\r\n        name: 'color',\r\n        parse: function (context, value) {\r\n            if (value.type === 18 /* FUNCTION */) {\r\n                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\r\n                if (typeof colorFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported color function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return colorFunction(context, value.values);\r\n            }\r\n            if (value.type === 5 /* HASH_TOKEN */) {\r\n                if (value.value.length === 3) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\r\n                }\r\n                if (value.value.length === 4) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    var a = value.value.substring(3, 4);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\r\n                }\r\n                if (value.value.length === 6) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\r\n                }\r\n                if (value.value.length === 8) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    var a = value.value.substring(6, 8);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\r\n                }\r\n            }\r\n            if (value.type === 20 /* IDENT_TOKEN */) {\r\n                var namedColor = COLORS[value.value.toUpperCase()];\r\n                if (typeof namedColor !== 'undefined') {\r\n                    return namedColor;\r\n                }\r\n            }\r\n            return COLORS.TRANSPARENT;\r\n        }\r\n    };\r\n    var isTransparent = function (color) { return (0xff & color) === 0; };\r\n    var asString = function (color) {\r\n        var alpha = 0xff & color;\r\n        var blue = 0xff & (color >> 8);\r\n        var green = 0xff & (color >> 16);\r\n        var red = 0xff & (color >> 24);\r\n        return alpha < 255 ? \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha / 255 + \")\" : \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\r\n    };\r\n    var pack = function (r, g, b, a) {\r\n        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\r\n    };\r\n    var getTokenColorValue = function (token, i) {\r\n        if (token.type === 17 /* NUMBER_TOKEN */) {\r\n            return token.number;\r\n        }\r\n        if (token.type === 16 /* PERCENTAGE_TOKEN */) {\r\n            var max = i === 3 ? 1 : 255;\r\n            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\r\n        }\r\n        return 0;\r\n    };\r\n    var rgb = function (_context, args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        if (tokens.length === 3) {\r\n            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];\r\n            return pack(r, g, b, 1);\r\n        }\r\n        if (tokens.length === 4) {\r\n            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];\r\n            return pack(r, g, b, a);\r\n        }\r\n        return 0;\r\n    };\r\n    function hue2rgb(t1, t2, hue) {\r\n        if (hue < 0) {\r\n            hue += 1;\r\n        }\r\n        if (hue >= 1) {\r\n            hue -= 1;\r\n        }\r\n        if (hue < 1 / 6) {\r\n            return (t2 - t1) * hue * 6 + t1;\r\n        }\r\n        else if (hue < 1 / 2) {\r\n            return t2;\r\n        }\r\n        else if (hue < 2 / 3) {\r\n            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\r\n        }\r\n        else {\r\n            return t1;\r\n        }\r\n    }\r\n    var hsl = function (context, args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];\r\n        var h = (hue.type === 17 /* NUMBER_TOKEN */ ? deg(hue.number) : angle.parse(context, hue)) / (Math.PI * 2);\r\n        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\r\n        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\r\n        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\r\n        if (s === 0) {\r\n            return pack(l * 255, l * 255, l * 255, 1);\r\n        }\r\n        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n        var t1 = l * 2 - t2;\r\n        var r = hue2rgb(t1, t2, h + 1 / 3);\r\n        var g = hue2rgb(t1, t2, h);\r\n        var b = hue2rgb(t1, t2, h - 1 / 3);\r\n        return pack(r * 255, g * 255, b * 255, a);\r\n    };\r\n    var SUPPORTED_COLOR_FUNCTIONS = {\r\n        hsl: hsl,\r\n        hsla: hsl,\r\n        rgb: rgb,\r\n        rgba: rgb\r\n    };\r\n    var parseColor = function (context, value) {\r\n        return color$1.parse(context, Parser.create(value).parseComponentValue());\r\n    };\r\n    var COLORS = {\r\n        ALICEBLUE: 0xf0f8ffff,\r\n        ANTIQUEWHITE: 0xfaebd7ff,\r\n        AQUA: 0x00ffffff,\r\n        AQUAMARINE: 0x7fffd4ff,\r\n        AZURE: 0xf0ffffff,\r\n        BEIGE: 0xf5f5dcff,\r\n        BISQUE: 0xffe4c4ff,\r\n        BLACK: 0x000000ff,\r\n        BLANCHEDALMOND: 0xffebcdff,\r\n        BLUE: 0x0000ffff,\r\n        BLUEVIOLET: 0x8a2be2ff,\r\n        BROWN: 0xa52a2aff,\r\n        BURLYWOOD: 0xdeb887ff,\r\n        CADETBLUE: 0x5f9ea0ff,\r\n        CHARTREUSE: 0x7fff00ff,\r\n        CHOCOLATE: 0xd2691eff,\r\n        CORAL: 0xff7f50ff,\r\n        CORNFLOWERBLUE: 0x6495edff,\r\n        CORNSILK: 0xfff8dcff,\r\n        CRIMSON: 0xdc143cff,\r\n        CYAN: 0x00ffffff,\r\n        DARKBLUE: 0x00008bff,\r\n        DARKCYAN: 0x008b8bff,\r\n        DARKGOLDENROD: 0xb886bbff,\r\n        DARKGRAY: 0xa9a9a9ff,\r\n        DARKGREEN: 0x006400ff,\r\n        DARKGREY: 0xa9a9a9ff,\r\n        DARKKHAKI: 0xbdb76bff,\r\n        DARKMAGENTA: 0x8b008bff,\r\n        DARKOLIVEGREEN: 0x556b2fff,\r\n        DARKORANGE: 0xff8c00ff,\r\n        DARKORCHID: 0x9932ccff,\r\n        DARKRED: 0x8b0000ff,\r\n        DARKSALMON: 0xe9967aff,\r\n        DARKSEAGREEN: 0x8fbc8fff,\r\n        DARKSLATEBLUE: 0x483d8bff,\r\n        DARKSLATEGRAY: 0x2f4f4fff,\r\n        DARKSLATEGREY: 0x2f4f4fff,\r\n        DARKTURQUOISE: 0x00ced1ff,\r\n        DARKVIOLET: 0x9400d3ff,\r\n        DEEPPINK: 0xff1493ff,\r\n        DEEPSKYBLUE: 0x00bfffff,\r\n        DIMGRAY: 0x696969ff,\r\n        DIMGREY: 0x696969ff,\r\n        DODGERBLUE: 0x1e90ffff,\r\n        FIREBRICK: 0xb22222ff,\r\n        FLORALWHITE: 0xfffaf0ff,\r\n        FORESTGREEN: 0x228b22ff,\r\n        FUCHSIA: 0xff00ffff,\r\n        GAINSBORO: 0xdcdcdcff,\r\n        GHOSTWHITE: 0xf8f8ffff,\r\n        GOLD: 0xffd700ff,\r\n        GOLDENROD: 0xdaa520ff,\r\n        GRAY: 0x808080ff,\r\n        GREEN: 0x008000ff,\r\n        GREENYELLOW: 0xadff2fff,\r\n        GREY: 0x808080ff,\r\n        HONEYDEW: 0xf0fff0ff,\r\n        HOTPINK: 0xff69b4ff,\r\n        INDIANRED: 0xcd5c5cff,\r\n        INDIGO: 0x4b0082ff,\r\n        IVORY: 0xfffff0ff,\r\n        KHAKI: 0xf0e68cff,\r\n        LAVENDER: 0xe6e6faff,\r\n        LAVENDERBLUSH: 0xfff0f5ff,\r\n        LAWNGREEN: 0x7cfc00ff,\r\n        LEMONCHIFFON: 0xfffacdff,\r\n        LIGHTBLUE: 0xadd8e6ff,\r\n        LIGHTCORAL: 0xf08080ff,\r\n        LIGHTCYAN: 0xe0ffffff,\r\n        LIGHTGOLDENRODYELLOW: 0xfafad2ff,\r\n        LIGHTGRAY: 0xd3d3d3ff,\r\n        LIGHTGREEN: 0x90ee90ff,\r\n        LIGHTGREY: 0xd3d3d3ff,\r\n        LIGHTPINK: 0xffb6c1ff,\r\n        LIGHTSALMON: 0xffa07aff,\r\n        LIGHTSEAGREEN: 0x20b2aaff,\r\n        LIGHTSKYBLUE: 0x87cefaff,\r\n        LIGHTSLATEGRAY: 0x778899ff,\r\n        LIGHTSLATEGREY: 0x778899ff,\r\n        LIGHTSTEELBLUE: 0xb0c4deff,\r\n        LIGHTYELLOW: 0xffffe0ff,\r\n        LIME: 0x00ff00ff,\r\n        LIMEGREEN: 0x32cd32ff,\r\n        LINEN: 0xfaf0e6ff,\r\n        MAGENTA: 0xff00ffff,\r\n        MAROON: 0x800000ff,\r\n        MEDIUMAQUAMARINE: 0x66cdaaff,\r\n        MEDIUMBLUE: 0x0000cdff,\r\n        MEDIUMORCHID: 0xba55d3ff,\r\n        MEDIUMPURPLE: 0x9370dbff,\r\n        MEDIUMSEAGREEN: 0x3cb371ff,\r\n        MEDIUMSLATEBLUE: 0x7b68eeff,\r\n        MEDIUMSPRINGGREEN: 0x00fa9aff,\r\n        MEDIUMTURQUOISE: 0x48d1ccff,\r\n        MEDIUMVIOLETRED: 0xc71585ff,\r\n        MIDNIGHTBLUE: 0x191970ff,\r\n        MINTCREAM: 0xf5fffaff,\r\n        MISTYROSE: 0xffe4e1ff,\r\n        MOCCASIN: 0xffe4b5ff,\r\n        NAVAJOWHITE: 0xffdeadff,\r\n        NAVY: 0x000080ff,\r\n        OLDLACE: 0xfdf5e6ff,\r\n        OLIVE: 0x808000ff,\r\n        OLIVEDRAB: 0x6b8e23ff,\r\n        ORANGE: 0xffa500ff,\r\n        ORANGERED: 0xff4500ff,\r\n        ORCHID: 0xda70d6ff,\r\n        PALEGOLDENROD: 0xeee8aaff,\r\n        PALEGREEN: 0x98fb98ff,\r\n        PALETURQUOISE: 0xafeeeeff,\r\n        PALEVIOLETRED: 0xdb7093ff,\r\n        PAPAYAWHIP: 0xffefd5ff,\r\n        PEACHPUFF: 0xffdab9ff,\r\n        PERU: 0xcd853fff,\r\n        PINK: 0xffc0cbff,\r\n        PLUM: 0xdda0ddff,\r\n        POWDERBLUE: 0xb0e0e6ff,\r\n        PURPLE: 0x800080ff,\r\n        REBECCAPURPLE: 0x663399ff,\r\n        RED: 0xff0000ff,\r\n        ROSYBROWN: 0xbc8f8fff,\r\n        ROYALBLUE: 0x4169e1ff,\r\n        SADDLEBROWN: 0x8b4513ff,\r\n        SALMON: 0xfa8072ff,\r\n        SANDYBROWN: 0xf4a460ff,\r\n        SEAGREEN: 0x2e8b57ff,\r\n        SEASHELL: 0xfff5eeff,\r\n        SIENNA: 0xa0522dff,\r\n        SILVER: 0xc0c0c0ff,\r\n        SKYBLUE: 0x87ceebff,\r\n        SLATEBLUE: 0x6a5acdff,\r\n        SLATEGRAY: 0x708090ff,\r\n        SLATEGREY: 0x708090ff,\r\n        SNOW: 0xfffafaff,\r\n        SPRINGGREEN: 0x00ff7fff,\r\n        STEELBLUE: 0x4682b4ff,\r\n        TAN: 0xd2b48cff,\r\n        TEAL: 0x008080ff,\r\n        THISTLE: 0xd8bfd8ff,\r\n        TOMATO: 0xff6347ff,\r\n        TRANSPARENT: 0x00000000,\r\n        TURQUOISE: 0x40e0d0ff,\r\n        VIOLET: 0xee82eeff,\r\n        WHEAT: 0xf5deb3ff,\r\n        WHITE: 0xffffffff,\r\n        WHITESMOKE: 0xf5f5f5ff,\r\n        YELLOW: 0xffff00ff,\r\n        YELLOWGREEN: 0x9acd32ff\r\n    };\r\n\r\n    var backgroundClip = {\r\n        name: 'background-clip',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return 1 /* PADDING_BOX */;\r\n                        case 'content-box':\r\n                            return 2 /* CONTENT_BOX */;\r\n                    }\r\n                }\r\n                return 0 /* BORDER_BOX */;\r\n            });\r\n        }\r\n    };\r\n\r\n    var backgroundColor = {\r\n        name: \"background-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'color'\r\n    };\r\n\r\n    var parseColorStop = function (context, args) {\r\n        var color = color$1.parse(context, args[0]);\r\n        var stop = args[1];\r\n        return stop && isLengthPercentage(stop) ? { color: color, stop: stop } : { color: color, stop: null };\r\n    };\r\n    var processColorStops = function (stops, lineLength) {\r\n        var first = stops[0];\r\n        var last = stops[stops.length - 1];\r\n        if (first.stop === null) {\r\n            first.stop = ZERO_LENGTH;\r\n        }\r\n        if (last.stop === null) {\r\n            last.stop = HUNDRED_PERCENT;\r\n        }\r\n        var processStops = [];\r\n        var previous = 0;\r\n        for (var i = 0; i < stops.length; i++) {\r\n            var stop_1 = stops[i].stop;\r\n            if (stop_1 !== null) {\r\n                var absoluteValue = getAbsoluteValue(stop_1, lineLength);\r\n                if (absoluteValue > previous) {\r\n                    processStops.push(absoluteValue);\r\n                }\r\n                else {\r\n                    processStops.push(previous);\r\n                }\r\n                previous = absoluteValue;\r\n            }\r\n            else {\r\n                processStops.push(null);\r\n            }\r\n        }\r\n        var gapBegin = null;\r\n        for (var i = 0; i < processStops.length; i++) {\r\n            var stop_2 = processStops[i];\r\n            if (stop_2 === null) {\r\n                if (gapBegin === null) {\r\n                    gapBegin = i;\r\n                }\r\n            }\r\n            else if (gapBegin !== null) {\r\n                var gapLength = i - gapBegin;\r\n                var beforeGap = processStops[gapBegin - 1];\r\n                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);\r\n                for (var g = 1; g <= gapLength; g++) {\r\n                    processStops[gapBegin + g - 1] = gapValue * g;\r\n                }\r\n                gapBegin = null;\r\n            }\r\n        }\r\n        return stops.map(function (_a, i) {\r\n            var color = _a.color;\r\n            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };\r\n        });\r\n    };\r\n    var getAngleFromCorner = function (corner, width, height) {\r\n        var centerX = width / 2;\r\n        var centerY = height / 2;\r\n        var x = getAbsoluteValue(corner[0], width) - centerX;\r\n        var y = centerY - getAbsoluteValue(corner[1], height);\r\n        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\r\n    };\r\n    var calculateGradientDirection = function (angle, width, height) {\r\n        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\r\n        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\r\n        var halfWidth = width / 2;\r\n        var halfHeight = height / 2;\r\n        var halfLineLength = lineLength / 2;\r\n        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\r\n        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\r\n        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\r\n    };\r\n    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };\r\n    var findCorner = function (width, height, x, y, closest) {\r\n        var corners = [\r\n            [0, 0],\r\n            [0, height],\r\n            [width, 0],\r\n            [width, height]\r\n        ];\r\n        return corners.reduce(function (stat, corner) {\r\n            var cx = corner[0], cy = corner[1];\r\n            var d = distance(x - cx, y - cy);\r\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\r\n                return {\r\n                    optimumCorner: corner,\r\n                    optimumDistance: d\r\n                };\r\n            }\r\n            return stat;\r\n        }, {\r\n            optimumDistance: closest ? Infinity : -Infinity,\r\n            optimumCorner: null\r\n        }).optimumCorner;\r\n    };\r\n    var calculateRadius = function (gradient, x, y, width, height) {\r\n        var rx = 0;\r\n        var ry = 0;\r\n        switch (gradient.size) {\r\n            case 0 /* CLOSEST_SIDE */:\r\n                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\r\n                // If the shape is an ellipse, it exactly meets the closest side in each dimension.\r\n                if (gradient.shape === 0 /* CIRCLE */) {\r\n                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === 1 /* ELLIPSE */) {\r\n                    rx = Math.min(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.min(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case 2 /* CLOSEST_CORNER */:\r\n                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\r\n                if (gradient.shape === 0 /* CIRCLE */) {\r\n                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === 1 /* ELLIPSE */) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\r\n                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\r\n                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n            case 1 /* FARTHEST_SIDE */:\r\n                // Same as closest-side, except the ending shape is sized based on the farthest side(s)\r\n                if (gradient.shape === 0 /* CIRCLE */) {\r\n                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === 1 /* ELLIPSE */) {\r\n                    rx = Math.max(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.max(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case 3 /* FARTHEST_CORNER */:\r\n                // Same as closest-corner, except the ending shape is sized based on the farthest corner.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\r\n                if (gradient.shape === 0 /* CIRCLE */) {\r\n                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === 1 /* ELLIPSE */) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\r\n                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\r\n                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n        }\r\n        if (Array.isArray(gradient.size)) {\r\n            rx = getAbsoluteValue(gradient.size[0], width);\r\n            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\r\n        }\r\n        return [rx, ry];\r\n    };\r\n\r\n    var linearGradient = function (context, tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === 20 /* IDENT_TOKEN */ && firstToken.value === 'to') {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = angle.parse(context, firstToken);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(context, arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return { angle: angle$1, stops: stops, type: 1 /* LINEAR_GRADIENT */ };\r\n    };\r\n\r\n    var prefixLinearGradient = function (context, tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === 20 /* IDENT_TOKEN */ &&\r\n                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = (angle.parse(context, firstToken) + deg(270)) % deg(360);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(context, arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return {\r\n            angle: angle$1,\r\n            stops: stops,\r\n            type: 1 /* LINEAR_GRADIENT */\r\n        };\r\n    };\r\n\r\n    var webkitGradient = function (context, tokens) {\r\n        var angle = deg(180);\r\n        var stops = [];\r\n        var type = 1 /* LINEAR_GRADIENT */;\r\n        var shape = 0 /* CIRCLE */;\r\n        var size = 3 /* FARTHEST_CORNER */;\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var firstToken = arg[0];\r\n            if (i === 0) {\r\n                if (isIdentToken(firstToken) && firstToken.value === 'linear') {\r\n                    type = 1 /* LINEAR_GRADIENT */;\r\n                    return;\r\n                }\r\n                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\r\n                    type = 2 /* RADIAL_GRADIENT */;\r\n                    return;\r\n                }\r\n            }\r\n            if (firstToken.type === 18 /* FUNCTION */) {\r\n                if (firstToken.name === 'from') {\r\n                    var color = color$1.parse(context, firstToken.values[0]);\r\n                    stops.push({ stop: ZERO_LENGTH, color: color });\r\n                }\r\n                else if (firstToken.name === 'to') {\r\n                    var color = color$1.parse(context, firstToken.values[0]);\r\n                    stops.push({ stop: HUNDRED_PERCENT, color: color });\r\n                }\r\n                else if (firstToken.name === 'color-stop') {\r\n                    var values = firstToken.values.filter(nonFunctionArgSeparator);\r\n                    if (values.length === 2) {\r\n                        var color = color$1.parse(context, values[1]);\r\n                        var stop_1 = values[0];\r\n                        if (isNumberToken(stop_1)) {\r\n                            stops.push({\r\n                                stop: { type: 16 /* PERCENTAGE_TOKEN */, number: stop_1.number * 100, flags: stop_1.flags },\r\n                                color: color\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return type === 1 /* LINEAR_GRADIENT */\r\n            ? {\r\n                angle: (angle + deg(180)) % deg(360),\r\n                stops: stops,\r\n                type: type\r\n            }\r\n            : { size: size, shape: shape, stops: stops, position: position, type: type };\r\n    };\r\n\r\n    var CLOSEST_SIDE = 'closest-side';\r\n    var FARTHEST_SIDE = 'farthest-side';\r\n    var CLOSEST_CORNER = 'closest-corner';\r\n    var FARTHEST_CORNER = 'farthest-corner';\r\n    var CIRCLE = 'circle';\r\n    var ELLIPSE = 'ellipse';\r\n    var COVER = 'cover';\r\n    var CONTAIN = 'contain';\r\n    var radialGradient = function (context, tokens) {\r\n        var shape = 0 /* CIRCLE */;\r\n        var size = 3 /* FARTHEST_CORNER */;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                var isAtPosition_1 = false;\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isAtPosition_1) {\r\n                        if (isIdentToken(token)) {\r\n                            switch (token.value) {\r\n                                case 'center':\r\n                                    position.push(FIFTY_PERCENT);\r\n                                    return acc;\r\n                                case 'top':\r\n                                case 'left':\r\n                                    position.push(ZERO_LENGTH);\r\n                                    return acc;\r\n                                case 'right':\r\n                                case 'bottom':\r\n                                    position.push(HUNDRED_PERCENT);\r\n                                    return acc;\r\n                            }\r\n                        }\r\n                        else if (isLengthPercentage(token) || isLength(token)) {\r\n                            position.push(token);\r\n                        }\r\n                    }\r\n                    else if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = 0 /* CIRCLE */;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = 1 /* ELLIPSE */;\r\n                                return false;\r\n                            case 'at':\r\n                                isAtPosition_1 = true;\r\n                                return false;\r\n                            case CLOSEST_SIDE:\r\n                                size = 0 /* CLOSEST_SIDE */;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_SIDE:\r\n                                size = 1 /* FARTHEST_SIDE */;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_CORNER:\r\n                                size = 2 /* CLOSEST_CORNER */;\r\n                                return false;\r\n                            case FARTHEST_CORNER:\r\n                                size = 3 /* FARTHEST_CORNER */;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(context, arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: 2 /* RADIAL_GRADIENT */ };\r\n    };\r\n\r\n    var prefixRadialGradient = function (context, tokens) {\r\n        var shape = 0 /* CIRCLE */;\r\n        var size = 3 /* FARTHEST_CORNER */;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case 'center':\r\n                                position.push(FIFTY_PERCENT);\r\n                                return false;\r\n                            case 'top':\r\n                            case 'left':\r\n                                position.push(ZERO_LENGTH);\r\n                                return false;\r\n                            case 'right':\r\n                            case 'bottom':\r\n                                position.push(HUNDRED_PERCENT);\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLengthPercentage(token) || isLength(token)) {\r\n                        position.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            else if (i === 1) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = 0 /* CIRCLE */;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = 1 /* ELLIPSE */;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_SIDE:\r\n                                size = 0 /* CLOSEST_SIDE */;\r\n                                return false;\r\n                            case FARTHEST_SIDE:\r\n                                size = 1 /* FARTHEST_SIDE */;\r\n                                return false;\r\n                            case CLOSEST_CORNER:\r\n                                size = 2 /* CLOSEST_CORNER */;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_CORNER:\r\n                                size = 3 /* FARTHEST_CORNER */;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(context, arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: 2 /* RADIAL_GRADIENT */ };\r\n    };\r\n\r\n    var isLinearGradient = function (background) {\r\n        return background.type === 1 /* LINEAR_GRADIENT */;\r\n    };\r\n    var isRadialGradient = function (background) {\r\n        return background.type === 2 /* RADIAL_GRADIENT */;\r\n    };\r\n    var image = {\r\n        name: 'image',\r\n        parse: function (context, value) {\r\n            if (value.type === 22 /* URL_TOKEN */) {\r\n                var image_1 = { url: value.value, type: 0 /* URL */ };\r\n                context.cache.addImage(value.value);\r\n                return image_1;\r\n            }\r\n            if (value.type === 18 /* FUNCTION */) {\r\n                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n                if (typeof imageFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported image function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return imageFunction(context, value.values);\r\n            }\r\n            throw new Error(\"Unsupported image type \" + value.type);\r\n        }\r\n    };\r\n    function isSupportedImage(value) {\r\n        return (!(value.type === 20 /* IDENT_TOKEN */ && value.value === 'none') &&\r\n            (value.type !== 18 /* FUNCTION */ || !!SUPPORTED_IMAGE_FUNCTIONS[value.name]));\r\n    }\r\n    var SUPPORTED_IMAGE_FUNCTIONS = {\r\n        'linear-gradient': linearGradient,\r\n        '-moz-linear-gradient': prefixLinearGradient,\r\n        '-ms-linear-gradient': prefixLinearGradient,\r\n        '-o-linear-gradient': prefixLinearGradient,\r\n        '-webkit-linear-gradient': prefixLinearGradient,\r\n        'radial-gradient': radialGradient,\r\n        '-moz-radial-gradient': prefixRadialGradient,\r\n        '-ms-radial-gradient': prefixRadialGradient,\r\n        '-o-radial-gradient': prefixRadialGradient,\r\n        '-webkit-radial-gradient': prefixRadialGradient,\r\n        '-webkit-gradient': webkitGradient\r\n    };\r\n\r\n    var backgroundImage = {\r\n        name: 'background-image',\r\n        initialValue: 'none',\r\n        type: 1 /* LIST */,\r\n        prefix: false,\r\n        parse: function (context, tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === 20 /* IDENT_TOKEN */ && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens\r\n                .filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); })\r\n                .map(function (value) { return image.parse(context, value); });\r\n        }\r\n    };\r\n\r\n    var backgroundOrigin = {\r\n        name: 'background-origin',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return 1 /* PADDING_BOX */;\r\n                        case 'content-box':\r\n                            return 2 /* CONTENT_BOX */;\r\n                    }\r\n                }\r\n                return 0 /* BORDER_BOX */;\r\n            });\r\n        }\r\n    };\r\n\r\n    var backgroundPosition = {\r\n        name: 'background-position',\r\n        initialValue: '0% 0%',\r\n        type: 1 /* LIST */,\r\n        prefix: false,\r\n        parse: function (_context, tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) { return values.filter(isLengthPercentage); })\r\n                .map(parseLengthPercentageTuple);\r\n        }\r\n    };\r\n\r\n    var backgroundRepeat = {\r\n        name: 'background-repeat',\r\n        initialValue: 'repeat',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) {\r\n                return values\r\n                    .filter(isIdentToken)\r\n                    .map(function (token) { return token.value; })\r\n                    .join(' ');\r\n            })\r\n                .map(parseBackgroundRepeat);\r\n        }\r\n    };\r\n    var parseBackgroundRepeat = function (value) {\r\n        switch (value) {\r\n            case 'no-repeat':\r\n                return 1 /* NO_REPEAT */;\r\n            case 'repeat-x':\r\n            case 'repeat no-repeat':\r\n                return 2 /* REPEAT_X */;\r\n            case 'repeat-y':\r\n            case 'no-repeat repeat':\r\n                return 3 /* REPEAT_Y */;\r\n            case 'repeat':\r\n            default:\r\n                return 0 /* REPEAT */;\r\n        }\r\n    };\r\n\r\n    var BACKGROUND_SIZE;\r\n    (function (BACKGROUND_SIZE) {\r\n        BACKGROUND_SIZE[\"AUTO\"] = \"auto\";\r\n        BACKGROUND_SIZE[\"CONTAIN\"] = \"contain\";\r\n        BACKGROUND_SIZE[\"COVER\"] = \"cover\";\r\n    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));\r\n    var backgroundSize = {\r\n        name: 'background-size',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });\r\n        }\r\n    };\r\n    var isBackgroundSizeInfoToken = function (value) {\r\n        return isIdentToken(value) || isLengthPercentage(value);\r\n    };\r\n\r\n    var borderColorForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'color'\r\n    }); };\r\n    var borderTopColor = borderColorForSide('top');\r\n    var borderRightColor = borderColorForSide('right');\r\n    var borderBottomColor = borderColorForSide('bottom');\r\n    var borderLeftColor = borderColorForSide('left');\r\n\r\n    var borderRadiusForSide = function (side) { return ({\r\n        name: \"border-radius-\" + side,\r\n        initialValue: '0 0',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return parseLengthPercentageTuple(tokens.filter(isLengthPercentage));\r\n        }\r\n    }); };\r\n    var borderTopLeftRadius = borderRadiusForSide('top-left');\r\n    var borderTopRightRadius = borderRadiusForSide('top-right');\r\n    var borderBottomRightRadius = borderRadiusForSide('bottom-right');\r\n    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');\r\n\r\n    var borderStyleForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-style\",\r\n        initialValue: 'solid',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, style) {\r\n            switch (style) {\r\n                case 'none':\r\n                    return 0 /* NONE */;\r\n                case 'dashed':\r\n                    return 2 /* DASHED */;\r\n                case 'dotted':\r\n                    return 3 /* DOTTED */;\r\n                case 'double':\r\n                    return 4 /* DOUBLE */;\r\n            }\r\n            return 1 /* SOLID */;\r\n        }\r\n    }); };\r\n    var borderTopStyle = borderStyleForSide('top');\r\n    var borderRightStyle = borderStyleForSide('right');\r\n    var borderBottomStyle = borderStyleForSide('bottom');\r\n    var borderLeftStyle = borderStyleForSide('left');\r\n\r\n    var borderWidthForSide = function (side) { return ({\r\n        name: \"border-\" + side + \"-width\",\r\n        initialValue: '0',\r\n        type: 0 /* VALUE */,\r\n        prefix: false,\r\n        parse: function (_context, token) {\r\n            if (isDimensionToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    }); };\r\n    var borderTopWidth = borderWidthForSide('top');\r\n    var borderRightWidth = borderWidthForSide('right');\r\n    var borderBottomWidth = borderWidthForSide('bottom');\r\n    var borderLeftWidth = borderWidthForSide('left');\r\n\r\n    var color = {\r\n        name: \"color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'color'\r\n    };\r\n\r\n    var direction = {\r\n        name: 'direction',\r\n        initialValue: 'ltr',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, direction) {\r\n            switch (direction) {\r\n                case 'rtl':\r\n                    return 1 /* RTL */;\r\n                case 'ltr':\r\n                default:\r\n                    return 0 /* LTR */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var display = {\r\n        name: 'display',\r\n        initialValue: 'inline-block',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return tokens.filter(isIdentToken).reduce(function (bit, token) {\r\n                return bit | parseDisplayValue(token.value);\r\n            }, 0 /* NONE */);\r\n        }\r\n    };\r\n    var parseDisplayValue = function (display) {\r\n        switch (display) {\r\n            case 'block':\r\n            case '-webkit-box':\r\n                return 2 /* BLOCK */;\r\n            case 'inline':\r\n                return 4 /* INLINE */;\r\n            case 'run-in':\r\n                return 8 /* RUN_IN */;\r\n            case 'flow':\r\n                return 16 /* FLOW */;\r\n            case 'flow-root':\r\n                return 32 /* FLOW_ROOT */;\r\n            case 'table':\r\n                return 64 /* TABLE */;\r\n            case 'flex':\r\n            case '-webkit-flex':\r\n                return 128 /* FLEX */;\r\n            case 'grid':\r\n            case '-ms-grid':\r\n                return 256 /* GRID */;\r\n            case 'ruby':\r\n                return 512 /* RUBY */;\r\n            case 'subgrid':\r\n                return 1024 /* SUBGRID */;\r\n            case 'list-item':\r\n                return 2048 /* LIST_ITEM */;\r\n            case 'table-row-group':\r\n                return 4096 /* TABLE_ROW_GROUP */;\r\n            case 'table-header-group':\r\n                return 8192 /* TABLE_HEADER_GROUP */;\r\n            case 'table-footer-group':\r\n                return 16384 /* TABLE_FOOTER_GROUP */;\r\n            case 'table-row':\r\n                return 32768 /* TABLE_ROW */;\r\n            case 'table-cell':\r\n                return 65536 /* TABLE_CELL */;\r\n            case 'table-column-group':\r\n                return 131072 /* TABLE_COLUMN_GROUP */;\r\n            case 'table-column':\r\n                return 262144 /* TABLE_COLUMN */;\r\n            case 'table-caption':\r\n                return 524288 /* TABLE_CAPTION */;\r\n            case 'ruby-base':\r\n                return 1048576 /* RUBY_BASE */;\r\n            case 'ruby-text':\r\n                return 2097152 /* RUBY_TEXT */;\r\n            case 'ruby-base-container':\r\n                return 4194304 /* RUBY_BASE_CONTAINER */;\r\n            case 'ruby-text-container':\r\n                return 8388608 /* RUBY_TEXT_CONTAINER */;\r\n            case 'contents':\r\n                return 16777216 /* CONTENTS */;\r\n            case 'inline-block':\r\n                return 33554432 /* INLINE_BLOCK */;\r\n            case 'inline-list-item':\r\n                return 67108864 /* INLINE_LIST_ITEM */;\r\n            case 'inline-table':\r\n                return 134217728 /* INLINE_TABLE */;\r\n            case 'inline-flex':\r\n                return 268435456 /* INLINE_FLEX */;\r\n            case 'inline-grid':\r\n                return 536870912 /* INLINE_GRID */;\r\n        }\r\n        return 0 /* NONE */;\r\n    };\r\n\r\n    var float = {\r\n        name: 'float',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, float) {\r\n            switch (float) {\r\n                case 'left':\r\n                    return 1 /* LEFT */;\r\n                case 'right':\r\n                    return 2 /* RIGHT */;\r\n                case 'inline-start':\r\n                    return 3 /* INLINE_START */;\r\n                case 'inline-end':\r\n                    return 4 /* INLINE_END */;\r\n            }\r\n            return 0 /* NONE */;\r\n        }\r\n    };\r\n\r\n    var letterSpacing = {\r\n        name: 'letter-spacing',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: 0 /* VALUE */,\r\n        parse: function (_context, token) {\r\n            if (token.type === 20 /* IDENT_TOKEN */ && token.value === 'normal') {\r\n                return 0;\r\n            }\r\n            if (token.type === 17 /* NUMBER_TOKEN */) {\r\n                return token.number;\r\n            }\r\n            if (token.type === 15 /* DIMENSION_TOKEN */) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    var LINE_BREAK;\r\n    (function (LINE_BREAK) {\r\n        LINE_BREAK[\"NORMAL\"] = \"normal\";\r\n        LINE_BREAK[\"STRICT\"] = \"strict\";\r\n    })(LINE_BREAK || (LINE_BREAK = {}));\r\n    var lineBreak = {\r\n        name: 'line-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, lineBreak) {\r\n            switch (lineBreak) {\r\n                case 'strict':\r\n                    return LINE_BREAK.STRICT;\r\n                case 'normal':\r\n                default:\r\n                    return LINE_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var lineHeight = {\r\n        name: 'line-height',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: 4 /* TOKEN_VALUE */\r\n    };\r\n    var computeLineHeight = function (token, fontSize) {\r\n        if (isIdentToken(token) && token.value === 'normal') {\r\n            return 1.2 * fontSize;\r\n        }\r\n        else if (token.type === 17 /* NUMBER_TOKEN */) {\r\n            return fontSize * token.number;\r\n        }\r\n        else if (isLengthPercentage(token)) {\r\n            return getAbsoluteValue(token, fontSize);\r\n        }\r\n        return fontSize;\r\n    };\r\n\r\n    var listStyleImage = {\r\n        name: 'list-style-image',\r\n        initialValue: 'none',\r\n        type: 0 /* VALUE */,\r\n        prefix: false,\r\n        parse: function (context, token) {\r\n            if (token.type === 20 /* IDENT_TOKEN */ && token.value === 'none') {\r\n                return null;\r\n            }\r\n            return image.parse(context, token);\r\n        }\r\n    };\r\n\r\n    var listStylePosition = {\r\n        name: 'list-style-position',\r\n        initialValue: 'outside',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, position) {\r\n            switch (position) {\r\n                case 'inside':\r\n                    return 0 /* INSIDE */;\r\n                case 'outside':\r\n                default:\r\n                    return 1 /* OUTSIDE */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var listStyleType = {\r\n        name: 'list-style-type',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, type) {\r\n            switch (type) {\r\n                case 'disc':\r\n                    return 0 /* DISC */;\r\n                case 'circle':\r\n                    return 1 /* CIRCLE */;\r\n                case 'square':\r\n                    return 2 /* SQUARE */;\r\n                case 'decimal':\r\n                    return 3 /* DECIMAL */;\r\n                case 'cjk-decimal':\r\n                    return 4 /* CJK_DECIMAL */;\r\n                case 'decimal-leading-zero':\r\n                    return 5 /* DECIMAL_LEADING_ZERO */;\r\n                case 'lower-roman':\r\n                    return 6 /* LOWER_ROMAN */;\r\n                case 'upper-roman':\r\n                    return 7 /* UPPER_ROMAN */;\r\n                case 'lower-greek':\r\n                    return 8 /* LOWER_GREEK */;\r\n                case 'lower-alpha':\r\n                    return 9 /* LOWER_ALPHA */;\r\n                case 'upper-alpha':\r\n                    return 10 /* UPPER_ALPHA */;\r\n                case 'arabic-indic':\r\n                    return 11 /* ARABIC_INDIC */;\r\n                case 'armenian':\r\n                    return 12 /* ARMENIAN */;\r\n                case 'bengali':\r\n                    return 13 /* BENGALI */;\r\n                case 'cambodian':\r\n                    return 14 /* CAMBODIAN */;\r\n                case 'cjk-earthly-branch':\r\n                    return 15 /* CJK_EARTHLY_BRANCH */;\r\n                case 'cjk-heavenly-stem':\r\n                    return 16 /* CJK_HEAVENLY_STEM */;\r\n                case 'cjk-ideographic':\r\n                    return 17 /* CJK_IDEOGRAPHIC */;\r\n                case 'devanagari':\r\n                    return 18 /* DEVANAGARI */;\r\n                case 'ethiopic-numeric':\r\n                    return 19 /* ETHIOPIC_NUMERIC */;\r\n                case 'georgian':\r\n                    return 20 /* GEORGIAN */;\r\n                case 'gujarati':\r\n                    return 21 /* GUJARATI */;\r\n                case 'gurmukhi':\r\n                    return 22 /* GURMUKHI */;\r\n                case 'hebrew':\r\n                    return 22 /* HEBREW */;\r\n                case 'hiragana':\r\n                    return 23 /* HIRAGANA */;\r\n                case 'hiragana-iroha':\r\n                    return 24 /* HIRAGANA_IROHA */;\r\n                case 'japanese-formal':\r\n                    return 25 /* JAPANESE_FORMAL */;\r\n                case 'japanese-informal':\r\n                    return 26 /* JAPANESE_INFORMAL */;\r\n                case 'kannada':\r\n                    return 27 /* KANNADA */;\r\n                case 'katakana':\r\n                    return 28 /* KATAKANA */;\r\n                case 'katakana-iroha':\r\n                    return 29 /* KATAKANA_IROHA */;\r\n                case 'khmer':\r\n                    return 30 /* KHMER */;\r\n                case 'korean-hangul-formal':\r\n                    return 31 /* KOREAN_HANGUL_FORMAL */;\r\n                case 'korean-hanja-formal':\r\n                    return 32 /* KOREAN_HANJA_FORMAL */;\r\n                case 'korean-hanja-informal':\r\n                    return 33 /* KOREAN_HANJA_INFORMAL */;\r\n                case 'lao':\r\n                    return 34 /* LAO */;\r\n                case 'lower-armenian':\r\n                    return 35 /* LOWER_ARMENIAN */;\r\n                case 'malayalam':\r\n                    return 36 /* MALAYALAM */;\r\n                case 'mongolian':\r\n                    return 37 /* MONGOLIAN */;\r\n                case 'myanmar':\r\n                    return 38 /* MYANMAR */;\r\n                case 'oriya':\r\n                    return 39 /* ORIYA */;\r\n                case 'persian':\r\n                    return 40 /* PERSIAN */;\r\n                case 'simp-chinese-formal':\r\n                    return 41 /* SIMP_CHINESE_FORMAL */;\r\n                case 'simp-chinese-informal':\r\n                    return 42 /* SIMP_CHINESE_INFORMAL */;\r\n                case 'tamil':\r\n                    return 43 /* TAMIL */;\r\n                case 'telugu':\r\n                    return 44 /* TELUGU */;\r\n                case 'thai':\r\n                    return 45 /* THAI */;\r\n                case 'tibetan':\r\n                    return 46 /* TIBETAN */;\r\n                case 'trad-chinese-formal':\r\n                    return 47 /* TRAD_CHINESE_FORMAL */;\r\n                case 'trad-chinese-informal':\r\n                    return 48 /* TRAD_CHINESE_INFORMAL */;\r\n                case 'upper-armenian':\r\n                    return 49 /* UPPER_ARMENIAN */;\r\n                case 'disclosure-open':\r\n                    return 50 /* DISCLOSURE_OPEN */;\r\n                case 'disclosure-closed':\r\n                    return 51 /* DISCLOSURE_CLOSED */;\r\n                case 'none':\r\n                default:\r\n                    return -1 /* NONE */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var marginForSide = function (side) { return ({\r\n        name: \"margin-\" + side,\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: 4 /* TOKEN_VALUE */\r\n    }); };\r\n    var marginTop = marginForSide('top');\r\n    var marginRight = marginForSide('right');\r\n    var marginBottom = marginForSide('bottom');\r\n    var marginLeft = marginForSide('left');\r\n\r\n    var overflow = {\r\n        name: 'overflow',\r\n        initialValue: 'visible',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return tokens.filter(isIdentToken).map(function (overflow) {\r\n                switch (overflow.value) {\r\n                    case 'hidden':\r\n                        return 1 /* HIDDEN */;\r\n                    case 'scroll':\r\n                        return 2 /* SCROLL */;\r\n                    case 'clip':\r\n                        return 3 /* CLIP */;\r\n                    case 'auto':\r\n                        return 4 /* AUTO */;\r\n                    case 'visible':\r\n                    default:\r\n                        return 0 /* VISIBLE */;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    var overflowWrap = {\r\n        name: 'overflow-wrap',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, overflow) {\r\n            switch (overflow) {\r\n                case 'break-word':\r\n                    return \"break-word\" /* BREAK_WORD */;\r\n                case 'normal':\r\n                default:\r\n                    return \"normal\" /* NORMAL */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var paddingForSide = function (side) { return ({\r\n        name: \"padding-\" + side,\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'length-percentage'\r\n    }); };\r\n    var paddingTop = paddingForSide('top');\r\n    var paddingRight = paddingForSide('right');\r\n    var paddingBottom = paddingForSide('bottom');\r\n    var paddingLeft = paddingForSide('left');\r\n\r\n    var textAlign = {\r\n        name: 'text-align',\r\n        initialValue: 'left',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, textAlign) {\r\n            switch (textAlign) {\r\n                case 'right':\r\n                    return 2 /* RIGHT */;\r\n                case 'center':\r\n                case 'justify':\r\n                    return 1 /* CENTER */;\r\n                case 'left':\r\n                default:\r\n                    return 0 /* LEFT */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var position = {\r\n        name: 'position',\r\n        initialValue: 'static',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, position) {\r\n            switch (position) {\r\n                case 'relative':\r\n                    return 1 /* RELATIVE */;\r\n                case 'absolute':\r\n                    return 2 /* ABSOLUTE */;\r\n                case 'fixed':\r\n                    return 3 /* FIXED */;\r\n                case 'sticky':\r\n                    return 4 /* STICKY */;\r\n            }\r\n            return 0 /* STATIC */;\r\n        }\r\n    };\r\n\r\n    var textShadow = {\r\n        name: 'text-shadow',\r\n        initialValue: 'none',\r\n        type: 1 /* LIST */,\r\n        prefix: false,\r\n        parse: function (context, tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: COLORS.TRANSPARENT,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else {\r\n                            shadow.blur = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color$1.parse(context, token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\r\n\r\n    var textTransform = {\r\n        name: 'text-transform',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, textTransform) {\r\n            switch (textTransform) {\r\n                case 'uppercase':\r\n                    return 2 /* UPPERCASE */;\r\n                case 'lowercase':\r\n                    return 1 /* LOWERCASE */;\r\n                case 'capitalize':\r\n                    return 3 /* CAPITALIZE */;\r\n            }\r\n            return 0 /* NONE */;\r\n        }\r\n    };\r\n\r\n    var transform$1 = {\r\n        name: 'transform',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: 0 /* VALUE */,\r\n        parse: function (_context, token) {\r\n            if (token.type === 20 /* IDENT_TOKEN */ && token.value === 'none') {\r\n                return null;\r\n            }\r\n            if (token.type === 18 /* FUNCTION */) {\r\n                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\r\n                if (typeof transformFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported transform function \\\"\" + token.name + \"\\\"\");\r\n                }\r\n                return transformFunction(token.values);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    var matrix = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === 17 /* NUMBER_TOKEN */; }).map(function (arg) { return arg.number; });\r\n        return values.length === 6 ? values : null;\r\n    };\r\n    // doesn't support 3D transforms at the moment\r\n    var matrix3d = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === 17 /* NUMBER_TOKEN */; }).map(function (arg) { return arg.number; });\r\n        var a1 = values[0], b1 = values[1]; values[2]; values[3]; var a2 = values[4], b2 = values[5]; values[6]; values[7]; values[8]; values[9]; values[10]; values[11]; var a4 = values[12], b4 = values[13]; values[14]; values[15];\r\n        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\r\n    };\r\n    var SUPPORTED_TRANSFORM_FUNCTIONS = {\r\n        matrix: matrix,\r\n        matrix3d: matrix3d\r\n    };\r\n\r\n    var DEFAULT_VALUE = {\r\n        type: 16 /* PERCENTAGE_TOKEN */,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];\r\n    var transformOrigin = {\r\n        name: 'transform-origin',\r\n        initialValue: '50% 50%',\r\n        prefix: true,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            var origins = tokens.filter(isLengthPercentage);\r\n            if (origins.length !== 2) {\r\n                return DEFAULT;\r\n            }\r\n            return [origins[0], origins[1]];\r\n        }\r\n    };\r\n\r\n    var visibility = {\r\n        name: 'visible',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, visibility) {\r\n            switch (visibility) {\r\n                case 'hidden':\r\n                    return 1 /* HIDDEN */;\r\n                case 'collapse':\r\n                    return 2 /* COLLAPSE */;\r\n                case 'visible':\r\n                default:\r\n                    return 0 /* VISIBLE */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var WORD_BREAK;\r\n    (function (WORD_BREAK) {\r\n        WORD_BREAK[\"NORMAL\"] = \"normal\";\r\n        WORD_BREAK[\"BREAK_ALL\"] = \"break-all\";\r\n        WORD_BREAK[\"KEEP_ALL\"] = \"keep-all\";\r\n    })(WORD_BREAK || (WORD_BREAK = {}));\r\n    var wordBreak = {\r\n        name: 'word-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, wordBreak) {\r\n            switch (wordBreak) {\r\n                case 'break-all':\r\n                    return WORD_BREAK.BREAK_ALL;\r\n                case 'keep-all':\r\n                    return WORD_BREAK.KEEP_ALL;\r\n                case 'normal':\r\n                default:\r\n                    return WORD_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var zIndex = {\r\n        name: 'z-index',\r\n        initialValue: 'auto',\r\n        prefix: false,\r\n        type: 0 /* VALUE */,\r\n        parse: function (_context, token) {\r\n            if (token.type === 20 /* IDENT_TOKEN */) {\r\n                return { auto: true, order: 0 };\r\n            }\r\n            if (isNumberToken(token)) {\r\n                return { auto: false, order: token.number };\r\n            }\r\n            throw new Error(\"Invalid z-index number parsed\");\r\n        }\r\n    };\r\n\r\n    var time = {\r\n        name: 'time',\r\n        parse: function (_context, value) {\r\n            if (value.type === 15 /* DIMENSION_TOKEN */) {\r\n                switch (value.unit.toLowerCase()) {\r\n                    case 's':\r\n                        return 1000 * value.number;\r\n                    case 'ms':\r\n                        return value.number;\r\n                }\r\n            }\r\n            throw new Error(\"Unsupported time type\");\r\n        }\r\n    };\r\n\r\n    var opacity = {\r\n        name: 'opacity',\r\n        initialValue: '1',\r\n        type: 0 /* VALUE */,\r\n        prefix: false,\r\n        parse: function (_context, token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 1;\r\n        }\r\n    };\r\n\r\n    var textDecorationColor = {\r\n        name: \"text-decoration-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'color'\r\n    };\r\n\r\n    var textDecorationLine = {\r\n        name: 'text-decoration-line',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            return tokens\r\n                .filter(isIdentToken)\r\n                .map(function (token) {\r\n                switch (token.value) {\r\n                    case 'underline':\r\n                        return 1 /* UNDERLINE */;\r\n                    case 'overline':\r\n                        return 2 /* OVERLINE */;\r\n                    case 'line-through':\r\n                        return 3 /* LINE_THROUGH */;\r\n                    case 'none':\r\n                        return 4 /* BLINK */;\r\n                }\r\n                return 0 /* NONE */;\r\n            })\r\n                .filter(function (line) { return line !== 0 /* NONE */; });\r\n        }\r\n    };\r\n\r\n    var fontFamily = {\r\n        name: \"font-family\",\r\n        initialValue: '',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            var accumulator = [];\r\n            var results = [];\r\n            tokens.forEach(function (token) {\r\n                switch (token.type) {\r\n                    case 20 /* IDENT_TOKEN */:\r\n                    case 0 /* STRING_TOKEN */:\r\n                        accumulator.push(token.value);\r\n                        break;\r\n                    case 17 /* NUMBER_TOKEN */:\r\n                        accumulator.push(token.number.toString());\r\n                        break;\r\n                    case 4 /* COMMA_TOKEN */:\r\n                        results.push(accumulator.join(' '));\r\n                        accumulator.length = 0;\r\n                        break;\r\n                }\r\n            });\r\n            if (accumulator.length) {\r\n                results.push(accumulator.join(' '));\r\n            }\r\n            return results.map(function (result) { return (result.indexOf(' ') === -1 ? result : \"'\" + result + \"'\"); });\r\n        }\r\n    };\r\n\r\n    var fontSize = {\r\n        name: \"font-size\",\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'length'\r\n    };\r\n\r\n    var fontWeight = {\r\n        name: 'font-weight',\r\n        initialValue: 'normal',\r\n        type: 0 /* VALUE */,\r\n        prefix: false,\r\n        parse: function (_context, token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            if (isIdentToken(token)) {\r\n                switch (token.value) {\r\n                    case 'bold':\r\n                        return 700;\r\n                    case 'normal':\r\n                    default:\r\n                        return 400;\r\n                }\r\n            }\r\n            return 400;\r\n        }\r\n    };\r\n\r\n    var fontVariant = {\r\n        name: 'font-variant',\r\n        initialValue: 'none',\r\n        type: 1 /* LIST */,\r\n        prefix: false,\r\n        parse: function (_context, tokens) {\r\n            return tokens.filter(isIdentToken).map(function (token) { return token.value; });\r\n        }\r\n    };\r\n\r\n    var fontStyle = {\r\n        name: 'font-style',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: 2 /* IDENT_VALUE */,\r\n        parse: function (_context, overflow) {\r\n            switch (overflow) {\r\n                case 'oblique':\r\n                    return \"oblique\" /* OBLIQUE */;\r\n                case 'italic':\r\n                    return \"italic\" /* ITALIC */;\r\n                case 'normal':\r\n                default:\r\n                    return \"normal\" /* NORMAL */;\r\n            }\r\n        }\r\n    };\r\n\r\n    var contains = function (bit, value) { return (bit & value) !== 0; };\r\n\r\n    var content = {\r\n        name: 'content',\r\n        initialValue: 'none',\r\n        type: 1 /* LIST */,\r\n        prefix: false,\r\n        parse: function (_context, tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === 20 /* IDENT_TOKEN */ && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens;\r\n        }\r\n    };\r\n\r\n    var counterIncrement = {\r\n        name: 'counter-increment',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === 20 /* IDENT_TOKEN */ && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var increments = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (counter.type === 20 /* IDENT_TOKEN */) {\r\n                    var increment = next && isNumberToken(next) ? next.number : 1;\r\n                    increments.push({ counter: counter.value, increment: increment });\r\n                }\r\n            }\r\n            return increments;\r\n        }\r\n    };\r\n\r\n    var counterReset = {\r\n        name: 'counter-reset',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var resets = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (isIdentToken(counter) && counter.value !== 'none') {\r\n                    var reset = next && isNumberToken(next) ? next.number : 0;\r\n                    resets.push({ counter: counter.value, reset: reset });\r\n                }\r\n            }\r\n            return resets;\r\n        }\r\n    };\r\n\r\n    var duration = {\r\n        name: 'duration',\r\n        initialValue: '0s',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (context, tokens) {\r\n            return tokens.filter(isDimensionToken).map(function (token) { return time.parse(context, token); });\r\n        }\r\n    };\r\n\r\n    var quotes = {\r\n        name: 'quotes',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === 20 /* IDENT_TOKEN */ && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var quotes = [];\r\n            var filtered = tokens.filter(isStringToken);\r\n            if (filtered.length % 2 !== 0) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < filtered.length; i += 2) {\r\n                var open_1 = filtered[i].value;\r\n                var close_1 = filtered[i + 1].value;\r\n                quotes.push({ open: open_1, close: close_1 });\r\n            }\r\n            return quotes;\r\n        }\r\n    };\r\n    var getQuote = function (quotes, depth, open) {\r\n        if (!quotes) {\r\n            return '';\r\n        }\r\n        var quote = quotes[Math.min(depth, quotes.length - 1)];\r\n        if (!quote) {\r\n            return '';\r\n        }\r\n        return open ? quote.open : quote.close;\r\n    };\r\n\r\n    var boxShadow = {\r\n        name: 'box-shadow',\r\n        initialValue: 'none',\r\n        type: 1 /* LIST */,\r\n        prefix: false,\r\n        parse: function (context, tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: 0x000000ff,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH,\r\n                    spread: ZERO_LENGTH,\r\n                    inset: false\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isIdentWithValue(token, 'inset')) {\r\n                        shadow.inset = true;\r\n                    }\r\n                    else if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else if (c === 2) {\r\n                            shadow.blur = token;\r\n                        }\r\n                        else {\r\n                            shadow.spread = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color$1.parse(context, token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\r\n\r\n    var paintOrder = {\r\n        name: 'paint-order',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: 1 /* LIST */,\r\n        parse: function (_context, tokens) {\r\n            var DEFAULT_VALUE = [0 /* FILL */, 1 /* STROKE */, 2 /* MARKERS */];\r\n            var layers = [];\r\n            tokens.filter(isIdentToken).forEach(function (token) {\r\n                switch (token.value) {\r\n                    case 'stroke':\r\n                        layers.push(1 /* STROKE */);\r\n                        break;\r\n                    case 'fill':\r\n                        layers.push(0 /* FILL */);\r\n                        break;\r\n                    case 'markers':\r\n                        layers.push(2 /* MARKERS */);\r\n                        break;\r\n                }\r\n            });\r\n            DEFAULT_VALUE.forEach(function (value) {\r\n                if (layers.indexOf(value) === -1) {\r\n                    layers.push(value);\r\n                }\r\n            });\r\n            return layers;\r\n        }\r\n    };\r\n\r\n    var webkitTextStrokeColor = {\r\n        name: \"-webkit-text-stroke-color\",\r\n        initialValue: 'currentcolor',\r\n        prefix: false,\r\n        type: 3 /* TYPE_VALUE */,\r\n        format: 'color'\r\n    };\r\n\r\n    var webkitTextStrokeWidth = {\r\n        name: \"-webkit-text-stroke-width\",\r\n        initialValue: '0',\r\n        type: 0 /* VALUE */,\r\n        prefix: false,\r\n        parse: function (_context, token) {\r\n            if (isDimensionToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    var CSSParsedDeclaration = /** @class */ (function () {\r\n        function CSSParsedDeclaration(context, declaration) {\r\n            var _a, _b;\r\n            this.animationDuration = parse(context, duration, declaration.animationDuration);\r\n            this.backgroundClip = parse(context, backgroundClip, declaration.backgroundClip);\r\n            this.backgroundColor = parse(context, backgroundColor, declaration.backgroundColor);\r\n            this.backgroundImage = parse(context, backgroundImage, declaration.backgroundImage);\r\n            this.backgroundOrigin = parse(context, backgroundOrigin, declaration.backgroundOrigin);\r\n            this.backgroundPosition = parse(context, backgroundPosition, declaration.backgroundPosition);\r\n            this.backgroundRepeat = parse(context, backgroundRepeat, declaration.backgroundRepeat);\r\n            this.backgroundSize = parse(context, backgroundSize, declaration.backgroundSize);\r\n            this.borderTopColor = parse(context, borderTopColor, declaration.borderTopColor);\r\n            this.borderRightColor = parse(context, borderRightColor, declaration.borderRightColor);\r\n            this.borderBottomColor = parse(context, borderBottomColor, declaration.borderBottomColor);\r\n            this.borderLeftColor = parse(context, borderLeftColor, declaration.borderLeftColor);\r\n            this.borderTopLeftRadius = parse(context, borderTopLeftRadius, declaration.borderTopLeftRadius);\r\n            this.borderTopRightRadius = parse(context, borderTopRightRadius, declaration.borderTopRightRadius);\r\n            this.borderBottomRightRadius = parse(context, borderBottomRightRadius, declaration.borderBottomRightRadius);\r\n            this.borderBottomLeftRadius = parse(context, borderBottomLeftRadius, declaration.borderBottomLeftRadius);\r\n            this.borderTopStyle = parse(context, borderTopStyle, declaration.borderTopStyle);\r\n            this.borderRightStyle = parse(context, borderRightStyle, declaration.borderRightStyle);\r\n            this.borderBottomStyle = parse(context, borderBottomStyle, declaration.borderBottomStyle);\r\n            this.borderLeftStyle = parse(context, borderLeftStyle, declaration.borderLeftStyle);\r\n            this.borderTopWidth = parse(context, borderTopWidth, declaration.borderTopWidth);\r\n            this.borderRightWidth = parse(context, borderRightWidth, declaration.borderRightWidth);\r\n            this.borderBottomWidth = parse(context, borderBottomWidth, declaration.borderBottomWidth);\r\n            this.borderLeftWidth = parse(context, borderLeftWidth, declaration.borderLeftWidth);\r\n            this.boxShadow = parse(context, boxShadow, declaration.boxShadow);\r\n            this.color = parse(context, color, declaration.color);\r\n            this.direction = parse(context, direction, declaration.direction);\r\n            this.display = parse(context, display, declaration.display);\r\n            this.float = parse(context, float, declaration.cssFloat);\r\n            this.fontFamily = parse(context, fontFamily, declaration.fontFamily);\r\n            this.fontSize = parse(context, fontSize, declaration.fontSize);\r\n            this.fontStyle = parse(context, fontStyle, declaration.fontStyle);\r\n            this.fontVariant = parse(context, fontVariant, declaration.fontVariant);\r\n            this.fontWeight = parse(context, fontWeight, declaration.fontWeight);\r\n            this.letterSpacing = parse(context, letterSpacing, declaration.letterSpacing);\r\n            this.lineBreak = parse(context, lineBreak, declaration.lineBreak);\r\n            this.lineHeight = parse(context, lineHeight, declaration.lineHeight);\r\n            this.listStyleImage = parse(context, listStyleImage, declaration.listStyleImage);\r\n            this.listStylePosition = parse(context, listStylePosition, declaration.listStylePosition);\r\n            this.listStyleType = parse(context, listStyleType, declaration.listStyleType);\r\n            this.marginTop = parse(context, marginTop, declaration.marginTop);\r\n            this.marginRight = parse(context, marginRight, declaration.marginRight);\r\n            this.marginBottom = parse(context, marginBottom, declaration.marginBottom);\r\n            this.marginLeft = parse(context, marginLeft, declaration.marginLeft);\r\n            this.opacity = parse(context, opacity, declaration.opacity);\r\n            var overflowTuple = parse(context, overflow, declaration.overflow);\r\n            this.overflowX = overflowTuple[0];\r\n            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\r\n            this.overflowWrap = parse(context, overflowWrap, declaration.overflowWrap);\r\n            this.paddingTop = parse(context, paddingTop, declaration.paddingTop);\r\n            this.paddingRight = parse(context, paddingRight, declaration.paddingRight);\r\n            this.paddingBottom = parse(context, paddingBottom, declaration.paddingBottom);\r\n            this.paddingLeft = parse(context, paddingLeft, declaration.paddingLeft);\r\n            this.paintOrder = parse(context, paintOrder, declaration.paintOrder);\r\n            this.position = parse(context, position, declaration.position);\r\n            this.textAlign = parse(context, textAlign, declaration.textAlign);\r\n            this.textDecorationColor = parse(context, textDecorationColor, (_a = declaration.textDecorationColor) !== null && _a !== void 0 ? _a : declaration.color);\r\n            this.textDecorationLine = parse(context, textDecorationLine, (_b = declaration.textDecorationLine) !== null && _b !== void 0 ? _b : declaration.textDecoration);\r\n            this.textShadow = parse(context, textShadow, declaration.textShadow);\r\n            this.textTransform = parse(context, textTransform, declaration.textTransform);\r\n            this.transform = parse(context, transform$1, declaration.transform);\r\n            this.transformOrigin = parse(context, transformOrigin, declaration.transformOrigin);\r\n            this.visibility = parse(context, visibility, declaration.visibility);\r\n            this.webkitTextStrokeColor = parse(context, webkitTextStrokeColor, declaration.webkitTextStrokeColor);\r\n            this.webkitTextStrokeWidth = parse(context, webkitTextStrokeWidth, declaration.webkitTextStrokeWidth);\r\n            this.wordBreak = parse(context, wordBreak, declaration.wordBreak);\r\n            this.zIndex = parse(context, zIndex, declaration.zIndex);\r\n        }\r\n        CSSParsedDeclaration.prototype.isVisible = function () {\r\n            return this.display > 0 && this.opacity > 0 && this.visibility === 0 /* VISIBLE */;\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransparent = function () {\r\n            return isTransparent(this.backgroundColor);\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransformed = function () {\r\n            return this.transform !== null;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositioned = function () {\r\n            return this.position !== 0 /* STATIC */;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {\r\n            return this.isPositioned() && !this.zIndex.auto;\r\n        };\r\n        CSSParsedDeclaration.prototype.isFloating = function () {\r\n            return this.float !== 0 /* NONE */;\r\n        };\r\n        CSSParsedDeclaration.prototype.isInlineLevel = function () {\r\n            return (contains(this.display, 4 /* INLINE */) ||\r\n                contains(this.display, 33554432 /* INLINE_BLOCK */) ||\r\n                contains(this.display, 268435456 /* INLINE_FLEX */) ||\r\n                contains(this.display, 536870912 /* INLINE_GRID */) ||\r\n                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||\r\n                contains(this.display, 134217728 /* INLINE_TABLE */));\r\n        };\r\n        return CSSParsedDeclaration;\r\n    }());\r\n    var CSSParsedPseudoDeclaration = /** @class */ (function () {\r\n        function CSSParsedPseudoDeclaration(context, declaration) {\r\n            this.content = parse(context, content, declaration.content);\r\n            this.quotes = parse(context, quotes, declaration.quotes);\r\n        }\r\n        return CSSParsedPseudoDeclaration;\r\n    }());\r\n    var CSSParsedCounterDeclaration = /** @class */ (function () {\r\n        function CSSParsedCounterDeclaration(context, declaration) {\r\n            this.counterIncrement = parse(context, counterIncrement, declaration.counterIncrement);\r\n            this.counterReset = parse(context, counterReset, declaration.counterReset);\r\n        }\r\n        return CSSParsedCounterDeclaration;\r\n    }());\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    var parse = function (context, descriptor, style) {\r\n        var tokenizer = new Tokenizer();\r\n        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\r\n        tokenizer.write(value);\r\n        var parser = new Parser(tokenizer.read());\r\n        switch (descriptor.type) {\r\n            case 2 /* IDENT_VALUE */:\r\n                var token = parser.parseComponentValue();\r\n                return descriptor.parse(context, isIdentToken(token) ? token.value : descriptor.initialValue);\r\n            case 0 /* VALUE */:\r\n                return descriptor.parse(context, parser.parseComponentValue());\r\n            case 1 /* LIST */:\r\n                return descriptor.parse(context, parser.parseComponentValues());\r\n            case 4 /* TOKEN_VALUE */:\r\n                return parser.parseComponentValue();\r\n            case 3 /* TYPE_VALUE */:\r\n                switch (descriptor.format) {\r\n                    case 'angle':\r\n                        return angle.parse(context, parser.parseComponentValue());\r\n                    case 'color':\r\n                        return color$1.parse(context, parser.parseComponentValue());\r\n                    case 'image':\r\n                        return image.parse(context, parser.parseComponentValue());\r\n                    case 'length':\r\n                        var length_1 = parser.parseComponentValue();\r\n                        return isLength(length_1) ? length_1 : ZERO_LENGTH;\r\n                    case 'length-percentage':\r\n                        var value_1 = parser.parseComponentValue();\r\n                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;\r\n                    case 'time':\r\n                        return time.parse(context, parser.parseComponentValue());\r\n                }\r\n                break;\r\n        }\r\n    };\r\n\r\n    var elementDebuggerAttribute = 'data-html2canvas-debug';\r\n    var getElementDebugType = function (element) {\r\n        var attribute = element.getAttribute(elementDebuggerAttribute);\r\n        switch (attribute) {\r\n            case 'all':\r\n                return 1 /* ALL */;\r\n            case 'clone':\r\n                return 2 /* CLONE */;\r\n            case 'parse':\r\n                return 3 /* PARSE */;\r\n            case 'render':\r\n                return 4 /* RENDER */;\r\n            default:\r\n                return 0 /* NONE */;\r\n        }\r\n    };\r\n    var isDebugging = function (element, type) {\r\n        var elementType = getElementDebugType(element);\r\n        return elementType === 1 /* ALL */ || type === elementType;\r\n    };\r\n\r\n    var ElementContainer = /** @class */ (function () {\r\n        function ElementContainer(context, element) {\r\n            this.context = context;\r\n            this.textNodes = [];\r\n            this.elements = [];\r\n            this.flags = 0;\r\n            if (isDebugging(element, 3 /* PARSE */)) {\r\n                debugger;\r\n            }\r\n            this.styles = new CSSParsedDeclaration(context, window.getComputedStyle(element, null));\r\n            if (isHTMLElementNode(element)) {\r\n                if (this.styles.animationDuration.some(function (duration) { return duration > 0; })) {\r\n                    element.style.animationDuration = '0s';\r\n                }\r\n                if (this.styles.transform !== null) {\r\n                    // getBoundingClientRect takes transforms into account\r\n                    element.style.transform = 'none';\r\n                }\r\n            }\r\n            this.bounds = parseBounds(this.context, element);\r\n            if (isDebugging(element, 4 /* RENDER */)) {\r\n                this.flags |= 16 /* DEBUG_RENDER */;\r\n            }\r\n        }\r\n        return ElementContainer;\r\n    }());\r\n\r\n    /*\r\n     * text-segmentation 1.0.3 <https://github.com/niklasvh/text-segmentation>\r\n     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var base64 = 'AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=';\r\n\r\n    /*\r\n     * utrie 1.0.2 <https://github.com/niklasvh/utrie>\r\n     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var chars$1 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup$1 = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i$1 = 0; i$1 < chars$1.length; i$1++) {\r\n        lookup$1[chars$1.charCodeAt(i$1)] = i$1;\r\n    }\r\n    var decode = function (base64) {\r\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\r\n        if (base64[base64.length - 1] === '=') {\r\n            bufferLength--;\r\n            if (base64[base64.length - 2] === '=') {\r\n                bufferLength--;\r\n            }\r\n        }\r\n        var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n            typeof Uint8Array !== 'undefined' &&\r\n            typeof Uint8Array.prototype.slice !== 'undefined'\r\n            ? new ArrayBuffer(bufferLength)\r\n            : new Array(bufferLength);\r\n        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n        for (i = 0; i < len; i += 4) {\r\n            encoded1 = lookup$1[base64.charCodeAt(i)];\r\n            encoded2 = lookup$1[base64.charCodeAt(i + 1)];\r\n            encoded3 = lookup$1[base64.charCodeAt(i + 2)];\r\n            encoded4 = lookup$1[base64.charCodeAt(i + 3)];\r\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n        }\r\n        return buffer;\r\n    };\r\n    var polyUint16Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 2) {\r\n            bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n    var polyUint32Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 4) {\r\n            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n\r\n    /** Shift size for getting the index-2 table offset. */\r\n    var UTRIE2_SHIFT_2 = 5;\r\n    /** Shift size for getting the index-1 table offset. */\r\n    var UTRIE2_SHIFT_1 = 6 + 5;\r\n    /**\r\n     * Shift size for shifting left the index array values.\r\n     * Increases possible data size with 16-bit index values at the cost\r\n     * of compactability.\r\n     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n     */\r\n    var UTRIE2_INDEX_SHIFT = 2;\r\n    /**\r\n     * Difference between the two shift sizes,\r\n     * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n     */\r\n    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\r\n    /**\r\n     * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n     * lead surrogate code _units_ not code _points_.\r\n     * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n     */\r\n    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\r\n    /** Number of entries in a data block. 32=0x20 */\r\n    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\r\n    /** Mask for getting the lower bits for the in-data-block offset. */\r\n    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\r\n    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\r\n    /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\r\n    /**\r\n     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n     */\r\n    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\r\n    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n    /**\r\n     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n     * Variable length, for code points up to highStart, where the last single-value range starts.\r\n     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n     * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n     *\r\n     * The part of the index-2 table for supplementary code points starts\r\n     * after this index-1 table.\r\n     *\r\n     * Both the index-1 table and the following part of the index-2 table\r\n     * are omitted completely if there is only BMP data.\r\n     */\r\n    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\r\n    /**\r\n     * Number of index-1 entries for the BMP. 32=0x20\r\n     * This part of the index-1 table is omitted from the serialized form.\r\n     */\r\n    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\r\n    /** Number of entries in an index-2 block. 64=0x40 */\r\n    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\r\n    /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\r\n    var slice16 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var slice32 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var createTrieFromBase64 = function (base64, _byteLength) {\r\n        var buffer = decode(base64);\r\n        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\r\n        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\r\n        var headerLength = 24;\r\n        var index = slice16(view16, headerLength / 2, view32[4] / 2);\r\n        var data = view32[5] === 2\r\n            ? slice16(view16, (headerLength + view32[4]) / 2)\r\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\r\n    };\r\n    var Trie = /** @class */ (function () {\r\n        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n            this.initialValue = initialValue;\r\n            this.errorValue = errorValue;\r\n            this.highStart = highStart;\r\n            this.highValueIndex = highValueIndex;\r\n            this.index = index;\r\n            this.data = data;\r\n        }\r\n        /**\r\n         * Get the value for a code point as stored in the Trie.\r\n         *\r\n         * @param codePoint the code point\r\n         * @return the value\r\n         */\r\n        Trie.prototype.get = function (codePoint) {\r\n            var ix;\r\n            if (codePoint >= 0) {\r\n                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n                    // Ordinary BMP code point, excluding leading surrogates.\r\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n                    // 16 bit data is stored in the index array itself.\r\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0xffff) {\r\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\r\n                    // lead surrogate code units and code points.\r\n                    //   The main index has the code unit data.\r\n                    //   For this function, we need the code point data.\r\n                    // Note: this expression could be refactored for slightly improved efficiency, but\r\n                    //       surrogate code points will be so rare in practice that it's not worth it.\r\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint < this.highStart) {\r\n                    // Supplemental code point, use two-level lookup.\r\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\r\n                    ix = this.index[ix];\r\n                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\r\n                    ix = this.index[ix];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0x10ffff) {\r\n                    return this.data[this.highValueIndex];\r\n                }\r\n            }\r\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n            return this.errorValue;\r\n        };\r\n        return Trie;\r\n    }());\r\n\r\n    /*\r\n     * base64-arraybuffer 1.0.2 <https://github.com/niklasvh/base64-arraybuffer>\r\n     * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i = 0; i < chars.length; i++) {\r\n        lookup[chars.charCodeAt(i)] = i;\r\n    }\r\n\r\n    var Prepend = 1;\r\n    var CR = 2;\r\n    var LF = 3;\r\n    var Control = 4;\r\n    var Extend = 5;\r\n    var SpacingMark = 7;\r\n    var L = 8;\r\n    var V = 9;\r\n    var T = 10;\r\n    var LV = 11;\r\n    var LVT = 12;\r\n    var ZWJ = 13;\r\n    var Extended_Pictographic = 14;\r\n    var RI = 15;\r\n    var toCodePoints = function (str) {\r\n        var codePoints = [];\r\n        var i = 0;\r\n        var length = str.length;\r\n        while (i < length) {\r\n            var value = str.charCodeAt(i++);\r\n            if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n                var extra = str.charCodeAt(i++);\r\n                if ((extra & 0xfc00) === 0xdc00) {\r\n                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n                }\r\n                else {\r\n                    codePoints.push(value);\r\n                    i--;\r\n                }\r\n            }\r\n            else {\r\n                codePoints.push(value);\r\n            }\r\n        }\r\n        return codePoints;\r\n    };\r\n    var fromCodePoint = function () {\r\n        var codePoints = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            codePoints[_i] = arguments[_i];\r\n        }\r\n        if (String.fromCodePoint) {\r\n            return String.fromCodePoint.apply(String, codePoints);\r\n        }\r\n        var length = codePoints.length;\r\n        if (!length) {\r\n            return '';\r\n        }\r\n        var codeUnits = [];\r\n        var index = -1;\r\n        var result = '';\r\n        while (++index < length) {\r\n            var codePoint = codePoints[index];\r\n            if (codePoint <= 0xffff) {\r\n                codeUnits.push(codePoint);\r\n            }\r\n            else {\r\n                codePoint -= 0x10000;\r\n                codeUnits.push((codePoint >> 10) + 0xd800, (codePoint % 0x400) + 0xdc00);\r\n            }\r\n            if (index + 1 === length || codeUnits.length > 0x4000) {\r\n                result += String.fromCharCode.apply(String, codeUnits);\r\n                codeUnits.length = 0;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    var UnicodeTrie = createTrieFromBase64(base64);\r\n    var BREAK_NOT_ALLOWED = '';\r\n    var BREAK_ALLOWED = '';\r\n    var codePointToClass = function (codePoint) { return UnicodeTrie.get(codePoint); };\r\n    var _graphemeBreakAtIndex = function (_codePoints, classTypes, index) {\r\n        var prevIndex = index - 2;\r\n        var prev = classTypes[prevIndex];\r\n        var current = classTypes[index - 1];\r\n        var next = classTypes[index];\r\n        // GB3 Do not break between a CR and LF\r\n        if (current === CR && next === LF) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // GB4 Otherwise, break before and after controls.\r\n        if (current === CR || current === LF || current === Control) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // GB5\r\n        if (next === CR || next === LF || next === Control) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // Do not break Hangul syllable sequences.\r\n        // GB6\r\n        if (current === L && [L, V, LV, LVT].indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // GB7\r\n        if ((current === LV || current === V) && (next === V || next === T)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // GB8\r\n        if ((current === LVT || current === T) && next === T) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // GB9 Do not break before extending characters or ZWJ.\r\n        if (next === ZWJ || next === Extend) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // Do not break before SpacingMarks, or after Prepend characters.\r\n        // GB9a\r\n        if (next === SpacingMark) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // GB9a\r\n        if (current === Prepend) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // GB11 Do not break within emoji modifier sequences or emoji zwj sequences.\r\n        if (current === ZWJ && next === Extended_Pictographic) {\r\n            while (prev === Extend) {\r\n                prev = classTypes[--prevIndex];\r\n            }\r\n            if (prev === Extended_Pictographic) {\r\n                return BREAK_NOT_ALLOWED;\r\n            }\r\n        }\r\n        // GB12 Do not break within emoji flag sequences.\r\n        // That is, do not break between regional indicator (RI) symbols\r\n        // if there is an odd number of RI characters before the break point.\r\n        if (current === RI && next === RI) {\r\n            var countRI = 0;\r\n            while (prev === RI) {\r\n                countRI++;\r\n                prev = classTypes[--prevIndex];\r\n            }\r\n            if (countRI % 2 === 0) {\r\n                return BREAK_NOT_ALLOWED;\r\n            }\r\n        }\r\n        return BREAK_ALLOWED;\r\n    };\r\n    var GraphemeBreaker = function (str) {\r\n        var codePoints = toCodePoints(str);\r\n        var length = codePoints.length;\r\n        var index = 0;\r\n        var lastEnd = 0;\r\n        var classTypes = codePoints.map(codePointToClass);\r\n        return {\r\n            next: function () {\r\n                if (index >= length) {\r\n                    return { done: true, value: null };\r\n                }\r\n                var graphemeBreak = BREAK_NOT_ALLOWED;\r\n                while (index < length &&\r\n                    (graphemeBreak = _graphemeBreakAtIndex(codePoints, classTypes, ++index)) === BREAK_NOT_ALLOWED) { }\r\n                if (graphemeBreak !== BREAK_NOT_ALLOWED || index === length) {\r\n                    var value = fromCodePoint.apply(null, codePoints.slice(lastEnd, index));\r\n                    lastEnd = index;\r\n                    return { value: value, done: false };\r\n                }\r\n                return { done: true, value: null };\r\n            },\r\n        };\r\n    };\r\n    var splitGraphemes = function (str) {\r\n        var breaker = GraphemeBreaker(str);\r\n        var graphemes = [];\r\n        var bk;\r\n        while (!(bk = breaker.next()).done) {\r\n            if (bk.value) {\r\n                graphemes.push(bk.value.slice());\r\n            }\r\n        }\r\n        return graphemes;\r\n    };\r\n\r\n    var testRangeBounds = function (document) {\r\n        var TEST_HEIGHT = 123;\r\n        if (document.createRange) {\r\n            var range = document.createRange();\r\n            if (range.getBoundingClientRect) {\r\n                var testElement = document.createElement('boundtest');\r\n                testElement.style.height = TEST_HEIGHT + \"px\";\r\n                testElement.style.display = 'block';\r\n                document.body.appendChild(testElement);\r\n                range.selectNode(testElement);\r\n                var rangeBounds = range.getBoundingClientRect();\r\n                var rangeHeight = Math.round(rangeBounds.height);\r\n                document.body.removeChild(testElement);\r\n                if (rangeHeight === TEST_HEIGHT) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var testIOSLineBreak = function (document) {\r\n        var testElement = document.createElement('boundtest');\r\n        testElement.style.width = '50px';\r\n        testElement.style.display = 'block';\r\n        testElement.style.fontSize = '12px';\r\n        testElement.style.letterSpacing = '0px';\r\n        testElement.style.wordSpacing = '0px';\r\n        document.body.appendChild(testElement);\r\n        var range = document.createRange();\r\n        testElement.innerHTML = typeof ''.repeat === 'function' ? '&#128104;'.repeat(10) : '';\r\n        var node = testElement.firstChild;\r\n        var textList = toCodePoints$1(node.data).map(function (i) { return fromCodePoint$1(i); });\r\n        var offset = 0;\r\n        var prev = {};\r\n        // ios 13 does not handle range getBoundingClientRect line changes correctly #2177\r\n        var supports = textList.every(function (text, i) {\r\n            range.setStart(node, offset);\r\n            range.setEnd(node, offset + text.length);\r\n            var rect = range.getBoundingClientRect();\r\n            offset += text.length;\r\n            var boundAhead = rect.x > prev.x || rect.y > prev.y;\r\n            prev = rect;\r\n            if (i === 0) {\r\n                return true;\r\n            }\r\n            return boundAhead;\r\n        });\r\n        document.body.removeChild(testElement);\r\n        return supports;\r\n    };\r\n    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };\r\n    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };\r\n    var testSVG = function (document) {\r\n        var img = new Image();\r\n        var canvas = document.createElement('canvas');\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return false;\r\n        }\r\n        img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n        try {\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toDataURL();\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    var isGreenPixel = function (data) {\r\n        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\r\n    };\r\n    var testForeignObject = function (document) {\r\n        var canvas = document.createElement('canvas');\r\n        var size = 100;\r\n        canvas.width = size;\r\n        canvas.height = size;\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return Promise.reject(false);\r\n        }\r\n        ctx.fillStyle = 'rgb(0, 255, 0)';\r\n        ctx.fillRect(0, 0, size, size);\r\n        var img = new Image();\r\n        var greenImageSrc = canvas.toDataURL();\r\n        img.src = greenImageSrc;\r\n        var svg = createForeignObjectSVG(size, size, 0, 0, img);\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(0, 0, size, size);\r\n        return loadSerializedSVG$1(svg)\r\n            .then(function (img) {\r\n            ctx.drawImage(img, 0, 0);\r\n            var data = ctx.getImageData(0, 0, size, size).data;\r\n            ctx.fillStyle = 'red';\r\n            ctx.fillRect(0, 0, size, size);\r\n            var node = document.createElement('div');\r\n            node.style.backgroundImage = \"url(\" + greenImageSrc + \")\";\r\n            node.style.height = size + \"px\";\r\n            // Firefox 55 does not render inline <img /> tags\r\n            return isGreenPixel(data)\r\n                ? loadSerializedSVG$1(createForeignObjectSVG(size, size, 0, 0, node))\r\n                : Promise.reject(false);\r\n        })\r\n            .then(function (img) {\r\n            ctx.drawImage(img, 0, 0);\r\n            // Edge does not render background-images\r\n            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\r\n        })\r\n            .catch(function () { return false; });\r\n    };\r\n    var createForeignObjectSVG = function (width, height, x, y, node) {\r\n        var xmlns = 'http://www.w3.org/2000/svg';\r\n        var svg = document.createElementNS(xmlns, 'svg');\r\n        var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n        svg.setAttributeNS(null, 'width', width.toString());\r\n        svg.setAttributeNS(null, 'height', height.toString());\r\n        foreignObject.setAttributeNS(null, 'width', '100%');\r\n        foreignObject.setAttributeNS(null, 'height', '100%');\r\n        foreignObject.setAttributeNS(null, 'x', x.toString());\r\n        foreignObject.setAttributeNS(null, 'y', y.toString());\r\n        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n        svg.appendChild(foreignObject);\r\n        foreignObject.appendChild(node);\r\n        return svg;\r\n    };\r\n    var loadSerializedSVG$1 = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () { return resolve(img); };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n    var FEATURES = {\r\n        get SUPPORT_RANGE_BOUNDS() {\r\n            var value = testRangeBounds(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_WORD_BREAKING() {\r\n            var value = FEATURES.SUPPORT_RANGE_BOUNDS && testIOSLineBreak(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_WORD_BREAKING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_SVG_DRAWING() {\r\n            var value = testSVG(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_FOREIGNOBJECT_DRAWING() {\r\n            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'\r\n                ? testForeignObject(document)\r\n                : Promise.resolve(false);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_IMAGES() {\r\n            var value = testCORS();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_RESPONSE_TYPE() {\r\n            var value = testResponseType();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_XHR() {\r\n            var value = 'withCredentials' in new XMLHttpRequest();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_NATIVE_TEXT_SEGMENTATION() {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            var value = !!(typeof Intl !== 'undefined' && Intl.Segmenter);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_NATIVE_TEXT_SEGMENTATION', { value: value });\r\n            return value;\r\n        }\r\n    };\r\n\r\n    var TextBounds = /** @class */ (function () {\r\n        function TextBounds(text, bounds) {\r\n            this.text = text;\r\n            this.bounds = bounds;\r\n        }\r\n        return TextBounds;\r\n    }());\r\n    var parseTextBounds = function (context, value, styles, node) {\r\n        var textList = breakText(value, styles);\r\n        var textBounds = [];\r\n        var offset = 0;\r\n        textList.forEach(function (text) {\r\n            if (styles.textDecorationLine.length || text.trim().length > 0) {\r\n                if (FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                    var clientRects = createRange(node, offset, text.length).getClientRects();\r\n                    if (clientRects.length > 1) {\r\n                        var subSegments = segmentGraphemes(text);\r\n                        var subOffset_1 = 0;\r\n                        subSegments.forEach(function (subSegment) {\r\n                            textBounds.push(new TextBounds(subSegment, Bounds.fromDOMRectList(context, createRange(node, subOffset_1 + offset, subSegment.length).getClientRects())));\r\n                            subOffset_1 += subSegment.length;\r\n                        });\r\n                    }\r\n                    else {\r\n                        textBounds.push(new TextBounds(text, Bounds.fromDOMRectList(context, clientRects)));\r\n                    }\r\n                }\r\n                else {\r\n                    var replacementNode = node.splitText(text.length);\r\n                    textBounds.push(new TextBounds(text, getWrapperBounds(context, node)));\r\n                    node = replacementNode;\r\n                }\r\n            }\r\n            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                node = node.splitText(text.length);\r\n            }\r\n            offset += text.length;\r\n        });\r\n        return textBounds;\r\n    };\r\n    var getWrapperBounds = function (context, node) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (ownerDocument) {\r\n            var wrapper = ownerDocument.createElement('html2canvaswrapper');\r\n            wrapper.appendChild(node.cloneNode(true));\r\n            var parentNode = node.parentNode;\r\n            if (parentNode) {\r\n                parentNode.replaceChild(wrapper, node);\r\n                var bounds = parseBounds(context, wrapper);\r\n                if (wrapper.firstChild) {\r\n                    parentNode.replaceChild(wrapper.firstChild, wrapper);\r\n                }\r\n                return bounds;\r\n            }\r\n        }\r\n        return Bounds.EMPTY;\r\n    };\r\n    var createRange = function (node, offset, length) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (!ownerDocument) {\r\n            throw new Error('Node has no owner document');\r\n        }\r\n        var range = ownerDocument.createRange();\r\n        range.setStart(node, offset);\r\n        range.setEnd(node, offset + length);\r\n        return range;\r\n    };\r\n    var segmentGraphemes = function (value) {\r\n        if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            var segmenter = new Intl.Segmenter(void 0, { granularity: 'grapheme' });\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return Array.from(segmenter.segment(value)).map(function (segment) { return segment.segment; });\r\n        }\r\n        return splitGraphemes(value);\r\n    };\r\n    var segmentWords = function (value, styles) {\r\n        if (FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            var segmenter = new Intl.Segmenter(void 0, {\r\n                granularity: 'word'\r\n            });\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            return Array.from(segmenter.segment(value)).map(function (segment) { return segment.segment; });\r\n        }\r\n        return breakWords(value, styles);\r\n    };\r\n    var breakText = function (value, styles) {\r\n        return styles.letterSpacing !== 0 ? segmentGraphemes(value) : segmentWords(value, styles);\r\n    };\r\n    // https://drafts.csswg.org/css-text/#word-separator\r\n    var wordSeparators = [0x0020, 0x00a0, 0x1361, 0x10100, 0x10101, 0x1039, 0x1091];\r\n    var breakWords = function (str, styles) {\r\n        var breaker = LineBreaker(str, {\r\n            lineBreak: styles.lineBreak,\r\n            wordBreak: styles.overflowWrap === \"break-word\" /* BREAK_WORD */ ? 'break-word' : styles.wordBreak\r\n        });\r\n        var words = [];\r\n        var bk;\r\n        var _loop_1 = function () {\r\n            if (bk.value) {\r\n                var value = bk.value.slice();\r\n                var codePoints = toCodePoints$1(value);\r\n                var word_1 = '';\r\n                codePoints.forEach(function (codePoint) {\r\n                    if (wordSeparators.indexOf(codePoint) === -1) {\r\n                        word_1 += fromCodePoint$1(codePoint);\r\n                    }\r\n                    else {\r\n                        if (word_1.length) {\r\n                            words.push(word_1);\r\n                        }\r\n                        words.push(fromCodePoint$1(codePoint));\r\n                        word_1 = '';\r\n                    }\r\n                });\r\n                if (word_1.length) {\r\n                    words.push(word_1);\r\n                }\r\n            }\r\n        };\r\n        while (!(bk = breaker.next()).done) {\r\n            _loop_1();\r\n        }\r\n        return words;\r\n    };\r\n\r\n    var TextContainer = /** @class */ (function () {\r\n        function TextContainer(context, node, styles) {\r\n            this.text = transform(node.data, styles.textTransform);\r\n            this.textBounds = parseTextBounds(context, this.text, styles, node);\r\n        }\r\n        return TextContainer;\r\n    }());\r\n    var transform = function (text, transform) {\r\n        switch (transform) {\r\n            case 1 /* LOWERCASE */:\r\n                return text.toLowerCase();\r\n            case 3 /* CAPITALIZE */:\r\n                return text.replace(CAPITALIZE, capitalize);\r\n            case 2 /* UPPERCASE */:\r\n                return text.toUpperCase();\r\n            default:\r\n                return text;\r\n        }\r\n    };\r\n    var CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\r\n    var capitalize = function (m, p1, p2) {\r\n        if (m.length > 0) {\r\n            return p1 + p2.toUpperCase();\r\n        }\r\n        return m;\r\n    };\r\n\r\n    var ImageElementContainer = /** @class */ (function (_super) {\r\n        __extends(ImageElementContainer, _super);\r\n        function ImageElementContainer(context, img) {\r\n            var _this = _super.call(this, context, img) || this;\r\n            _this.src = img.currentSrc || img.src;\r\n            _this.intrinsicWidth = img.naturalWidth;\r\n            _this.intrinsicHeight = img.naturalHeight;\r\n            _this.context.cache.addImage(_this.src);\r\n            return _this;\r\n        }\r\n        return ImageElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var CanvasElementContainer = /** @class */ (function (_super) {\r\n        __extends(CanvasElementContainer, _super);\r\n        function CanvasElementContainer(context, canvas) {\r\n            var _this = _super.call(this, context, canvas) || this;\r\n            _this.canvas = canvas;\r\n            _this.intrinsicWidth = canvas.width;\r\n            _this.intrinsicHeight = canvas.height;\r\n            return _this;\r\n        }\r\n        return CanvasElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var SVGElementContainer = /** @class */ (function (_super) {\r\n        __extends(SVGElementContainer, _super);\r\n        function SVGElementContainer(context, img) {\r\n            var _this = _super.call(this, context, img) || this;\r\n            var s = new XMLSerializer();\r\n            var bounds = parseBounds(context, img);\r\n            img.setAttribute('width', bounds.width + \"px\");\r\n            img.setAttribute('height', bounds.height + \"px\");\r\n            _this.svg = \"data:image/svg+xml,\" + encodeURIComponent(s.serializeToString(img));\r\n            _this.intrinsicWidth = img.width.baseVal.value;\r\n            _this.intrinsicHeight = img.height.baseVal.value;\r\n            _this.context.cache.addImage(_this.svg);\r\n            return _this;\r\n        }\r\n        return SVGElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var LIElementContainer = /** @class */ (function (_super) {\r\n        __extends(LIElementContainer, _super);\r\n        function LIElementContainer(context, element) {\r\n            var _this = _super.call(this, context, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return LIElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var OLElementContainer = /** @class */ (function (_super) {\r\n        __extends(OLElementContainer, _super);\r\n        function OLElementContainer(context, element) {\r\n            var _this = _super.call(this, context, element) || this;\r\n            _this.start = element.start;\r\n            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\r\n            return _this;\r\n        }\r\n        return OLElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var CHECKBOX_BORDER_RADIUS = [\r\n        {\r\n            type: 15 /* DIMENSION_TOKEN */,\r\n            flags: 0,\r\n            unit: 'px',\r\n            number: 3\r\n        }\r\n    ];\r\n    var RADIO_BORDER_RADIUS = [\r\n        {\r\n            type: 16 /* PERCENTAGE_TOKEN */,\r\n            flags: 0,\r\n            number: 50\r\n        }\r\n    ];\r\n    var reformatInputBounds = function (bounds) {\r\n        if (bounds.width > bounds.height) {\r\n            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\r\n        }\r\n        else if (bounds.width < bounds.height) {\r\n            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\r\n        }\r\n        return bounds;\r\n    };\r\n    var getInputValue = function (node) {\r\n        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\r\n        return value.length === 0 ? node.placeholder || '' : value;\r\n    };\r\n    var CHECKBOX = 'checkbox';\r\n    var RADIO = 'radio';\r\n    var PASSWORD = 'password';\r\n    var INPUT_COLOR = 0x2a2a2aff;\r\n    var InputElementContainer = /** @class */ (function (_super) {\r\n        __extends(InputElementContainer, _super);\r\n        function InputElementContainer(context, input) {\r\n            var _this = _super.call(this, context, input) || this;\r\n            _this.type = input.type.toLowerCase();\r\n            _this.checked = input.checked;\r\n            _this.value = getInputValue(input);\r\n            if (_this.type === CHECKBOX || _this.type === RADIO) {\r\n                _this.styles.backgroundColor = 0xdededeff;\r\n                _this.styles.borderTopColor =\r\n                    _this.styles.borderRightColor =\r\n                        _this.styles.borderBottomColor =\r\n                            _this.styles.borderLeftColor =\r\n                                0xa5a5a5ff;\r\n                _this.styles.borderTopWidth =\r\n                    _this.styles.borderRightWidth =\r\n                        _this.styles.borderBottomWidth =\r\n                            _this.styles.borderLeftWidth =\r\n                                1;\r\n                _this.styles.borderTopStyle =\r\n                    _this.styles.borderRightStyle =\r\n                        _this.styles.borderBottomStyle =\r\n                            _this.styles.borderLeftStyle =\r\n                                1 /* SOLID */;\r\n                _this.styles.backgroundClip = [0 /* BORDER_BOX */];\r\n                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];\r\n                _this.bounds = reformatInputBounds(_this.bounds);\r\n            }\r\n            switch (_this.type) {\r\n                case CHECKBOX:\r\n                    _this.styles.borderTopRightRadius =\r\n                        _this.styles.borderTopLeftRadius =\r\n                            _this.styles.borderBottomRightRadius =\r\n                                _this.styles.borderBottomLeftRadius =\r\n                                    CHECKBOX_BORDER_RADIUS;\r\n                    break;\r\n                case RADIO:\r\n                    _this.styles.borderTopRightRadius =\r\n                        _this.styles.borderTopLeftRadius =\r\n                            _this.styles.borderBottomRightRadius =\r\n                                _this.styles.borderBottomLeftRadius =\r\n                                    RADIO_BORDER_RADIUS;\r\n                    break;\r\n            }\r\n            return _this;\r\n        }\r\n        return InputElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var SelectElementContainer = /** @class */ (function (_super) {\r\n        __extends(SelectElementContainer, _super);\r\n        function SelectElementContainer(context, element) {\r\n            var _this = _super.call(this, context, element) || this;\r\n            var option = element.options[element.selectedIndex || 0];\r\n            _this.value = option ? option.text || '' : '';\r\n            return _this;\r\n        }\r\n        return SelectElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var TextareaElementContainer = /** @class */ (function (_super) {\r\n        __extends(TextareaElementContainer, _super);\r\n        function TextareaElementContainer(context, element) {\r\n            var _this = _super.call(this, context, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return TextareaElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var IFrameElementContainer = /** @class */ (function (_super) {\r\n        __extends(IFrameElementContainer, _super);\r\n        function IFrameElementContainer(context, iframe) {\r\n            var _this = _super.call(this, context, iframe) || this;\r\n            _this.src = iframe.src;\r\n            _this.width = parseInt(iframe.width, 10) || 0;\r\n            _this.height = parseInt(iframe.height, 10) || 0;\r\n            _this.backgroundColor = _this.styles.backgroundColor;\r\n            try {\r\n                if (iframe.contentWindow &&\r\n                    iframe.contentWindow.document &&\r\n                    iframe.contentWindow.document.documentElement) {\r\n                    _this.tree = parseTree(context, iframe.contentWindow.document.documentElement);\r\n                    // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n                    var documentBackgroundColor = iframe.contentWindow.document.documentElement\r\n                        ? parseColor(context, getComputedStyle(iframe.contentWindow.document.documentElement).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    var bodyBackgroundColor = iframe.contentWindow.document.body\r\n                        ? parseColor(context, getComputedStyle(iframe.contentWindow.document.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    _this.backgroundColor = isTransparent(documentBackgroundColor)\r\n                        ? isTransparent(bodyBackgroundColor)\r\n                            ? _this.styles.backgroundColor\r\n                            : bodyBackgroundColor\r\n                        : documentBackgroundColor;\r\n                }\r\n            }\r\n            catch (e) { }\r\n            return _this;\r\n        }\r\n        return IFrameElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var LIST_OWNERS = ['OL', 'UL', 'MENU'];\r\n    var parseNodeTree = function (context, node, parent, root) {\r\n        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {\r\n            nextNode = childNode.nextSibling;\r\n            if (isTextNode(childNode) && childNode.data.trim().length > 0) {\r\n                parent.textNodes.push(new TextContainer(context, childNode, parent.styles));\r\n            }\r\n            else if (isElementNode(childNode)) {\r\n                if (isSlotElement(childNode) && childNode.assignedNodes) {\r\n                    childNode.assignedNodes().forEach(function (childNode) { return parseNodeTree(context, childNode, parent, root); });\r\n                }\r\n                else {\r\n                    var container = createContainer(context, childNode);\r\n                    if (container.styles.isVisible()) {\r\n                        if (createsRealStackingContext(childNode, container, root)) {\r\n                            container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n                        }\r\n                        else if (createsStackingContext(container.styles)) {\r\n                            container.flags |= 2 /* CREATES_STACKING_CONTEXT */;\r\n                        }\r\n                        if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\r\n                            container.flags |= 8 /* IS_LIST_OWNER */;\r\n                        }\r\n                        parent.elements.push(container);\r\n                        childNode.slot;\r\n                        if (childNode.shadowRoot) {\r\n                            parseNodeTree(context, childNode.shadowRoot, container, root);\r\n                        }\r\n                        else if (!isTextareaElement(childNode) &&\r\n                            !isSVGElement(childNode) &&\r\n                            !isSelectElement(childNode)) {\r\n                            parseNodeTree(context, childNode, container, root);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var createContainer = function (context, element) {\r\n        if (isImageElement(element)) {\r\n            return new ImageElementContainer(context, element);\r\n        }\r\n        if (isCanvasElement(element)) {\r\n            return new CanvasElementContainer(context, element);\r\n        }\r\n        if (isSVGElement(element)) {\r\n            return new SVGElementContainer(context, element);\r\n        }\r\n        if (isLIElement(element)) {\r\n            return new LIElementContainer(context, element);\r\n        }\r\n        if (isOLElement(element)) {\r\n            return new OLElementContainer(context, element);\r\n        }\r\n        if (isInputElement(element)) {\r\n            return new InputElementContainer(context, element);\r\n        }\r\n        if (isSelectElement(element)) {\r\n            return new SelectElementContainer(context, element);\r\n        }\r\n        if (isTextareaElement(element)) {\r\n            return new TextareaElementContainer(context, element);\r\n        }\r\n        if (isIFrameElement(element)) {\r\n            return new IFrameElementContainer(context, element);\r\n        }\r\n        return new ElementContainer(context, element);\r\n    };\r\n    var parseTree = function (context, element) {\r\n        var container = createContainer(context, element);\r\n        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n        parseNodeTree(context, element, container, container);\r\n        return container;\r\n    };\r\n    var createsRealStackingContext = function (node, container, root) {\r\n        return (container.styles.isPositionedWithZIndex() ||\r\n            container.styles.opacity < 1 ||\r\n            container.styles.isTransformed() ||\r\n            (isBodyElement(node) && root.styles.isTransparent()));\r\n    };\r\n    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };\r\n    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\r\n    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\r\n    var isHTMLElementNode = function (node) {\r\n        return isElementNode(node) && typeof node.style !== 'undefined' && !isSVGElementNode(node);\r\n    };\r\n    var isSVGElementNode = function (element) {\r\n        return typeof element.className === 'object';\r\n    };\r\n    var isLIElement = function (node) { return node.tagName === 'LI'; };\r\n    var isOLElement = function (node) { return node.tagName === 'OL'; };\r\n    var isInputElement = function (node) { return node.tagName === 'INPUT'; };\r\n    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };\r\n    var isSVGElement = function (node) { return node.tagName === 'svg'; };\r\n    var isBodyElement = function (node) { return node.tagName === 'BODY'; };\r\n    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };\r\n    var isVideoElement = function (node) { return node.tagName === 'VIDEO'; };\r\n    var isImageElement = function (node) { return node.tagName === 'IMG'; };\r\n    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };\r\n    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };\r\n    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };\r\n    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };\r\n    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };\r\n    var isSlotElement = function (node) { return node.tagName === 'SLOT'; };\r\n    // https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\r\n    var isCustomElement = function (node) { return node.tagName.indexOf('-') > 0; };\r\n\r\n    var CounterState = /** @class */ (function () {\r\n        function CounterState() {\r\n            this.counters = {};\r\n        }\r\n        CounterState.prototype.getCounterValue = function (name) {\r\n            var counter = this.counters[name];\r\n            if (counter && counter.length) {\r\n                return counter[counter.length - 1];\r\n            }\r\n            return 1;\r\n        };\r\n        CounterState.prototype.getCounterValues = function (name) {\r\n            var counter = this.counters[name];\r\n            return counter ? counter : [];\r\n        };\r\n        CounterState.prototype.pop = function (counters) {\r\n            var _this = this;\r\n            counters.forEach(function (counter) { return _this.counters[counter].pop(); });\r\n        };\r\n        CounterState.prototype.parse = function (style) {\r\n            var _this = this;\r\n            var counterIncrement = style.counterIncrement;\r\n            var counterReset = style.counterReset;\r\n            var canReset = true;\r\n            if (counterIncrement !== null) {\r\n                counterIncrement.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    if (counter && entry.increment !== 0) {\r\n                        canReset = false;\r\n                        if (!counter.length) {\r\n                            counter.push(1);\r\n                        }\r\n                        counter[Math.max(0, counter.length - 1)] += entry.increment;\r\n                    }\r\n                });\r\n            }\r\n            var counterNames = [];\r\n            if (canReset) {\r\n                counterReset.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    counterNames.push(entry.counter);\r\n                    if (!counter) {\r\n                        counter = _this.counters[entry.counter] = [];\r\n                    }\r\n                    counter.push(entry.reset);\r\n                });\r\n            }\r\n            return counterNames;\r\n        };\r\n        return CounterState;\r\n    }());\r\n    var ROMAN_UPPER = {\r\n        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\r\n    };\r\n    var ARMENIAN = {\r\n        integers: [\r\n            9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70,\r\n            60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var HEBREW = {\r\n        integers: [\r\n            10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20,\r\n            19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var GEORGIAN = {\r\n        integers: [\r\n            10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90,\r\n            80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {\r\n        if (value < min || value > max) {\r\n            return createCounterText(value, fallback, suffix.length > 0);\r\n        }\r\n        return (symbols.integers.reduce(function (string, integer, index) {\r\n            while (value >= integer) {\r\n                value -= integer;\r\n                string += symbols.values[index];\r\n            }\r\n            return string;\r\n        }, '') + suffix);\r\n    };\r\n    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {\r\n        var string = '';\r\n        do {\r\n            if (!isNumeric) {\r\n                value--;\r\n            }\r\n            string = resolver(value) + string;\r\n            value /= codePointRangeLength;\r\n        } while (value * codePointRangeLength >= codePointRangeLength);\r\n        return string;\r\n    };\r\n    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\r\n        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\r\n        return ((value < 0 ? '-' : '') +\r\n            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\r\n                return fromCodePoint$1(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\r\n            }) +\r\n                suffix));\r\n    };\r\n    var createCounterStyleFromSymbols = function (value, symbols, suffix) {\r\n        if (suffix === void 0) { suffix = '. '; }\r\n        var codePointRangeLength = symbols.length;\r\n        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);\r\n    };\r\n    var CJK_ZEROS = 1 << 0;\r\n    var CJK_TEN_COEFFICIENTS = 1 << 1;\r\n    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\r\n    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;\r\n    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {\r\n        if (value < -9999 || value > 9999) {\r\n            return createCounterText(value, 4 /* CJK_DECIMAL */, suffix.length > 0);\r\n        }\r\n        var tmp = Math.abs(value);\r\n        var string = suffix;\r\n        if (tmp === 0) {\r\n            return numbers[0] + string;\r\n        }\r\n        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\r\n            var coefficient = tmp % 10;\r\n            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\r\n                string = numbers[coefficient] + string;\r\n            }\r\n            else if (coefficient > 1 ||\r\n                (coefficient === 1 && digit === 0) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\r\n                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {\r\n                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\r\n            }\r\n            else if (coefficient === 1 && digit > 0) {\r\n                string = multipliers[digit - 1] + string;\r\n            }\r\n            tmp = Math.floor(tmp / 10);\r\n        }\r\n        return (value < 0 ? negativeSign : '') + string;\r\n    };\r\n    var CHINESE_INFORMAL_MULTIPLIERS = '';\r\n    var CHINESE_FORMAL_MULTIPLIERS = '';\r\n    var JAPANESE_NEGATIVE = '';\r\n    var KOREAN_NEGATIVE = '';\r\n    var createCounterText = function (value, type, appendSuffix) {\r\n        var defaultSuffix = appendSuffix ? '. ' : '';\r\n        var cjkSuffix = appendSuffix ? '' : '';\r\n        var koreanSuffix = appendSuffix ? ', ' : '';\r\n        var spaceSuffix = appendSuffix ? ' ' : '';\r\n        switch (type) {\r\n            case 0 /* DISC */:\r\n                return '' + spaceSuffix;\r\n            case 1 /* CIRCLE */:\r\n                return '' + spaceSuffix;\r\n            case 2 /* SQUARE */:\r\n                return '' + spaceSuffix;\r\n            case 5 /* DECIMAL_LEADING_ZERO */:\r\n                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n                return string.length < 4 ? \"0\" + string : string;\r\n            case 4 /* CJK_DECIMAL */:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case 6 /* LOWER_ROMAN */:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, 3 /* DECIMAL */, defaultSuffix).toLowerCase();\r\n            case 7 /* UPPER_ROMAN */:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, 3 /* DECIMAL */, defaultSuffix);\r\n            case 8 /* LOWER_GREEK */:\r\n                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\r\n            case 9 /* LOWER_ALPHA */:\r\n                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\r\n            case 10 /* UPPER_ALPHA */:\r\n                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\r\n            case 11 /* ARABIC_INDIC */:\r\n                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\r\n            case 12 /* ARMENIAN */:\r\n            case 49 /* UPPER_ARMENIAN */:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, 3 /* DECIMAL */, defaultSuffix);\r\n            case 35 /* LOWER_ARMENIAN */:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, 3 /* DECIMAL */, defaultSuffix).toLowerCase();\r\n            case 13 /* BENGALI */:\r\n                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\r\n            case 14 /* CAMBODIAN */:\r\n            case 30 /* KHMER */:\r\n                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\r\n            case 15 /* CJK_EARTHLY_BRANCH */:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case 16 /* CJK_HEAVENLY_STEM */:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case 17 /* CJK_IDEOGRAPHIC */:\r\n            case 48 /* TRAD_CHINESE_INFORMAL */:\r\n                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case 47 /* TRAD_CHINESE_FORMAL */:\r\n                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case 42 /* SIMP_CHINESE_INFORMAL */:\r\n                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case 41 /* SIMP_CHINESE_FORMAL */:\r\n                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case 26 /* JAPANESE_INFORMAL */:\r\n                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\r\n            case 25 /* JAPANESE_FORMAL */:\r\n                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case 31 /* KOREAN_HANGUL_FORMAL */:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case 33 /* KOREAN_HANJA_INFORMAL */:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\r\n            case 32 /* KOREAN_HANJA_FORMAL */:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case 18 /* DEVANAGARI */:\r\n                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\r\n            case 20 /* GEORGIAN */:\r\n                return createAdditiveCounter(value, 1, 19999, GEORGIAN, 3 /* DECIMAL */, defaultSuffix);\r\n            case 21 /* GUJARATI */:\r\n                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\r\n            case 22 /* GURMUKHI */:\r\n                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\r\n            case 22 /* HEBREW */:\r\n                return createAdditiveCounter(value, 1, 10999, HEBREW, 3 /* DECIMAL */, defaultSuffix);\r\n            case 23 /* HIRAGANA */:\r\n                return createCounterStyleFromSymbols(value, '');\r\n            case 24 /* HIRAGANA_IROHA */:\r\n                return createCounterStyleFromSymbols(value, '');\r\n            case 27 /* KANNADA */:\r\n                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\r\n            case 28 /* KATAKANA */:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case 29 /* KATAKANA_IROHA */:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case 34 /* LAO */:\r\n                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\r\n            case 37 /* MONGOLIAN */:\r\n                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\r\n            case 38 /* MYANMAR */:\r\n                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\r\n            case 39 /* ORIYA */:\r\n                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\r\n            case 40 /* PERSIAN */:\r\n                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\r\n            case 43 /* TAMIL */:\r\n                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\r\n            case 44 /* TELUGU */:\r\n                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\r\n            case 45 /* THAI */:\r\n                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\r\n            case 46 /* TIBETAN */:\r\n                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\r\n            case 3 /* DECIMAL */:\r\n            default:\r\n                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n        }\r\n    };\r\n\r\n    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\r\n    var DocumentCloner = /** @class */ (function () {\r\n        function DocumentCloner(context, element, options) {\r\n            this.context = context;\r\n            this.options = options;\r\n            this.scrolledElements = [];\r\n            this.referenceElement = element;\r\n            this.counters = new CounterState();\r\n            this.quoteDepth = 0;\r\n            if (!element.ownerDocument) {\r\n                throw new Error('Cloned element does not have an owner document');\r\n            }\r\n            this.documentElement = this.cloneNode(element.ownerDocument.documentElement, false);\r\n        }\r\n        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {\r\n            var _this = this;\r\n            var iframe = createIFrameContainer(ownerDocument, windowSize);\r\n            if (!iframe.contentWindow) {\r\n                return Promise.reject(\"Unable to find iframe window\");\r\n            }\r\n            var scrollX = ownerDocument.defaultView.pageXOffset;\r\n            var scrollY = ownerDocument.defaultView.pageYOffset;\r\n            var cloneWindow = iframe.contentWindow;\r\n            var documentClone = cloneWindow.document;\r\n            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n             if window url is about:blank, we can assign the url to current by writing onto the document\r\n             */\r\n            var iframeLoad = iframeLoader(iframe).then(function () { return __awaiter(_this, void 0, void 0, function () {\r\n                var onclone, referenceElement;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.scrolledElements.forEach(restoreNodeScroll);\r\n                            if (cloneWindow) {\r\n                                cloneWindow.scrollTo(windowSize.left, windowSize.top);\r\n                                if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\r\n                                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {\r\n                                    this.context.logger.warn('Unable to restore scroll position for cloned document');\r\n                                    this.context.windowBounds = this.context.windowBounds.add(cloneWindow.scrollX - windowSize.left, cloneWindow.scrollY - windowSize.top, 0, 0);\r\n                                }\r\n                            }\r\n                            onclone = this.options.onclone;\r\n                            referenceElement = this.clonedReferenceElement;\r\n                            if (typeof referenceElement === 'undefined') {\r\n                                return [2 /*return*/, Promise.reject(\"Error finding the \" + this.referenceElement.nodeName + \" in the cloned document\")];\r\n                            }\r\n                            if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, documentClone.fonts.ready];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            if (!/(AppleWebKit)/g.test(navigator.userAgent)) return [3 /*break*/, 4];\r\n                            return [4 /*yield*/, imagesReady(documentClone)];\r\n                        case 3:\r\n                            _a.sent();\r\n                            _a.label = 4;\r\n                        case 4:\r\n                            if (typeof onclone === 'function') {\r\n                                return [2 /*return*/, Promise.resolve()\r\n                                        .then(function () { return onclone(documentClone, referenceElement); })\r\n                                        .then(function () { return iframe; })];\r\n                            }\r\n                            return [2 /*return*/, iframe];\r\n                    }\r\n                });\r\n            }); });\r\n            documentClone.open();\r\n            documentClone.write(serializeDoctype(document.doctype) + \"<html></html>\");\r\n            // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\r\n            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\r\n            documentClone.close();\r\n            return iframeLoad;\r\n        };\r\n        DocumentCloner.prototype.createElementClone = function (node) {\r\n            if (isDebugging(node, 2 /* CLONE */)) {\r\n                debugger;\r\n            }\r\n            if (isCanvasElement(node)) {\r\n                return this.createCanvasClone(node);\r\n            }\r\n            if (isVideoElement(node)) {\r\n                return this.createVideoClone(node);\r\n            }\r\n            if (isStyleElement(node)) {\r\n                return this.createStyleClone(node);\r\n            }\r\n            var clone = node.cloneNode(false);\r\n            if (isImageElement(clone)) {\r\n                if (isImageElement(node) && node.currentSrc && node.currentSrc !== node.src) {\r\n                    clone.src = node.currentSrc;\r\n                    clone.srcset = '';\r\n                }\r\n                if (clone.loading === 'lazy') {\r\n                    clone.loading = 'eager';\r\n                }\r\n            }\r\n            if (isCustomElement(clone)) {\r\n                return this.createCustomElementClone(clone);\r\n            }\r\n            return clone;\r\n        };\r\n        DocumentCloner.prototype.createCustomElementClone = function (node) {\r\n            var clone = document.createElement('html2canvascustomelement');\r\n            copyCSSStyles(node.style, clone);\r\n            return clone;\r\n        };\r\n        DocumentCloner.prototype.createStyleClone = function (node) {\r\n            try {\r\n                var sheet = node.sheet;\r\n                if (sheet && sheet.cssRules) {\r\n                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {\r\n                        if (rule && typeof rule.cssText === 'string') {\r\n                            return css + rule.cssText;\r\n                        }\r\n                        return css;\r\n                    }, '');\r\n                    var style = node.cloneNode(false);\r\n                    style.textContent = css;\r\n                    return style;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // accessing node.sheet.cssRules throws a DOMException\r\n                this.context.logger.error('Unable to access cssRules property', e);\r\n                if (e.name !== 'SecurityError') {\r\n                    throw e;\r\n                }\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createCanvasClone = function (canvas) {\r\n            var _a;\r\n            if (this.options.inlineImages && canvas.ownerDocument) {\r\n                var img = canvas.ownerDocument.createElement('img');\r\n                try {\r\n                    img.src = canvas.toDataURL();\r\n                    return img;\r\n                }\r\n                catch (e) {\r\n                    this.context.logger.info(\"Unable to inline canvas contents, canvas is tainted\", canvas);\r\n                }\r\n            }\r\n            var clonedCanvas = canvas.cloneNode(false);\r\n            try {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                var ctx = canvas.getContext('2d');\r\n                var clonedCtx = clonedCanvas.getContext('2d');\r\n                if (clonedCtx) {\r\n                    if (!this.options.allowTaint && ctx) {\r\n                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n                    }\r\n                    else {\r\n                        var gl = (_a = canvas.getContext('webgl2')) !== null && _a !== void 0 ? _a : canvas.getContext('webgl');\r\n                        if (gl) {\r\n                            var attribs = gl.getContextAttributes();\r\n                            if ((attribs === null || attribs === void 0 ? void 0 : attribs.preserveDrawingBuffer) === false) {\r\n                                this.context.logger.warn('Unable to clone WebGL context as it has preserveDrawingBuffer=false', canvas);\r\n                            }\r\n                        }\r\n                        clonedCtx.drawImage(canvas, 0, 0);\r\n                    }\r\n                }\r\n                return clonedCanvas;\r\n            }\r\n            catch (e) {\r\n                this.context.logger.info(\"Unable to clone canvas as it is tainted\", canvas);\r\n            }\r\n            return clonedCanvas;\r\n        };\r\n        DocumentCloner.prototype.createVideoClone = function (video) {\r\n            var canvas = video.ownerDocument.createElement('canvas');\r\n            canvas.width = video.offsetWidth;\r\n            canvas.height = video.offsetHeight;\r\n            var ctx = canvas.getContext('2d');\r\n            try {\r\n                if (ctx) {\r\n                    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n                    if (!this.options.allowTaint) {\r\n                        ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n                    }\r\n                }\r\n                return canvas;\r\n            }\r\n            catch (e) {\r\n                this.context.logger.info(\"Unable to clone video as it is tainted\", video);\r\n            }\r\n            var blankCanvas = video.ownerDocument.createElement('canvas');\r\n            blankCanvas.width = video.offsetWidth;\r\n            blankCanvas.height = video.offsetHeight;\r\n            return blankCanvas;\r\n        };\r\n        DocumentCloner.prototype.appendChildNode = function (clone, child, copyStyles) {\r\n            if (!isElementNode(child) ||\r\n                (!isScriptElement(child) &&\r\n                    !child.hasAttribute(IGNORE_ATTRIBUTE) &&\r\n                    (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {\r\n                if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\r\n                    clone.appendChild(this.cloneNode(child, copyStyles));\r\n                }\r\n            }\r\n        };\r\n        DocumentCloner.prototype.cloneChildNodes = function (node, clone, copyStyles) {\r\n            var _this = this;\r\n            for (var child = node.shadowRoot ? node.shadowRoot.firstChild : node.firstChild; child; child = child.nextSibling) {\r\n                if (isElementNode(child) && isSlotElement(child) && typeof child.assignedNodes === 'function') {\r\n                    var assignedNodes = child.assignedNodes();\r\n                    if (assignedNodes.length) {\r\n                        assignedNodes.forEach(function (assignedNode) { return _this.appendChildNode(clone, assignedNode, copyStyles); });\r\n                    }\r\n                }\r\n                else {\r\n                    this.appendChildNode(clone, child, copyStyles);\r\n                }\r\n            }\r\n        };\r\n        DocumentCloner.prototype.cloneNode = function (node, copyStyles) {\r\n            if (isTextNode(node)) {\r\n                return document.createTextNode(node.data);\r\n            }\r\n            if (!node.ownerDocument) {\r\n                return node.cloneNode(false);\r\n            }\r\n            var window = node.ownerDocument.defaultView;\r\n            if (window && isElementNode(node) && (isHTMLElementNode(node) || isSVGElementNode(node))) {\r\n                var clone = this.createElementClone(node);\r\n                clone.style.transitionProperty = 'none';\r\n                var style = window.getComputedStyle(node);\r\n                var styleBefore = window.getComputedStyle(node, ':before');\r\n                var styleAfter = window.getComputedStyle(node, ':after');\r\n                if (this.referenceElement === node && isHTMLElementNode(clone)) {\r\n                    this.clonedReferenceElement = clone;\r\n                }\r\n                if (isBodyElement(clone)) {\r\n                    createPseudoHideStyles(clone);\r\n                }\r\n                var counters = this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\r\n                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\r\n                if (isCustomElement(node)) {\r\n                    copyStyles = true;\r\n                }\r\n                if (!isVideoElement(node)) {\r\n                    this.cloneChildNodes(node, clone, copyStyles);\r\n                }\r\n                if (before) {\r\n                    clone.insertBefore(before, clone.firstChild);\r\n                }\r\n                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\r\n                if (after) {\r\n                    clone.appendChild(after);\r\n                }\r\n                this.counters.pop(counters);\r\n                if ((style && (this.options.copyStyles || isSVGElementNode(node)) && !isIFrameElement(node)) ||\r\n                    copyStyles) {\r\n                    copyCSSStyles(style, clone);\r\n                }\r\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\r\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\r\n                }\r\n                if ((isTextareaElement(node) || isSelectElement(node)) &&\r\n                    (isTextareaElement(clone) || isSelectElement(clone))) {\r\n                    clone.value = node.value;\r\n                }\r\n                return clone;\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {\r\n            var _this = this;\r\n            if (!style) {\r\n                return;\r\n            }\r\n            var value = style.content;\r\n            var document = clone.ownerDocument;\r\n            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\r\n                return;\r\n            }\r\n            this.counters.parse(new CSSParsedCounterDeclaration(this.context, style));\r\n            var declaration = new CSSParsedPseudoDeclaration(this.context, style);\r\n            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\r\n            copyCSSStyles(style, anonymousReplacedElement);\r\n            declaration.content.forEach(function (token) {\r\n                if (token.type === 0 /* STRING_TOKEN */) {\r\n                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                }\r\n                else if (token.type === 22 /* URL_TOKEN */) {\r\n                    var img = document.createElement('img');\r\n                    img.src = token.value;\r\n                    img.style.opacity = '1';\r\n                    anonymousReplacedElement.appendChild(img);\r\n                }\r\n                else if (token.type === 18 /* FUNCTION */) {\r\n                    if (token.name === 'attr') {\r\n                        var attr = token.values.filter(isIdentToken);\r\n                        if (attr.length) {\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counter') {\r\n                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterState = _this.counters.getCounterValue(counter.value);\r\n                            var counterType = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(_this.context, counterStyle.value)\r\n                                : 3 /* DECIMAL */;\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counters') {\r\n                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterStates = _this.counters.getCounterValues(counter.value);\r\n                            var counterType_1 = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(_this.context, counterStyle.value)\r\n                                : 3 /* DECIMAL */;\r\n                            var separator = delim && delim.type === 0 /* STRING_TOKEN */ ? delim.value : '';\r\n                            var text = counterStates\r\n                                .map(function (value) { return createCounterText(value, counterType_1, false); })\r\n                                .join(separator);\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(text));\r\n                        }\r\n                    }\r\n                    else ;\r\n                }\r\n                else if (token.type === 20 /* IDENT_TOKEN */) {\r\n                    switch (token.value) {\r\n                        case 'open-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));\r\n                            break;\r\n                        case 'close-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));\r\n                            break;\r\n                        default:\r\n                            // safari doesn't parse string tokens correctly because of lack of quotes\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                    }\r\n                }\r\n            });\r\n            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            var newClassName = pseudoElt === PseudoElementType.BEFORE\r\n                ? \" \" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE\r\n                : \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            if (isSVGElementNode(clone)) {\r\n                clone.className.baseValue += newClassName;\r\n            }\r\n            else {\r\n                clone.className += newClassName;\r\n            }\r\n            return anonymousReplacedElement;\r\n        };\r\n        DocumentCloner.destroy = function (container) {\r\n            if (container.parentNode) {\r\n                container.parentNode.removeChild(container);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return DocumentCloner;\r\n    }());\r\n    var PseudoElementType;\r\n    (function (PseudoElementType) {\r\n        PseudoElementType[PseudoElementType[\"BEFORE\"] = 0] = \"BEFORE\";\r\n        PseudoElementType[PseudoElementType[\"AFTER\"] = 1] = \"AFTER\";\r\n    })(PseudoElementType || (PseudoElementType = {}));\r\n    var createIFrameContainer = function (ownerDocument, bounds) {\r\n        var cloneIframeContainer = ownerDocument.createElement('iframe');\r\n        cloneIframeContainer.className = 'html2canvas-container';\r\n        cloneIframeContainer.style.visibility = 'hidden';\r\n        cloneIframeContainer.style.position = 'fixed';\r\n        cloneIframeContainer.style.left = '-10000px';\r\n        cloneIframeContainer.style.top = '0px';\r\n        cloneIframeContainer.style.border = '0';\r\n        cloneIframeContainer.width = bounds.width.toString();\r\n        cloneIframeContainer.height = bounds.height.toString();\r\n        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\r\n        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\r\n        ownerDocument.body.appendChild(cloneIframeContainer);\r\n        return cloneIframeContainer;\r\n    };\r\n    var imageReady = function (img) {\r\n        return new Promise(function (resolve) {\r\n            if (img.complete) {\r\n                resolve();\r\n                return;\r\n            }\r\n            if (!img.src) {\r\n                resolve();\r\n                return;\r\n            }\r\n            img.onload = resolve;\r\n            img.onerror = resolve;\r\n        });\r\n    };\r\n    var imagesReady = function (document) {\r\n        return Promise.all([].slice.call(document.images, 0).map(imageReady));\r\n    };\r\n    var iframeLoader = function (iframe) {\r\n        return new Promise(function (resolve, reject) {\r\n            var cloneWindow = iframe.contentWindow;\r\n            if (!cloneWindow) {\r\n                return reject(\"No window assigned for iframe\");\r\n            }\r\n            var documentClone = cloneWindow.document;\r\n            cloneWindow.onload = iframe.onload = function () {\r\n                cloneWindow.onload = iframe.onload = null;\r\n                var interval = setInterval(function () {\r\n                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\r\n                        clearInterval(interval);\r\n                        resolve(iframe);\r\n                    }\r\n                }, 50);\r\n            };\r\n        });\r\n    };\r\n    var ignoredStyleProperties = [\r\n        'all',\r\n        'd',\r\n        'content' // Safari shows pseudoelements if content is set\r\n    ];\r\n    var copyCSSStyles = function (style, target) {\r\n        // Edge does not provide value for cssText\r\n        for (var i = style.length - 1; i >= 0; i--) {\r\n            var property = style.item(i);\r\n            if (ignoredStyleProperties.indexOf(property) === -1) {\r\n                target.style.setProperty(property, style.getPropertyValue(property));\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n    var serializeDoctype = function (doctype) {\r\n        var str = '';\r\n        if (doctype) {\r\n            str += '<!DOCTYPE ';\r\n            if (doctype.name) {\r\n                str += doctype.name;\r\n            }\r\n            if (doctype.internalSubset) {\r\n                str += doctype.internalSubset;\r\n            }\r\n            if (doctype.publicId) {\r\n                str += \"\\\"\" + doctype.publicId + \"\\\"\";\r\n            }\r\n            if (doctype.systemId) {\r\n                str += \"\\\"\" + doctype.systemId + \"\\\"\";\r\n            }\r\n            str += '>';\r\n        }\r\n        return str;\r\n    };\r\n    var restoreOwnerScroll = function (ownerDocument, x, y) {\r\n        if (ownerDocument &&\r\n            ownerDocument.defaultView &&\r\n            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n            ownerDocument.defaultView.scrollTo(x, y);\r\n        }\r\n    };\r\n    var restoreNodeScroll = function (_a) {\r\n        var element = _a[0], x = _a[1], y = _a[2];\r\n        element.scrollLeft = x;\r\n        element.scrollTop = y;\r\n    };\r\n    var PSEUDO_BEFORE = ':before';\r\n    var PSEUDO_AFTER = ':after';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\r\n    var PSEUDO_HIDE_ELEMENT_STYLE = \"{\\n    content: \\\"\\\" !important;\\n    display: none !important;\\n}\";\r\n    var createPseudoHideStyles = function (body) {\r\n        createStyles(body, \".\" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + \"\\n         .\" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\r\n    };\r\n    var createStyles = function (body, styles) {\r\n        var document = body.ownerDocument;\r\n        if (document) {\r\n            var style = document.createElement('style');\r\n            style.textContent = styles;\r\n            body.appendChild(style);\r\n        }\r\n    };\r\n\r\n    var CacheStorage = /** @class */ (function () {\r\n        function CacheStorage() {\r\n        }\r\n        CacheStorage.getOrigin = function (url) {\r\n            var link = CacheStorage._link;\r\n            if (!link) {\r\n                return 'about:blank';\r\n            }\r\n            link.href = url;\r\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n            return link.protocol + link.hostname + link.port;\r\n        };\r\n        CacheStorage.isSameOrigin = function (src) {\r\n            return CacheStorage.getOrigin(src) === CacheStorage._origin;\r\n        };\r\n        CacheStorage.setContext = function (window) {\r\n            CacheStorage._link = window.document.createElement('a');\r\n            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\r\n        };\r\n        CacheStorage._origin = 'about:blank';\r\n        return CacheStorage;\r\n    }());\r\n    var Cache = /** @class */ (function () {\r\n        function Cache(context, _options) {\r\n            this.context = context;\r\n            this._options = _options;\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            this._cache = {};\r\n        }\r\n        Cache.prototype.addImage = function (src) {\r\n            var result = Promise.resolve();\r\n            if (this.has(src)) {\r\n                return result;\r\n            }\r\n            if (isBlobImage(src) || isRenderable(src)) {\r\n                (this._cache[src] = this.loadImage(src)).catch(function () {\r\n                    // prevent unhandled rejection\r\n                });\r\n                return result;\r\n            }\r\n            return result;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Cache.prototype.match = function (src) {\r\n            return this._cache[src];\r\n        };\r\n        Cache.prototype.loadImage = function (key) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var isSameOrigin, useCORS, useProxy, src;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            isSameOrigin = CacheStorage.isSameOrigin(key);\r\n                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\r\n                            useProxy = !isInlineImage(key) &&\r\n                                !isSameOrigin &&\r\n                                !isBlobImage(key) &&\r\n                                typeof this._options.proxy === 'string' &&\r\n                                FEATURES.SUPPORT_CORS_XHR &&\r\n                                !useCORS;\r\n                            if (!isSameOrigin &&\r\n                                this._options.allowTaint === false &&\r\n                                !isInlineImage(key) &&\r\n                                !isBlobImage(key) &&\r\n                                !useProxy &&\r\n                                !useCORS) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            src = key;\r\n                            if (!useProxy) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.proxy(src)];\r\n                        case 1:\r\n                            src = _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            this.context.logger.debug(\"Added image \" + key.substring(0, 256));\r\n                            return [4 /*yield*/, new Promise(function (resolve, reject) {\r\n                                    var img = new Image();\r\n                                    img.onload = function () { return resolve(img); };\r\n                                    img.onerror = reject;\r\n                                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\r\n                                    if (isInlineBase64Image(src) || useCORS) {\r\n                                        img.crossOrigin = 'anonymous';\r\n                                    }\r\n                                    img.src = src;\r\n                                    if (img.complete === true) {\r\n                                        // Inline XML images may fail to parse, throwing an Error later on\r\n                                        setTimeout(function () { return resolve(img); }, 500);\r\n                                    }\r\n                                    if (_this._options.imageTimeout > 0) {\r\n                                        setTimeout(function () { return reject(\"Timed out (\" + _this._options.imageTimeout + \"ms) loading image\"); }, _this._options.imageTimeout);\r\n                                    }\r\n                                })];\r\n                        case 3: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Cache.prototype.has = function (key) {\r\n            return typeof this._cache[key] !== 'undefined';\r\n        };\r\n        Cache.prototype.keys = function () {\r\n            return Promise.resolve(Object.keys(this._cache));\r\n        };\r\n        Cache.prototype.proxy = function (src) {\r\n            var _this = this;\r\n            var proxy = this._options.proxy;\r\n            if (!proxy) {\r\n                throw new Error('No proxy defined');\r\n            }\r\n            var key = src.substring(0, 256);\r\n            return new Promise(function (resolve, reject) {\r\n                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        if (responseType === 'text') {\r\n                            resolve(xhr.response);\r\n                        }\r\n                        else {\r\n                            var reader_1 = new FileReader();\r\n                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);\r\n                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);\r\n                            reader_1.readAsDataURL(xhr.response);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(\"Failed to proxy resource \" + key + \" with status code \" + xhr.status);\r\n                    }\r\n                };\r\n                xhr.onerror = reject;\r\n                var queryString = proxy.indexOf('?') > -1 ? '&' : '?';\r\n                xhr.open('GET', \"\" + proxy + queryString + \"url=\" + encodeURIComponent(src) + \"&responseType=\" + responseType);\r\n                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\r\n                    xhr.responseType = responseType;\r\n                }\r\n                if (_this._options.imageTimeout) {\r\n                    var timeout_1 = _this._options.imageTimeout;\r\n                    xhr.timeout = timeout_1;\r\n                    xhr.ontimeout = function () { return reject(\"Timed out (\" + timeout_1 + \"ms) proxying \" + key); };\r\n                }\r\n                xhr.send();\r\n            });\r\n        };\r\n        return Cache;\r\n    }());\r\n    var INLINE_SVG = /^data:image\\/svg\\+xml/i;\r\n    var INLINE_BASE64 = /^data:image\\/.*;base64,/i;\r\n    var INLINE_IMG = /^data:image\\/.*/i;\r\n    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };\r\n    var isInlineImage = function (src) { return INLINE_IMG.test(src); };\r\n    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };\r\n    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };\r\n    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };\r\n\r\n    var Vector = /** @class */ (function () {\r\n        function Vector(x, y) {\r\n            this.type = 0 /* VECTOR */;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        Vector.prototype.add = function (deltaX, deltaY) {\r\n            return new Vector(this.x + deltaX, this.y + deltaY);\r\n        };\r\n        return Vector;\r\n    }());\r\n\r\n    var lerp = function (a, b, t) {\r\n        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n    };\r\n    var BezierCurve = /** @class */ (function () {\r\n        function BezierCurve(start, startControl, endControl, end) {\r\n            this.type = 1 /* BEZIER_CURVE */;\r\n            this.start = start;\r\n            this.startControl = startControl;\r\n            this.endControl = endControl;\r\n            this.end = end;\r\n        }\r\n        BezierCurve.prototype.subdivide = function (t, firstHalf) {\r\n            var ab = lerp(this.start, this.startControl, t);\r\n            var bc = lerp(this.startControl, this.endControl, t);\r\n            var cd = lerp(this.endControl, this.end, t);\r\n            var abbc = lerp(ab, bc, t);\r\n            var bccd = lerp(bc, cd, t);\r\n            var dest = lerp(abbc, bccd, t);\r\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\r\n        };\r\n        BezierCurve.prototype.add = function (deltaX, deltaY) {\r\n            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));\r\n        };\r\n        BezierCurve.prototype.reverse = function () {\r\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\r\n        };\r\n        return BezierCurve;\r\n    }());\r\n    var isBezierCurve = function (path) { return path.type === 1 /* BEZIER_CURVE */; };\r\n\r\n    var BoundCurves = /** @class */ (function () {\r\n        function BoundCurves(element) {\r\n            var styles = element.styles;\r\n            var bounds = element.bounds;\r\n            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];\r\n            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];\r\n            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];\r\n            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];\r\n            var factors = [];\r\n            factors.push((tlh + trh) / bounds.width);\r\n            factors.push((blh + brh) / bounds.width);\r\n            factors.push((tlv + blv) / bounds.height);\r\n            factors.push((trv + brv) / bounds.height);\r\n            var maxFactor = Math.max.apply(Math, factors);\r\n            if (maxFactor > 1) {\r\n                tlh /= maxFactor;\r\n                tlv /= maxFactor;\r\n                trh /= maxFactor;\r\n                trv /= maxFactor;\r\n                brh /= maxFactor;\r\n                brv /= maxFactor;\r\n                blh /= maxFactor;\r\n                blv /= maxFactor;\r\n            }\r\n            var topWidth = bounds.width - trh;\r\n            var rightHeight = bounds.height - brv;\r\n            var bottomWidth = bounds.width - brh;\r\n            var leftHeight = bounds.height - blv;\r\n            var borderTopWidth = styles.borderTopWidth;\r\n            var borderRightWidth = styles.borderRightWidth;\r\n            var borderBottomWidth = styles.borderBottomWidth;\r\n            var borderLeftWidth = styles.borderLeftWidth;\r\n            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\r\n            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\r\n            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\r\n            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\r\n            this.topLeftBorderDoubleOuterBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth / 3, bounds.top + borderTopWidth / 3, tlh - borderLeftWidth / 3, tlv - borderTopWidth / 3, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + borderTopWidth / 3);\r\n            this.topRightBorderDoubleOuterBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top + borderTopWidth / 3, trh - borderRightWidth / 3, trv - borderTopWidth / 3, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth / 3, bounds.top + borderTopWidth / 3);\r\n            this.bottomRightBorderDoubleOuterBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh - borderRightWidth / 3, brv - borderBottomWidth / 3, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth / 3, bounds.top + bounds.height - borderBottomWidth / 3);\r\n            this.bottomLeftBorderDoubleOuterBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth / 3, bounds.top + leftHeight, blh - borderLeftWidth / 3, blv - borderBottomWidth / 3, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth / 3, bounds.top + bounds.height - borderBottomWidth / 3);\r\n            this.topLeftBorderDoubleInnerBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + (borderTopWidth * 2) / 3, tlh - (borderLeftWidth * 2) / 3, tlv - (borderTopWidth * 2) / 3, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + (borderTopWidth * 2) / 3);\r\n            this.topRightBorderDoubleInnerBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top + (borderTopWidth * 2) / 3, trh - (borderRightWidth * 2) / 3, trv - (borderTopWidth * 2) / 3, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth * 2) / 3, bounds.top + (borderTopWidth * 2) / 3);\r\n            this.bottomRightBorderDoubleInnerBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh - (borderRightWidth * 2) / 3, brv - (borderBottomWidth * 2) / 3, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth * 2) / 3, bounds.top + bounds.height - (borderBottomWidth * 2) / 3);\r\n            this.bottomLeftBorderDoubleInnerBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + leftHeight, blh - (borderLeftWidth * 2) / 3, blv - (borderBottomWidth * 2) / 3, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + (borderLeftWidth * 2) / 3, bounds.top + bounds.height - (borderBottomWidth * 2) / 3);\r\n            this.topLeftBorderStroke =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth / 2, bounds.top + borderTopWidth / 2, tlh - borderLeftWidth / 2, tlv - borderTopWidth / 2, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + borderTopWidth / 2);\r\n            this.topRightBorderStroke =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top + borderTopWidth / 2, trh - borderRightWidth / 2, trv - borderTopWidth / 2, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth / 2, bounds.top + borderTopWidth / 2);\r\n            this.bottomRightBorderStroke =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh - borderRightWidth / 2, brv - borderBottomWidth / 2, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth / 2, bounds.top + bounds.height - borderBottomWidth / 2);\r\n            this.bottomLeftBorderStroke =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth / 2, bounds.top + leftHeight, blh - borderLeftWidth / 2, blv - borderBottomWidth / 2, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth / 2, bounds.top + bounds.height - borderBottomWidth / 2);\r\n            this.topLeftBorderBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left, bounds.top);\r\n            this.topRightBorderBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top);\r\n            this.bottomRightBorderBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\r\n            this.bottomLeftBorderBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left, bounds.top + bounds.height);\r\n            this.topLeftPaddingBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\r\n            this.topRightPaddingBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width - borderRightWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderRightWidth ? 0 : Math.max(0, trh - borderRightWidth), Math.max(0, trv - borderTopWidth), CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\r\n            this.bottomRightPaddingBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height - borderBottomWidth), Math.max(0, brh - borderRightWidth), Math.max(0, brv - borderBottomWidth), CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.bottomLeftPaddingBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + Math.min(leftHeight, bounds.height - borderBottomWidth), Math.max(0, blh - borderLeftWidth), Math.max(0, blv - borderBottomWidth), CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.topLeftContentBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\r\n            this.topRightContentBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);\r\n            this.bottomRightContentBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n            this.bottomLeftContentBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n        }\r\n        return BoundCurves;\r\n    }());\r\n    var CORNER;\r\n    (function (CORNER) {\r\n        CORNER[CORNER[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\r\n        CORNER[CORNER[\"TOP_RIGHT\"] = 1] = \"TOP_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_RIGHT\"] = 2] = \"BOTTOM_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\r\n    })(CORNER || (CORNER = {}));\r\n    var getCurvePoints = function (x, y, r1, r2, position) {\r\n        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n        var ox = r1 * kappa; // control point offset horizontal\r\n        var oy = r2 * kappa; // control point offset vertical\r\n        var xm = x + r1; // x-middle\r\n        var ym = y + r2; // y-middle\r\n        switch (position) {\r\n            case CORNER.TOP_LEFT:\r\n                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\r\n            case CORNER.TOP_RIGHT:\r\n                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\r\n            case CORNER.BOTTOM_RIGHT:\r\n                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\r\n            case CORNER.BOTTOM_LEFT:\r\n            default:\r\n                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\r\n        }\r\n    };\r\n    var calculateBorderBoxPath = function (curves) {\r\n        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\r\n    };\r\n    var calculateContentBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftContentBox,\r\n            curves.topRightContentBox,\r\n            curves.bottomRightContentBox,\r\n            curves.bottomLeftContentBox\r\n        ];\r\n    };\r\n    var calculatePaddingBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftPaddingBox,\r\n            curves.topRightPaddingBox,\r\n            curves.bottomRightPaddingBox,\r\n            curves.bottomLeftPaddingBox\r\n        ];\r\n    };\r\n\r\n    var TransformEffect = /** @class */ (function () {\r\n        function TransformEffect(offsetX, offsetY, matrix) {\r\n            this.offsetX = offsetX;\r\n            this.offsetY = offsetY;\r\n            this.matrix = matrix;\r\n            this.type = 0 /* TRANSFORM */;\r\n            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;\r\n        }\r\n        return TransformEffect;\r\n    }());\r\n    var ClipEffect = /** @class */ (function () {\r\n        function ClipEffect(path, target) {\r\n            this.path = path;\r\n            this.target = target;\r\n            this.type = 1 /* CLIP */;\r\n        }\r\n        return ClipEffect;\r\n    }());\r\n    var OpacityEffect = /** @class */ (function () {\r\n        function OpacityEffect(opacity) {\r\n            this.opacity = opacity;\r\n            this.type = 2 /* OPACITY */;\r\n            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;\r\n        }\r\n        return OpacityEffect;\r\n    }());\r\n    var isTransformEffect = function (effect) {\r\n        return effect.type === 0 /* TRANSFORM */;\r\n    };\r\n    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };\r\n    var isOpacityEffect = function (effect) { return effect.type === 2 /* OPACITY */; };\r\n\r\n    var equalPath = function (a, b) {\r\n        if (a.length === b.length) {\r\n            return a.some(function (v, i) { return v === b[i]; });\r\n        }\r\n        return false;\r\n    };\r\n    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {\r\n        return path.map(function (point, index) {\r\n            switch (index) {\r\n                case 0:\r\n                    return point.add(deltaX, deltaY);\r\n                case 1:\r\n                    return point.add(deltaX + deltaW, deltaY);\r\n                case 2:\r\n                    return point.add(deltaX + deltaW, deltaY + deltaH);\r\n                case 3:\r\n                    return point.add(deltaX, deltaY + deltaH);\r\n            }\r\n            return point;\r\n        });\r\n    };\r\n\r\n    var StackingContext = /** @class */ (function () {\r\n        function StackingContext(container) {\r\n            this.element = container;\r\n            this.inlineLevel = [];\r\n            this.nonInlineLevel = [];\r\n            this.negativeZIndex = [];\r\n            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\r\n            this.positiveZIndex = [];\r\n            this.nonPositionedFloats = [];\r\n            this.nonPositionedInlineLevel = [];\r\n        }\r\n        return StackingContext;\r\n    }());\r\n    var ElementPaint = /** @class */ (function () {\r\n        function ElementPaint(container, parent) {\r\n            this.container = container;\r\n            this.parent = parent;\r\n            this.effects = [];\r\n            this.curves = new BoundCurves(this.container);\r\n            if (this.container.styles.opacity < 1) {\r\n                this.effects.push(new OpacityEffect(this.container.styles.opacity));\r\n            }\r\n            if (this.container.styles.transform !== null) {\r\n                var offsetX = this.container.bounds.left + this.container.styles.transformOrigin[0].number;\r\n                var offsetY = this.container.bounds.top + this.container.styles.transformOrigin[1].number;\r\n                var matrix = this.container.styles.transform;\r\n                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\r\n            }\r\n            if (this.container.styles.overflowX !== 0 /* VISIBLE */) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (equalPath(borderBox, paddingBox)) {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n                else {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));\r\n                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));\r\n                }\r\n            }\r\n        }\r\n        ElementPaint.prototype.getEffects = function (target) {\r\n            var inFlow = [2 /* ABSOLUTE */, 3 /* FIXED */].indexOf(this.container.styles.position) === -1;\r\n            var parent = this.parent;\r\n            var effects = this.effects.slice(0);\r\n            while (parent) {\r\n                var croplessEffects = parent.effects.filter(function (effect) { return !isClipEffect(effect); });\r\n                if (inFlow || parent.container.styles.position !== 0 /* STATIC */ || !parent.parent) {\r\n                    effects.unshift.apply(effects, croplessEffects);\r\n                    inFlow = [2 /* ABSOLUTE */, 3 /* FIXED */].indexOf(parent.container.styles.position) === -1;\r\n                    if (parent.container.styles.overflowX !== 0 /* VISIBLE */) {\r\n                        var borderBox = calculateBorderBoxPath(parent.curves);\r\n                        var paddingBox = calculatePaddingBoxPath(parent.curves);\r\n                        if (!equalPath(borderBox, paddingBox)) {\r\n                            effects.unshift(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    effects.unshift.apply(effects, croplessEffects);\r\n                }\r\n                parent = parent.parent;\r\n            }\r\n            return effects.filter(function (effect) { return contains(effect.target, target); });\r\n        };\r\n        return ElementPaint;\r\n    }());\r\n    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {\r\n        parent.container.elements.forEach(function (child) {\r\n            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);\r\n            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);\r\n            var paintContainer = new ElementPaint(child, parent);\r\n            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {\r\n                listItems.push(paintContainer);\r\n            }\r\n            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;\r\n            if (treatAsRealStackingContext || createsStackingContext) {\r\n                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\r\n                var stack = new StackingContext(paintContainer);\r\n                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\r\n                    var order_1 = child.styles.zIndex.order;\r\n                    if (order_1 < 0) {\r\n                        var index_1 = 0;\r\n                        parentStack.negativeZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_1 = i;\r\n                                return false;\r\n                            }\r\n                            else if (index_1 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.negativeZIndex.splice(index_1, 0, stack);\r\n                    }\r\n                    else if (order_1 > 0) {\r\n                        var index_2 = 0;\r\n                        parentStack.positiveZIndex.some(function (current, i) {\r\n                            if (order_1 >= current.element.container.styles.zIndex.order) {\r\n                                index_2 = i + 1;\r\n                                return false;\r\n                            }\r\n                            else if (index_2 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.positiveZIndex.splice(index_2, 0, stack);\r\n                    }\r\n                    else {\r\n                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\r\n                    }\r\n                }\r\n                else {\r\n                    if (child.styles.isFloating()) {\r\n                        parentStack.nonPositionedFloats.push(stack);\r\n                    }\r\n                    else {\r\n                        parentStack.nonPositionedInlineLevel.push(stack);\r\n                    }\r\n                }\r\n                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);\r\n            }\r\n            else {\r\n                if (child.styles.isInlineLevel()) {\r\n                    stackingContext.inlineLevel.push(paintContainer);\r\n                }\r\n                else {\r\n                    stackingContext.nonInlineLevel.push(paintContainer);\r\n                }\r\n                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\r\n            }\r\n            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {\r\n                processListItems(child, listOwnerItems);\r\n            }\r\n        });\r\n    };\r\n    var processListItems = function (owner, elements) {\r\n        var numbering = owner instanceof OLElementContainer ? owner.start : 1;\r\n        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var item = elements[i];\r\n            if (item.container instanceof LIElementContainer &&\r\n                typeof item.container.value === 'number' &&\r\n                item.container.value !== 0) {\r\n                numbering = item.container.value;\r\n            }\r\n            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\r\n            numbering += reversed ? -1 : 1;\r\n        }\r\n    };\r\n    var parseStackingContexts = function (container) {\r\n        var paintContainer = new ElementPaint(container, null);\r\n        var root = new StackingContext(paintContainer);\r\n        var listItems = [];\r\n        parseStackTree(paintContainer, root, root, listItems);\r\n        processListItems(paintContainer.container, listItems);\r\n        return root;\r\n    };\r\n\r\n    var parsePathForBorder = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);\r\n        }\r\n    };\r\n    var parsePathForBorderDoubleOuter = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftBorderDoubleOuterBox, curves.topRightBorderBox, curves.topRightBorderDoubleOuterBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderBox, curves.topRightBorderDoubleOuterBox, curves.bottomRightBorderBox, curves.bottomRightBorderDoubleOuterBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightBorderDoubleOuterBox, curves.bottomLeftBorderBox, curves.bottomLeftBorderDoubleOuterBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftBorderDoubleOuterBox, curves.topLeftBorderBox, curves.topLeftBorderDoubleOuterBox);\r\n        }\r\n    };\r\n    var parsePathForBorderDoubleInner = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderDoubleInnerBox, curves.topLeftPaddingBox, curves.topRightBorderDoubleInnerBox, curves.topRightPaddingBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderDoubleInnerBox, curves.topRightPaddingBox, curves.bottomRightBorderDoubleInnerBox, curves.bottomRightPaddingBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderDoubleInnerBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderDoubleInnerBox, curves.bottomLeftPaddingBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderDoubleInnerBox, curves.bottomLeftPaddingBox, curves.topLeftBorderDoubleInnerBox, curves.topLeftPaddingBox);\r\n        }\r\n    };\r\n    var parsePathForBorderStroke = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createStrokePathFromCurves(curves.topLeftBorderStroke, curves.topRightBorderStroke);\r\n            case 1:\r\n                return createStrokePathFromCurves(curves.topRightBorderStroke, curves.bottomRightBorderStroke);\r\n            case 2:\r\n                return createStrokePathFromCurves(curves.bottomRightBorderStroke, curves.bottomLeftBorderStroke);\r\n            case 3:\r\n            default:\r\n                return createStrokePathFromCurves(curves.bottomLeftBorderStroke, curves.topLeftBorderStroke);\r\n        }\r\n    };\r\n    var createStrokePathFromCurves = function (outer1, outer2) {\r\n        var path = [];\r\n        if (isBezierCurve(outer1)) {\r\n            path.push(outer1.subdivide(0.5, false));\r\n        }\r\n        else {\r\n            path.push(outer1);\r\n        }\r\n        if (isBezierCurve(outer2)) {\r\n            path.push(outer2.subdivide(0.5, true));\r\n        }\r\n        else {\r\n            path.push(outer2);\r\n        }\r\n        return path;\r\n    };\r\n    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {\r\n        var path = [];\r\n        if (isBezierCurve(outer1)) {\r\n            path.push(outer1.subdivide(0.5, false));\r\n        }\r\n        else {\r\n            path.push(outer1);\r\n        }\r\n        if (isBezierCurve(outer2)) {\r\n            path.push(outer2.subdivide(0.5, true));\r\n        }\r\n        else {\r\n            path.push(outer2);\r\n        }\r\n        if (isBezierCurve(inner2)) {\r\n            path.push(inner2.subdivide(0.5, true).reverse());\r\n        }\r\n        else {\r\n            path.push(inner2);\r\n        }\r\n        if (isBezierCurve(inner1)) {\r\n            path.push(inner1.subdivide(0.5, false).reverse());\r\n        }\r\n        else {\r\n            path.push(inner1);\r\n        }\r\n        return path;\r\n    };\r\n\r\n    var paddingBox = function (element) {\r\n        var bounds = element.bounds;\r\n        var styles = element.styles;\r\n        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));\r\n    };\r\n    var contentBox = function (element) {\r\n        var styles = element.styles;\r\n        var bounds = element.bounds;\r\n        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\r\n        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\r\n        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\r\n        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\r\n        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));\r\n    };\r\n\r\n    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {\r\n        if (backgroundOrigin === 0 /* BORDER_BOX */) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundOrigin === 2 /* CONTENT_BOX */) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundPaintingArea = function (backgroundClip, element) {\r\n        if (backgroundClip === 0 /* BORDER_BOX */) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundClip === 2 /* CONTENT_BOX */) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundRendering = function (container, index, intrinsicSize) {\r\n        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);\r\n        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);\r\n        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);\r\n        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];\r\n        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);\r\n        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);\r\n        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);\r\n        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);\r\n        return [path, offsetX, offsetY, sizeWidth, sizeHeight];\r\n    };\r\n    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };\r\n    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };\r\n    var calculateBackgroundSize = function (size, _a, bounds) {\r\n        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];\r\n        var first = size[0], second = size[1];\r\n        if (!first) {\r\n            return [0, 0];\r\n        }\r\n        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\r\n            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\r\n        }\r\n        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\r\n        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\r\n            if (hasIntrinsicValue(intrinsicProportion)) {\r\n                var targetRatio = bounds.width / bounds.height;\r\n                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\r\n                    ? [bounds.width, bounds.width / intrinsicProportion]\r\n                    : [bounds.height * intrinsicProportion, bounds.height];\r\n            }\r\n            return [bounds.width, bounds.height];\r\n        }\r\n        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\r\n        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\r\n        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\r\n        // If the background-size is auto or auto auto:\r\n        if (isAuto(first) && (!second || isAuto(second))) {\r\n            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\r\n            if (hasIntrinsicWidth && hasIntrinsicHeight) {\r\n                return [intrinsicWidth, intrinsicHeight];\r\n            }\r\n            // If the image has no intrinsic dimensions and has no intrinsic proportions,\r\n            // it's rendered at the size of the background positioning area.\r\n            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\r\n                return [bounds.width, bounds.height];\r\n            }\r\n            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\r\n            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\r\n            // The other dimension is computed using the specified dimension and the intrinsic proportions.\r\n            if (hasIntrinsicDimensions && hasIntrinsicProportion) {\r\n                var width_1 = hasIntrinsicWidth\r\n                    ? intrinsicWidth\r\n                    : intrinsicHeight * intrinsicProportion;\r\n                var height_1 = hasIntrinsicHeight\r\n                    ? intrinsicHeight\r\n                    : intrinsicWidth / intrinsicProportion;\r\n                return [width_1, height_1];\r\n            }\r\n            // If the image has only one intrinsic dimension but has no intrinsic proportions,\r\n            // it's rendered using the specified dimension and the other dimension of the background positioning area.\r\n            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;\r\n            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;\r\n            return [width_2, height_2];\r\n        }\r\n        // If the image has intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\r\n        if (hasIntrinsicProportion) {\r\n            var width_3 = 0;\r\n            var height_3 = 0;\r\n            if (isLengthPercentage(first)) {\r\n                width_3 = getAbsoluteValue(first, bounds.width);\r\n            }\r\n            else if (isLengthPercentage(second)) {\r\n                height_3 = getAbsoluteValue(second, bounds.height);\r\n            }\r\n            if (isAuto(first)) {\r\n                width_3 = height_3 * intrinsicProportion;\r\n            }\r\n            else if (!second || isAuto(second)) {\r\n                height_3 = width_3 / intrinsicProportion;\r\n            }\r\n            return [width_3, height_3];\r\n        }\r\n        // If the image has no intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\r\n        // if there is one. If there is no such intrinsic dimension,\r\n        // it becomes the corresponding dimension of the background positioning area.\r\n        var width = null;\r\n        var height = null;\r\n        if (isLengthPercentage(first)) {\r\n            width = getAbsoluteValue(first, bounds.width);\r\n        }\r\n        else if (second && isLengthPercentage(second)) {\r\n            height = getAbsoluteValue(second, bounds.height);\r\n        }\r\n        if (width !== null && (!second || isAuto(second))) {\r\n            height =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (width / intrinsicWidth) * intrinsicHeight\r\n                    : bounds.height;\r\n        }\r\n        if (height !== null && isAuto(first)) {\r\n            width =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (height / intrinsicHeight) * intrinsicWidth\r\n                    : bounds.width;\r\n        }\r\n        if (width !== null && height !== null) {\r\n            return [width, height];\r\n        }\r\n        throw new Error(\"Unable to calculate background-size for element\");\r\n    };\r\n    var getBackgroundValueForIndex = function (values, index) {\r\n        var value = values[index];\r\n        if (typeof value === 'undefined') {\r\n            return values[0];\r\n        }\r\n        return value;\r\n    };\r\n    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {\r\n        var x = _a[0], y = _a[1];\r\n        var width = _b[0], height = _b[1];\r\n        switch (repeat) {\r\n            case 2 /* REPEAT_X */:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))\r\n                ];\r\n            case 3 /* REPEAT_Y */:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))\r\n                ];\r\n            case 1 /* NO_REPEAT */:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))\r\n                ];\r\n            default:\r\n                return [\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))\r\n                ];\r\n        }\r\n    };\r\n\r\n    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n\r\n    var SAMPLE_TEXT = 'Hidden Text';\r\n    var FontMetrics = /** @class */ (function () {\r\n        function FontMetrics(document) {\r\n            this._data = {};\r\n            this._document = document;\r\n        }\r\n        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {\r\n            var container = this._document.createElement('div');\r\n            var img = this._document.createElement('img');\r\n            var span = this._document.createElement('span');\r\n            var body = this._document.body;\r\n            container.style.visibility = 'hidden';\r\n            container.style.fontFamily = fontFamily;\r\n            container.style.fontSize = fontSize;\r\n            container.style.margin = '0';\r\n            container.style.padding = '0';\r\n            container.style.whiteSpace = 'nowrap';\r\n            body.appendChild(container);\r\n            img.src = SMALL_IMAGE;\r\n            img.width = 1;\r\n            img.height = 1;\r\n            img.style.margin = '0';\r\n            img.style.padding = '0';\r\n            img.style.verticalAlign = 'baseline';\r\n            span.style.fontFamily = fontFamily;\r\n            span.style.fontSize = fontSize;\r\n            span.style.margin = '0';\r\n            span.style.padding = '0';\r\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.appendChild(span);\r\n            container.appendChild(img);\r\n            var baseline = img.offsetTop - span.offsetTop + 2;\r\n            container.removeChild(span);\r\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.style.lineHeight = 'normal';\r\n            img.style.verticalAlign = 'super';\r\n            var middle = img.offsetTop - container.offsetTop + 2;\r\n            body.removeChild(container);\r\n            return { baseline: baseline, middle: middle };\r\n        };\r\n        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {\r\n            var key = fontFamily + \" \" + fontSize;\r\n            if (typeof this._data[key] === 'undefined') {\r\n                this._data[key] = this.parseMetrics(fontFamily, fontSize);\r\n            }\r\n            return this._data[key];\r\n        };\r\n        return FontMetrics;\r\n    }());\r\n\r\n    var Renderer = /** @class */ (function () {\r\n        function Renderer(context, options) {\r\n            this.context = context;\r\n            this.options = options;\r\n        }\r\n        return Renderer;\r\n    }());\r\n\r\n    var MASK_OFFSET = 10000;\r\n    var CanvasRenderer = /** @class */ (function (_super) {\r\n        __extends(CanvasRenderer, _super);\r\n        function CanvasRenderer(context, options) {\r\n            var _this = _super.call(this, context, options) || this;\r\n            _this._activeEffects = [];\r\n            _this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            _this.ctx = _this.canvas.getContext('2d');\r\n            if (!options.canvas) {\r\n                _this.canvas.width = Math.floor(options.width * options.scale);\r\n                _this.canvas.height = Math.floor(options.height * options.scale);\r\n                _this.canvas.style.width = options.width + \"px\";\r\n                _this.canvas.style.height = options.height + \"px\";\r\n            }\r\n            _this.fontMetrics = new FontMetrics(document);\r\n            _this.ctx.scale(_this.options.scale, _this.options.scale);\r\n            _this.ctx.translate(-options.x, -options.y);\r\n            _this.ctx.textBaseline = 'bottom';\r\n            _this._activeEffects = [];\r\n            _this.context.logger.debug(\"Canvas renderer initialized (\" + options.width + \"x\" + options.height + \") with scale \" + options.scale);\r\n            return _this;\r\n        }\r\n        CanvasRenderer.prototype.applyEffects = function (effects) {\r\n            var _this = this;\r\n            while (this._activeEffects.length) {\r\n                this.popEffect();\r\n            }\r\n            effects.forEach(function (effect) { return _this.applyEffect(effect); });\r\n        };\r\n        CanvasRenderer.prototype.applyEffect = function (effect) {\r\n            this.ctx.save();\r\n            if (isOpacityEffect(effect)) {\r\n                this.ctx.globalAlpha = effect.opacity;\r\n            }\r\n            if (isTransformEffect(effect)) {\r\n                this.ctx.translate(effect.offsetX, effect.offsetY);\r\n                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);\r\n                this.ctx.translate(-effect.offsetX, -effect.offsetY);\r\n            }\r\n            if (isClipEffect(effect)) {\r\n                this.path(effect.path);\r\n                this.ctx.clip();\r\n            }\r\n            this._activeEffects.push(effect);\r\n        };\r\n        CanvasRenderer.prototype.popEffect = function () {\r\n            this._activeEffects.pop();\r\n            this.ctx.restore();\r\n        };\r\n        CanvasRenderer.prototype.renderStack = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            styles = stack.element.container.styles;\r\n                            if (!styles.isVisible()) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.renderStackContent(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNode = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (contains(paint.container.flags, 16 /* DEBUG_RENDER */)) {\r\n                                debugger;\r\n                            }\r\n                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, this.renderNodeContent(paint)];\r\n                        case 2:\r\n                            _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing, baseline) {\r\n            var _this = this;\r\n            if (letterSpacing === 0) {\r\n                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + baseline);\r\n            }\r\n            else {\r\n                var letters = segmentGraphemes(text.text);\r\n                letters.reduce(function (left, letter) {\r\n                    _this.ctx.fillText(letter, left, text.bounds.top + baseline);\r\n                    return left + _this.ctx.measureText(letter).width;\r\n                }, text.bounds.left);\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.createFontStyle = function (styles) {\r\n            var fontVariant = styles.fontVariant\r\n                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })\r\n                .join('');\r\n            var fontFamily = fixIOSSystemFonts(styles.fontFamily).join(', ');\r\n            var fontSize = isDimensionToken(styles.fontSize)\r\n                ? \"\" + styles.fontSize.number + styles.fontSize.unit\r\n                : styles.fontSize.number + \"px\";\r\n            return [\r\n                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\r\n                fontFamily,\r\n                fontSize\r\n            ];\r\n        };\r\n        CanvasRenderer.prototype.renderTextNode = function (text, styles) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _a, font, fontFamily, fontSize, _b, baseline, middle, paintOrder;\r\n                var _this = this;\r\n                return __generator(this, function (_c) {\r\n                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];\r\n                    this.ctx.font = font;\r\n                    this.ctx.direction = styles.direction === 1 /* RTL */ ? 'rtl' : 'ltr';\r\n                    this.ctx.textAlign = 'left';\r\n                    this.ctx.textBaseline = 'alphabetic';\r\n                    _b = this.fontMetrics.getMetrics(fontFamily, fontSize), baseline = _b.baseline, middle = _b.middle;\r\n                    paintOrder = styles.paintOrder;\r\n                    text.textBounds.forEach(function (text) {\r\n                        paintOrder.forEach(function (paintOrderLayer) {\r\n                            switch (paintOrderLayer) {\r\n                                case 0 /* FILL */:\r\n                                    _this.ctx.fillStyle = asString(styles.color);\r\n                                    _this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\r\n                                    var textShadows = styles.textShadow;\r\n                                    if (textShadows.length && text.text.trim().length) {\r\n                                        textShadows\r\n                                            .slice(0)\r\n                                            .reverse()\r\n                                            .forEach(function (textShadow) {\r\n                                            _this.ctx.shadowColor = asString(textShadow.color);\r\n                                            _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;\r\n                                            _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;\r\n                                            _this.ctx.shadowBlur = textShadow.blur.number;\r\n                                            _this.renderTextWithLetterSpacing(text, styles.letterSpacing, baseline);\r\n                                        });\r\n                                        _this.ctx.shadowColor = '';\r\n                                        _this.ctx.shadowOffsetX = 0;\r\n                                        _this.ctx.shadowOffsetY = 0;\r\n                                        _this.ctx.shadowBlur = 0;\r\n                                    }\r\n                                    if (styles.textDecorationLine.length) {\r\n                                        _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\r\n                                        styles.textDecorationLine.forEach(function (textDecorationLine) {\r\n                                            switch (textDecorationLine) {\r\n                                                case 1 /* UNDERLINE */:\r\n                                                    // Draws a line at the baseline of the font\r\n                                                    // TODO As some browsers display the line as more than 1px if the font-size is big,\r\n                                                    // need to take that into account both in position and size\r\n                                                    _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);\r\n                                                    break;\r\n                                                case 2 /* OVERLINE */:\r\n                                                    _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\r\n                                                    break;\r\n                                                case 3 /* LINE_THROUGH */:\r\n                                                    // TODO try and find exact position for line-through\r\n                                                    _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);\r\n                                                    break;\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    break;\r\n                                case 1 /* STROKE */:\r\n                                    if (styles.webkitTextStrokeWidth && text.text.trim().length) {\r\n                                        _this.ctx.strokeStyle = asString(styles.webkitTextStrokeColor);\r\n                                        _this.ctx.lineWidth = styles.webkitTextStrokeWidth;\r\n                                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                                        _this.ctx.lineJoin = !!window.chrome ? 'miter' : 'round';\r\n                                        _this.ctx.strokeText(text.text, text.bounds.left, text.bounds.top + baseline);\r\n                                    }\r\n                                    _this.ctx.strokeStyle = '';\r\n                                    _this.ctx.lineWidth = 0;\r\n                                    _this.ctx.lineJoin = 'miter';\r\n                                    break;\r\n                            }\r\n                        });\r\n                    });\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {\r\n            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\r\n                var box = contentBox(container);\r\n                var path = calculatePaddingBoxPath(curves);\r\n                this.path(path);\r\n                this.ctx.save();\r\n                this.ctx.clip();\r\n                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);\r\n                this.ctx.restore();\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.renderNodeContent = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var container, curves, styles, _i, _a, child, image, image, iframeRenderer, canvas, size, _b, fontFamily, fontSize, baseline, bounds, x, textBounds, img, image, url, fontFamily, bounds;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.getEffects(4 /* CONTENT */));\r\n                            container = paint.container;\r\n                            curves = paint.curves;\r\n                            styles = container.styles;\r\n                            _i = 0, _a = container.textNodes;\r\n                            _c.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderTextNode(child, styles)];\r\n                        case 2:\r\n                            _c.sent();\r\n                            _c.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4:\r\n                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];\r\n                            _c.label = 5;\r\n                        case 5:\r\n                            _c.trys.push([5, 7, , 8]);\r\n                            return [4 /*yield*/, this.context.cache.match(container.src)];\r\n                        case 6:\r\n                            image = _c.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 8];\r\n                        case 7:\r\n                            _c.sent();\r\n                            this.context.logger.error(\"Error loading image \" + container.src);\r\n                            return [3 /*break*/, 8];\r\n                        case 8:\r\n                            if (container instanceof CanvasElementContainer) {\r\n                                this.renderReplacedElement(container, curves, container.canvas);\r\n                            }\r\n                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];\r\n                            _c.label = 9;\r\n                        case 9:\r\n                            _c.trys.push([9, 11, , 12]);\r\n                            return [4 /*yield*/, this.context.cache.match(container.svg)];\r\n                        case 10:\r\n                            image = _c.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 12];\r\n                        case 11:\r\n                            _c.sent();\r\n                            this.context.logger.error(\"Error loading svg \" + container.svg.substring(0, 255));\r\n                            return [3 /*break*/, 12];\r\n                        case 12:\r\n                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];\r\n                            iframeRenderer = new CanvasRenderer(this.context, {\r\n                                scale: this.options.scale,\r\n                                backgroundColor: container.backgroundColor,\r\n                                x: 0,\r\n                                y: 0,\r\n                                width: container.width,\r\n                                height: container.height\r\n                            });\r\n                            return [4 /*yield*/, iframeRenderer.render(container.tree)];\r\n                        case 13:\r\n                            canvas = _c.sent();\r\n                            if (container.width && container.height) {\r\n                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);\r\n                            }\r\n                            _c.label = 14;\r\n                        case 14:\r\n                            if (container instanceof InputElementContainer) {\r\n                                size = Math.min(container.bounds.width, container.bounds.height);\r\n                                if (container.type === CHECKBOX) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.path([\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\r\n                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\r\n                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\r\n                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\r\n                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\r\n                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\r\n                                        ]);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                                else if (container.type === RADIO) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.ctx.beginPath();\r\n                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (isTextInputElement(container) && container.value.length) {\r\n                                _b = this.createFontStyle(styles), fontFamily = _b[0], fontSize = _b[1];\r\n                                baseline = this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;\r\n                                this.ctx.font = fontFamily;\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'alphabetic';\r\n                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\r\n                                bounds = contentBox(container);\r\n                                x = 0;\r\n                                switch (container.styles.textAlign) {\r\n                                    case 1 /* CENTER */:\r\n                                        x += bounds.width / 2;\r\n                                        break;\r\n                                    case 2 /* RIGHT */:\r\n                                        x += bounds.width;\r\n                                        break;\r\n                                }\r\n                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\r\n                                this.ctx.save();\r\n                                this.path([\r\n                                    new Vector(bounds.left, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\r\n                                    new Vector(bounds.left, bounds.top + bounds.height)\r\n                                ]);\r\n                                this.ctx.clip();\r\n                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing, baseline);\r\n                                this.ctx.restore();\r\n                                this.ctx.textBaseline = 'alphabetic';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];\r\n                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];\r\n                            img = container.styles.listStyleImage;\r\n                            if (!(img.type === 0 /* URL */)) return [3 /*break*/, 18];\r\n                            image = void 0;\r\n                            url = img.url;\r\n                            _c.label = 15;\r\n                        case 15:\r\n                            _c.trys.push([15, 17, , 18]);\r\n                            return [4 /*yield*/, this.context.cache.match(url)];\r\n                        case 16:\r\n                            image = _c.sent();\r\n                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\r\n                            return [3 /*break*/, 18];\r\n                        case 17:\r\n                            _c.sent();\r\n                            this.context.logger.error(\"Error loading list-style-image \" + url);\r\n                            return [3 /*break*/, 18];\r\n                        case 18: return [3 /*break*/, 20];\r\n                        case 19:\r\n                            if (paint.listValue && container.styles.listStyleType !== -1 /* NONE */) {\r\n                                fontFamily = this.createFontStyle(styles)[0];\r\n                                this.ctx.font = fontFamily;\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = 'right';\r\n                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);\r\n                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 2);\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            _c.label = 20;\r\n                        case 20: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderStackContent = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;\r\n                return __generator(this, function (_p) {\r\n                    switch (_p.label) {\r\n                        case 0:\r\n                            if (contains(stack.element.container.flags, 16 /* DEBUG_RENDER */)) {\r\n                                debugger;\r\n                            }\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];\r\n                        case 1:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            _p.sent();\r\n                            _i = 0, _a = stack.negativeZIndex;\r\n                            _p.label = 2;\r\n                        case 2:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 5];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 3:\r\n                            _p.sent();\r\n                            _p.label = 4;\r\n                        case 4:\r\n                            _i++;\r\n                            return [3 /*break*/, 2];\r\n                        case 5:\r\n                        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                        return [4 /*yield*/, this.renderNodeContent(stack.element)];\r\n                        case 6:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            _p.sent();\r\n                            _b = 0, _c = stack.nonInlineLevel;\r\n                            _p.label = 7;\r\n                        case 7:\r\n                            if (!(_b < _c.length)) return [3 /*break*/, 10];\r\n                            child = _c[_b];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 8:\r\n                            _p.sent();\r\n                            _p.label = 9;\r\n                        case 9:\r\n                            _b++;\r\n                            return [3 /*break*/, 7];\r\n                        case 10:\r\n                            _d = 0, _e = stack.nonPositionedFloats;\r\n                            _p.label = 11;\r\n                        case 11:\r\n                            if (!(_d < _e.length)) return [3 /*break*/, 14];\r\n                            child = _e[_d];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 12:\r\n                            _p.sent();\r\n                            _p.label = 13;\r\n                        case 13:\r\n                            _d++;\r\n                            return [3 /*break*/, 11];\r\n                        case 14:\r\n                            _f = 0, _g = stack.nonPositionedInlineLevel;\r\n                            _p.label = 15;\r\n                        case 15:\r\n                            if (!(_f < _g.length)) return [3 /*break*/, 18];\r\n                            child = _g[_f];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 16:\r\n                            _p.sent();\r\n                            _p.label = 17;\r\n                        case 17:\r\n                            _f++;\r\n                            return [3 /*break*/, 15];\r\n                        case 18:\r\n                            _h = 0, _j = stack.inlineLevel;\r\n                            _p.label = 19;\r\n                        case 19:\r\n                            if (!(_h < _j.length)) return [3 /*break*/, 22];\r\n                            child = _j[_h];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 20:\r\n                            _p.sent();\r\n                            _p.label = 21;\r\n                        case 21:\r\n                            _h++;\r\n                            return [3 /*break*/, 19];\r\n                        case 22:\r\n                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;\r\n                            _p.label = 23;\r\n                        case 23:\r\n                            if (!(_k < _l.length)) return [3 /*break*/, 26];\r\n                            child = _l[_k];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 24:\r\n                            _p.sent();\r\n                            _p.label = 25;\r\n                        case 25:\r\n                            _k++;\r\n                            return [3 /*break*/, 23];\r\n                        case 26:\r\n                            _m = 0, _o = stack.positiveZIndex;\r\n                            _p.label = 27;\r\n                        case 27:\r\n                            if (!(_m < _o.length)) return [3 /*break*/, 30];\r\n                            child = _o[_m];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 28:\r\n                            _p.sent();\r\n                            _p.label = 29;\r\n                        case 29:\r\n                            _m++;\r\n                            return [3 /*break*/, 27];\r\n                        case 30: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.mask = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(0, 0);\r\n            this.ctx.lineTo(this.canvas.width, 0);\r\n            this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n            this.ctx.lineTo(0, this.canvas.height);\r\n            this.ctx.lineTo(0, 0);\r\n            this.formatPath(paths.slice(0).reverse());\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.path = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.formatPath(paths);\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.formatPath = function (paths) {\r\n            var _this = this;\r\n            paths.forEach(function (point, index) {\r\n                var start = isBezierCurve(point) ? point.start : point;\r\n                if (index === 0) {\r\n                    _this.ctx.moveTo(start.x, start.y);\r\n                }\r\n                else {\r\n                    _this.ctx.lineTo(start.x, start.y);\r\n                }\r\n                if (isBezierCurve(point)) {\r\n                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\r\n                }\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {\r\n            this.path(path);\r\n            this.ctx.fillStyle = pattern;\r\n            this.ctx.translate(offsetX, offsetY);\r\n            this.ctx.fill();\r\n            this.ctx.translate(-offsetX, -offsetY);\r\n        };\r\n        CanvasRenderer.prototype.resizeImage = function (image, width, height) {\r\n            var _a;\r\n            if (image.width === width && image.height === height) {\r\n                return image;\r\n            }\r\n            var ownerDocument = (_a = this.canvas.ownerDocument) !== null && _a !== void 0 ? _a : document;\r\n            var canvas = ownerDocument.createElement('canvas');\r\n            canvas.width = Math.max(1, width);\r\n            canvas.height = Math.max(1, height);\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\r\n            return canvas;\r\n        };\r\n        CanvasRenderer.prototype.renderBackgroundImage = function (container) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var index, _loop_1, this_1, _i, _a, backgroundImage;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            index = container.styles.backgroundImage.length - 1;\r\n                            _loop_1 = function (backgroundImage) {\r\n                                var image, url, _c, path, x, y, width, height, pattern, _d, path, x, y, width, height, _e, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _f, path, left, top_1, width, height, position, x, y, _g, rx, ry, radialGradient_1, midX, midY, f, invF;\r\n                                return __generator(this, function (_h) {\r\n                                    switch (_h.label) {\r\n                                        case 0:\r\n                                            if (!(backgroundImage.type === 0 /* URL */)) return [3 /*break*/, 5];\r\n                                            image = void 0;\r\n                                            url = backgroundImage.url;\r\n                                            _h.label = 1;\r\n                                        case 1:\r\n                                            _h.trys.push([1, 3, , 4]);\r\n                                            return [4 /*yield*/, this_1.context.cache.match(url)];\r\n                                        case 2:\r\n                                            image = _h.sent();\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            _h.sent();\r\n                                            this_1.context.logger.error(\"Error loading background-image \" + url);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4:\r\n                                            if (image) {\r\n                                                _c = calculateBackgroundRendering(container, index, [\r\n                                                    image.width,\r\n                                                    image.height,\r\n                                                    image.width / image.height\r\n                                                ]), path = _c[0], x = _c[1], y = _c[2], width = _c[3], height = _c[4];\r\n                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');\r\n                                                this_1.renderRepeat(path, pattern, x, y);\r\n                                            }\r\n                                            return [3 /*break*/, 6];\r\n                                        case 5:\r\n                                            if (isLinearGradient(backgroundImage)) {\r\n                                                _d = calculateBackgroundRendering(container, index, [null, null, null]), path = _d[0], x = _d[1], y = _d[2], width = _d[3], height = _d[4];\r\n                                                _e = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _e[0], x0 = _e[1], x1 = _e[2], y0 = _e[3], y1 = _e[4];\r\n                                                canvas = document.createElement('canvas');\r\n                                                canvas.width = width;\r\n                                                canvas.height = height;\r\n                                                ctx = canvas.getContext('2d');\r\n                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);\r\n                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {\r\n                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                });\r\n                                                ctx.fillStyle = gradient_1;\r\n                                                ctx.fillRect(0, 0, width, height);\r\n                                                if (width > 0 && height > 0) {\r\n                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');\r\n                                                    this_1.renderRepeat(path, pattern, x, y);\r\n                                                }\r\n                                            }\r\n                                            else if (isRadialGradient(backgroundImage)) {\r\n                                                _f = calculateBackgroundRendering(container, index, [\r\n                                                    null,\r\n                                                    null,\r\n                                                    null\r\n                                                ]), path = _f[0], left = _f[1], top_1 = _f[2], width = _f[3], height = _f[4];\r\n                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\r\n                                                x = getAbsoluteValue(position[0], width);\r\n                                                y = getAbsoluteValue(position[position.length - 1], height);\r\n                                                _g = calculateRadius(backgroundImage, x, y, width, height), rx = _g[0], ry = _g[1];\r\n                                                if (rx > 0 && ry > 0) {\r\n                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);\r\n                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {\r\n                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                    });\r\n                                                    this_1.path(path);\r\n                                                    this_1.ctx.fillStyle = radialGradient_1;\r\n                                                    if (rx !== ry) {\r\n                                                        midX = container.bounds.left + 0.5 * container.bounds.width;\r\n                                                        midY = container.bounds.top + 0.5 * container.bounds.height;\r\n                                                        f = ry / rx;\r\n                                                        invF = 1 / f;\r\n                                                        this_1.ctx.save();\r\n                                                        this_1.ctx.translate(midX, midY);\r\n                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);\r\n                                                        this_1.ctx.translate(-midX, -midY);\r\n                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);\r\n                                                        this_1.ctx.restore();\r\n                                                    }\r\n                                                    else {\r\n                                                        this_1.ctx.fill();\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            _h.label = 6;\r\n                                        case 6:\r\n                                            index--;\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            this_1 = this;\r\n                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            backgroundImage = _a[_i];\r\n                            return [5 /*yield**/, _loop_1(backgroundImage)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderSolidBorder = function (color, side, curvePoints) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.path(parsePathForBorder(curvePoints, side));\r\n                    this.ctx.fillStyle = asString(color);\r\n                    this.ctx.fill();\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderDoubleBorder = function (color, width, side, curvePoints) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var outerPaths, innerPaths;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!(width < 3)) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.renderSolidBorder(color, side, curvePoints)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [2 /*return*/];\r\n                        case 2:\r\n                            outerPaths = parsePathForBorderDoubleOuter(curvePoints, side);\r\n                            this.path(outerPaths);\r\n                            this.ctx.fillStyle = asString(color);\r\n                            this.ctx.fill();\r\n                            innerPaths = parsePathForBorderDoubleInner(curvePoints, side);\r\n                            this.path(innerPaths);\r\n                            this.ctx.fill();\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.getEffects(2 /* BACKGROUND_BORDERS */));\r\n                            styles = paint.container.styles;\r\n                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\r\n                            borders = [\r\n                                { style: styles.borderTopStyle, color: styles.borderTopColor, width: styles.borderTopWidth },\r\n                                { style: styles.borderRightStyle, color: styles.borderRightColor, width: styles.borderRightWidth },\r\n                                { style: styles.borderBottomStyle, color: styles.borderBottomColor, width: styles.borderBottomWidth },\r\n                                { style: styles.borderLeftStyle, color: styles.borderLeftColor, width: styles.borderLeftWidth }\r\n                            ];\r\n                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);\r\n                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];\r\n                            this.ctx.save();\r\n                            this.path(backgroundPaintingArea);\r\n                            this.ctx.clip();\r\n                            if (!isTransparent(styles.backgroundColor)) {\r\n                                this.ctx.fillStyle = asString(styles.backgroundColor);\r\n                                this.ctx.fill();\r\n                            }\r\n                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.ctx.restore();\r\n                            styles.boxShadow\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (shadow) {\r\n                                _this.ctx.save();\r\n                                var borderBoxArea = calculateBorderBoxPath(paint.curves);\r\n                                var maskOffset = shadow.inset ? 0 : MASK_OFFSET;\r\n                                var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));\r\n                                if (shadow.inset) {\r\n                                    _this.path(borderBoxArea);\r\n                                    _this.ctx.clip();\r\n                                    _this.mask(shadowPaintingArea);\r\n                                }\r\n                                else {\r\n                                    _this.mask(borderBoxArea);\r\n                                    _this.ctx.clip();\r\n                                    _this.path(shadowPaintingArea);\r\n                                }\r\n                                _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\r\n                                _this.ctx.shadowOffsetY = shadow.offsetY.number;\r\n                                _this.ctx.shadowColor = asString(shadow.color);\r\n                                _this.ctx.shadowBlur = shadow.blur.number;\r\n                                _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\r\n                                _this.ctx.fill();\r\n                                _this.ctx.restore();\r\n                            });\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            side = 0;\r\n                            _i = 0, borders_1 = borders;\r\n                            _a.label = 3;\r\n                        case 3:\r\n                            if (!(_i < borders_1.length)) return [3 /*break*/, 13];\r\n                            border = borders_1[_i];\r\n                            if (!(border.style !== 0 /* NONE */ && !isTransparent(border.color) && border.width > 0)) return [3 /*break*/, 11];\r\n                            if (!(border.style === 2 /* DASHED */)) return [3 /*break*/, 5];\r\n                            return [4 /*yield*/, this.renderDashedDottedBorder(border.color, border.width, side, paint.curves, 2 /* DASHED */)];\r\n                        case 4:\r\n                            _a.sent();\r\n                            return [3 /*break*/, 11];\r\n                        case 5:\r\n                            if (!(border.style === 3 /* DOTTED */)) return [3 /*break*/, 7];\r\n                            return [4 /*yield*/, this.renderDashedDottedBorder(border.color, border.width, side, paint.curves, 3 /* DOTTED */)];\r\n                        case 6:\r\n                            _a.sent();\r\n                            return [3 /*break*/, 11];\r\n                        case 7:\r\n                            if (!(border.style === 4 /* DOUBLE */)) return [3 /*break*/, 9];\r\n                            return [4 /*yield*/, this.renderDoubleBorder(border.color, border.width, side, paint.curves)];\r\n                        case 8:\r\n                            _a.sent();\r\n                            return [3 /*break*/, 11];\r\n                        case 9: return [4 /*yield*/, this.renderSolidBorder(border.color, side, paint.curves)];\r\n                        case 10:\r\n                            _a.sent();\r\n                            _a.label = 11;\r\n                        case 11:\r\n                            side++;\r\n                            _a.label = 12;\r\n                        case 12:\r\n                            _i++;\r\n                            return [3 /*break*/, 3];\r\n                        case 13: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderDashedDottedBorder = function (color, width, side, curvePoints, style) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var strokePaths, boxPaths, startX, startY, endX, endY, length, dashLength, spaceLength, useLineDash, multiplier, numberOfDashes, minSpace, maxSpace, path1, path2, path1, path2;\r\n                return __generator(this, function (_a) {\r\n                    this.ctx.save();\r\n                    strokePaths = parsePathForBorderStroke(curvePoints, side);\r\n                    boxPaths = parsePathForBorder(curvePoints, side);\r\n                    if (style === 2 /* DASHED */) {\r\n                        this.path(boxPaths);\r\n                        this.ctx.clip();\r\n                    }\r\n                    if (isBezierCurve(boxPaths[0])) {\r\n                        startX = boxPaths[0].start.x;\r\n                        startY = boxPaths[0].start.y;\r\n                    }\r\n                    else {\r\n                        startX = boxPaths[0].x;\r\n                        startY = boxPaths[0].y;\r\n                    }\r\n                    if (isBezierCurve(boxPaths[1])) {\r\n                        endX = boxPaths[1].end.x;\r\n                        endY = boxPaths[1].end.y;\r\n                    }\r\n                    else {\r\n                        endX = boxPaths[1].x;\r\n                        endY = boxPaths[1].y;\r\n                    }\r\n                    if (side === 0 || side === 2) {\r\n                        length = Math.abs(startX - endX);\r\n                    }\r\n                    else {\r\n                        length = Math.abs(startY - endY);\r\n                    }\r\n                    this.ctx.beginPath();\r\n                    if (style === 3 /* DOTTED */) {\r\n                        this.formatPath(strokePaths);\r\n                    }\r\n                    else {\r\n                        this.formatPath(boxPaths.slice(0, 2));\r\n                    }\r\n                    dashLength = width < 3 ? width * 3 : width * 2;\r\n                    spaceLength = width < 3 ? width * 2 : width;\r\n                    if (style === 3 /* DOTTED */) {\r\n                        dashLength = width;\r\n                        spaceLength = width;\r\n                    }\r\n                    useLineDash = true;\r\n                    if (length <= dashLength * 2) {\r\n                        useLineDash = false;\r\n                    }\r\n                    else if (length <= dashLength * 2 + spaceLength) {\r\n                        multiplier = length / (2 * dashLength + spaceLength);\r\n                        dashLength *= multiplier;\r\n                        spaceLength *= multiplier;\r\n                    }\r\n                    else {\r\n                        numberOfDashes = Math.floor((length + spaceLength) / (dashLength + spaceLength));\r\n                        minSpace = (length - numberOfDashes * dashLength) / (numberOfDashes - 1);\r\n                        maxSpace = (length - (numberOfDashes + 1) * dashLength) / numberOfDashes;\r\n                        spaceLength =\r\n                            maxSpace <= 0 || Math.abs(spaceLength - minSpace) < Math.abs(spaceLength - maxSpace)\r\n                                ? minSpace\r\n                                : maxSpace;\r\n                    }\r\n                    if (useLineDash) {\r\n                        if (style === 3 /* DOTTED */) {\r\n                            this.ctx.setLineDash([0, dashLength + spaceLength]);\r\n                        }\r\n                        else {\r\n                            this.ctx.setLineDash([dashLength, spaceLength]);\r\n                        }\r\n                    }\r\n                    if (style === 3 /* DOTTED */) {\r\n                        this.ctx.lineCap = 'round';\r\n                        this.ctx.lineWidth = width;\r\n                    }\r\n                    else {\r\n                        this.ctx.lineWidth = width * 2 + 1.1;\r\n                    }\r\n                    this.ctx.strokeStyle = asString(color);\r\n                    this.ctx.stroke();\r\n                    this.ctx.setLineDash([]);\r\n                    // dashed round edge gap\r\n                    if (style === 2 /* DASHED */) {\r\n                        if (isBezierCurve(boxPaths[0])) {\r\n                            path1 = boxPaths[3];\r\n                            path2 = boxPaths[0];\r\n                            this.ctx.beginPath();\r\n                            this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\r\n                            this.ctx.stroke();\r\n                        }\r\n                        if (isBezierCurve(boxPaths[1])) {\r\n                            path1 = boxPaths[1];\r\n                            path2 = boxPaths[2];\r\n                            this.ctx.beginPath();\r\n                            this.formatPath([new Vector(path1.end.x, path1.end.y), new Vector(path2.start.x, path2.start.y)]);\r\n                            this.ctx.stroke();\r\n                        }\r\n                    }\r\n                    this.ctx.restore();\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stack;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height);\r\n                            }\r\n                            stack = parseStackingContexts(element);\r\n                            return [4 /*yield*/, this.renderStack(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.applyEffects([]);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return CanvasRenderer;\r\n    }(Renderer));\r\n    var isTextInputElement = function (container) {\r\n        if (container instanceof TextareaElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof SelectElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {\r\n        switch (clip) {\r\n            case 0 /* BORDER_BOX */:\r\n                return calculateBorderBoxPath(curves);\r\n            case 2 /* CONTENT_BOX */:\r\n                return calculateContentBoxPath(curves);\r\n            case 1 /* PADDING_BOX */:\r\n            default:\r\n                return calculatePaddingBoxPath(curves);\r\n        }\r\n    };\r\n    var canvasTextAlign = function (textAlign) {\r\n        switch (textAlign) {\r\n            case 1 /* CENTER */:\r\n                return 'center';\r\n            case 2 /* RIGHT */:\r\n                return 'right';\r\n            case 0 /* LEFT */:\r\n            default:\r\n                return 'left';\r\n        }\r\n    };\r\n    // see https://github.com/niklasvh/html2canvas/pull/2645\r\n    var iOSBrokenFonts = ['-apple-system', 'system-ui'];\r\n    var fixIOSSystemFonts = function (fontFamilies) {\r\n        return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent)\r\n            ? fontFamilies.filter(function (fontFamily) { return iOSBrokenFonts.indexOf(fontFamily) === -1; })\r\n            : fontFamilies;\r\n    };\r\n\r\n    var ForeignObjectRenderer = /** @class */ (function (_super) {\r\n        __extends(ForeignObjectRenderer, _super);\r\n        function ForeignObjectRenderer(context, options) {\r\n            var _this = _super.call(this, context, options) || this;\r\n            _this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            _this.ctx = _this.canvas.getContext('2d');\r\n            _this.options = options;\r\n            _this.canvas.width = Math.floor(options.width * options.scale);\r\n            _this.canvas.height = Math.floor(options.height * options.scale);\r\n            _this.canvas.style.width = options.width + \"px\";\r\n            _this.canvas.style.height = options.height + \"px\";\r\n            _this.ctx.scale(_this.options.scale, _this.options.scale);\r\n            _this.ctx.translate(-options.x, -options.y);\r\n            _this.context.logger.debug(\"EXPERIMENTAL ForeignObject renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n            return _this;\r\n        }\r\n        ForeignObjectRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var svg, img;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            svg = createForeignObjectSVG(this.options.width * this.options.scale, this.options.height * this.options.scale, this.options.scale, this.options.scale, element);\r\n                            return [4 /*yield*/, loadSerializedSVG(svg)];\r\n                        case 1:\r\n                            img = _a.sent();\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\r\n                            }\r\n                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ForeignObjectRenderer;\r\n    }(Renderer));\r\n    var loadSerializedSVG = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                resolve(img);\r\n            };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n\r\n    var Logger = /** @class */ (function () {\r\n        function Logger(_a) {\r\n            var id = _a.id, enabled = _a.enabled;\r\n            this.id = id;\r\n            this.enabled = enabled;\r\n            this.start = Date.now();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.debug = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.debug.apply(console, __spreadArray([this.id, this.getTime() + \"ms\"], args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.getTime = function () {\r\n            return Date.now() - this.start;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.info = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.info.apply(console, __spreadArray([this.id, this.getTime() + \"ms\"], args));\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.warn = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.warn === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.warn.apply(console, __spreadArray([this.id, this.getTime() + \"ms\"], args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.error = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.error.apply(console, __spreadArray([this.id, this.getTime() + \"ms\"], args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.instances = {};\r\n        return Logger;\r\n    }());\r\n\r\n    var Context = /** @class */ (function () {\r\n        function Context(options, windowBounds) {\r\n            var _a;\r\n            this.windowBounds = windowBounds;\r\n            this.instanceName = \"#\" + Context.instanceCount++;\r\n            this.logger = new Logger({ id: this.instanceName, enabled: options.logging });\r\n            this.cache = (_a = options.cache) !== null && _a !== void 0 ? _a : new Cache(this, options);\r\n        }\r\n        Context.instanceCount = 1;\r\n        return Context;\r\n    }());\r\n\r\n    var html2canvas = function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return renderElement(element, options);\r\n    };\r\n    if (typeof window !== 'undefined') {\r\n        CacheStorage.setContext(window);\r\n    }\r\n    var renderElement = function (element, opts) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var ownerDocument, defaultView, resourceOptions, contextOptions, windowOptions, windowBounds, context, foreignObjectRendering, cloneOptions, documentCloner, clonedElement, container, _a, width, height, left, top, backgroundColor, renderOptions, canvas, renderer, root, renderer;\r\n        var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;\r\n        return __generator(this, function (_u) {\r\n            switch (_u.label) {\r\n                case 0:\r\n                    if (!element || typeof element !== 'object') {\r\n                        return [2 /*return*/, Promise.reject('Invalid element provided as first argument')];\r\n                    }\r\n                    ownerDocument = element.ownerDocument;\r\n                    if (!ownerDocument) {\r\n                        throw new Error(\"Element is not attached to a Document\");\r\n                    }\r\n                    defaultView = ownerDocument.defaultView;\r\n                    if (!defaultView) {\r\n                        throw new Error(\"Document is not attached to a Window\");\r\n                    }\r\n                    resourceOptions = {\r\n                        allowTaint: (_b = opts.allowTaint) !== null && _b !== void 0 ? _b : false,\r\n                        imageTimeout: (_c = opts.imageTimeout) !== null && _c !== void 0 ? _c : 15000,\r\n                        proxy: opts.proxy,\r\n                        useCORS: (_d = opts.useCORS) !== null && _d !== void 0 ? _d : false\r\n                    };\r\n                    contextOptions = __assign({ logging: (_e = opts.logging) !== null && _e !== void 0 ? _e : true, cache: opts.cache }, resourceOptions);\r\n                    windowOptions = {\r\n                        windowWidth: (_f = opts.windowWidth) !== null && _f !== void 0 ? _f : defaultView.innerWidth,\r\n                        windowHeight: (_g = opts.windowHeight) !== null && _g !== void 0 ? _g : defaultView.innerHeight,\r\n                        scrollX: (_h = opts.scrollX) !== null && _h !== void 0 ? _h : defaultView.pageXOffset,\r\n                        scrollY: (_j = opts.scrollY) !== null && _j !== void 0 ? _j : defaultView.pageYOffset\r\n                    };\r\n                    windowBounds = new Bounds(windowOptions.scrollX, windowOptions.scrollY, windowOptions.windowWidth, windowOptions.windowHeight);\r\n                    context = new Context(contextOptions, windowBounds);\r\n                    foreignObjectRendering = (_k = opts.foreignObjectRendering) !== null && _k !== void 0 ? _k : false;\r\n                    cloneOptions = {\r\n                        allowTaint: (_l = opts.allowTaint) !== null && _l !== void 0 ? _l : false,\r\n                        onclone: opts.onclone,\r\n                        ignoreElements: opts.ignoreElements,\r\n                        inlineImages: foreignObjectRendering,\r\n                        copyStyles: foreignObjectRendering\r\n                    };\r\n                    context.logger.debug(\"Starting document clone with size \" + windowBounds.width + \"x\" + windowBounds.height + \" scrolled to \" + -windowBounds.left + \",\" + -windowBounds.top);\r\n                    documentCloner = new DocumentCloner(context, element, cloneOptions);\r\n                    clonedElement = documentCloner.clonedReferenceElement;\r\n                    if (!clonedElement) {\r\n                        return [2 /*return*/, Promise.reject(\"Unable to find element in cloned iframe\")];\r\n                    }\r\n                    return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];\r\n                case 1:\r\n                    container = _u.sent();\r\n                    _a = isBodyElement(clonedElement) || isHTMLElement(clonedElement)\r\n                        ? parseDocumentSize(clonedElement.ownerDocument)\r\n                        : parseBounds(context, clonedElement), width = _a.width, height = _a.height, left = _a.left, top = _a.top;\r\n                    backgroundColor = parseBackgroundColor(context, clonedElement, opts.backgroundColor);\r\n                    renderOptions = {\r\n                        canvas: opts.canvas,\r\n                        backgroundColor: backgroundColor,\r\n                        scale: (_o = (_m = opts.scale) !== null && _m !== void 0 ? _m : defaultView.devicePixelRatio) !== null && _o !== void 0 ? _o : 1,\r\n                        x: ((_p = opts.x) !== null && _p !== void 0 ? _p : 0) + left,\r\n                        y: ((_q = opts.y) !== null && _q !== void 0 ? _q : 0) + top,\r\n                        width: (_r = opts.width) !== null && _r !== void 0 ? _r : Math.ceil(width),\r\n                        height: (_s = opts.height) !== null && _s !== void 0 ? _s : Math.ceil(height)\r\n                    };\r\n                    if (!foreignObjectRendering) return [3 /*break*/, 3];\r\n                    context.logger.debug(\"Document cloned, using foreign object rendering\");\r\n                    renderer = new ForeignObjectRenderer(context, renderOptions);\r\n                    return [4 /*yield*/, renderer.render(clonedElement)];\r\n                case 2:\r\n                    canvas = _u.sent();\r\n                    return [3 /*break*/, 5];\r\n                case 3:\r\n                    context.logger.debug(\"Document cloned, element located at \" + left + \",\" + top + \" with size \" + width + \"x\" + height + \" using computed rendering\");\r\n                    context.logger.debug(\"Starting DOM parsing\");\r\n                    root = parseTree(context, clonedElement);\r\n                    if (backgroundColor === root.styles.backgroundColor) {\r\n                        root.styles.backgroundColor = COLORS.TRANSPARENT;\r\n                    }\r\n                    context.logger.debug(\"Starting renderer for element at \" + renderOptions.x + \",\" + renderOptions.y + \" with size \" + renderOptions.width + \"x\" + renderOptions.height);\r\n                    renderer = new CanvasRenderer(context, renderOptions);\r\n                    return [4 /*yield*/, renderer.render(root)];\r\n                case 4:\r\n                    canvas = _u.sent();\r\n                    _u.label = 5;\r\n                case 5:\r\n                    if ((_t = opts.removeContainer) !== null && _t !== void 0 ? _t : true) {\r\n                        if (!DocumentCloner.destroy(container)) {\r\n                            context.logger.error(\"Cannot detach cloned iframe as it is not in the DOM anymore\");\r\n                        }\r\n                    }\r\n                    context.logger.debug(\"Finished rendering\");\r\n                    return [2 /*return*/, canvas];\r\n            }\r\n        });\r\n    }); };\r\n    var parseBackgroundColor = function (context, element, backgroundColorOverride) {\r\n        var ownerDocument = element.ownerDocument;\r\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n        var documentBackgroundColor = ownerDocument.documentElement\r\n            ? parseColor(context, getComputedStyle(ownerDocument.documentElement).backgroundColor)\r\n            : COLORS.TRANSPARENT;\r\n        var bodyBackgroundColor = ownerDocument.body\r\n            ? parseColor(context, getComputedStyle(ownerDocument.body).backgroundColor)\r\n            : COLORS.TRANSPARENT;\r\n        var defaultBackgroundColor = typeof backgroundColorOverride === 'string'\r\n            ? parseColor(context, backgroundColorOverride)\r\n            : backgroundColorOverride === null\r\n                ? COLORS.TRANSPARENT\r\n                : 0xffffffff;\r\n        return element === ownerDocument.documentElement\r\n            ? isTransparent(documentBackgroundColor)\r\n                ? isTransparent(bodyBackgroundColor)\r\n                    ? defaultBackgroundColor\r\n                    : bodyBackgroundColor\r\n                : documentBackgroundColor\r\n            : defaultBackgroundColor;\r\n    };\r\n\r\n    return html2canvas;\r\n\r\n})));\r\n//# sourceMappingURL=html2canvas.js.map\r\n\nconst SPOTFIX_INDEXED_DB_NAME = 'spotfix-localDB';\r\nconst spotfixIndexedDBVersion = 1;\r\n\r\nconst SPOTFIX_TABLE_USERS = 'users';\r\nconst SPOTFIX_TABLE_TASKS = 'tasks';\r\nconst SPOTFIX_TABLE_COMMENTS = 'comments';\r\n\r\nconst LOCAL_DATA_BASE_TABLE = [\r\n    { name: SPOTFIX_TABLE_USERS, keyPath: 'user_id' },\r\n    { name: SPOTFIX_TABLE_TASKS, keyPath: 'taskId' },\r\n    { name: SPOTFIX_TABLE_COMMENTS, keyPath: 'commentId' },\r\n];\r\n\r\nconst SPOTFIX_LAST_DB_KEY = 'spotfix_last_db_key';\r\n\r\nlet dbPromise = null;\r\n\r\nfunction getSpotfixDBKey() {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    const projectToken = localStorage.getItem('spotfix_project_token');\r\n\r\n    if (sessionId) return `session:${sessionId}`;\r\n    if (projectToken) return `project:${projectToken}`;\r\n\r\n    return null;\r\n}\r\n\r\nfunction getDBNameByKey(dbKey) {\r\n    return `${SPOTFIX_INDEXED_DB_NAME}_${dbKey}`;\r\n}\r\n\r\nfunction openIndexedDB(name, version) {\r\n    return new Promise((resolve, reject) => {\r\n        const request = indexedDB.open(name, version);\r\n\r\n        request.onupgradeneeded = (e) => {\r\n            const db = e.target.result;\r\n\r\n            LOCAL_DATA_BASE_TABLE.forEach((item) => {\r\n                if (!db.objectStoreNames.contains(item.name)) {\r\n                    const store = db.createObjectStore(item.name, {\r\n                        keyPath: item.keyPath,\r\n                    });\r\n\r\n                    if (item.name === SPOTFIX_TABLE_COMMENTS) {\r\n                        store.createIndex('taskId', 'taskId');\r\n                    }\r\n                    if (item.name === SPOTFIX_TABLE_TASKS) {\r\n                        store.createIndex('userId', 'userId');\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n        request.onsuccess = () => resolve(request.result);\r\n        request.onerror = () => reject(request.error);\r\n    });\r\n}\r\n\r\nfunction getDB() {\r\n    if (!dbPromise) {\r\n        const dbKey = getSpotfixDBKey();\r\n        if (!dbKey) return null;\r\n\r\n        dbPromise = openIndexedDB(\r\n            getDBNameByKey(dbKey),\r\n            spotfixIndexedDBVersion\r\n        );\r\n    }\r\n    return dbPromise;\r\n}\r\n\r\nasync function deleteDBByKey(dbKey) {\r\n    return new Promise((resolve) => {\r\n        const req = indexedDB.deleteDatabase(getDBNameByKey(dbKey));\r\n        req.onsuccess = () => resolve();\r\n        req.onerror = () => resolve();\r\n        req.onblocked = () => resolve();\r\n    });\r\n}\r\n\r\nconst spotfixIndexedDB = {\r\n    init: async () => {\r\n        const currentKey = getSpotfixDBKey();\r\n\r\n        if (!currentKey) {\r\n            return { needInit: false };\r\n        }\r\n\r\n        const lastKey = localStorage.getItem(SPOTFIX_LAST_DB_KEY);\r\n\r\n        if (lastKey && lastKey !== currentKey) {\r\n            await deleteDBByKey(lastKey);\r\n        }\r\n\r\n        localStorage.setItem(SPOTFIX_LAST_DB_KEY, currentKey);\r\n\r\n        dbPromise = null;\r\n        await getDB();\r\n\r\n        return { needInit: true };\r\n    },\r\n\r\n    withStore: async (table, mode = 'readwrite', callback) => {\r\n        const db = await getDB();\r\n        if (!db) return;\r\n\r\n        return new Promise((resolve, reject) => {\r\n            const tx = db.transaction(table, mode);\r\n            const store = tx.objectStore(table);\r\n\r\n            const result = callback(store);\r\n\r\n            tx.oncomplete = () => resolve(result);\r\n            tx.onerror = () => reject(tx.error);\r\n        });\r\n    },\r\n\r\n    put: async (table, data) => {\r\n        return spotfixIndexedDB.withStore(table, 'readwrite', (store) => {\r\n            if (Array.isArray(data)) {\r\n                data.forEach((item) => store.put(item));\r\n            } else {\r\n                store.put(data);\r\n            }\r\n        });\r\n    },\r\n\r\n    delete: async (table, key) => {\r\n        return spotfixIndexedDB.withStore(table, 'readwrite', (store) => {\r\n            store.delete(key);\r\n        });\r\n    },\r\n\r\n    clearTable: async (table) => {\r\n        return spotfixIndexedDB.withStore(table, 'readwrite', (store) =>\r\n            store.clear()\r\n        );\r\n    },\r\n\r\n    clearPut: async (table, data) => {\r\n        return spotfixIndexedDB.withStore(table, 'readwrite', (store) => {\r\n            store.clear();\r\n            if (Array.isArray(data)) {\r\n                data.forEach((item) => store.put(item));\r\n            } else {\r\n                store.put(data);\r\n            }\r\n        });\r\n    },\r\n\r\n    getAll: async (table, indexName, value) => {\r\n        return spotfixIndexedDB.withStore(table, 'readonly', (store) => {\r\n            return new Promise((resolve, reject) => {\r\n                const req =\r\n                    indexName && value !== undefined\r\n                        ? store.index(indexName).getAll(value)\r\n                        : store.getAll();\r\n\r\n                req.onsuccess = () => resolve(req.result);\r\n                req.onerror = () => reject(req.error);\r\n            });\r\n        });\r\n    },\r\n\r\n    getTable: async (table) => {\r\n        if (!getSpotfixDBKey()) {\r\n            return [];\r\n        }\r\n        return spotfixIndexedDB.getAll(table);\r\n    },\r\n};\r\n\nconst SPOTFIX_DOBOARD_API_URL = 'https://api.doboard.com';\r\n\r\n/**\r\n * Makes an API call to the DoBoard endpoint with form data\r\n *\r\n * @param {Object} data - The data to send in the request\r\n * @param {string} method - The API method to call\r\n * @param {string|number} accountId - Optional account ID for the endpoint\r\n *\r\n * @return {Promise<Object>} The response data when operation_status is 'SUCCESS'\r\n */\r\nconst spotfixApiCall = async (data, method, accountId = undefined) => {\r\n    if (!data || typeof data !== 'object') {\r\n        throw new Error('Data must be a valid object');\r\n    }\r\n\r\n    if (!method || typeof method !== 'string') {\r\n        throw new Error('Method must be a valid string');\r\n    }\r\n\r\n    if (accountId !== undefined && (typeof accountId !== 'string' && typeof accountId !== 'number')) {\r\n        throw new Error('AccountId must be a string or number');\r\n    }\r\n\r\n    const formData = new FormData();\r\n    for (const key in data) {\r\n        if (data.hasOwnProperty(key)) {\r\n            if (data[key] !== undefined && data[key] !== null) {\r\n                formData.append(key, data[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    let endpointUrl;\r\n    if (accountId !== undefined) {\r\n        endpointUrl = `${SPOTFIX_DOBOARD_API_URL}/${accountId}/${method}`;\r\n    } else {\r\n        endpointUrl = `${SPOTFIX_DOBOARD_API_URL}/${method}`;\r\n    }\r\n\r\n    try {\r\n        new URL(endpointUrl);\r\n    } catch (error) {\r\n        throw new Error(`Invalid endpoint URL: ${endpointUrl}`);\r\n    }\r\n\r\n    let response;\r\n    try {\r\n        response = await fetch(endpointUrl, {\r\n            method: 'POST',\r\n            body: formData,\r\n        });\r\n    } catch (networkError) {\r\n        throw new Error(`Network error: ${networkError.message}`);\r\n    }\r\n\r\n    let responseBody;\r\n    try {\r\n        responseBody = await response.json();\r\n    } catch (parseError) {\r\n        throw new Error('Failed to parse JSON response from server');\r\n    }\r\n\r\n    if (!responseBody || typeof responseBody !== 'object') {\r\n        throw new Error('Invalid response format from server');\r\n    }\r\n\r\n    if (!responseBody.data) {\r\n        throw new Error('Missing data field in server response');\r\n    }\r\n\r\n    if (!responseBody.data.operation_status) {\r\n        throw new Error('Missing operation_status in response data');\r\n    }\r\n\r\n    if (responseBody.data.operation_status === 'FAILED') {\r\n        const errorMessage = responseBody.data.operation_message || 'Operation failed without specific message';\r\n        if (responseBody?.data?.operation_message === 'session_id Unknown') {\r\n            clearLocalstorageOnLogout();\r\n            checkLogInOutButtonsVisible();\r\n        }\r\n        throw new Error(errorMessage);\r\n    }\r\n\r\n    if (responseBody.data.operation_status === 'SUCCESS') {\r\n        return responseBody.data;\r\n    }\r\n\r\n    throw new Error(`Unknown operation status: ${responseBody.data.operation_status}`);\r\n};\r\n\r\nconst spotFixUserConfirmEmailDoboard = async (emailConfirmationToken) => {\r\n    const data = {\r\n        email_confirmation_token: encodeURIComponent(emailConfirmationToken),\r\n    };\r\n    const result = await spotfixApiCall(data, 'user_confirm_email');\r\n    return {\r\n        sessionId: result.session_id,\r\n        userId: result.user_id,\r\n        email: result.email,\r\n        accounts: result.accounts,\r\n        operationStatus: result.operation_status,\r\n    };\r\n};\r\n\r\nconst createTaskDoboard = async (sessionId, taskDetails) => {\r\n    const accountId = taskDetails.accountId;\r\n    const data = {\r\n        session_id: sessionId,\r\n        project_token: taskDetails.projectToken,\r\n        project_id: taskDetails.projectId,\r\n        user_id: localStorage.getItem('spotfix_user_id'),\r\n        name: taskDetails.taskTitle,\r\n        comment: taskDetails.taskDescription,\r\n        meta: taskDetails.taskMeta,\r\n        task_type: taskDetails.task_type,\r\n    };\r\n    const result = await spotfixApiCall(data, 'task_add', accountId);\r\n    return {\r\n        taskId: result.task_id,\r\n    };\r\n};\r\n\r\nconst createTaskCommentDoboard = async (accountId, sessionId, taskId, comment, projectToken, status = 'ACTIVE') => {\r\n    const data = {\r\n        session_id: sessionId,\r\n        project_token: projectToken,\r\n        task_id: taskId,\r\n        comment: comment,\r\n        status: status,\r\n    };\r\n    const result = await spotfixApiCall(data, 'comment_add', accountId);\r\n    return {\r\n        commentId: result.comment_id,\r\n    };\r\n};\r\n\r\nconst attachmentAddDoboard = async (fileData) => {\r\n    const accountId = fileData.params.accountId;\r\n    const data = {\r\n        session_id: fileData.sessionId,\r\n        project_token: fileData.params.projectToken,\r\n        account_id: fileData.params.accountId,\r\n        comment_id: fileData.commentId,\r\n        filename: fileData.fileName,\r\n        file: fileData.fileBinary,\r\n        attachment_order: fileData.attachmentOrder,\r\n    };\r\n    const result = await spotfixApiCall(data, 'attachment_add', accountId);\r\n    // @ToDo need to handle result?\r\n};\r\n\r\nconst registerUserDoboard = async (projectToken, accountId, email, nickname, pageURL) => {\r\n    let data = {\r\n        project_token: projectToken,\r\n        account_id: accountId,\r\n        confirmation_url: email,\r\n    };\r\n    if (email && nickname) {\r\n        data.email = email;\r\n        data.name = nickname;\r\n    }\r\n\r\n    if (localStorage.getItem('bot_detector_event_token')) {\r\n        try {\r\n            const botDetectorData = JSON.parse(localStorage.getItem('bot_detector_event_token'));\r\n            if (botDetectorData?.value) {\r\n                data.bot_detector_event_token = botDetectorData?.value;\r\n            }\r\n        } catch (error) {\r\n            data.bot_detector_event_token = '';\r\n        }\r\n    }\r\n    const result = await spotfixApiCall(data, 'user_registration');\r\n    return {\r\n        sessionId: result.session_id,\r\n        userId: result.user_id,\r\n        email: result.email,\r\n        accountExists: result.user_email_confirmed === 1,\r\n        operationMessage: result.operation_message,\r\n        operationStatus: result.operation_status,\r\n        userEmailConfirmed: result.user_email_confirmed,\r\n        accounts: result.accounts,\r\n    };\r\n};\r\n\r\nconst loginUserDoboard = async (email, password) => {\r\n    const data = {\r\n        email: email,\r\n        password: password,\r\n    };\r\n    const result = await spotfixApiCall(data, 'user_authorize');\r\n    return {\r\n        sessionId: result.session_id,\r\n        userId: result.user_id,\r\n        email: result.email,\r\n        accountExists: result.user_email_confirmed === 1,\r\n        operationMessage: result.operation_message,\r\n        operationStatus: result.operation_status,\r\n        userEmailConfirmed: result.user_email_confirmed,\r\n        accounts: result.accounts,\r\n    };\r\n};\r\n\r\nconst forgotPasswordDoboard = async (email) => {\r\n    const data = {\r\n        email: email,\r\n    };\r\n    return await spotfixApiCall(data, 'user_password_reset');\r\n};\r\n\r\n\r\nconst logoutUserDoboard = async (projectToken) => {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    const accountsString = localStorage.getItem('spotfix_accounts');\r\n    const accounts = accountsString !== 'undefined' ? JSON.parse(accountsString || '[]') : [];\r\n    const accountId = accounts.length > 0 ? accounts[0].account_id : 1;\r\n\r\n    if (sessionId && accountId) {\r\n        const data = {\r\n            session_id: sessionId,\r\n        };\r\n\r\n        const email = localStorage.getItem('spotfix_email') || '';\r\n\r\n        if (email && email.includes('spotfix_')) {\r\n            data.project_token = projectToken;\r\n        }\r\n\r\n        const result = await spotfixApiCall(data, 'user_unauthorize', accountId);\r\n\r\n        if (result.operation_status === 'SUCCESS') {\r\n            clearLocalstorageOnLogout();\r\n            checkLogInOutButtonsVisible();\r\n        }\r\n    }\r\n};\r\n\r\nconst getTasksDoboard = async (projectToken, sessionId, accountId, projectId, userId) => {\r\n    const data = {\r\n        session_id: sessionId,\r\n        project_token: projectToken,\r\n        project_id: projectId,\r\n        status: 'ACTIVE,DONE',\r\n    };\r\n    if ( userId ) {\r\n        data.user_id = userId;\r\n    }\r\n    const result = await spotfixApiCall(data, 'task_get', accountId);\r\n    const tasks = result.tasks.map((task) => ({\r\n        taskId: task.task_id,\r\n        taskTitle: task.name,\r\n        userId: task.user_id,\r\n        task_type: task.task_type,\r\n        commentsCount: task.comments_count,\r\n        taskLastUpdate: task.updated,\r\n        taskCreated: task.created,\r\n        taskCreatorTaskUser: task.creator_user_id,\r\n        taskMeta: task.meta,\r\n        taskStatus: task.status,\r\n        viewers: task.comments_viewers,\r\n    }));\r\n    await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_TASKS, tasks);\r\n    storageSaveTasksCount(tasks);\r\n    return tasks;\r\n};\r\n\r\n\r\nconst getTasksCommentsDoboard = async (sessionId, accountId, projectToken, currentActiveTaskId, status = 'ACTIVE') => {\r\n    const data = {\r\n        session_id: sessionId,\r\n        project_token: projectToken,\r\n        status: status,\r\n    };\r\n\r\n    if (currentActiveTaskId) data.task_id = currentActiveTaskId;\r\n\r\n    const result = await spotfixApiCall(data, 'comment_get', accountId);\r\n    const comments = result.comments.map((comment) => ({\r\n        taskId: comment.task_id,\r\n        commentId: comment.comment_id,\r\n        userId: comment.user_id,\r\n        commentBody: comment.comment,\r\n        commentDate: comment.updated,\r\n        status: comment.status,\r\n        issueTitle: comment.task_name,\r\n    }));\r\n    await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_COMMENTS, comments);\r\n    return comments;\r\n};\r\n\r\nconst getUserDoboard = async (sessionId, projectToken, accountId, userId) => {\r\n    const data = {\r\n        session_id: sessionId,\r\n        project_token: projectToken,\r\n    };\r\n    if (userId) data.user_id = userId;\r\n\r\n    const result = await spotfixApiCall(data, 'user_get', accountId);\r\n    if (data.user_id) {\r\n        await spotfixIndexedDB.put(SPOTFIX_TABLE_USERS, result.users);\r\n    } else {\r\n        await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_USERS, result.users);\r\n    }\r\n    return result.users;\r\n\r\n    // @ToDo Need to handle these two different answers?\r\n    /* // Format 1: users inside data\r\n    if (responseBody.data && responseBody.data.operation_status) {\r\n        if (responseBody.data.operation_status === 'FAILED') {\r\n            throw new Error(responseBody.data.operation_message);\r\n        }\r\n        if (responseBody.data.operation_status === 'SUCCESS') {\r\n            if (Array.isArray(responseBody.data.users)) {\r\n                return responseBody.data.users;\r\n            }\r\n            return [];\r\n        }\r\n    }\r\n    // Format 2: users at the top level\r\n    if (responseBody.operation_status) {\r\n        if (responseBody.operation_status === 'FAILED') {\r\n            throw new Error(responseBody.operation_message);\r\n        }\r\n        if (responseBody.operation_status === 'SUCCESS') {\r\n            if (Array.isArray(responseBody.users)) {\r\n                return responseBody.users;\r\n            }\r\n            return [];\r\n        }\r\n    }*/\r\n};\r\n\r\nconst userUpdateDoboard = async (projectToken, accountId, sessionId, userId, timezone) => {\r\n    const data = {\r\n        session_id: sessionId,\r\n        project_token: projectToken,\r\n        user_id: userId,\r\n        timestamp: timezone,\r\n    };\r\n    await spotfixApiCall(data, 'user_update', accountId);\r\n    return {\r\n        success: true,\r\n    };\r\n};\r\n\r\nconst getReleaseVersion = async () => {\r\n    try {\r\n        const res = await fetch('https://api.github.com/repos/CleanTalk/SpotFix/tags');\r\n        let data = await res.json();\r\n\r\n        if (data.length > 0 && data[0].name) {\r\n            storageSaveSpotfixVersion(data[0].name);\r\n            return data[0].name;\r\n        } else {\r\n            const res = await fetch('https://api.github.com/repos/CleanTalk/SpotFix/releases');\r\n            data = await res.json();\r\n            if (data.length > 0 && data[0].tag_name) {\r\n                storageSaveSpotfixVersion(data[0].tag_name);\r\n                return data[0].tag_name;\r\n            }\r\n        }\r\n        return null;\r\n    } catch (err) {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst getNotificationsDoboard = async (projectToken, sessionId, accountId) => {\r\n    if (sessionId) {\r\n        const data = {\r\n            session_id: sessionId,\r\n            project_token: projectToken,\r\n            status: 'DELIVERED',\r\n        };\r\n\r\n        const result = await spotfixApiCall(data, 'notification_get', accountId);\r\n        return result.notifications;\r\n    }\r\n};\r\n\r\nconst updateNotificationsDoboard = async (taskId, projectToken, accountId) => {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    if (sessionId) {\r\n        const data = {\r\n            session_id: sessionId,\r\n            project_token: projectToken,\r\n            task_id: taskId,\r\n            status: 'READ',\r\n        };\r\n\r\n        await spotfixApiCall(data, 'notification_update', accountId);\r\n    }\r\n};\r\n\r\nconst updateViewersDoboard = async (usersIds, taskId, projectToken, accountId) => {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    if (sessionId) {\r\n        const data = {\r\n            session_id: sessionId,\r\n            project_token: projectToken,\r\n            task_id: taskId,\r\n            viewers_ids: usersIds,\r\n        };\r\n\r\n        await spotfixApiCall(data, 'viewers_update', accountId);\r\n    }\r\n};\r\n\nlet socket = null;\r\nlet heartbeatInterval = null;\r\nlet messageCallback = null;\r\nlet lastEventId = null;\r\nlet pendingUpdate = false;\r\nlet reconnectTimer = null;\r\nlet isIntentionalClose = false;\r\n\r\nconst WS_URL = 'wss://ws.doboard.com';\r\n\r\nconst getSessionId = () => localStorage.getItem('spotfix_session_id');\r\n\r\nconst buildMessage = (action) => ({\r\n    channel: `account:${localStorage.getItem('spotfix_company_id')}`,\r\n    action,\r\n    account_id: localStorage.getItem('spotfix_company_id'),\r\n    session_id: getSessionId(),\r\n    project_token: localStorage.getItem('spotfix_project_token'),\r\n});\r\n\r\nconst handleIncomingData = async (data) => {\r\n    switch (data.object) {\r\n    case 'users':\r\n        await spotfixIndexedDB.put(SPOTFIX_TABLE_USERS, data.data);\r\n        break;\r\n\r\n    case 'tasks':\r\n        if (data.data.status === 'REMOVED') {\r\n            await spotfixIndexedDB.delete(SPOTFIX_TABLE_TASKS, data.data.task_id);\r\n            const comments = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_COMMENTS);\r\n            const filteredComments = comments.filter((comment) => +comment.taskId !== +data.data.task_id);\r\n            await spotfixIndexedDB.clearPut(SPOTFIX_TABLE_COMMENTS, filteredComments);\r\n            break;\r\n        }\r\n\r\n        await spotfixIndexedDB.put(SPOTFIX_TABLE_TASKS, {\r\n            taskId: data.data.task_id,\r\n            taskTitle: data.data.name,\r\n            userId: data.data.user_id,\r\n            taskLastUpdate: data.data.updated,\r\n            taskCreated: data.data.created,\r\n            taskCreatorTaskUser: data.data.creator_user_id,\r\n            taskMeta: data.data.meta,\r\n            taskStatus: data.data.status,\r\n        });\r\n        break;\r\n\r\n    case 'comments':\r\n        if (data.data.status === 'REMOVED') {\r\n            await spotfixIndexedDB.delete(SPOTFIX_TABLE_COMMENTS, data.data.comment_id);\r\n            break;\r\n        }\r\n        await spotfixIndexedDB.put(SPOTFIX_TABLE_COMMENTS, {\r\n            taskId: data.data.task_id,\r\n            commentId: data.data.comment_id,\r\n            userId: data.data.user_id,\r\n            commentBody: data.data.comment,\r\n            commentDate: data.data.updated,\r\n            status: data.data.status,\r\n            issueTitle: data.data.task_name,\r\n        });\r\n        break;\r\n\r\n    default:\r\n        break;\r\n    }\r\n};\r\n\r\n\r\nconst wsSpotfix = {\r\n    connect() {\r\n        if (reconnectTimer) {\r\n            clearTimeout(reconnectTimer);\r\n            reconnectTimer = null;\r\n        }\r\n\r\n        if ((socket && socket.readyState === WebSocket.OPEN) || !getSessionId()) {\r\n            return;\r\n        }\r\n\r\n        isIntentionalClose = false;\r\n        socket = new WebSocket(WS_URL);\r\n\r\n        socket.onopen = () => {\r\n            heartbeatInterval = setInterval(() => {\r\n                if (socket?.readyState === WebSocket.OPEN) {\r\n                    socket.send('heartbeat');\r\n                }\r\n            }, 50 * 1000);\r\n            wsSpotfix.send(buildMessage('SUBSCRIBE'));\r\n        };\r\n\r\n        socket.onmessage = async (event) => {\r\n            if (event.data === 'heartbeat') return;\r\n\r\n            let data;\r\n            try {\r\n                data = JSON.parse(event.data);\r\n            } catch {\r\n                console.warn('WS non-JSON message:', event.data);\r\n                return;\r\n            }\r\n\r\n            if (!['users', 'tasks', 'comments'].includes(data.object)) return;\r\n\r\n            const eventId = data.id ? `${data.object}-${data.id}` : JSON.stringify(data);\r\n\r\n            if (eventId === lastEventId) return;\r\n            lastEventId = eventId;\r\n\r\n            await handleIncomingData(data);\r\n            if (!pendingUpdate) {\r\n                pendingUpdate = true;\r\n                setTimeout(() => {\r\n                    pendingUpdate = false;\r\n                    if (messageCallback) messageCallback();\r\n                }, 3000);\r\n            }\r\n        };\r\n\r\n        socket.onclose = () => {\r\n            socket = null;\r\n            if (heartbeatInterval) {\r\n                clearInterval(heartbeatInterval);\r\n                heartbeatInterval = null;\r\n            }\r\n\r\n            if (!isIntentionalClose) {\r\n                reconnectTimer = setTimeout(() => {\r\n                    wsSpotfix.connect();\r\n                }, 2000);\r\n            }\r\n        };\r\n\r\n        socket.onerror = (e) => {\r\n            console.error('WS error:', e);\r\n        };\r\n    },\r\n\r\n    send(data) {\r\n        if (socket?.readyState === WebSocket.OPEN) {\r\n            socket.send(JSON.stringify(data));\r\n        }\r\n    },\r\n\r\n    close() {\r\n        isIntentionalClose = true;\r\n        if (reconnectTimer) {\r\n            clearTimeout(reconnectTimer);\r\n            reconnectTimer = null;\r\n        }\r\n        socket?.close();\r\n    },\r\n\r\n    subscribe() {\r\n        if (socket?.readyState === WebSocket.OPEN) {\r\n            wsSpotfix.send(buildMessage('SUBSCRIBE'));\r\n        }\r\n    },\r\n\r\n    unsubscribe() {\r\n        if (socket?.readyState === WebSocket.OPEN) {\r\n            wsSpotfix.send(buildMessage('UNSUBSCRIBE'));\r\n        }\r\n    },\r\n\r\n    onMessage(cb) {\r\n        messageCallback = cb;\r\n    },\r\n};\r\n\nlet spotFixCSS = `.doboard_task_widget-send_message_paperclip .doboard_task_widget-paperclip-tooltip::after{content:\"\";position:absolute;left:8%;top:100%;transform:translateX(-50%);pointer-events:none;background:0 0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #545b61;display:block}.doboard_task_widget-send_message_paperclip{position:relative}.doboard_task_widget-send_message_paperclip .doboard_task_widget-paperclip-tooltip{display:none;position:absolute;left:0;bottom:0;transform:translateX(-3%) translateY(-43px);background:#545b61;color:#FFF;border:none;border-radius:3px;padding:10px 16px;font-size:13px;line-height:1.4;z-index:100;min-width:220px;max-width:320px;text-align:left;pointer-events:none;text-transform:none}.doboard_task_widget-send_message_paperclip:hover .doboard_task_widget-paperclip-tooltip{display:block}.doboard_task_widget *{font-family:Inter,sans-serif;font-weight:400;font-size:14px;line-height:130%;color:#40484F}.doboard_task_widget-header *{color:#252A2F;margin:0}.doboard_task_widget-header-icons{display:flex;gap:12px}.doboard_task_widget-close_btn{transform:translateY(-2px)}#openUserMenuButton{transform:scale(.85)}#maximizeWidgetContainer{transform:scale(.8)}.doboard_task_widget a{text-decoration:underline;color:#2F68B7}.doboard_task_widget a:hover{text-decoration:none}.doboard_task_widget{position:fixed;right:50px;bottom:20px;z-index:9999;vertical-align:middle;transition:top .1s;transform:translateZ(0);-webkit-transform:translateZ(0);will-change:transform}.doboard_task_widget_cursor-pointer{cursor:pointer}.doboard_task_widget-container-maximize .doboard_task_widget-field{display:flex;justify-content:space-evenly;flex-wrap:wrap}.doboard_task_widget-input-container-textarea .tox-tinymce{position:absolute}.doboard_task_widget-container-maximize{width:80vw!important;max-width:1120px!important;max-height:75vh!important;min-height:75vh!important;display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-container{width:430px;max-height:calc(100vh - 40px);display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-header{display:flex;min-height:41px;padding:0 16px;background-color:#F3F6F9;border-radius:8px 8px 0 0;border:1px solid #BBC7D1;border-bottom:none;justify-content:space-between;align-items:center;color:#FFF}.doboard_task_widget-user_menu-header{display:flex;padding:16px;border:1px solid #BBC7D1;border-bottom-color:#EBF0F4;border-radius:8px 8px 0 0;flex-direction:column;align-items:center;color:#252A2F;background-color:#F3F6F9}.doboard_task_widget-user_menu-header-top{display:flex;height:fit-content;align-items:center;width:100%;justify-content:space-between}.doboard_task_widget-user_menu-header-avatar{max-width:60px;max-height:60px;width:60px;height:60px;border-radius:50%;margin-bottom:4px}.doboard_task_widget-task_menu-item,.doboard_task_widget-user_menu-item{display:flex;align-items:center;border-bottom:1px #EBF0F4 solid;padding:0 16px;height:52px}.doboard_task_widget-content{flex:1;overflow-y:auto;background:#FFF;border-radius:0 0 8px 8px;border:1px #BBC7D1;border-style:none solid solid;box-shadow:0 4px 15px 8px #CACACA40;scrollbar-width:none;max-height:60vh}.doboard_task_widget-container-maximize .doboard_task_widget-content{max-height:inherit}.doboard_task_widget-element-container{margin-bottom:16px}.doboard_task_widget-element-container span{color:#707A83;font-size:12px;font-weight:400}.doboard_task_widget-wrap{box-shadow:none;position:fixed;right:-50px;padding:0;cursor:pointer;width:69px;height:52px;border-top-left-radius:4px;border-bottom-left-radius:4px;background-color:rgba(255,255,255,.9);border:1px solid #EBF0F4;display:flex;align-items:center;justify-content:center}.doboard_task_widget-hidden,.doboard_task_widget-input-container.hidden,.doboard_task_widget-login.hidden,.doboard_task_widget-wrap.hidden,.wrap_review::after{display:none}.doboard_task_widget-wrap img{width:32px;height:32px;transform:scaleX(-1)}.wrap_review{width:164px;min-width:164px;height:54px}.wrap_review img{width:28px;height:28px;transform:scaleX(-1)}.wrap_review:hover{background-color:#fff}@media (max-width:480px){.doboard_task_widget-wrap{right:-20px}}#review_content_button_text{color:#D5991A;margin-left:6px;font-weight:600;font-size:14px;text-transform:none!important}#doboard_task_widget-task_count{position:absolute;top:-12px;right:4px;width:22px;height:22px;opacity:1;background:#ef8b43;border-radius:50%;color:#FFF;text-align:center;line-height:22px}#doboard_task_widget-task_count.hidden{width:0;height:0;opacity:0}.doboard_task_widget-input-container{position:relative;margin-bottom:6px}.doboard_task_widget-input-container .doboard_task_widget-field{padding:0 8px;border-radius:4px;border:1px solid #BBC7D1;outline:0!important;appearance:none;width:100%;height:40px;background:#FFF;color:#000;max-width:-webkit-fill-available;max-width:-moz-available}.doboard_task_widget-field:focus{border-color:#2F68B7}.doboard_task_widget-input-container textarea.doboard_task_widget-field{min-height:94px;padding-top:11px;padding-bottom:11px}.doboard_task_widget-field+label{color:#252A2F;background:#fff;position:absolute;top:20px;left:8px;transform:translateY(-50%);transition:all .2s ease-in-out}.doboard_task_widget-field.has-value+label,.doboard_task_widget-field:focus+label{font-size:10px;top:0;left:12px;padding:0 4px;z-index:5}.doboard_task_widget-field:focus+label{color:#2F68B7}.doboard_task_widget-login{border:1px solid #BBC7D1;border-radius:4px;padding:11px 8px 8px}.doboard_task_widget-login .doboard_task_widget-accordion{height:0;overflow:hidden;opacity:0;transition:all .2s ease-in-out}.doboard_task_widget-login.active .doboard_task_widget-accordion{height:auto;overflow:visible;opacity:1}.doboard_task_widget-accordion i{font-size:12px}.doboard_task_widget-login .doboard_task_widget-input-container:last-child{margin-bottom:0}.doboard_task_widget-login .doboard_task_widget-login-icon{display:block;position:relative;padding-right:24px;cursor:pointer}.doboard_task_widget-login.active .doboard_task_widget-login-icon{margin-bottom:24px}.doboard_task_widget-login .doboard_task_widget-login-icon::after{position:absolute;top:0;right:4px;content:\"\";display:block;width:10px;height:10px;transform:rotate(45deg);border:2px solid #40484F;border-radius:1px;border-top:none;border-left:none;transition:all .2s ease-in-out}.doboard_task_widget-login.active .doboard_task_widget-login-icon::after{transform:rotate(-135deg);top:7px}.doboard_task_widget-login .doboard_task_widget-field+label,.doboard_task_widget-login .doboard_task_widget-input-container .doboard_task_widget-field{background:#F9FBFD}.doboard_task_widget-submit_button{min-height:48px;width:100%;max-width:400px;margin-bottom:10px;border-radius:6px;font-family:Inter,sans-serif;font-size:16px;line-height:150%;cursor:pointer;transition:all .2s ease-in-out;background:0 0;border:1px solid #22A475;color:#22A475;font-weight:600}.doboard_task_widget-submit_button:hover{background:#22A475;color:#FFF}.doboard_task_widget-submit_button:disabled{background:rgba(117,148,138,.92);color:#FFF;cursor:wait}.doboard_task_widget-login-buttons-wrapper{display:flex;gap:10px;margin-bottom:10px}.doboard_task_widget-login-buttons-wrapper .doboard_task_widget-submit_button{margin-bottom:0;width:auto;min-height:32px;font-size:14px;padding:4px 12px}.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-forgot_password-black,.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-on_phantom_login_page{flex:1;background:#FFF;border:1px solid #22A475;color:#22A475}.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-forgot_password-black:hover,.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-on_phantom_login_page:hover{background:#f0fdf4;color:#1C7857}.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-login_button,.doboard_task_widget-login-buttons-wrapper #doboard_task_widget-restore_password_button{flex:2}.doboard_task_widget-issue-title{display:inline-flex;flex-direction:column;transform:translateY(-2px);max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.doboard_task_widget-issue-title>:last-child{color:#707A83;text-align:center;font-size:10px;font-weight:400}.doboard_task_widget-hidden_element{opacity:0}.doboard_task_widget-message-wrapper{border-radius:4px;padding:8px;margin-bottom:14px;display:grid;justify-items:center}.doboard_task_widget-error_message-wrapper.hidden,.doboard_task_widget-message-wrapper.hidden{display:none}.doboard_task_widget-error_message{background:#fdd;border:1px solid #cf6868}.doboard_task_widget-notice_message{background:#dde9ff;border:1px solid #68a6cf}#doboard_task_widget-error_message-header{font-weight:600}#doboard_task_widget-error_message{text-align:center}.doboard_task_widget-task_row{display:flex;max-height:67px;cursor:pointer;align-items:center;justify-content:space-between;padding:0 15px}.doboard_task_widget-task_row:last-child{margin-bottom:0}.doboard_task_widget-task-text_bold{font-weight:700}.doboard_task_widget-element_selection,.doboard_task_widget-image_selection,.doboard_task_widget-text_selection,.doboard_task_widget-text_selection.image-highlight>img{background:rgba(208,213,127,.68)}.doboard_task_widget-issues_list_empty{text-align:center;margin:20px 0}.doboard_task_widget-avatar_container{display:flex;height:44px;width:44px;border-radius:50%;background-repeat:no-repeat;background-position:center;background-size:100%}.doboard_task_widget-comment_data_owner .doboard_task_widget-avatar_container{opacity:0}.doboard_task_widget-avatar_placeholder{min-height:44px;min-width:44px;border-radius:50%;font-size:24px;line-height:1.2083333333;padding:0;background:#1C7857;display:inline-grid;align-content:center;justify-content:center}.doboard_task_widget-avatar-initials{color:#FFF;width:inherit;text-align:center}.doboard_task_widget-avatar{width:44px;height:44px;border-radius:50%;object-fit:cover}.doboard_task_widget-description_container{height:62px;width:calc(100% - 44px - 8px);border-bottom:1px solid #EBF0F4;display:block;margin-left:8px;padding-top:4px}.doboard_task_widget-task_row:last-child .doboard_task_widget-description_container{border-bottom:none}.doboard_task_widget-all_issues{padding-bottom:0}.doboard_task_widget-all_issues-container,.doboard_task_widget-concrete_issues-container{overflow:auto;max-height:85vh;display:none}.doboard_task_widget-task_last_message,.doboard_task_widget-task_page_url a,.doboard_task_widget-task_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.doboard_task_widget-all_issues-container{scrollbar-width:none;margin-top:10px;min-height:60vh}.doboard_task_widget-content.doboard_task_widget-concrete_issue{padding:0;display:flex;flex-direction:column}.doboard_task_widget-concrete_issues-container{padding:10px 16px 5px;flex-grow:1}.doboard_task_widget-all_issues-container::-webkit-scrollbar,.doboard_task_widget-all_issues::-webkit-scrollbar,.doboard_task_widget-concrete_issues-container::-webkit-scrollbar,.doboard_task_widget-content::-webkit-scrollbar{width:0}.doboard_task_widget-task_title{font-weight:700;display:flex;justify-content:space-between;align-items:center}.doboard_task_widget-task_title span{font-weight:700;display:inline-block}.doboard_task_widget-task_title-details{display:flex;max-width:calc(100% - 65px);align-items:center}.doboard_task_widget-task_title-unread_block{opacity:0;height:8px;width:8px;background:#f08c43;border-radius:50%;display:inline-block;font-size:8px;font-weight:600;position:relative}.doboard_task_widget-task_title-unread_block.unread{opacity:1}.doboard_task_widget-task_last_message{max-width:85%;height:36px}.doboard_task_widget-task_page_url{max-width:70%;height:30px;display:flex;align-items:flex-end}.doboard_task_widget-task_page_url a{color:#40484F;text-decoration:none;margin-left:8px;max-width:100%}.doboard_task_widget-bottom{display:flex;justify-content:space-between;align-items:flex-end}.doboard_task_widget-bottom-is-fixed{border-radius:10px;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03LjA4MTE5IDAuMjIzNDM0QzguOTkxNjkgLTAuMjA4MTY3IDEwLjk5MTMgLTAuMDExMjE5NCAxMi43ODA0IDAuNzg1OTM0QzEzLjE1ODQgMC45NTQ2MjQgMTMuMzI4NiAxLjM5ODAzIDEzLjE2MDMgMS43NzYxN0MxMi45OTE3IDIuMTU0MTkgMTIuNTQ4MiAyLjMyNDI0IDEyLjE3MDEgMi4xNTYwNUMxMC42NzY0IDEuNDkwNTIgOS4wMDcyNiAxLjMyNiA3LjQxMjI1IDEuNjg2MzJDNS44MTcxNyAyLjA0NjcxIDQuMzgwOTcgMi45MTI5NiAzLjMxODUgNC4xNTYwNUMyLjI1NjIzIDUuMzk5MDEgMS42MjQ0MSA2Ljk1MjI5IDEuNTE2NzQgOC41ODM3OUMxLjQwOTI0IDEwLjIxNTQgMS44MzE4NCAxMS44MzkgMi43MjE4MiAxMy4yMTA3QzMuNjExNzkgMTQuNTgyMiA0LjkyMTY0IDE1LjYyOTQgNi40NTUyMSAxNi4xOTYxQzcuOTg5MDIgMTYuNzYyNiA5LjY2NTUzIDE2LjgxODkgMTEuMjMzNSAxNi4zNTUzQzEyLjgwMTYgMTUuODkxNiAxNC4xNzgzIDE0LjkzMzUgMTUuMTU3NCAxMy42MjM4QzE2LjEzNjQgMTIuMzE0MiAxNi42NjYxIDEwLjcyMjcgMTYuNjY3MSA5LjA4NzY5TDE4LjE2NzEgOS4wODg2N0MxOC4xNjU4IDExLjA0NzEgMTcuNTMxMiAxMi45NTM2IDE2LjM1ODUgMTQuNTIyM0MxNS4xODU5IDE2LjA5MDcgMTMuNTM3MyAxNy4yMzg0IDExLjY1OTMgMTcuNzkzN0M5Ljc4MTEgMTguMzQ5MSA3Ljc3MjkzIDE4LjI4MiA1LjkzNTY4IDE3LjYwMzNDNC4wOTg1IDE2LjkyNDYgMi41MjkxMiAxNS42NzAxIDEuNDYzMDMgMTQuMDI3MUMwLjM5NzAzNSAxMi4zODQxIC0wLjEwOTEwOSAxMC40Mzk1IDAuMDE5NjY4MyA4LjQ4NTE1QzAuMTQ4NjA3IDYuNTMwOCAwLjkwNjMyMyA0LjY3MDMzIDIuMTc4ODUgMy4xODE0NEMzLjQ1MTM2IDEuNjkyNjggNS4xNzA4OCAwLjY1NTE2MiA3LjA4MTE5IDAuMjIzNDM0WiIgZmlsbD0iIzIyQTQ3NSIvPg0KPHBhdGggZD0iTTE2Ljg4NTkgMS44OTA0M0MxNy4xNzg2IDEuNTk3NTMgMTcuNjUzNCAxLjU5Nzg0IDE3Ljk0NjQgMS44OTA0M0MxOC4yMzkzIDIuMTgzMTYgMTguMjQwMSAyLjY1Nzk2IDE3Ljk0NzQgMi45NTA5N0w5LjYxMzQyIDExLjI5MjhDOS40NzI4MiAxMS40MzMzIDkuMjgxOTYgMTEuNTEyNCA5LjA4MzE1IDExLjUxMjVDOC44ODQzMiAxMS41MTI1IDguNjkzNDggMTEuNDMzMyA4LjU1Mjg3IDExLjI5MjhMNi4wNTI4NyA4Ljc5Mjc3QzUuNzYwMTQgOC40OTk5IDUuNzYwMTEgOC4wMjUwOCA2LjA1Mjg3IDcuNzMyMjJDNi4zNDU3MiA3LjQzOTM3IDYuODIwNTEgNy40Mzk0NiA3LjExMzQyIDcuNzMyMjJMOS4wODIxNyA5LjcwMDk3TDE2Ljg4NTkgMS44OTA0M1oiIGZpbGw9IiMyMkE0NzUiLz4NCjxwYXRoIGQ9Ik0xNy40MTcxIDcuNTcxMDlDMTcuODMxIDcuNTcxNDQgMTguMTY3IDcuOTA3MTYgMTguMTY3MSA4LjMyMTA5VjkuMDg4NjdMMTcuNDE3MSA5LjA4NzY5SDE2LjY2NzFWOC4zMjEwOUMxNi42NjcyIDcuOTA2OTQgMTcuMDAzIDcuNTcxMDkgMTcuNDE3MSA3LjU3MTA5WiIgZmlsbD0iIzIyQTQ3NSIvPg0KPC9zdmc+) 8px center no-repeat #EBFAF4;padding:4px 7px 4px 30px}.doboard_task_widget-bottom-is-fixed-task-block{text-align:center}.doboard_task_widget-bottom-is-fixed-task{background:#F3F6F9;color:#1C7857;display:inline-block;border-radius:10px;padding:5px 8px;margin:0 auto}.doboard_task_widget-task_row-green{background:#EBF0F4}.doboard_task_widget-task_row-green .doboard_task_widget-description_container{border-bottom:1px solid #e5e5e5}.doboard_task_widget_return_to_all{display:flex;gap:8px;flex-direction:row;-moz-flex-direction:row;align-content:center;flex-wrap:wrap}.doboard_task_widget-task_title-last_update_time{font-family:Inter,serif;font-weight:400;font-style:normal;font-size:11px;leading-trim:NONE;line-height:100%}.doboard_task_widget-task_title_public_status_img{opacity:50%;margin-left:5px;scale:90%}.doboard_task_widget-description-textarea{resize:none}.doboard_task_widget-switch_row{display:flex;align-items:center;gap:12px;margin:16px 0;justify-content:space-between}.doboard_task_widget-switch-label{font-weight:600;font-size:16px;height:24px;align-content:center}.doboard_task_widget-switch{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.doboard_task_widget-switch input{opacity:0;width:0;height:0}.doboard_task_widget-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;border-radius:24px;transition:.2s}.doboard_task_widget-slider:before{position:absolute;content:\"\";height:20px;width:20px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:.2s}.doboard_task_widget-switch input:checked+.doboard_task_widget-slider{background-color:#65D4AC}.doboard_task_widget-switch input:checked+.doboard_task_widget-slider:before{transform:translateX(20px)}.doboard_task_widget-switch-img{width:24px;height:24px;flex-shrink:0}.doboard_task_widget-switch-center{display:flex;gap:2px;flex-direction:column;-moz-flex-direction:column;flex:1 1 auto;min-width:0}.doboard_task_widget-switch-desc{display:block;font-size:12px;color:#707A83;margin:0;line-height:1.2;max-width:180px;word-break:break-word}.doboard_task_widget-concrete_issue-day_content{display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-concrete_issue_day_content-month_day{text-align:center;font-weight:400;font-size:12px;line-height:100%;padding:8px;opacity:.75}.doboard_task_widget-concrete_issue_day_content-messages_wrapper{display:flex;flex-direction:column;-moz-flex-direction:column}.doboard_task_widget-comment_data_wrapper{display:flex;flex-direction:row;-moz-flex-direction:row;margin-bottom:15px;align-items:flex-end}.doboard_task_widget-comment_text_container{position:relative;width:calc(100% - 44px - 5px);height:auto;margin-left:5px;background:#F3F6F9;border-radius:16px}.doboard_task_widget-comment_text_container:after{content:\"\";position:absolute;bottom:0;left:-5px;width:13px;height:19px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxMyAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuMTEyNTggMTkuMDMzNEM1LjI5NDg2IDE5LjgyMDEgMTAuNjEwNSAxNy45NzQxIDEyLjI3MTUgMTYuMTcxM0MxMi4yNzE1IDE2LjE3MTMgMTAuOTYyMyAtMi43ODEyNCA1LjA5NTU0IDAuMzQ5MDc5QzUuMDc0NCAxLjYxNDU0IDUuMDk1NTQgNS45OTQ5IDUuMDk1NTQgNi43NDA2OUM1LjA5NTU0IDE3LjA2NjIgLTAuODg0MDEyIDE4LjQ0MDEgMC4xMTI1OCAxOS4wMzM0WiIgZmlsbD0iI0YzRjZGOSIvPgo8L3N2Zz4K)}.doboard_task_widget-comment_data_owner .doboard_task_widget-comment_text_container{background:#EBFAF4}.doboard_task_widget-comment_data_owner .doboard_task_widget-comment_text_container:after{left:auto;right:-5px;height:13px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjc3NzEgMTIuMzA2NkM3LjMzMTM1IDEzLjA5MzcgMS43NDU0NCAxMS4yNDY5IDAgOS40NDMxOUw3LjM5MTYgMEM3LjM5MTYgMTAuMzMwMyAxMy44MjQ0IDExLjcxMzEgMTIuNzc3MSAxMi4zMDY2WiIgZmlsbD0iI0VCRkFGNCIvPgo8L3N2Zz4K)}.doboard_task_widget-comment_body,.doboard_task_widget-comment_time{position:relative;z-index:1}.doboard_task_widget-comment_body{padding:6px 8px;min-height:30px}.doboard_task_widget-comment_body strong{font-variation-settings:\"wght\" 700}.doboard_task_widget-comment_body blockquote{margin:0;border-left:3px solid #22a475}.doboard_task_widget-comment_body blockquote p{margin:0 10px}.doboard_task_widget-comment_body details .mce-accordion-body{padding-left:20px}.doboard_task_widget-comment_body details .mce-accordion-summary{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg transform='rotate(180 0 0)' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' style='enable-background:new 0 0 20 20' xml:space='preserve'%3E%3Cpath d='M10 13.3c-.2 0-.4-.1-.6-.2l-5-5c-.3-.3-.3-.9 0-1.2.3-.3.9-.3 1.2 0l4.4 4.4 4.4-4.4c.3-.3.9-.3 1.2 0 .3.3.3.9 0 1.2l-5 5c-.2.2-.4.2-.6.2z'/%3E%3C/svg%3E\") 0 no-repeat;padding-left:20px}.doboard_task_widget-comment_body .mce-accordion[open] .mce-accordion-summary{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' style='enable-background:new 0 0 20 20' xml:space='preserve'%3E%3Cpath d='M10 13.3c-.2 0-.4-.1-.6-.2l-5-5c-.3-.3-.3-.9 0-1.2.3-.3.9-.3 1.2 0l4.4 4.4 4.4-4.4c.3-.3.9-.3 1.2 0 .3.3.3.9 0 1.2l-5 5c-.2.2-.4.2-.6.2z'/%3E%3C/svg%3E\") 0 no-repeat}.doboard_task_widget-comment_body details .mce-accordion-summary::marker{content:\"\"}.doboard_task_widget-comment_body pre{border:1px solid #d6dde3;border-left-width:8px;border-radius:4px;padding:13px 16px 14px 12px;white-space:pre-wrap}.doboard_task_widget-comment_time{font-weight:400;font-size:11px;opacity:.8;position:absolute;bottom:6px;right:6px}.doboard_task_widget-comment_body-img-strict{max-width:-webkit-fill-available;height:100px;margin-right:5px}.doboard_task_widget-send_message{border-top:1px solid #BBC7D1;position:sticky;background:#fff;bottom:0;z-index:4}.doboard_task_widget-send_message_elements_wrapper{display:flex;flex-direction:row;-moz-flex-direction:row;align-content:center;flex-wrap:nowrap;justify-content:space-between;align-items:end}.doboard_task_widget-send_message_elements_wrapper img{margin:0}.doboard_task_widget-send_message_input_wrapper{position:relative;display:inline-grid;align-items:center;justify-items:center;flex-grow:1;padding:0 6px}.doboard_task_widget-send_message_input_wrapper textarea{position:relative;width:100%;height:37px;border:none;outline:0;box-shadow:none;border-radius:24px;background:#F3F6F9;resize:none;margin-bottom:0!important;transition:height .2s ease-in-out;padding:8px;box-sizing:border-box}.doboard_task_widget-send_message_input_wrapper textarea.high{height:170px}.doboard_task_widget-send_message_input_wrapper textarea:focus{background:#F3F6F9;border-color:#007bff;outline:0}.doboard_task_widget-send_message_button{display:inline-grid;border:none;cursor:pointer;padding:0;width:100%;align-items:center;margin:20px 0 0}.doboard_task_widget-send_message_paperclip{display:inline-grid;border:none;background:0 0;cursor:pointer;padding:0;align-items:center;margin:0}.doboard_task_widget-send_message_button:hover,.doboard_task_widget-send_message_paperclip:hover rect{fill:#45a049}.doboard_task_widget-send_message_button:active,.doboard_task_widget-send_message_paperclip:active{transform:scale(.98)}.doboard_task_widget-spinner_wrapper_for_containers{display:flex;justify-content:center;align-items:center;min-height:60px;width:100%}.spotfix_doboard_task_widget_url{background-color:#D6DDE3;padding:12px 16px;display:none}.doboard_task_widget-spinner_for_containers{width:40px;height:40px;border-radius:50%;background:conic-gradient(transparent,#1C7857);mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#fff 0);animation:spin 1s linear infinite}.doboard_task_widget-create_issue{padding:10px}.doboard_task_widget__file-upload__wrapper{display:none;border:1px solid #BBC7D1;margin-top:14px;padding:0 10px 10px;border-radius:4px}.doboard_task_widget__file-upload__list-header{text-align:left;font-size:.9em;margin:5px 0;color:#444c529e}.doboard_task_widget__file-upload__file-input-button{display:none}.doboard_task_widget__file-upload__file-list{border:1px solid #ddd;border-radius:5px;padding:6px;max-height:200px;overflow-y:auto;background:#f3f6f9}.doboard_task_widget__file-upload__file-item{display:flex;justify-content:space-between;align-items:center;padding:4px;border-bottom:1px solid #bbc7d16b}.doboard_task_widget__file-upload__file-item:last-child{border-bottom:none}.doboard_task_widget__file-upload__file_info{display:inline-flex;align-items:center}.doboard_task_widget__file-upload__file-name{font-weight:700;font-size:.9em}.doboard_task_widget__file-upload__file-item-content{width:100%}.doboard_task_widget__file-upload__file_size{color:#666;font-size:.8em;margin-left:6px}.doboard_task_widget__file-upload__remove-btn{background:#22a475;color:#fff;border:none;border-radius:3px;cursor:pointer}.doboard_task_widget__file-upload__error{display:block;margin:7px 0 0;padding:7px;border-radius:4px;background:#fdd;border:1px solid #cf6868}.doboard_task_widget-show_button{position:fixed;background:#1C7857;color:#FFF;padding:8px 12px;border-radius:4px;font-size:14px;z-index:10000;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.3);transform:translate(-50%,-100%);margin-top:-8px;white-space:nowrap;border:none;font-family:inherit}@keyframes spin{to{transform:rotate(1turn)}}@media (max-width:480px){.doboard_task_widget{position:fixed;right:0;top:auto;bottom:0;margin:0 20px 20px;box-sizing:border-box;transform:translateZ(0);-moz-transform:translateZ(0);will-change:transform;max-height:90vh}.doboard_task_widget-header{padding:8px}.doboard_task_widget-issue-title{max-width:70px}.doboard_task_widget-container,.doboard_task_widget-container-maximize{width:100%;max-width:290px;margin:0 auto;max-height:90vh}.doboard_task_widget-container{min-width:290px}.doboard_task_widget-content{height:auto;max-height:100%;min-height:100%;scrollbar-width:none}.doboard_task_widget-content::-webkit-scrollbar{display:none}.doboard_task_widget-all_issues-container,.doboard_task_widget-concrete_issues-container{max-height:80vh}}@supports (-webkit-overflow-scrolling:touch){.doboard_task_widget{position:fixed}}.doboard_task_widget_tasks_list{background-color:#fff;position:sticky;bottom:0;height:38px;display:flex;flex-direction:column-reverse;align-items:center;padding-bottom:8px}#doboard_task_widget-user_menu-logout_button{display:inline-flex;align-items:center}.doboard_task_widget-text_selection{position:relative;display:inline-block}.doboard_task_widget-see-task{cursor:pointer;text-decoration:underline}.doboard_task_widget-text_selection_tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:#FFF;color:#000;padding:4px 8px;border-radius:4px;font-size:10px;white-space:nowrap;z-index:9000;border:1px solid #BBC7D1;margin-bottom:8px}.doboard_task_widget-text_selection_tooltip::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid transparent;border-top-color:#FFF}.doboard_task_widget-text_selection_tooltip::before{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:6px solid transparent;border-top-color:#BBC7D1;z-index:-1}.doboard_task_widget-text_selection_tooltip_icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDEwMyAxMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEwMyAxMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMxNzcyNTA7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik01MywwSDB2MTAwaDMwLjJINTNDMTE5LjYsMTAwLDExOS42LDAsNTMsMHogTTMwLjIsMTAwYy0xNi42LDAtMzAtMTMuNC0zMC0zMHMxMy40LTMwLDMwLTMwDQoJYzE2LjYsMCwzMCwxMy40LDMwLDMwUzQ2LjgsMTAwLDMwLjIsMTAweiIvPg0KPC9zdmc+DQo=);background-repeat:no-repeat;width:22px;height:22px;margin:5px 3px}.doboard_task_widget-text_selection_tooltip_element{display:flex;justify-content:space-between}.doboard_task_widget-content .tox .tox-toolbar__group{padding:0 8px!important}.doboard_task_widget-spotfix-editor .tox-tinymce{border:none!important}.doboard_task_widget-content .tox-tinymce{border:1px solid #BBC7D1;border-radius:4px}.doboard_task_widget-content ol,.doboard_task_widget-content ul{margin:0 0 0 1em!important}.toggle{position:relative;display:inline-block;width:46px;min-width:46px;height:20px}.toggle input{opacity:0;width:0;height:0;position:absolute}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#D6DDE3;border-radius:24px;transition:.3s;height:14px;width:37px}.slider:before{content:\"\";position:absolute;height:20px;width:20px;top:-3px;left:-2px;background-color:#FFF;border-radius:50%;transition:.3s;box-shadow:0 0 4px rgba(0,0,0,.21)}input:checked+.slider{background-color:#65D4AC80}input:checked+.slider:before{transform:translateX(20px);box-shadow:none;background-color:#65D4AC}.doboard_task_widget-bottom-eye-icon,.doboard_task_widget-bottom-eye-off-icon{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:20px;height:20px;cursor:pointer;transition:all .2s ease;z-index:10;border-radius:50%}.logout_button{font-weight:500;font-size:14px;color:#707A83;cursor:pointer}.doboard_task_widget-forgot_password,.doboard_task_widget-on_phantom_login_page,.doboard_task_widget-show_login_form{display:inline-block;cursor:pointer;color:#2F68B7;margin-bottom:0}.doboard_task_widget-forgot_password{margin-bottom:20px}.doboard_task_widget-login-is-invalid{color:red}.doboard_task_widget-forgot_password_form-menu,.doboard_task_widget-input-container-login-menu{margin:20px}.doboard_task_widget-bottom-eye-icon{background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNMTAsMTcuNGMtNi4yLDAtOS43LTYuOC05LjgtNy4xYy0wLjEtMC4yLTAuMS0wLjUsMC0wLjdDMC4zLDkuNCwzLjgsMi42LDEwLDIuNmM2LjIsMCw5LjcsNi44LDkuOCw3LjENCgljMC4xLDAuMiwwLjEsMC41LDAsMC43QzE5LjcsMTAuNiwxNi4yLDE3LjQsMTAsMTcuNHogTTEuNywxMGMwLjgsMS4zLDMuNyw1LjksOC4zLDUuOWM0LjYsMCw3LjYtNC42LDguMy01LjkNCgljLTAuOC0xLjMtMy43LTUuOS04LjMtNS45QzUuNCw0LjEsMi40LDguNywxLjcsMTB6IE0xMCwxMy4zYy0xLjgsMC0zLjMtMS41LTMuMy0zLjNTOC4yLDYuOCwxMCw2LjhzMy4zLDEuNSwzLjMsMy4zDQoJUzExLjgsMTMuMywxMCwxMy4zeiBNMTAsOC4zQzksOC4zLDguMyw5LDguMywxMFM5LDExLjgsMTAsMTEuOHMxLjgtMC44LDEuOC0xLjhTMTEsOC4zLDEwLDguM3oiLz4NCjwvc3ZnPg0K) center center no-repeat #fff;background-size:16px 16px}.doboard_task_widget-bottom-eye-off-icon{background:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2LjgsMTMuMmMwLjEsMC4xLDAuMywwLjIsMC41LDAuMmMwLDAsMCwwLDAsMGMwLjIsMCwwLjQtMC4xLDAuNS0wLjNjMC43LTAuOSwxLjQtMS44LDEuOS0yLjgNCgljMC4xLTAuMiwwLjEtMC41LDAtMC43Yy0wLjEtMC4zLTMuNi03LjEtOS44LTcuMWMwLDAsMCwwLDAsMGMtMC42LDAtMS4zLDAuMS0xLjksMC4yQzcuOCwyLjksNy42LDMuMSw3LjUsMy4zczAsMC41LDAuMiwwLjcNCglMMTYuOCwxMy4yeiBNMTAsNC4xYzQuNiwwLDcuNiw0LjYsOC4zLDUuOWMtMC4zLDAuNS0wLjYsMS0xLDEuNUw5LjksNC4xQzkuOSw0LjEsMTAsNC4xLDEwLDQuMXogTTE5LjcsMTguNmwtNC4yLTQuMkw1LjYsNC41DQoJYzAsMCwwLDAsMCwwTDEuNCwwLjNDMS4xLDAsMC42LDAsMC4zLDAuM1MwLDEuMSwwLjMsMS40TDMuOSw1QzIuNCw2LjMsMS4xLDcuOSwwLjIsOS42Yy0wLjEsMC4yLTAuMSwwLjUsMCwwLjcNCgljMC4xLDAuMywzLjYsNy4xLDkuOSw3LjFjMS43LDAsMy40LTAuNSw0LjktMS41bDMuOCwzLjhjMC4xLDAuMSwwLjMsMC4yLDAuNSwwLjJzMC40LTAuMSwwLjUtMC4yQzIwLDE5LjQsMjAsMTguOSwxOS43LDE4LjZ6DQoJIE04LjMsOS40bDIuMywyLjNjLTAuMiwwLjEtMC40LDAuMS0wLjYsMC4xYy0wLjIsMC0wLjUsMC0wLjctMC4xYy0wLjItMC4xLTAuNC0wLjItMC42LTAuNGMtMC4yLTAuMi0wLjMtMC40LTAuNC0wLjYNCgljLTAuMS0wLjItMC4xLTAuNS0wLjEtMC43QzguMiw5LjgsOC4yLDkuNiw4LjMsOS40eiBNMTAsMTUuOWMtNC42LDAtNy42LTQuNi04LjMtNS45YzAuOS0xLjUsMi0yLjgsMy4zLTMuOWwyLjIsMi4yDQoJQzcuMSw4LjQsNyw4LjYsNyw4LjdDNi44LDkuMSw2LjcsOS42LDYuNywxMGMwLDAuNCwwLjEsMC45LDAuMiwxLjNjMC4yLDAuNCwwLjQsMC44LDAuNywxLjFjMC4zLDAuMywwLjcsMC42LDEuMSwwLjcNCgljMC40LDAuMiwwLjgsMC4yLDEuMywwLjJjMC40LDAsMC45LTAuMSwxLjMtMC4zYzAuMi0wLjEsMC4zLTAuMiwwLjUtMC4zbDIuMSwyLjFDMTIuNiwxNS41LDExLjMsMTUuOSwxMCwxNS45eiIvPg0KPC9zdmc+DQo=) center center no-repeat #fff;background-size:16px 16px;opacity:.5}.doboard_task_widget-input-container-textarea{position:relative;margin-top:16px}.doboard_task_widget-field-textarea-label{position:absolute;left:10px;top:10px;padding:0 5px;color:#666;background-color:#fff;transition:.2s ease all;pointer-events:none}.doboard_task_widget-input-container-textarea .doboard_task_widget-field~label{top:-10px;left:14px;font-size:10px;color:#252A2F}.doboard_task_widget-concrete_issue .tox-tinymce .tox-toolbar__group{display:inline-flex!important;width:100%!important;justify-content:space-evenly}.doboard_task_widget-task_title-text{margin-right:6px}.doboard_task_widget-commentsIndicator{width:22px;height:22px;border-radius:50%;color:#fff;font-weight:400;font-size:11px;display:inline-flex;justify-content:center;align-items:center}.doboard_task_widget-visibility-toggle{display:flex;justify-content:space-between;align-items:center;min-width:270px;max-width:420px;margin-top:4px;margin-bottom:12px}#spotfix_widget-task-menu_name{color:#252A2F;font-size:16px;font-weight:500;display:inline-flex}#spotfix_widget-task-menu_users{font-size:12px;font-weight:400;color:#707A83}.spotfix_widget-task-menu_user{width:100%;margin-bottom:12px;display:flex;justify-content:space-between;align-items:center}.spotfix_widget-task-menu_user img{height:24px;width:24px;border-radius:50%;margin-right:12px}.spotfix_widget-task-menu_user>:first-child{font-weight:400;font-size:14px;color:#000;display:inline-flex;align-items:center}.spotfix_widget-task-menu_user>:last-child{color:#40484F;font-size:12px;font-weight:400}`;\nconst SPOTFIX_VERSION = \"1.1.13\";\r\n\n\r\nasync function spotFixConfirmUserEmail(emailConfirmationToken, params) {\r\n    const result = await spotFixUserConfirmEmailDoboard(emailConfirmationToken);\r\n    // Save session data to LS\r\n    localStorage.setItem('spotfix_email', result.email);\r\n    localStorage.setItem('spotfix_session_id', result.sessionId);\r\n    localStorage.setItem('spotfix_user_id', result.userId);\r\n    localStorage.setItem('spotfix_widget_is_closed', '0');\r\n    await spotfixIndexedDB.init();\r\n    wsSpotfix.connect();\r\n    wsSpotfix.subscribe();\r\n\r\n    // Get pending task from LS\r\n    const pendingTaskRaw = localStorage.getItem('spotfix_pending_task');\r\n    if (!pendingTaskRaw) throw new Error('No pending task data');\r\n\r\n    let pendingTask;\r\n    try {\r\n        pendingTask = JSON.parse(pendingTaskRaw);\r\n    } catch (error) {\r\n        throw new Error('Invalid pending task data');\r\n    }\r\n\r\n    // Form taskDetails for task creation\r\n    const taskDetails = {\r\n        taskTitle: pendingTask.selectedText || 'New Task',\r\n        taskDescription: pendingTask.description || '',\r\n        selectedData: pendingTask,\r\n        projectToken: params.projectToken,\r\n        projectId: params.projectId,\r\n        accountId: params.accountId,\r\n        taskMeta: JSON.stringify(pendingTask),\r\n    };\r\n\r\n    // Create task\r\n    const createdTask = await handleCreateTask(result.sessionId, taskDetails);\r\n    // Clear pending task\r\n    localStorage.removeItem('spotfix_pending_task');\r\n\r\n    // Return created task\r\n    return createdTask;\r\n}\r\n\r\nasync function getTasksFullDetails(params, tasks, currentActiveTaskId, nonRequesting = false) {\r\n    if (tasks.length > 0) {\r\n        const sessionId = localStorage.getItem('spotfix_session_id');\r\n        if (!nonRequesting) {\r\n            await getTasksCommentsDoboard(sessionId, params.accountId, params.projectToken, currentActiveTaskId);\r\n        }\r\n        const comments = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_COMMENTS);\r\n        if (!nonRequesting) {\r\n            await getUserDoboard(sessionId, params.projectToken, params.accountId);\r\n        }\r\n        const users = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_USERS);\r\n        const foundTask = tasks.find((item) => +item.taskId === +currentActiveTaskId);\r\n\r\n        return {\r\n            comments: comments,\r\n            users: users,\r\n            taskStatus: foundTask?.taskStatus,\r\n            taskName: foundTask?.taskTitle,\r\n        };\r\n    }\r\n}\r\n\r\nasync function getUserDetails(params, nonRequesting = false) {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    const currentUserId = localStorage.getItem('spotfix_user_id');\r\n    if (currentUserId) {\r\n        if (!nonRequesting) {\r\n            await getUserDoboard(sessionId, params.projectToken, params.accountId, currentUserId);\r\n        }\r\n        const users = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_USERS);\r\n        return users.find((user) => +user.user_id === +currentUserId) || {};\r\n    }\r\n}\r\n\r\nasync function handleCreateTask(sessionId, taskDetails) {\r\n    try {\r\n        const result = await createTaskDoboard(sessionId, taskDetails);\r\n        if (result && result.taskId && taskDetails.taskDescription) {\r\n            const sign = `<br><br><br><em>The spot has been posted at the following URL <a href=\"${window.location.href}\"><span class=\"task-link task-link--done\">${window.location.href}</span></a></em>`;\r\n            await addTaskComment({\r\n                projectToken: taskDetails.projectToken,\r\n                accountId: taskDetails.accountId,\r\n            }, result.taskId, taskDetails.taskDescription+sign);\r\n        }\r\n        return result;\r\n    } catch (err) {\r\n        throw err;\r\n    }\r\n}\r\n\r\nasync function addTaskComment(params, taskId, commentText) {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    if (!sessionId) throw new Error('No session');\r\n    if (!params.projectToken || !params.accountId) throw new Error('Missing params');\r\n    return await createTaskCommentDoboard(params.accountId, sessionId, taskId, commentText, params.projectToken);\r\n}\r\n\r\nasync function getAllTasks(params, nonRequesting = false) {\r\n    const projectToken = params.projectToken;\r\n    const sessionId = localStorage.getItem('spotfix_session_id') || '';\r\n    if (!nonRequesting) {\r\n        await getTasksDoboard(projectToken, sessionId, params.accountId, params.projectId);\r\n    }\r\n    const tasksData = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS);\r\n    storageSaveTasksCount(tasksData);\r\n    // Get only tasks with metadata\r\n    const filteredTaskData = tasksData.filter((task) => {\r\n        return task.taskMeta;\r\n    });\r\n\r\n    return filteredTaskData;\r\n}\r\n\r\nfunction formatDate(dateStr) {\r\n\t const months = [\r\n\t \t'January', 'February', 'March', 'April', 'May', 'June',\r\n\t \t'July', 'August', 'September', 'October', 'November', 'December',\r\n\t ];\r\n\t // dateStr expected format: 'YYYY-MM-DD HH:mm:ss' or 'YYYY-MM-DDTHH:mm:ssZ'\r\n\t if (!dateStr) return {date: '', time: ''};\r\n\t let dateObj;\r\n\t if (dateStr.includes('T')) {\r\n\t  dateObj = new Date(dateStr);\r\n\t } else if (dateStr.includes(' ')) {\r\n\t  dateObj = new Date(dateStr.replace(' ', 'T'));\r\n\t } else {\r\n\t  dateObj = new Date(dateStr);\r\n\t }\r\n\t if (isNaN(dateObj.getTime())) return {date: '', time: ''};\r\n\r\n\t // Adjust to local timezone\r\n\t const offsetMinutes = dateObj.getTimezoneOffset();\r\n\t let localDateObj = new Date(dateObj.getTime() - offsetMinutes * 60000);\r\n\r\n\t const month = months[localDateObj.getMonth()];\r\n\t const day = localDateObj.getDate();\r\n\t const date = `${month} ${day}`;\r\n\t const hours = localDateObj.getHours().toString().padStart(2, '0');\r\n\t const minutes = localDateObj.getMinutes().toString().padStart(2, '0');\r\n\t const time = `${hours}:${minutes}`;\r\n\t return {date, time};\r\n}\r\n\r\nfunction getTaskAuthorDetails(params, taskId) {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    const mockUsersData =\r\n\t\t[\r\n\t\t    {\r\n\t\t        'taskId': '1',\r\n\t\t        'taskAuthorAvatarImgSrc': 'https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/avatars/081a1b65d20fe318/m.jpg',\r\n\t\t        'taskAuthorName': 'Test All Issues Single Author Name',\r\n\t\t    },\r\n\t\t];\r\n\r\n    const defaultData =\r\n\t\t{\r\n\t\t    'taskId': null,\r\n\t\t    'taskAuthorAvatarImgSrc': null,\r\n\t\t    'taskAuthorName': 'Task Author',\r\n\t\t};\r\n\r\n    const data = mockUsersData.find((element) => element.taskId === taskId);\r\n    return data === undefined ? defaultData : data;\r\n}\r\n\r\nfunction getIssuesCounterString(onPageSpotsCount, totalSpotsCount) {\r\n    return ` (${onPageSpotsCount}/${totalSpotsCount})`;\r\n}\r\n\r\n// Get the author's avatar\r\nfunction getAvatarSrc(author) {\r\n    if (author && author.avatar) {\r\n        if (typeof author.avatar === 'object' && author.avatar.m) {\r\n            return author.avatar.m;\r\n        } else if (typeof author.avatar === 'string') {\r\n            return author.avatar;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n// Get the author's name\r\nfunction getAuthorName(author) {\r\n    if (author) {\r\n        if (author.name && author.name.trim().length > 0) {\r\n            return author.name;\r\n        } else if (author.email && author.email.trim().length > 0) {\r\n            return author.email;\r\n        }\r\n    }\r\n    return 'Unknown Author';\r\n}\r\n\r\nfunction registerUser(taskDetails) {\r\n    const userEmail = taskDetails.userEmail;\r\n    const userName = taskDetails.userName;\r\n    const projectToken = taskDetails.projectToken;\r\n    const accountId = taskDetails.accountId;\r\n    const pageURL = taskDetails.selectedData.pageURL ? taskDetails.selectedData.pageURL : window.location.href;\r\n\r\n    const resultRegisterUser = (showMessageCallback) => registerUserDoboard(projectToken, accountId, userEmail, userName, pageURL)\r\n        .then((response) => {\r\n            if (response.accountExists) {\r\n                document.querySelector('.doboard_task_widget-accordion .doboard_task_widget-input-container').innerText = ksesFilter('Account already exists. Please, login usin your password.');\r\n                document.querySelector('.doboard_task_widget-accordion .doboard_task_widget-input-container.hidden').classList.remove('hidden');\r\n                document.getElementById('doboard_task_widget-user_password').focus();\r\n            } else if (response.sessionId) {\r\n                localStorage.setItem('spotfix_session_id', response.sessionId);\r\n                localStorage.setItem('spotfix_user_id', response.userId);\r\n                localStorage.setItem('spotfix_email', response.email);\r\n                localStorage.setItem('spotfix_accounts', JSON.stringify(response.accounts));\r\n                spotfixIndexedDB.init();\r\n                localStorage.setItem('spotfix_widget_is_closed', '0');\r\n                wsSpotfix.connect();\r\n                wsSpotfix.subscribe();\r\n                userUpdate(projectToken, accountId);\r\n            } else if (response.operationStatus === 'SUCCESS' && response.operationMessage && response.operationMessage.length > 0) {\r\n                if (response.operationMessage == 'Waiting for email confirmation') {\r\n                    response.operationMessage = 'Waiting for an email confirmation. Please check your Inbox.';\r\n                \tif (document.getElementById('doboard_task_widget-error_message').innerText === 'Waiting for an email confirmation. Please check your Inbox.') {\r\n                        response.operationMessage = 'Incorrect email address. Please confirm your email to create the spot.';\r\n                    }\r\n                }\r\n                if (typeof showMessageCallback === 'function') {\r\n                    showMessageCallback(response.operationMessage, 'notice');\r\n                }\r\n                const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n                submitButton.disabled = true;\r\n                submitButton.innerText = ksesFilter('Create spot');\r\n            } else {\r\n                throw new Error('Session ID not found in response');\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            throw error;\r\n        });\r\n\r\n    return resultRegisterUser;\r\n}\r\n\r\nfunction loginUser(taskDetails) {\r\n    const userEmail = taskDetails.userEmail;\r\n    const userPassword = taskDetails.userPassword;\r\n\r\n    return (showMessageCallback) => loginUserDoboard(userEmail, userPassword)\r\n        .then((response) => {\r\n            if (response.sessionId) {\r\n                localStorage.setItem('spotfix_session_id', response.sessionId);\r\n                localStorage.setItem('spotfix_user_id', response.userId);\r\n                localStorage.setItem('spotfix_email', userEmail);\r\n                localStorage.setItem('spotfix_accounts', JSON.stringify(response.accounts));\r\n                checkLogInOutButtonsVisible();\r\n                localStorage.setItem('spotfix_widget_is_closed', '0');\r\n                spotfixIndexedDB.init();\r\n                wsSpotfix.connect();\r\n                wsSpotfix.subscribe();\r\n            } else if (response.operationStatus === 'SUCCESS' && response.operationMessage && response.operationMessage.length > 0) {\r\n                if (typeof showMessageCallback === 'function') {\r\n                    showMessageCallback(response.operationMessage, 'notice');\r\n                }\r\n            } else {\r\n                throw new Error('Session ID not found in response');\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            throw error;\r\n        });\r\n}\r\n\r\nfunction forgotPassword(userEmail) {\r\n    return (showMessageCallback) => forgotPasswordDoboard(userEmail)\r\n        .then((response) => {\r\n            console.log('response ', response);\r\n            if (response?.operation_status === 'SUCCESS') {\r\n                showMessageCallback('New password sent to email', 'notice');\r\n                const forgotPasswordForm = document.getElementById('doboard_task_widget-container-login-forgot-password-form');\r\n                const loginContainer = document.getElementById('doboard_task_widget-input-container-login');\r\n                const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n                if (forgotPasswordForm) {\r\n                    forgotPasswordForm.classList.add('doboard_task_widget-hidden');\r\n                }\r\n                if (loginContainer) {\r\n                    loginContainer.classList.remove('doboard_task_widget-hidden');\r\n                    if (submitButton) {\r\n                        submitButton.closest('.doboard_task_widget-field').classList.add('doboard_task_widget-hidden');\r\n                    }\r\n                }\r\n            } else {\r\n                throw new Error('Response error');\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            throw error;\r\n        });\r\n}\r\n\r\nfunction userUpdate(projectToken, accountId) {\r\n    const sessionId = localStorage.getItem('spotfix_session_id');\r\n    const userId = localStorage.getItem('spotfix_user_id');\r\n    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n    return userUpdateDoboard(projectToken, accountId, sessionId, userId, timezone);\r\n}\r\n\r\nfunction spotFixSplitUrl(url) {\r\n    try {\r\n        if (!url || url.trim() === '') {\r\n            return '';\r\n        }\r\n        const u = new URL(url);\r\n        const domain = u.host;\r\n\r\n        const segments = u.pathname.split('/').filter(Boolean);\r\n\r\n        if (segments.length === 0) {\r\n            return domain;\r\n        }\r\n\r\n        const reversed = segments.reverse();\r\n        reversed.push(domain);\r\n        return reversed.join(' / ');\r\n    } catch (error) {\r\n        return '';\r\n    }\r\n}\r\n\r\nfunction setToggleStatus(rootElement) {\r\n    const clickHandler = () => {\r\n        const timer = setTimeout(() => {\r\n            localStorage.setItem('spotfix_widget_is_closed', '1');\r\n            wsSpotfix.close();\r\n            rootElement.hide();\r\n            clearTimeout(timer);\r\n        }, 300);\r\n    };\r\n    const toggle = document.getElementById('widget_visibility');\r\n    if (toggle) {\r\n        toggle.checked = true;\r\n        toggle.addEventListener('click', clickHandler);\r\n    }\r\n}\r\n\r\nfunction checkLogInOutButtonsVisible() {\r\n    const signInLogInButton = document.getElementById('doboard_task_widget-user_menu-signlog_button');\r\n\r\n    if (localStorage.getItem('spotfix_session_id')) {\r\n        if (signInLogInButton) signInLogInButton.style.display = 'none';\r\n        const loginContainer = document.getElementById('doboard_task_widget-input-container-login');\r\n        if (loginContainer) loginContainer.style.display = 'none';\r\n        const logoutButton = document.getElementById('doboard_task_widget-user_menu-logout_button');\r\n        if (logoutButton) logoutButton.closest('.doboard_task_widget-user_menu-item').style.display = 'flex';\r\n    } else {\r\n        if (signInLogInButton) signInLogInButton.style.display = 'inline-block';\r\n        const logoutButton = document.getElementById('doboard_task_widget-user_menu-logout_button');\r\n        if (logoutButton) logoutButton.closest('.doboard_task_widget-user_menu-item').style.display = 'none';\r\n        const name = document.getElementById('spotfix_user-menu_name');\r\n        if (name) name.innerText = 'Guest';\r\n        const email = document.getElementById('spotfix_user-menu_email');\r\n        if (email) email.innerText = '';\r\n        const avatarElement = document.querySelector('.doboard_task_widget-user_menu-header-avatar');\r\n        if (avatarElement) avatarElement.src = SpotFixSVGLoader.getAsDataURI('iconAvatar');\r\n    }\r\n}\r\n\r\n/**\r\n * Clear user menu data in menu\r\n */\r\n\r\nfunction changeSize(container) {\r\n    if (container && +localStorage.getItem('maximize')) {\r\n        container.classList.add('doboard_task_widget-container-maximize');\r\n    } else if (container) {\r\n        container.classList.remove('doboard_task_widget-container-maximize');\r\n    }\r\n}\r\nfunction addIconPack() {\r\n    if (SpotFixTinyMCE?.IconManager) {\r\n        SpotFixTinyMCE.IconManager.add('icon_pack_SpotFix', {\r\n            icons: {\r\n                'paperclip': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path d=\"M14.4648 0.522461C15.6367 0.522493 16.7612 0.987773 17.5898 1.81641C18.4185 2.64507 18.8838 3.76952 18.8838 4.94141C18.8837 6.11309 18.4183 7.23685 17.5898 8.06543L9.15625 16.4902C8.6717 16.9747 8.01428 17.247 7.3291 17.2471C6.64372 17.2471 5.98563 16.9749 5.50098 16.4902C5.01634 16.0056 4.74414 15.3475 4.74414 14.6621C4.74422 13.9769 5.01652 13.3195 5.50098 12.835L13.2842 5.06152C13.5771 4.76897 14.052 4.7688 14.3447 5.06152C14.6374 5.35457 14.6377 5.83034 14.3447 6.12305L6.5625 13.8955C6.35922 14.0988 6.24422 14.3746 6.24414 14.6621C6.24414 14.9497 6.35916 15.2254 6.5625 15.4287C6.76585 15.632 7.04154 15.7471 7.3291 15.7471C7.61656 15.747 7.89243 15.632 8.0957 15.4287L16.5293 7.00488L16.7227 6.79102C17.1482 6.27169 17.3837 5.61868 17.3838 4.94141C17.3838 4.16735 17.0766 3.42431 16.5293 2.87695C15.982 2.32963 15.2389 2.02249 14.4648 2.02246C13.691 2.02253 12.9486 2.32984 12.4014 2.87695L3.97754 11.3018C3.08624 12.1931 2.58504 13.4016 2.58496 14.6621C2.58496 15.9227 3.08617 17.1321 3.97754 18.0234C4.86885 18.9146 6.0775 19.415 7.33789 19.415C8.59844 19.415 9.80788 18.9148 10.6992 18.0234L19.123 9.59961C19.4159 9.30678 19.8907 9.30674 20.1836 9.59961C20.4763 9.8925 20.4764 10.3673 20.1836 10.6602L11.7598 19.084C10.5871 20.2566 8.99626 20.915 7.33789 20.915C5.67955 20.915 4.08866 20.2566 2.91602 19.084C1.74348 17.9113 1.08496 16.3204 1.08496 14.6621C1.08504 13.004 1.74366 11.4138 2.91602 10.2412L11.3408 1.81641C12.1694 0.987987 13.2932 0.52253 14.4648 0.522461Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'ordered-list': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path d=\"M3.20117 15.0879C3.36239 15.0879 3.50533 15.1152 3.62891 15.1699C3.75311 15.2246 3.84938 15.3007 3.91895 15.3965C3.98914 15.4915 4.02406 15.6 4.02344 15.7227C4.02486 15.8447 3.98351 15.9453 3.89844 16.0234C3.81392 16.1016 3.70614 16.1479 3.57617 16.1621V16.1787C3.75221 16.1979 3.88486 16.2521 3.97363 16.3408C4.06241 16.4289 4.10591 16.5403 4.10449 16.6738C4.10511 16.8015 4.06658 16.9151 3.98926 17.0137C3.91259 17.1121 3.80577 17.1891 3.66895 17.2451C3.53262 17.3012 3.37547 17.3301 3.19727 17.3301C3.02548 17.3301 2.87273 17.3001 2.73926 17.2412C2.60645 17.1816 2.50178 17.0995 2.42578 16.9951C2.34979 16.8907 2.31126 16.7704 2.31055 16.6348H2.90723C2.90794 16.6766 2.92051 16.7147 2.94531 16.748C2.9708 16.7806 3.00596 16.8058 3.0498 16.8242C3.09379 16.8427 3.14444 16.8525 3.20117 16.8525C3.25586 16.8525 3.30478 16.8424 3.34668 16.8232C3.38835 16.8034 3.42099 16.7759 3.44434 16.7412C3.46765 16.7065 3.47922 16.6667 3.47852 16.6221C3.47919 16.5781 3.46516 16.5389 3.4375 16.5049C3.41056 16.471 3.373 16.4439 3.32422 16.4248C3.27521 16.4056 3.21822 16.3965 3.1543 16.3965H2.93262V15.9873H3.1543C3.213 15.9873 3.26495 15.978 3.30957 15.959C3.35485 15.9399 3.3902 15.9128 3.41504 15.8789C3.44055 15.8449 3.45378 15.8056 3.45312 15.7617C3.45384 15.7191 3.44318 15.6811 3.42188 15.6484C3.40057 15.6158 3.37036 15.5907 3.33203 15.5723C3.29442 15.5538 3.25083 15.5439 3.20117 15.5439C3.14728 15.544 3.0992 15.5541 3.05664 15.5732C3.01479 15.5924 2.98117 15.6183 2.95703 15.6523C2.93296 15.6863 2.92071 15.7257 2.91992 15.7695H2.35352C2.3543 15.6362 2.39053 15.5182 2.46289 15.416C2.53604 15.3138 2.63657 15.234 2.76367 15.1758C2.89074 15.1176 3.03649 15.0879 3.20117 15.0879Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 15.75C19.6641 15.7502 20 16.0859 20 16.5C20 16.9141 19.6641 17.2498 19.25 17.25H7.33301C6.91896 17.2498 6.58301 16.9141 6.58301 16.5C6.58301 16.0859 6.91896 15.7502 7.33301 15.75H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M3.13965 9.58789C3.31434 9.5879 3.46593 9.61577 3.59375 9.67188C3.72211 9.72721 3.82106 9.80558 3.89062 9.90625C3.96094 10.0071 3.99609 10.1261 3.99609 10.2617C3.99606 10.3454 3.97904 10.4288 3.94434 10.5117C3.90959 10.594 3.84681 10.6852 3.75684 10.7852C3.66666 10.8853 3.53819 11.0051 3.37207 11.1436L3.16699 11.3145V11.3271H4.01953V11.7998H2.34473V11.374L3.15918 10.7002C3.21301 10.6556 3.2586 10.6132 3.29688 10.5742C3.33592 10.5345 3.36613 10.494 3.38672 10.4521C3.40803 10.4102 3.41895 10.3636 3.41895 10.3125C3.41893 10.2566 3.40684 10.2086 3.38281 10.1689C3.35938 10.1292 3.32608 10.0985 3.28418 10.0771C3.24235 10.0552 3.19421 10.044 3.13965 10.0439C3.0851 10.0439 3.03694 10.0552 2.99512 10.0771C2.95394 10.0992 2.92116 10.1312 2.89844 10.1738C2.87571 10.2164 2.86426 10.269 2.86426 10.3301H2.30176C2.30176 10.1768 2.33651 10.0443 2.40527 9.93359C2.47413 9.82286 2.57165 9.73739 2.69727 9.67773C2.82298 9.61808 2.97061 9.58789 3.13965 9.58789Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 10.25C19.6641 10.2502 20 10.5859 20 11C20 11.4141 19.6641 11.7498 19.25 11.75H7.33301C6.91896 11.7498 6.58301 11.4141 6.58301 11C6.58301 10.5859 6.91896 10.2502 7.33301 10.25H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M3.41406 6.2998H2.82227V4.66309H2.80957L2.33203 4.94922V4.44629L2.86914 4.11816H3.41406V6.2998Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 4.75C19.6641 4.75018 20 5.0859 20 5.5C20 5.9141 19.6641 6.24982 19.25 6.25H7.33301C6.91896 6.2498 6.58301 5.91409 6.58301 5.5C6.58301 5.08591 6.91896 4.7502 7.33301 4.75H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'screenshot': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.667 13C15.352 13.0001 16.0088 13.2724 16.4932 13.7568C16.9776 14.2412 17.2499 14.898 17.25 15.583C17.25 16.2682 16.9776 16.9257 16.4932 17.4102C16.0088 17.8944 15.3519 18.1669 14.667 18.167C13.9818 18.167 13.3243 17.8946 12.8398 17.4102C12.3554 16.9257 12.083 16.2682 12.083 15.583C12.0831 14.8981 12.3556 14.2412 12.8398 13.7568C13.3243 13.2724 13.9818 13 14.667 13ZM14.667 14.5C14.3797 14.5 14.1036 14.6142 13.9004 14.8174C13.6974 15.0205 13.5831 15.2959 13.583 15.583C13.583 15.8703 13.6972 16.1464 13.9004 16.3496C14.1036 16.5528 14.3797 16.667 14.667 16.667C14.9541 16.6669 15.2295 16.5526 15.4326 16.3496C15.6358 16.1464 15.75 15.8703 15.75 15.583C15.7499 15.2958 15.6357 15.0205 15.4326 14.8174C15.2295 14.6143 14.9542 14.5001 14.667 14.5Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16.4551 9.34277C16.562 9.35633 16.6673 9.38342 16.7676 9.42285L16.915 9.49219L17.0518 9.57812C17.1393 9.6412 17.2188 9.71518 17.2881 9.79785L17.3848 9.92871L18.6504 11.8945H19.6172C19.745 11.8946 19.8722 11.9132 19.9941 11.9502L20.1143 11.9932L20.2295 12.0479C20.3045 12.088 20.3756 12.1355 20.4414 12.1895L20.5361 12.2754L20.6221 12.3691C20.676 12.4349 20.7236 12.506 20.7637 12.5811L20.8184 12.6963L20.8613 12.8174C20.8982 12.9393 20.917 13.0665 20.917 13.1943V19.6162C20.917 19.7869 20.8837 19.9566 20.8184 20.1143C20.7531 20.2717 20.6566 20.4146 20.5361 20.5352C20.4155 20.6558 20.2719 20.7521 20.1143 20.8174C19.9568 20.8826 19.7876 20.9159 19.6172 20.916H9.7168C9.54633 20.916 9.37725 20.8826 9.21973 20.8174C9.06208 20.7521 8.91853 20.6558 8.79785 20.5352C8.67731 20.4146 8.58092 20.2718 8.51562 20.1143C8.45029 19.9565 8.41699 19.7869 8.41699 19.6162V13.1943C8.41699 12.8496 8.55416 12.5192 8.79785 12.2754L8.89355 12.1885C9.12475 11.9993 9.41542 11.8946 9.7168 11.8945H10.6836L11.9492 9.92871L12.0459 9.79785C12.1498 9.67401 12.2763 9.57012 12.4189 9.49219C12.6096 9.38824 12.8239 9.33318 13.041 9.33301H16.293L16.4551 9.34277ZM11.8848 12.7988C11.7672 12.9812 11.6054 13.1313 11.415 13.2354C11.2245 13.3393 11.0101 13.3943 10.793 13.3945H9.91699V19.416H19.417V13.3945H18.541C18.3239 13.3944 18.1096 13.3393 17.9189 13.2354C17.7285 13.1314 17.5668 12.9812 17.4492 12.7988L16.1836 10.833H13.1504L11.8848 12.7988Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M2.75 15.75C3.16421 15.75 3.5 16.0858 3.5 16.5V18.5H5.04199C5.45606 18.5002 5.79199 18.8359 5.79199 19.25C5.79199 19.6641 5.45606 19.9998 5.04199 20H2.75C2.33579 20 2 19.6642 2 19.25V16.5C2 16.0858 2.33579 15.75 2.75 15.75Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M2.75 7.95801C3.1641 7.95801 3.49982 8.29394 3.5 8.70801V13.292C3.49982 13.7061 3.16411 14.042 2.75 14.042C2.33589 14.042 2.00018 13.7061 2 13.292V8.70801C2.00018 8.29394 2.3359 7.95801 2.75 7.95801Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 7.04199C19.6642 7.04199 20 7.37778 20 7.79199V9.16699C19.9998 9.58106 19.6641 9.91699 19.25 9.91699C18.8359 9.91699 18.5002 9.58106 18.5 9.16699V7.79199C18.5 7.37778 18.8358 7.04199 19.25 7.04199Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M5.5 2C5.91421 2 6.25 2.33579 6.25 2.75C6.25 3.16421 5.91421 3.5 5.5 3.5H3.5V5.5C3.5 5.91421 3.16421 6.25 2.75 6.25C2.33579 6.25 2 5.91421 2 5.5V2.75C2 2.33579 2.33579 2 2.75 2H5.5Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 2C19.6642 2 20 2.33579 20 2.75V5.04199C19.9998 5.45606 19.6641 5.79199 19.25 5.79199C18.8359 5.79199 18.5002 5.45606 18.5 5.04199V3.5H16.5C16.0858 3.5 15.75 3.16421 15.75 2.75C15.75 2.33579 16.0858 2 16.5 2H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M13.292 2C13.7061 2.00018 14.042 2.33589 14.042 2.75C14.042 3.16411 13.7061 3.49982 13.292 3.5H8.70801C8.29394 3.49982 7.95801 3.1641 7.95801 2.75C7.95801 2.3359 8.29394 2.00018 8.70801 2H13.292Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>\\n',\r\n                'unordered-list': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path d=\"M2.75879 15.75C3.17279 15.7502 3.50879 16.0859 3.50879 16.5C3.50879 16.9141 3.17279 17.2498 2.75879 17.25H2.75C2.33579 17.25 2 16.9142 2 16.5C2 16.0858 2.33579 15.75 2.75 15.75H2.75879Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 15.75C19.6641 15.7502 20 16.0859 20 16.5C20 16.9141 19.6641 17.2498 19.25 17.25H7.33301C6.91896 17.2498 6.58301 16.9141 6.58301 16.5C6.58301 16.0859 6.91896 15.7502 7.33301 15.75H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M2.75879 10.25C3.17279 10.2502 3.50879 10.5859 3.50879 11C3.50879 11.4141 3.17279 11.7498 2.75879 11.75H2.75C2.33579 11.75 2 11.4142 2 11C2 10.5858 2.33579 10.25 2.75 10.25H2.75879Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 10.25C19.6641 10.2502 20 10.5859 20 11C20 11.4141 19.6641 11.7498 19.25 11.75H7.33301C6.91896 11.7498 6.58301 11.4141 6.58301 11C6.58301 10.5859 6.91896 10.2502 7.33301 10.25H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M2.75879 4.75C3.17279 4.75025 3.50879 5.08594 3.50879 5.5C3.50879 5.91406 3.17279 6.24975 2.75879 6.25H2.75C2.33579 6.25 2 5.91421 2 5.5C2 5.08579 2.33579 4.75 2.75 4.75H2.75879Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M19.25 4.75C19.6641 4.75018 20 5.0859 20 5.5C20 5.9141 19.6641 6.24982 19.25 6.25H7.33301C6.91896 6.2498 6.58301 5.91409 6.58301 5.5C6.58301 5.08591 6.91896 4.7502 7.33301 4.75H19.25Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'bold': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\"\\n' +\r\n\t\t\t\t\t'xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n' +\r\n\t\t\t\t\t'd=\"M12.833 2.91699C14.0044 2.91699 15.1278 3.38265 15.9561 4.21094C16.7843 5.03922 17.25 6.16261 17.25 7.33398C17.2499 8.50524 16.7843 9.62882 15.9561 10.457C15.8706 10.5424 15.7809 10.6226 15.6895 10.7002C16.1237 10.9126 16.5248 11.1957 16.873 11.5439C17.7012 12.3722 18.167 13.4957 18.167 14.667C18.1669 15.8382 17.7013 16.9618 16.873 17.79C16.0448 18.6182 14.9213 19.083 13.75 19.083H5.5C5.08579 19.083 4.75 18.7472 4.75 18.333V3.66699C4.75 3.25278 5.08579 2.91699 5.5 2.91699H12.833ZM6.25 17.583H13.75C14.5235 17.583 15.2655 17.2764 15.8125 16.7295C16.3594 16.1826 16.6669 15.4404 16.667 14.667C16.667 13.8935 16.3594 13.1515 15.8125 12.6045C15.2655 12.0575 14.5235 11.75 13.75 11.75H6.25V17.583ZM6.25 10.25H12.833C13.6064 10.25 14.3486 9.94326 14.8955 9.39648C15.4424 8.84958 15.7499 8.10741 15.75 7.33398C15.75 6.56044 15.4425 5.81847 14.8955 5.27148C14.3485 4.7245 13.6066 4.41699 12.833 4.41699H6.25V10.25Z\"\\n' +\r\n\t\t\t\t\t'fill=\"#707A83\"/></svg>',\r\n                'italic': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path d=\"M17.417 2.91699C17.831 2.91719 18.167 3.2529 18.167 3.66699C18.167 4.08108 17.831 4.41679 17.417 4.41699H14.2695L9.33203 17.583H12.833C13.2472 17.583 13.583 17.9188 13.583 18.333C13.583 18.7472 13.2472 19.083 12.833 19.083H4.58301C4.16896 19.0828 3.83301 18.7471 3.83301 18.333C3.83301 17.9189 4.16896 17.5832 4.58301 17.583H7.73047L12.668 4.41699H9.16699C8.75278 4.41699 8.41699 4.08121 8.41699 3.66699C8.41699 3.25278 8.75278 2.91699 9.16699 2.91699H17.417Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'strike-through': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path d=\"M17.875 10.25C18.2892 10.25 18.625 10.5858 18.625 11C18.625 11.4142 18.2892 11.75 17.875 11.75H15.3926C16.1188 12.5542 16.5625 13.6179 16.5625 14.7812C16.5625 17.2751 14.5251 19.3124 12.0312 19.3125H9.96875C7.61343 19.3124 5.66563 17.4955 5.45605 15.1934C5.41856 14.781 5.72253 14.4157 6.13477 14.3779C6.54713 14.3404 6.91247 14.6443 6.9502 15.0566C7.09006 16.5946 8.39732 17.8124 9.96875 17.8125H12.0312C13.6966 17.8124 15.0625 16.4467 15.0625 14.7812C15.0625 13.1158 13.6966 11.7501 12.0312 11.75H4.125C3.71079 11.75 3.375 11.4142 3.375 11C3.375 10.5858 3.71079 10.25 4.125 10.25H17.875Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M12.0312 2.6875C14.3869 2.6875 16.3337 4.50478 16.5439 6.80664C16.5816 7.21903 16.2776 7.58424 15.8652 7.62207C15.4528 7.65973 15.0875 7.35577 15.0498 6.94336C14.9093 5.40491 13.6025 4.1875 12.0312 4.1875H9.96875C8.30328 4.1875 6.9375 5.55328 6.9375 7.21875C6.9375 7.71424 7.05778 8.18093 7.27051 8.59375C7.46023 8.96192 7.3154 9.41472 6.94727 9.60449C6.57909 9.79422 6.12628 9.6494 5.93652 9.28125C5.61713 8.66145 5.4375 7.95939 5.4375 7.21875C5.4375 4.72485 7.47485 2.6875 9.96875 2.6875H12.0312Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'underline': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path d=\"M18.334 18.5C18.7479 18.5004 19.084 18.836 19.084 19.25C19.084 19.664 18.7479 19.9996 18.334 20H3.66699C3.25278 20 2.91699 19.6642 2.91699 19.25C2.91699 18.8358 3.25278 18.5 3.66699 18.5H18.334Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path d=\"M16.5 2C16.9142 2 17.25 2.33579 17.25 2.75V9.16699C17.2499 10.8245 16.591 12.4139 15.4189 13.5859C14.2469 14.7579 12.6575 15.417 11 15.417C9.34247 15.417 7.75314 14.7579 6.58105 13.5859C5.40903 12.4139 4.75009 10.8245 4.75 9.16699V2.75C4.75 2.33579 5.08579 2 5.5 2C5.91421 2 6.25 2.33579 6.25 2.75V9.16699C6.25009 10.4267 6.75088 11.6347 7.6416 12.5254C8.53238 13.4161 9.7403 13.917 11 13.917C12.2597 13.917 13.4676 13.4161 14.3584 12.5254C15.2491 11.6347 15.7499 10.4267 15.75 9.16699V2.75C15.75 2.33579 16.0858 2 16.5 2Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'quote': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n\t\t\t\t\t'<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.7002 3.65039C8.21285 3.65046 8.69041 3.87329 9.03125 4.24512C9.36994 4.61478 9.5498 5.1036 9.5498 5.60059V11C9.5498 12.5956 9.25596 13.9528 8.46484 15.1611C7.68229 16.3563 6.4632 17.3296 4.75977 18.2588C4.39633 18.457 3.94071 18.3231 3.74219 17.96C3.54388 17.5964 3.67753 17.1408 4.04102 16.9424C5.63696 16.0718 6.61759 15.2444 7.20996 14.3398C7.68479 13.6146 7.93975 12.7885 8.01953 11.75H3.2998C2.78726 11.7499 2.31053 11.527 1.96973 11.1553C1.631 10.7857 1.45029 10.2977 1.4502 9.80078V5.60059C1.4502 5.10346 1.63083 4.61482 1.96973 4.24512C2.31052 3.87345 2.7873 3.6505 3.2998 3.65039H7.7002ZM3.2998 5.15039C3.2292 5.1505 3.14672 5.18082 3.0752 5.25879C3.00155 5.33918 2.9502 5.46125 2.9502 5.60059V9.80078C2.95029 9.94001 3.00158 10.0623 3.0752 10.1426C3.14668 10.2204 3.22927 10.2499 3.2998 10.25H8.0498V5.60059C8.0498 5.46127 7.99843 5.33918 7.9248 5.25879C7.85322 5.18075 7.77084 5.15046 7.7002 5.15039H3.2998Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.7002 3.65039C19.2129 3.65046 19.6904 3.87329 20.0312 4.24512C20.3699 4.61478 20.5498 5.10361 20.5498 5.60059V11C20.5498 12.5956 20.256 13.9528 19.4648 15.1611C18.6823 16.3563 17.4632 17.3296 15.7598 18.2588C15.3963 18.457 14.9407 18.3231 14.7422 17.96C14.5439 17.5964 14.6775 17.1408 15.041 16.9424C16.637 16.0718 17.6176 15.2444 18.21 14.3398C18.6848 13.6146 18.9398 12.7885 19.0195 11.75H14.2998C13.7873 11.7499 13.3105 11.527 12.9697 11.1553C12.631 10.7857 12.4503 10.2977 12.4502 9.80078V5.60059C12.4502 5.10346 12.6308 4.61482 12.9697 4.24512C13.3105 3.87345 13.7873 3.6505 14.2998 3.65039H18.7002ZM14.2998 5.15039C14.2292 5.1505 14.1467 5.18082 14.0752 5.25879C14.0016 5.33918 13.9502 5.46125 13.9502 5.60059V9.80078C13.9503 9.94001 14.0016 10.0623 14.0752 10.1426C14.1467 10.2204 14.2293 10.2499 14.2998 10.25H19.0498V5.60059C19.0498 5.46127 18.9984 5.33918 18.9248 5.25879C18.8532 5.18075 18.7708 5.15046 18.7002 5.15039H14.2998Z\" fill=\"#707A83\"/>\\n' +\r\n\t\t\t\t\t'</svg>',\r\n                'sendComment': '<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\r\n                    '<path d=\"M20.0693 0.0839539C21.2155 -0.316538 22.3165 0.784532 21.916 1.93073L15.2318 21.0302C14.7974 22.2689 13.0714 22.3389 12.5389 21.1397L9.31353 13.8834L13.8532 9.34265C14.0026 9.18225 14.084 8.97011 14.0801 8.75091C14.0763 8.53171 13.9875 8.32257 13.8325 8.16755C13.6774 8.01252 13.4683 7.92372 13.2491 7.91986C13.0299 7.91599 12.8178 7.99735 12.6574 8.14681L8.11657 12.6865L0.860336 9.4611C-0.338883 8.92749 -0.26781 7.20255 0.969766 6.76822L20.0693 0.0839539Z\" fill=\"#22A475\"/>'+\r\n                '</svg>',\r\n            },\r\n        });\r\n    }\r\n}\r\n\r\nfunction formatToDotMonthDate(dateString) {\r\n    const date = new Date(dateString.replace(' ', 'T'));\r\n\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const month = date.toLocaleString('en-GB', { month: 'short' });\r\n    const year = date.getFullYear();\r\n\r\n    return `${day}.${month}.${year}`;\r\n}\r\n\n/**\r\n * Widget class to create a task widget\r\n */\r\nclass CleanTalkWidgetDoboard {\r\n    selectedText = '';\r\n    selectedData = {};\r\n    new_task_type = 'PUBLIC';\r\n    widgetElement = null;\r\n    params = {};\r\n    currentActiveTaskId = 0;\r\n    savedIssuesQuantityOnPage = 0;\r\n    savedIssuesQuantityAll = 0;\r\n    allTasksData = {};\r\n    srcVariables = {};\r\n\r\n    /**\r\n     * Constructor\r\n     */\r\n    constructor(selectedData, type) {\r\n        this.selectedData = selectedData || '';\r\n        this.selectedText = selectedData?.selectedText || '';\r\n        this.descriptionText = localStorage.getItem('spotfix-description-ls') || '';\r\n        this.srcVariables = {\r\n            buttonCloseScreen: SpotFixSVGLoader.getAsDataURI('buttonCloseScreen'),\r\n            iconEllipsesMore: SpotFixSVGLoader.getAsDataURI('iconEllipsesMore'),\r\n            iconPlus: SpotFixSVGLoader.getAsDataURI('iconPlus'),\r\n            iconMaximize: SpotFixSVGLoader.getAsDataURI('iconMaximize'),\r\n            iconPublic: SpotFixSVGLoader.getAsDataURI('iconPublic'),\r\n            iconPublicSmall: SpotFixSVGLoader.getAsDataURI('iconPublicSmall'),\r\n            iconLockSmall: SpotFixSVGLoader.getAsDataURI('iconLockSmall'),\r\n            chevronBack: SpotFixSVGLoader.getAsDataURI('chevronBack'),\r\n            buttonPaperClip: SpotFixSVGLoader.getAsDataURI('buttonPaperClip'),\r\n            buttonSendMessage: SpotFixSVGLoader.getAsDataURI('buttonSendMessage'),\r\n            logoDoBoardGreen: SpotFixSVGLoader.getAsDataURI('logoDoBoardGreen'),\r\n            logoDoBoardWrap: SpotFixSVGLoader.getAsDataURI('logoDoBoardWrap'),\r\n            iconSpotWidgetWrapPencil: SpotFixSVGLoader.getAsDataURI('iconSpotWidgetWrapPencil'),\r\n            iconMarker: SpotFixSVGLoader.getAsDataURI('iconMarker'),\r\n            iconSpotPublic: SpotFixSVGLoader.getAsDataURI('iconSpotPublic'),\r\n            iconSpotPrivate: SpotFixSVGLoader.getAsDataURI('iconSpotPrivate'),\r\n            iconLinkChain: SpotFixSVGLoader.getAsDataURI('iconLinkChain'),\r\n            iconMute: SpotFixSVGLoader.getAsDataURI('iconMute'),\r\n            iconHighlight: SpotFixSVGLoader.getAsDataURI('iconHighlight'),\r\n            iconLockDark: SpotFixSVGLoader.getAsDataURI('iconLockDark'),\r\n            iconPublicDark: SpotFixSVGLoader.getAsDataURI('iconPublicDark'),\r\n        };\r\n        this.fileUploader = new FileUploader(this.escapeHtml);\r\n        this.init(type);\r\n    }\r\n\r\n    /**\r\n     * Initialize the widget\r\n     */\r\n    async init(type) {\r\n        this.params = this.getParams();\r\n\r\n        // Check if email_confirmation_token is in URL\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const emailToken = urlParams.get('email_confirmation_token');\r\n        if (emailToken) {\r\n            try {\r\n                // Confirm email and create task\r\n                const createdTask = await spotFixConfirmUserEmail(emailToken, this.params);\r\n                this.allTasksData = await getAllTasks(this.params, this.nonRequesting);\r\n                // Open task interface\r\n                this.currentActiveTaskId = createdTask.taskId;\r\n                type = 'concrete_issue';\r\n                storageSetWidgetIsClosed(false);\r\n                // Clear email_confirmation_token from URL\r\n                urlParams.delete('email_confirmation_token');\r\n                const newUrl = window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : '');\r\n                window.history.replaceState({}, document.title, newUrl);\r\n            } catch (err) {\r\n                this.registrationShowMessage('Error confirming email: ' + err.message, 'error');\r\n            }\r\n        } else {\r\n            // Load all tasks\r\n            const isWidgetClosed = localStorage.getItem('spotfix_widget_is_closed');\r\n            if((isWidgetClosed && !this.selectedText) || !isWidgetClosed){\r\n                this.allTasksData = await getAllTasks(this.params, this.nonRequesting);\r\n            }\r\n        }\r\n\r\n        // Check if any task has updates\r\n        let taskHasSiteOwnerUpdate;\r\n\r\n        if (storageTasksHasUnreadUpdates()) {\r\n            taskHasSiteOwnerUpdate = true;\r\n        } else {\r\n            if (type === 'wrap_review') {\r\n                taskHasSiteOwnerUpdate = await checkIfTasksHasSiteOwnerUpdates(\r\n                    this.allTasksData,\r\n                    this.params\r\n                );\r\n            }\r\n        }\r\n        storageSaveTasksUpdateData(this.allTasksData);\r\n        //check to hide on first run\r\n        if (!storageWidgetCloseIsSet()) {\r\n            storageSetWidgetIsClosed(true);\r\n        }\r\n        //check to show if any task has site owner updates\r\n        if (taskHasSiteOwnerUpdate) {\r\n\r\n            storageSetWidgetIsClosed(false);\r\n        }\r\n        this.widgetElement = await this.createWidgetElement(type);\r\n        this.bindWidgetInputsInteractive();\r\n    }\r\n\r\n    getParams() {\r\n        const script = document.querySelector(`script[src*=\"doboard-widget-bundle.\"]`);\r\n        if ( ! script || ! script.src ) {\r\n            throw new Error('Script not provided');\r\n        }\r\n\r\n        const url = new URL(script.src);\r\n        let params = Object.fromEntries(url.searchParams.entries());\r\n        if ( ! params ) {\r\n            throw new Error('Script params not provided');\r\n        }\r\n        if ( ! params.projectToken || ! params.accountId || ! params.projectId ) {\r\n            throw new Error('Necessary script params not provided');\r\n\r\n        }\r\n        if (params.accountId) {\r\n            localStorage.setItem('spotfix_company_id', params.accountId);\r\n        }\r\n        if (params.projectToken) {\r\n            localStorage.setItem('spotfix_project_token', params.projectToken);\r\n        }\r\n        return params;\r\n    }\r\n\r\n    /**\r\n     * Binding events to create a task\r\n     */\r\n    bindCreateTaskEvents() {\r\n        const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n\r\n        if (submitButton) {\r\n            submitButton.addEventListener('click', async () => {\r\n                // Check required fields: Report about and Description\r\n                const taskTitleElement = document.getElementById('doboard_task_widget-title');\r\n                const taskTitle = taskTitleElement.value;\r\n                if ( ! taskTitle ) {\r\n                    taskTitleElement.style.borderColor = 'red';\r\n                    taskTitleElement.focus();\r\n                    taskTitleElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                }\r\n                const taskDescriptionElement = document.getElementById('doboard_task_widget-description')\r\n                const taskDescription = taskDescriptionElement.value;\r\n                if ( ! taskDescription ) {\r\n                    taskDescriptionElement.style.borderColor = 'red';\r\n                    taskDescriptionElement.focus();\r\n                    taskDescriptionElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                // If login section is open, check required fields: Nickname, Email\r\n                let userName = '';\r\n                let userEmail = '';\r\n                let userPassword = '';\r\n                const loginSectionElement = document.querySelector('.doboard_task_widget-login');\r\n                const sessionIdExists = !!localStorage.getItem('spotfix_session_id');\r\n\r\n                if ( !sessionIdExists && loginSectionElement && loginSectionElement.classList.contains('active') ) {\r\n                    const userEmailElement = document.getElementById('doboard_task_widget-user_email');\r\n                    const userNameElement = document.getElementById('doboard_task_widget-user_name');\r\n                    const userPasswordElement = document.getElementById('doboard_task_widget-user_password');\r\n\r\n                    userEmail = userEmailElement.value;\r\n                    if ( ! userEmail ) {\r\n                        userEmailElement.style.borderColor = 'red';\r\n                        userEmailElement.focus();\r\n                        userEmailElement.addEventListener('input', function() {\r\n                            this.style.borderColor = '';\r\n                        });\r\n                        return;\r\n                    }\r\n\r\n                    // This is the registration request\r\n                    if ( userEmailElement && userNameElement ) {\r\n                        userName = userNameElement.value;\r\n                        if ( ! userName ) {\r\n                            userNameElement.style.borderColor = 'red';\r\n                            userNameElement.focus();\r\n                            userNameElement.addEventListener('input', function() {\r\n                                this.style.borderColor = '';\r\n                            });\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    // This is the login request\r\n                    if ( userEmailElement && userPasswordElement && ! userNameElement ) {\r\n                        userPassword = userPasswordElement.value;\r\n                        if ( ! userPassword ) {\r\n                            userPasswordElement.style.borderColor = 'red';\r\n                            userPasswordElement.focus();\r\n                            userPasswordElement.addEventListener('input', function() {\r\n                                this.style.borderColor = '';\r\n                            });\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                // If it is the login request\r\n                const userEmailElement = document.getElementById('doboard_task_widget-user_email');\r\n                userEmail = userEmailElement.value;\r\n\r\n                // Make the submit button disable with spinner\r\n                const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n                submitButton.disabled = true;\r\n                submitButton.innerText = ksesFilter('Creating spot...');\r\n\r\n                let taskDetails = {\r\n                    taskTitle: taskTitle,\r\n                    taskDescription: taskDescription,\r\n                    //typeSend: typeSend,\r\n                    selectedData: this.selectedData,\r\n                    task_type: this.new_task_type,\r\n                    projectToken: this.params.projectToken,\r\n                    projectId: this.params.projectId,\r\n                    accountId: this.params.accountId,\r\n                    taskMeta: JSON.stringify(this.selectedData ? this.selectedData : { pageURL: window.location.href }),\r\n                };\r\n\r\n                if ( userEmail ) {\r\n                    taskDetails.userEmail = userEmail\r\n                }\r\n                if ( userName ) {\r\n                    taskDetails.userName = userName\r\n                }\r\n                if ( userPassword ) {\r\n                    taskDetails.userPassword = userPassword\r\n                }\r\n\r\n                // Save pending task in LS\r\n                localStorage.setItem('spotfix_pending_task', JSON.stringify({\r\n                    ...this.selectedData,\r\n                    description: taskDescription\r\n                }));\r\n\r\n                let submitTaskResult;\r\n                try {\r\n                    submitTaskResult = await this.submitTask(taskDetails);\r\n                } catch (error) {\r\n                    this.registrationShowMessage(error.message);\r\n                    return;\r\n                }\r\n\r\n                // Return the submit button normal state\r\n                submitButton.disabled = false;\r\n                submitButton.style.cursor = 'pointer';\r\n\r\n                if ( submitTaskResult.needToLogin ) {\r\n                    // @ToDo Do not know what to de here: throw an error or pass log message?\r\n                    return;\r\n                }\r\n\r\n                if ( submitTaskResult.isPublic !== undefined ) {\r\n                    this.selectedData.isPublic = submitTaskResult.isPublic\r\n                }\r\n\r\n                // refersh tasks list after creation\r\n                this.allTasksData = await getAllTasks(this.params, this.nonRequesting);\r\n                // save updates\r\n                storageSaveTasksUpdateData(this.allTasksData);\r\n\r\n                this.selectedData = {};\r\n                await this.createWidgetElement('all_issues');\r\n                storageSetWidgetIsClosed(false);\r\n                hideContainersSpinner(false);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    resetLoginForm() {\r\n        const loginContainer = document.querySelector('.doboard_task_widget-input-container-login');\r\n        const phantomContainer = document.querySelector('.doboard_task_widget-input-container-phantom');\r\n        const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n\r\n        if (loginContainer) {\r\n            loginContainer.classList.add('doboard_task_widget-hidden');\r\n        }\r\n        if (phantomContainer) {\r\n            phantomContainer.classList.remove('doboard_task_widget-hidden');\r\n        }\r\n        if (submitButton) {\r\n            submitButton.closest('.doboard_task_widget-field').classList.remove('doboard_task_widget-hidden');\r\n        }\r\n    }\r\n    bindShowLoginFormEvents() {\r\n        const showLoginButton = document.getElementById('doboard_task_widget-show_login_form');\r\n        const showPhantomLoginButton = document.getElementById('doboard_task_widget-on_phantom_login_page');\r\n        const forgotPasswordButton = document.getElementById('doboard_task_widget-forgot_password');\r\n        const forgotPasswordButtonBlack = document.getElementById('doboard_task_widget-forgot_password-black');\r\n        const loginButton = document.getElementById('doboard_task_widget-login_button');\r\n        const restorePasswordButton = document.getElementById('doboard_task_widget-restore_password_button');\r\n\r\n        if (showLoginButton) {\r\n            showLoginButton.addEventListener('click', async () => {\r\n                const loginContainer = document.querySelector('.doboard_task_widget-input-container-login');\r\n                const phantomContainer = document.querySelector('.doboard_task_widget-input-container-phantom');\r\n                const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n                if (loginContainer) {\r\n                    loginContainer.classList.toggle('doboard_task_widget-hidden');\r\n                    if (submitButton) {\r\n                        if (loginContainer.classList.contains('doboard_task_widget-hidden')) {\r\n                            submitButton.closest('.doboard_task_widget-field').classList.remove('doboard_task_widget-hidden');\r\n                        } else {\r\n                            submitButton.closest('.doboard_task_widget-field').classList.add('doboard_task_widget-hidden');\r\n                        }\r\n                    }\r\n                }\r\n                if (phantomContainer) {\r\n                    phantomContainer.classList.toggle('doboard_task_widget-hidden');\r\n                }\r\n            })\r\n        }\r\n        if (showPhantomLoginButton) {\r\n            showPhantomLoginButton.addEventListener('click', async () => {\r\n                const loginContainer = document.querySelector('.doboard_task_widget-input-container-login');\r\n                const phantomContainer = document.querySelector('.doboard_task_widget-input-container-phantom');\r\n                const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n                if (loginContainer) {\r\n                    loginContainer.classList.toggle('doboard_task_widget-hidden');\r\n                    if (submitButton) {\r\n                        if (loginContainer.classList.contains('doboard_task_widget-hidden')) {\r\n                            submitButton.closest('.doboard_task_widget-field').classList.remove('doboard_task_widget-hidden');\r\n                        } else {\r\n                            submitButton.closest('.doboard_task_widget-field').classList.add('doboard_task_widget-hidden');\r\n                        }\r\n                    }\r\n                }\r\n                if (phantomContainer) {\r\n                    phantomContainer.classList.toggle('doboard_task_widget-hidden');\r\n                }\r\n            })\r\n        }\r\n        if (forgotPasswordButton) {\r\n            forgotPasswordButton.addEventListener('click', async () => {\r\n                const forgotPasswordForm = document.getElementById('doboard_task_widget-container-login-forgot-password-form');\r\n                const loginContainer = document.getElementById('doboard_task_widget-input-container-login');\r\n\r\n                if (forgotPasswordForm) {\r\n                    forgotPasswordForm.classList.remove('doboard_task_widget-hidden');\r\n                }\r\n                if (loginContainer) {\r\n                    loginContainer.classList.add('doboard_task_widget-hidden');\r\n                }\r\n            })\r\n\r\n            forgotPasswordButtonBlack.addEventListener('click', async () => {\r\n                const forgotPasswordForm = document.getElementById('doboard_task_widget-container-login-forgot-password-form');\r\n                const loginContainer = document.getElementById('doboard_task_widget-input-container-login');\r\n                const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n\r\n                if (forgotPasswordForm) {\r\n                    forgotPasswordForm.classList.add('doboard_task_widget-hidden');\r\n                }\r\n                if (loginContainer) {\r\n                    loginContainer.classList.remove('doboard_task_widget-hidden');\r\n                    if (submitButton) {\r\n                        submitButton.closest('.doboard_task_widget-field').classList.add('doboard_task_widget-hidden');\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        const forgotPasswordButtonMenu = document.querySelector('.doboard_task_widget-input-container-login-menu #doboard_task_widget-forgot_password');\r\n        if (forgotPasswordButtonMenu) {\r\n            forgotPasswordButtonMenu.addEventListener('click', async () => {\r\n                const forgotPasswordForm = document.getElementById('doboard_task_widget-container-login-forgot-password-form');\r\n                const loginContainer = document.querySelector('.doboard_task_widget-input-container-login-menu');\r\n\r\n                if (forgotPasswordForm) {\r\n                    forgotPasswordForm.classList.remove('doboard_task_widget-hidden');\r\n                }\r\n                if (loginContainer) {\r\n                    loginContainer.classList.add('doboard_task_widget-hidden');\r\n                }\r\n            });\r\n        }\r\n        const forgotPasswordButtonBlackMenu = document.querySelector('.doboard_task_widget-input-container-login-menu ~ #doboard_task_widget-container-login-forgot-password-form #doboard_task_widget-forgot_password-black');\r\n        if (forgotPasswordButtonBlackMenu) {\r\n             forgotPasswordButtonBlackMenu.addEventListener('click', async () => {\r\n                const forgotPasswordForm = document.getElementById('doboard_task_widget-container-login-forgot-password-form');\r\n                const loginContainer = document.querySelector('.doboard_task_widget-input-container-login-menu');\r\n\r\n                if (forgotPasswordForm) {\r\n                    forgotPasswordForm.classList.add('doboard_task_widget-hidden');\r\n                }\r\n                if (loginContainer) {\r\n                    loginContainer.classList.remove('doboard_task_widget-hidden');\r\n                }\r\n            });\r\n        }\r\n        if (loginButton) {\r\n            loginButton.addEventListener('click', async () => {\r\n                const userEmailElement = document.getElementById('doboard_task_widget-login_email');\r\n                const userPasswordElement = document.getElementById('doboard_task_widget-login_password');\r\n                document.querySelector('.doboard_task_widget-login-is-invalid').classList.add('doboard_task_widget-hidden');\r\n\r\n                const userEmail = userEmailElement.value.trim();\r\n                const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n                if (!userEmail) {\r\n                    userEmailElement.style.borderColor = 'red';\r\n                    userEmailElement.focus();\r\n                    userEmailElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                } else if (!emailRegex.test(userEmail)) {\r\n                    userEmailElement.style.borderColor = 'red';\r\n                    userEmailElement.focus();\r\n                    userEmailElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                const userPassword = userPasswordElement.value;\r\n                if (!userPassword) {\r\n                    userPasswordElement.style.borderColor = 'red';\r\n                    userPasswordElement.focus();\r\n                    userPasswordElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                } else if (userPassword.length < 6) {\r\n                    userPasswordElement.style.borderColor = 'red';\r\n                    userPasswordElement.focus();\r\n                    userPasswordElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    await loginUser({\r\n                        userEmail: userEmail,\r\n                        userPassword: userPassword\r\n                    })(this.registrationShowMessage);\r\n                        this.setUserMenuData();\r\n\r\n                        const submitButton = document.getElementById('doboard_task_widget-submit_button');\r\n                        if (submitButton) {\r\n                            submitButton.closest('.doboard_task_widget-field').classList.remove('doboard_task_widget-hidden');\r\n                        }\r\n\r\n                } catch (error) {\r\n                    document.querySelector('.doboard_task_widget-login-is-invalid').classList.remove('doboard_task_widget-hidden');\r\n                }\r\n                const sessionIdExists = !!localStorage.getItem('spotfix_session_id');\r\n                const email = localStorage.getItem('spotfix_email');\r\n                if (sessionIdExists && email && !email.includes('spotfix_')) {\r\n                    const loginEl= document.querySelector('.doboard_task_widget-login');\r\n                    loginEl?.classList?.add('doboard_task_widget-hidden');\r\n                } else {\r\n                    document.querySelector('.doboard_task_widget-login-is-invalid').classList.remove('doboard_task_widget-hidden');\r\n                }\r\n            })\r\n        }\r\n        const passwordToggle = document.getElementById('doboard_task_widget-password-toggle');\r\n        const passwordInput = document.getElementById('doboard_task_widget-login_password');\r\n\r\n        if (passwordToggle && passwordInput) {\r\n            passwordToggle.addEventListener('click', function() {\r\n                const isPassword = passwordInput.type === 'password';\r\n                passwordInput.type = isPassword ? 'text' : 'password';\r\n                this.classList.toggle('doboard_task_widget-bottom-eye-off-icon');\r\n                this.classList.toggle('doboard_task_widget-bottom-eye-icon');\r\n            });\r\n        }\r\n        if (restorePasswordButton) {\r\n            restorePasswordButton.addEventListener('click', async () => {\r\n                const userEmailElement = document.getElementById('doboard_task_widget-forgot_password_email');\r\n                const userEmail = userEmailElement.value.trim();\r\n                const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n                if (!userEmail) {\r\n                    userEmailElement.style.borderColor = 'red';\r\n                    userEmailElement.focus();\r\n                    userEmailElement.addEventListener('input', function() {\r\n                        this.style.borderColor = '';\r\n                    });\r\n                    return;\r\n                } else if (!emailRegex.test(userEmail)) {\r\n\r\n                    userEmailElement.style.borderColor = 'red';\r\n                    userEmailElement.focus();\r\n\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    await forgotPassword(userEmail)(this.registrationShowMessage);\r\n                } catch (error) {\r\n                    this.registrationShowMessage(error.message, 'error');\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create widget element\r\n     * @return {HTMLElement} widget element\r\n     */\r\n    async createWidgetElement(type, nonRequesting = false, showOnlyCurrentPage = false) {\r\n        const widgetContainer = document.querySelector('.doboard_task_widget') ? document.querySelector('.doboard_task_widget') : document.createElement('div');\r\n        widgetContainer.className = 'doboard_task_widget';\r\n\r\n        if(!nonRequesting) {\r\n            widgetContainer.innerHTML = ksesFilter('');\r\n        }\r\n        widgetContainer.removeAttribute('style');\r\n\r\n        let templateName = '';\r\n        let tasksFullDetails;\r\n\r\n        let templateVariables = {};\r\n\r\n        const config = window.SpotfixWidgetConfig;\r\n\r\n        switch (type) {\r\n            case 'create_issue':\r\n                templateName = 'create_issue';\r\n                this.type_name = templateName;\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                templateVariables = {\r\n                    selectedText: this.selectedText || localStorage.getItem('spotfix-title-ls') || '',\r\n                    currentDomain: document.location.hostname || '',\r\n                    descriptionText: this.descriptionText || localStorage.getItem('spotfix-description-ls') || '',\r\n                    buttonCloseScreen: SpotFixSVGLoader.getAsDataURI('buttonCloseScreen'),\r\n                    iconMaximize: SpotFixSVGLoader.getAsDataURI('iconMaximize'),\r\n                    iconPublic: SpotFixSVGLoader.getAsDataURI('iconPublic'),\r\n                    iconEllipsesMore: SpotFixSVGLoader.getAsDataURI('iconEllipsesMore'),\r\n                    ...this.srcVariables\r\n                };\r\n                storageGetUserIsDefined() && storageSetWidgetIsClosed(false);\r\n                break;\r\n            case 'wrap':\r\n                if (storageGetWidgetIsClosed()) {\r\n                    return;\r\n                }\r\n\r\n                templateName = 'wrap';\r\n                this.type_name = templateName;\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                templateVariables = {position: !Number.isNaN(Number(config?.verticalPosition))\r\n                        ? `${Number(config?.verticalPosition)}vh` : '0vh', ...this.srcVariables};\r\n                break;\r\n            case 'wrap_review':\r\n                templateName = 'wrap_review';\r\n                this.type_name = templateName;\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                templateVariables = {position: !Number.isNaN(Number(config?.verticalPosition))\r\n                        ? `${Number(config?.verticalPosition)}vh` : '0vh', ...this.srcVariables};\r\n                break;\r\n            case 'all_issues':\r\n                templateName = 'all_issues';\r\n                this.type_name = templateName;\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                templateVariables = {...this.srcVariables};\r\n                break;\r\n            case 'user_menu':\r\n                templateName = 'user_menu';\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                const userMenuVersion = localStorage.getItem('spotfix_app_version') || SPOTFIX_VERSION;\r\n                templateVariables = {\r\n                    spotfixVersion: userMenuVersion ? 'Spotfix version ' + userMenuVersion + '.' : '',\r\n                    avatar: SpotFixSVGLoader.getAsDataURI('iconAvatar'),\r\n                    iconEye: SpotFixSVGLoader.getAsDataURI('iconEye'),\r\n                    iconDoor: SpotFixSVGLoader.getAsDataURI('iconDoor'),\r\n                    chevronBackDark: SpotFixSVGLoader.getAsDataURI('chevronBackDark'),\r\n                    buttonCloseScreen: SpotFixSVGLoader.getAsDataURI('buttonCloseScreen'),\r\n                    userName: 'Guest',\r\n                    email: localStorage.getItem('spotfix_email') || '',\r\n                    ...this.srcVariables};\r\n                break;\r\n            case 'spot_menu':\r\n                templateName = 'spot_menu';\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                const spotMenuVersion = localStorage.getItem('spotfix_app_version') || SPOTFIX_VERSION;\r\n                templateVariables = {\r\n                    spotfixVersion: spotMenuVersion ? 'Spotfix version ' + spotMenuVersion + '.' : '',\r\n                    chevronBackDark: SpotFixSVGLoader.getAsDataURI('chevronBackDark'),\r\n                    buttonCloseScreen: SpotFixSVGLoader.getAsDataURI('buttonCloseScreen'),\r\n                    avatar: SpotFixSVGLoader.getAsDataURI('iconAvatar'),\r\n                    taskName: '',\r\n                    viewersCount: '',\r\n                    viewers: '',\r\n                    ...this.srcVariables};\r\n                break;\r\n            case 'concrete_issue':\r\n                templateName = 'concrete_issue';\r\n                this.type_name = templateName;\r\n                this.socket_type_name = templateName;\r\n                this.nonRequesting = nonRequesting;\r\n                // Update the number of tasks\r\n                this.savedIssuesQuantityAll = Array.isArray(this.allTasksData) ? this.allTasksData.length : 0;\r\n                // Calculate the number of issues on the current page\r\n                this.savedIssuesQuantityOnPage = Array.isArray(this.allTasksData)\r\n                    ? this.allTasksData.filter(task => {\r\n                        try {\r\n                            const meta = task.taskMeta ? JSON.parse(task.taskMeta) : {};\r\n                            return meta.pageURL === window.location.href;\r\n                        } catch (e) { return false; }\r\n                    }).length\r\n                    : 0;\r\n\r\n                templateVariables = {\r\n                    issueTitle: '...',\r\n                    issueComments: [],\r\n                    issuesCounter: getIssuesCounterString(this.savedIssuesQuantityOnPage, this.savedIssuesQuantityAll),\r\n                    ...this.srcVariables,\r\n                };\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        if(!nonRequesting) {\r\n            widgetContainer.innerHTML = this.loadTemplate(templateName, templateVariables);\r\n            document.body.appendChild(widgetContainer);\r\n\r\n            // remove highlights before any screen called\r\n            spotFixRemoveHighlights();\r\n        }\r\n        const container = document.querySelector('.doboard_task_widget-container');\r\n        switch (type) {\r\n            case 'create_issue':\r\n                document.getElementById('spotfix-widget-create-task-visibility').checked = this.new_task_type === 'PUBLIC';\r\n\r\n                if(container && +localStorage.getItem('maximize')){\r\n                    container.classList.add('doboard_task_widget-container-maximize');\r\n                } else if(container) {\r\n                    container.classList.remove('doboard_task_widget-container-maximize');\r\n                }\r\n                // highlight selected item during task creation\r\n                const selection = window.getSelection();\r\n                const sessionIdExists = !!localStorage.getItem('spotfix_session_id');\r\n                const email = localStorage.getItem('spotfix_email');\r\n\r\n                if (templateVariables.selectedText) {\r\n                    document.querySelector('.spotfix_placeholder_title').style.display = 'none';\r\n                }\r\n\r\n                if (sessionIdExists && email && !email.includes('spotfix_')) {\r\n                    document.querySelector('.doboard_task_widget-login').classList.add('hidden');\r\n                }\r\n\r\n                if (\r\n                    selection.type === 'Range'\r\n                ) {\r\n                    const selectedData = spotFixGetSelectedData(selection);\r\n                    if (selectedData) {\r\n                        spotFixScrollToNodePath(selectedData.nodePath);\r\n                        this.positionWidgetContainer();\r\n                    }\r\n                }\r\n                // bind creation events\r\n                this.bindCreateTaskEvents();\r\n                this.bindShowLoginFormEvents();\r\n\r\n                if (tinymce?.get('doboard_task_widget-description')) {\r\n                    tinymce?.remove('#doboard_task_widget-description');\r\n                }\r\n\r\n                const savedDescription = localStorage.getItem('spotfix-description-ls') || '';\r\n\r\n                SpotFixTinyMCE.init({\r\n                    selector: '#doboard_task_widget-description',\r\n                    plugins: 'link lists',\r\n                    menubar: false,\r\n                    statusbar: false,\r\n                    toolbar_location: 'bottom',\r\n                    height: '100%',\r\n                    width: '100%',\r\n                    toolbar: 'attachmentButton screenshotButton emoticons bullist numlist bold italic strikethrough underline blockquote',\r\n                    icons: 'icon_pack_SpotFix',\r\n                    file_picker_types: 'file image media',\r\n                    setup: function (editor) {\r\n                        editor.on('init', function() {\r\n                            if (savedDescription) {\r\n                                editor.setContent(savedDescription, { format: 'html' });\r\n                            }\r\n\r\n                            setTimeout(() => {\r\n                                editor.save();\r\n                            });\r\n                        });\r\n                        editor.on('change', function () {\r\n                            editor.save();\r\n                            const content = editor.getContent();\r\n                            localStorage.setItem('spotfix-description-ls', content);\r\n                        });\r\n                        editor.ui.registry.addButton('attachmentButton', {\r\n                            icon: 'paperclip',\r\n                            tooltip: 'In development',\r\n                            disabled: true,\r\n                            onAction: (e) => {\r\n                                // fileUploader?.fileInput?.click(e);\r\n                            },\r\n                        });\r\n                        editor.ui.registry.addButton('screenshotButton', {\r\n                            icon: 'screenshot',\r\n                            tooltip: 'In development',\r\n                            disabled: true,\r\n                            onAction: (e) => {\r\n                                // fileUploader?.makeScreenshot();\r\n                            },\r\n                        });\r\n                     }\r\n                    })\r\n\r\n                break;\r\n            case 'wrap':\r\n                await this.getTaskCount();\r\n                document.querySelector('.doboard_task_widget-wrap').addEventListener('click', (e) => {\r\n                    const widgetElementClasses = e.currentTarget.classList;\r\n                    if (widgetElementClasses && !widgetElementClasses.contains('hidden')) {\r\n                        this.createWidgetElement('all_issues');\r\n                    }\r\n                });\r\n                hideContainersSpinner(false);\r\n                break;\r\n            case 'wrap_review':\r\n                document.querySelector('#doboard_task_widget_button').addEventListener('click', (e) => {\r\n                    spotFixOpenWidget(this.selectedData, 'create_issue');\r\n                });\r\n                break;\r\n            case 'all_issues':\r\n                if (this.nonRequesting) {\r\n                    hideContainersSpinner();\r\n                } else {\r\n                    changeSize(container);\r\n                }\r\n                spotFixRemoveHighlights();\r\n                let issuesQuantityOnPage = 0;\r\n                const sessionId = localStorage.getItem('spotfix_session_id');\r\n\r\n                const notifications = await getNotificationsDoboard(this.params.projectToken, sessionId, this.params.accountId, this.params.projectId);\r\n\r\n                this.allTasksData = await getAllTasks(this.params, this.nonRequesting);\r\n                const tasks = this.allTasksData;\r\n                tasksFullDetails = await getTasksFullDetails(this.params, tasks, this.currentActiveTaskId, this.nonRequesting);\r\n                let spotsToBeHighlighted = [];\r\n                if (tasks.length > 0) {\r\n                    const currentURL = window.location.href;\r\n                    const sortedTasks = tasks.sort((a, b) => {\r\n                        const aIsHere = JSON.parse(a.taskMeta).pageURL === currentURL ? 1 : 0;\r\n                        const bIsHere = JSON.parse(b.taskMeta).pageURL === currentURL ? 1 : 0;\r\n                        return bIsHere - aIsHere;\r\n                    });\r\n\r\n                    document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = '';\r\n\r\n                    for (let i = 0; i < sortedTasks.length; i++) {\r\n                        const elTask = sortedTasks[i];\r\n\r\n                        // Data from api\r\n                        const taskId = elTask.taskId;\r\n                        const taskTitle = elTask.taskTitle;\r\n                        const taskMetaString = elTask.taskMeta;\r\n                        let taskData = null;\r\n                        if (taskMetaString) {\r\n                            try {\r\n                                taskData = JSON.parse(taskMetaString);\r\n                                taskData.isFixed = elTask.taskStatus === 'DONE';\r\n                                taskData.taskId = elTask.taskId;\r\n                            } catch (error) {\r\n                                taskData = null;\r\n                            }\r\n                        }\r\n                        const currentPageURL = taskData ? taskData.pageURL : '';\r\n                        let taskNodePath = ''; // nodePath need for only current page's spots\r\n\r\n                        // Define publicity details\r\n                        let taskPublicStatusImgSrc = '';\r\n                        let taskPublicStatusHint = 'Task publicity is unknown'\r\n                        if (taskData && taskData.isPublic !== undefined) {\r\n                            if (taskData.isPublic) {\r\n                                taskPublicStatusImgSrc = this.srcVariables.iconSpotPublic;\r\n                                taskPublicStatusHint = 'The task is public';\r\n                            } else {\r\n                                taskPublicStatusImgSrc = this.srcVariables.iconSpotPrivate;\r\n                                taskPublicStatusHint = 'The task is private and visible only for registered DoBoard users';\r\n                            }\r\n                        }\r\n\r\n                        if(currentPageURL === window.location.href){\r\n                            issuesQuantityOnPage++;\r\n                            taskNodePath = taskData ? taskData.nodePath : '';\r\n                        }\r\n\r\n                        if (!showOnlyCurrentPage || currentPageURL === window.location.href) {\r\n\r\n                            const taskFullDetails = getTaskFullDetails(tasksFullDetails, taskId)\r\n\r\n                            const avatarData = getAvatarData(taskFullDetails);\r\n                            const hasUpdates = !!(notifications?.find(item => +item?.task_id === elTask?.taskId));\r\n                            const listIssuesTemplateVariables = {\r\n                                taskTitle: taskTitle || '',\r\n                                taskAuthorAvatarImgSrc: taskFullDetails.taskAuthorAvatarImgSrc,\r\n                                taskAuthorName: taskFullDetails.taskAuthorName,\r\n                                taskPublicStatusImgSrc: taskPublicStatusImgSrc,\r\n                                taskPublicStatusHint: taskPublicStatusHint,\r\n                                taskLastMessage: ksesFilter(taskFullDetails.lastMessageText),\r\n                                taskPageUrlFull: currentPageURL,\r\n                                iconOfVisibility: elTask.task_type === 'PUBLIC' ? this.srcVariables.iconPublicSmall : this.srcVariables.iconLockSmall,\r\n                                iconLinkChain: this.srcVariables.iconLinkChain,\r\n                                taskFormattedPageUrl: spotFixSplitUrl(currentPageURL),\r\n                                taskPageUrl: localStorage.getItem('maximize') === '1' ? currentPageURL : spotFixSplitUrl(currentPageURL),\r\n                                // taskLastUpdate: taskFullDetails.lastMessageTime,\r\n                                taskLastUpdate: formatToDotMonthDate(elTask.taskLastUpdate),\r\n                                nodePath: this.sanitizeNodePath(taskNodePath),\r\n                                taskId: taskId,\r\n                                avatarCSSClass: avatarData.avatarCSSClass,\r\n                                avatarStyle: avatarData.avatarStyle,\r\n                                taskAuthorInitials: avatarData.taskAuthorInitials,\r\n                                initialsClass: avatarData.initialsClass,\r\n                                classUnread: '',\r\n                                elementBgCSSClass: elTask.taskStatus !== 'DONE' ? '' : 'doboard_task_widget-task_row-green',\r\n                                statusFixedHtml: elTask.taskStatus !== 'DONE' ? '' : this.loadTemplate('fixedHtml'),\r\n                                amountOfComments: elTask.taskStatus === 'DONE' ? ''\r\n                                    : `<span style=\"background-color: ${hasUpdates ? '#F08C43' : '#D6DDE3'}\" \r\n                                        class=\"doboard_task_widget-commentsIndicator\">${elTask.commentsCount}</span>`,\r\n                            };\r\n\r\n                            const taskOwnerReplyIsUnread = storageProvidedTaskHasUnreadUpdates(taskFullDetails.taskId);\r\n                            if (taskOwnerReplyIsUnread) {\r\n                                listIssuesTemplateVariables.classUnread = 'unread';\r\n                            }\r\n                            document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML += this.loadTemplate('list_issues', listIssuesTemplateVariables);\r\n\r\n                            if ( this.isSpotHaveToBeHighlighted(taskData) ) {\r\n                                spotsToBeHighlighted.push(taskData);\r\n                            }\r\n                        }\r\n                    }\r\n                    this.savedIssuesQuantityOnPage = issuesQuantityOnPage;\r\n                    this.savedIssuesQuantityAll = tasks.length;\r\n                    spotFixHighlightElements(spotsToBeHighlighted, this);\r\n                    document.querySelector('.doboard_task_widget-header span').innerHTML = ksesFilter('All spots ' + getIssuesCounterString(this.savedIssuesQuantityOnPage, this.savedIssuesQuantityAll));\r\n                }\r\n\r\n                if (tasks.length === 0) {\r\n                    document.querySelector(\".doboard_task_widget-all_issues-container\").innerHTML = ksesFilter('<div class=\"doboard_task_widget-issues_list_empty\">The issues list is empty</div>');\r\n                }\r\n\r\n                // Bind the click event to the task elements for scrolling to the selected text and Go to concrete issue interface by click issue-item row\r\n                this.bindIssuesClick();\r\n                hideContainersSpinner(false);\r\n                break;\r\n        case 'user_menu':\r\n\r\n                setToggleStatus(this);\r\n\r\n                const user = await getUserDetails(this.params, this.nonRequesting);\r\n                if(!this.nonRequesting) await getReleaseVersion();\r\n                let userMenuSpotfixVersion = '';\r\n                const userMenuVersion = localStorage.getItem('spotfix_app_version') || SPOTFIX_VERSION;\r\n                userMenuSpotfixVersion = userMenuVersion ? `Spotfix version ${userMenuVersion}.` : '';\r\n\r\n                templateVariables.spotfixVersion = userMenuSpotfixVersion || '';\r\n\r\n                if(user){\r\n                    templateVariables.userName = user.name || 'Guest';\r\n                    templateVariables.email = user.email || localStorage.getItem('spotfix_email') || '';\r\n                    if(user?.avatar?.s) templateVariables.avatar = user?.avatar?.s;\r\n                }\r\n\r\n                widgetContainer.innerHTML = this.loadTemplate('user_menu', templateVariables);\r\n\r\n                document.body.appendChild(widgetContainer);\r\n                setToggleStatus(this);\r\n                checkLogInOutButtonsVisible();\r\n                this.bindShowLoginFormEvents();\r\n                this.bindWidgetInputsInteractive();\r\n\r\n                break;\r\n        case 'spot_menu':\r\n            if(!this.nonRequesting) await getReleaseVersion();\r\n            let spotfixVersion = '';\r\n            const spotMenuVersion = localStorage.getItem('spotfix_app_version') || SPOTFIX_VERSION;\r\n            spotfixVersion = spotMenuVersion ? `Spotfix version ${spotMenuVersion}.` : '';\r\n            templateVariables.spotfixVersion = spotfixVersion || '';\r\n\r\n            const currentTask = this.allTasksData.find(task => +task.taskId === +this.currentActiveTaskId);\r\n\r\n            templateVariables.taskName = currentTask.taskTitle;\r\n            templateVariables.taskType = currentTask.task_type === 'PUBLIC' ? this.srcVariables.iconPublicDark : this.srcVariables.iconLockDark;\r\n\r\n\r\n            const currentUserId = localStorage.getItem('spotfix_user_id') || 0;\r\n\r\n            const users = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_USERS);\r\n            const usersFiltered = users.filter(user => currentTask.viewers.includes(user.user_id));\r\n\r\n            templateVariables.viewersCount = `${usersFiltered.length || 0} members`;\r\n\r\n            if(usersFiltered.length) {\r\n                templateVariables.viewers = usersFiltered.map(user => {\r\n                    return `<div class=\"spotfix_widget-task-menu_user\">\r\n                    <span><img alt=\"\" src=\"${user?.avatar?.s || templateVariables.avatar}\" />${user.name || 'Anonymous'}</span><span>${user?.position || ''}</span>\r\n                </div>`\r\n                }).join('')\r\n            }\r\n\r\n            widgetContainer.innerHTML = this.loadTemplate('spot_menu', templateVariables);\r\n            document.body.appendChild(widgetContainer);\r\n\r\n            if(currentTask.viewers.includes(+currentUserId)){\r\n                document.getElementById('unsubscribe_from_spot').checked = true;\r\n            }\r\n            if (currentUserId) {\r\n                const highlightStatuses = JSON.parse(\r\n                    localStorage.getItem('spotfix_highlight_statuses') || '{}'\r\n                );\r\n                document.getElementById('highlight_the_spot').checked =\r\n                    highlightStatuses[currentUserId]?.[this.currentActiveTaskId] ?? true;\r\n            }\r\n            if(!localStorage.getItem('spotfix_session_id')){\r\n                document.getElementById('unsubscribe_from_spot').disabled = true;\r\n                document.getElementById('highlight_the_spot').disabled = true;\r\n            }\r\n\r\n            break;\r\n        case 'concrete_issue':\r\n                if(this.nonRequesting) {\r\n                    hideContainersSpinner();\r\n                    this.allTasksData = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS);\r\n                } else {\r\n                    changeSize(container);\r\n                }\r\n                if(!this.nonRequesting && this.currentActiveTaskId) {\r\n                    updateNotificationsDoboard(this.currentActiveTaskId, this.params.projectToken, this.params.accountId)\r\n                }\r\n                tasksFullDetails = await getTasksFullDetails(this.params, this.allTasksData, this.currentActiveTaskId, this.nonRequesting);\r\n                const taskDetails = await getTaskFullDetails(tasksFullDetails, this.currentActiveTaskId, this.nonRequesting);\r\n                // Update issue title in the interface\r\n                const issueTitleElement = document.querySelector('.doboard_task_widget-issue-title');\r\n                if (issueTitleElement) {\r\n                    issueTitleElement.innerText = ksesFilter(tasksFullDetails.taskName || taskDetails?.issueTitle);\r\n                }\r\n\r\n                templateVariables.issueTitle = tasksFullDetails.taskName || taskDetails?.issueTitle;\r\n                templateVariables.issueComments = taskDetails?.issueComments;\r\n                templateVariables.amountOfComments = `${taskDetails?.issueComments.length || 0} messages`;\r\n                // Highlight the task's selected text\r\n                let nodePath = null;\r\n                    const currentTaskData = this.allTasksData.find((element) => String(element.taskId) === String(taskDetails.taskId));\r\n                    let meta = null;\r\n\r\n                    if (currentTaskData && currentTaskData.taskMeta) {\r\n                        try {\r\n                            meta = JSON.parse(currentTaskData.taskMeta);\r\n                            nodePath = meta.nodePath || null;\r\n                        } catch (e) { nodePath = null; meta = null; }\r\n                    }\r\n\r\n            templateVariables.taskPageUrl = meta.pageURL;\r\n            templateVariables.taskFormattedPageUrl = '';\r\n            let taskFormattedPageUrl = '';\r\n            if(meta?.pageURL) {\r\n                taskFormattedPageUrl = meta?.pageURL?.replace(window.location.origin, '');\r\n                templateVariables.taskFormattedPageUrl = taskFormattedPageUrl.length < 2\r\n                    ? meta.pageURL.replace(/^https?:\\/\\//, '') : taskFormattedPageUrl;\r\n            }\r\n\r\n            const issueLinkElement = document.getElementById('spotfix_doboard_task_widget_url');\r\n            if (issueLinkElement) {\r\n                issueLinkElement.innerHTML = `<a rel=\"nofollow\" href=\"${meta.pageURL}\">${templateVariables.taskFormattedPageUrl}</a>`;\r\n            }\r\n\r\n            templateVariables.contenerClasess = +localStorage.getItem('maximize')\r\n                ? 'doboard_task_widget-container-maximize doboard_task_widget-container' : 'doboard_task_widget-container'\r\n            if (this.nonRequesting) {\r\n                const containerEl = document.getElementById('doboard_task_widget_concrete-container');\r\n                if (containerEl) {\r\n                    containerEl.className = templateVariables.contenerClasess;\r\n                }\r\n            }\r\n            if (!this.nonRequesting) {\r\n                widgetContainer.innerHTML = this.loadTemplate('concrete_issue', templateVariables);\r\n                document.body.appendChild(widgetContainer);\r\n            }\r\n\r\n                    // remove old highlights before adding new ones\r\n                    spotFixRemoveHighlights();\r\n\r\n                    if (meta && nodePath) {\r\n                        // Pass the task meta object as an array\r\n                        spotFixHighlightElements([{...meta, taskId: currentTaskData.taskId}], this);\r\n                        if (typeof spotFixScrollToNodePath === 'function') {\r\n                            spotFixScrollToNodePath(nodePath);\r\n                        }\r\n                    }\r\n\r\n                const issuesCommentsContainer = document.querySelector('.doboard_task_widget-concrete_issues-container');\r\n                if (!issuesCommentsContainer) return;\r\n\r\n                const currentScrollTop = issuesCommentsContainer.scrollTop;\r\n                const wasAtBottom = currentScrollTop + issuesCommentsContainer.clientHeight >= issuesCommentsContainer.scrollHeight - 10;\r\n\r\n                let dayMessagesData = [];\r\n                const initIssuerID = localStorage.getItem('spotfix_user_id');\r\n                let userIsIssuer = false;\r\n                if ( taskDetails.issueComments.length > 0 ) {\r\n                    storageRemoveUnreadUpdateForTaskID(taskDetails.taskId);\r\n                    issuesCommentsContainer.innerHTML = ksesFilter('');\r\n                    for (const comment of taskDetails.issueComments) {\r\n                        userIsIssuer = Number(initIssuerID) === Number(comment.commentUserId);\r\n                        const avatarData = getAvatarData({\r\n                            taskAuthorAvatarImgSrc: comment.commentAuthorAvatarSrc,\r\n                            taskAuthorName: comment.commentAuthorName,\r\n                        });\r\n                        const commentData = {\r\n                            commentAuthorName: comment.commentAuthorName,\r\n                            commentBody: comment.commentBody,\r\n                            commentDate: comment.commentDate,\r\n                            commentTime: comment.commentTime,\r\n                            issueTitle: templateVariables.issueTitle,\r\n                            avatarCSSClass: avatarData.avatarCSSClass,\r\n                            avatarStyle: avatarData.avatarStyle,\r\n                            taskAuthorInitials: avatarData.taskAuthorInitials,\r\n                            initialsClass: avatarData.initialsClass,\r\n                            issueMessageClassOwner: userIsIssuer ? 'owner' : 'guest',\r\n                        };\r\n                        if (dayMessagesData[comment.commentDate] === undefined) {\r\n                            dayMessagesData[comment.commentDate] = [];\r\n                            dayMessagesData[comment.commentDate].push(commentData);\r\n                        } else {\r\n                            dayMessagesData[comment.commentDate].push(commentData);\r\n                        }\r\n                    }\r\n                    let daysWrapperHTML = '';\r\n\r\n                    for (const day in dayMessagesData) {\r\n                        let currentDayMessages = dayMessagesData[day];\r\n                        let dayMessagesWrapperHTML = '';\r\n                        currentDayMessages.sort((a, b) => a.commentTime.localeCompare(b.commentTime));\r\n                        for (const messageId in currentDayMessages) {\r\n                            let currentMessageTemplateVariables = currentDayMessages[messageId];\r\n                            dayMessagesWrapperHTML += this.loadTemplate('concrete_issue_messages', currentMessageTemplateVariables);\r\n                        }\r\n                        daysWrapperHTML += this.loadTemplate('concrete_issue_day_content',\r\n                            {\r\n                                dayContentMonthDay: day,\r\n                                dayContentMessages: dayMessagesWrapperHTML,\r\n                                statusFixedHtml: tasksFullDetails?.taskStatus !== 'DONE' ? '' : this.loadTemplate('fixedTaskHtml')\r\n                            },\r\n                        );\r\n                    }\r\n\r\n                    if (!this.nonRequesting) {\r\n                        issuesCommentsContainer.innerHTML = daysWrapperHTML;\r\n                    } else {\r\n                        if (issuesCommentsContainer.innerHTML !== daysWrapperHTML) {\r\n                            issuesCommentsContainer.innerHTML = daysWrapperHTML;\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    issuesCommentsContainer.innerHTML = ksesFilter('No comments');\r\n                }\r\n\r\n                // textarea (new comment) behaviour\r\n                const textarea = document.querySelector('.doboard_task_widget-send_message_input');\r\n                if (textarea) {\r\n                    function handleTextareaChange() {\r\n                        const triggerChars = 40;\r\n\r\n                        if (this.value.length > triggerChars) {\r\n                            this.classList.add('high');\r\n                        } else {\r\n                            this.classList.remove('high');\r\n                        }\r\n                    }\r\n                    textarea.addEventListener('input', handleTextareaChange)\r\n                    textarea.addEventListener('change', handleTextareaChange)\r\n\r\n                    const fileUploader = this.fileUploader;\r\n\r\n                    if (tinymce?.get('doboard_task_widget-send_message_input_SpotFix')) {\r\n                        tinymce?.remove('#doboard_task_widget-send_message_input_SpotFix');\r\n                    }\r\n\r\n                    const mainThis = this;\r\n\r\n                    SpotFixTinyMCE.init({\r\n                        selector: '#doboard_task_widget-send_message_input_SpotFix',\r\n                        plugins: 'link lists autoresize',\r\n                        menubar: false,\r\n                        placeholder: 'Write a message...',\r\n                        content_style: `body[data-mce-placeholder]:not(.mce-content-body:not([data-mce-placeholder]))::before {\r\n                        color: #707A83 !important;}\r\n                        body {background-color: #F3F6F9;}`,\r\n                        statusbar: false,\r\n                        toolbar_location: 'bottom',\r\n                        toolbar: 'attachmentButton screenshotButton emoticons bullist numlist bold italic strikethrough underline blockquote sendCommentButton',\r\n                        min_height: 100,\r\n                        max_height: 200,\r\n                        autoresize_bottom_margin: 0,\r\n                        resize: false,\r\n                        icons: 'icon_pack_SpotFix',\r\n                        file_picker_types: 'file image media',\r\n                        setup: function (editor) {\r\n                            editor.on('change', function () {\r\n                                editor.save();\r\n                            });\r\n                            editor.on('init', () => {\r\n                                // Scroll to the bottom comments\r\n                                if(!this.nonRequesting) {\r\n                                    const container = document.querySelector('.doboard_task_widget-concrete_issues-container');\r\n\r\n                                    if (container) {\r\n                                        setTimeout(() => {\r\n                                            const scrollPosition = container.scrollHeight;\r\n                                            container.scrollTo({ top: scrollPosition, behavior: 'smooth' });\r\n                                        }, 50);\r\n                                    }\r\n                                }\r\n                            });\r\n                            editor.ui.registry.addButton('attachmentButton', {\r\n                                icon: 'paperclip',\r\n                                tooltip: 'Add file',\r\n                                    onAction: (e) => {\r\n                                       fileUploader?.fileInput?.click(e);\r\n\r\n                                    },\r\n                                });\r\n                            editor.ui.registry.addButton('screenshotButton', {\r\n                                icon: 'screenshot',\r\n                                tooltip: 'Screenshot',\r\n                                onAction: (e) => {\r\n                                   fileUploader?.makeScreenshot();\r\n                                },\r\n                                });\r\n                            editor.ui.registry.addButton('sendCommentButton', {\r\n                                icon: 'sendComment',\r\n                                tooltip: 'Send comment',\r\n                                onAction: (e) => {\r\n                                    clickHandler(mainThis, editor);\r\n                                },\r\n                            });\r\n                            }\r\n                        });\r\n                    }\r\n\r\n            if(this.nonRequesting) {\r\n                const container = document.querySelector('.doboard_task_widget-concrete_issues-container');\r\n\r\n                if (container) {\r\n                    setTimeout(() => {\r\n                        const scrollPosition = container.scrollHeight;\r\n                        container.scrollTo({ top: scrollPosition, behavior: 'smooth' });\r\n                    }, 50);\r\n                }\r\n            }\r\n\r\n                // Hide spinner preloader\r\n                hideContainersSpinner();\r\n\r\n\r\n                    this.fileUploader.init();\r\n\r\n                    async function clickHandler(mainThis, editor)  {\r\n                        const sendButton = document.querySelector('.doboard_task_widget-send_message_button');\r\n                        const sendMessageContainer = sendButton?.closest('.doboard_task_widget-send_message');\r\n                        const input = sendMessageContainer?.querySelector('.doboard_task_widget-send_message_input');\r\n\r\n                        const commentText =  editor?.getContent({ format: 'html' })?.trim();\r\n\r\n                            if (!commentText) return;\r\n\r\n                        // Add other fields handling here\r\n                        if(input) input.disabled = true;\r\n                        if(sendButton) sendButton.disabled = true;\r\n\r\n                        let newCommentResponse = null;\r\n\r\n                        try {\r\n                            newCommentResponse = await addTaskComment(mainThis.params, mainThis.currentActiveTaskId, commentText);\r\n                            if(input) input.value = '';\r\n                            await mainThis.createWidgetElement('concrete_issue');\r\n                            hideContainersSpinner(false);\r\n                        } catch (err) {\r\n                            alert('Error when adding a comment: ' + err?.message);\r\n                        }\r\n\r\n                        if (mainThis && mainThis?.fileUploader?.hasFiles() && newCommentResponse !== null && newCommentResponse?.hasOwnProperty('commentId')) {\r\n                            const sessionId = localStorage.getItem('spotfix_session_id');\r\n                            const attachmentsSendResult = await mainThis?.fileUploader?.sendAttachmentsForComment(mainThis?.params, sessionId, newCommentResponse?.commentId);\r\n                            if (!attachmentsSendResult.success) {\r\n                                mainThis?.fileUploader?.showError('Some files where no sent, see details in the console.');\r\n                                const toConsole = JSON.stringify(attachmentsSendResult);\r\n                                console.log(toConsole);\r\n                            }\r\n                        }\r\n\r\n                        if(input) input.disabled = false;\r\n\r\n                    };\r\n                    // this._sendButtonClickHandler = clickHandler;\r\n                    //\r\n                    // sendButton.addEventListener('click', clickHandler);\r\n\r\n\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        const backToAllIssuesController = document.querySelector('.doboard_task_widget_return_to_all');\r\n        const widgetClass = this;\r\n        if ( backToAllIssuesController ) {\r\n            backToAllIssuesController.addEventListener('click', function(e, self = widgetClass) {\r\n                self.createWidgetElement('all_issues');\r\n            });\r\n        }\r\n\r\n        const paperclipController = document.querySelector('.doboard_task_widget-send_message_paperclip');\r\n        if ( paperclipController ) {\r\n            this.fileUploader.bindPaperClipAction(paperclipController);\r\n        }\r\n\r\n        document.querySelector('.doboard_task_widget-close_btn')?.addEventListener('click', (e) => {\r\n            const widgetContainer = e.target.closest('.doboard_task_widget-container');\r\n            if (widgetContainer && widgetContainer.querySelector('.doboard_task_widget-create_issue')) {\r\n                // If it Create issue interface - do not close widget\r\n                storageSetWidgetIsClosed(false);\r\n            }\r\n            this.hide();\r\n        }) || '';\r\n\r\n        document.querySelector('#openUserMenuButton')?.addEventListener('click', () => {\r\n            this.createWidgetElement('user_menu')\r\n        }) || '';\r\n\r\n        document.querySelector('#openSpotMenuButton')?.addEventListener('click', () => {\r\n            this.createWidgetElement('spot_menu')\r\n        }) || '';\r\n\r\n        document.querySelector('#unsubscribe_from_spot')?.addEventListener('change', () => {\r\n            const currentUserId = localStorage.getItem('spotfix_user_id');\r\n\r\n            if(currentUserId){\r\n                const viewers = this.allTasksData.find(task => +task.taskId === +this.currentActiveTaskId)?.viewers;\r\n                let filteredUsersIds = [];\r\n                if (viewers.includes(+currentUserId)) {\r\n                    filteredUsersIds = viewers.filter(item => +item !== +currentUserId)?.join(',');\r\n                } else {\r\n                    filteredUsersIds = viewers.push(+currentUserId)?.join(',');\r\n                }\r\n                if (filteredUsersIds.length) {\r\n                    updateViewersDoboard(filteredUsersIds, this.currentActiveTaskId, this.params.projectToken, this.params.accountId);\r\n                }\r\n            }\r\n        }) || '';\r\n\r\n        document.querySelector('#highlight_the_spot')?.addEventListener('change', (e) => {\r\n            const currentUserId = localStorage.getItem('spotfix_user_id');\r\n            if (!currentUserId) return;\r\n\r\n            const highlightStatuses = JSON.parse(\r\n                localStorage.getItem('spotfix_highlight_statuses') || '{}'\r\n            );\r\n\r\n            if (!highlightStatuses[currentUserId]) {\r\n                highlightStatuses[currentUserId] = {};\r\n            }\r\n\r\n            highlightStatuses[currentUserId][this.currentActiveTaskId] = e.target.checked;\r\n\r\n            localStorage.setItem(\r\n                'spotfix_highlight_statuses',\r\n                JSON.stringify(highlightStatuses)\r\n            );\r\n        });\r\n\r\n        document.getElementById('spotfix-widget-create-task-visibility')?.addEventListener('change', () => {\r\n            this.new_task_type = this.new_task_type === 'PUBLIC' ? 'REGULAR' : 'PUBLIC';\r\n        }) || '';\r\n\r\n        document.querySelector('#doboard_task_widget-user_menu-logout_button')?.addEventListener('click', () => {\r\n            logoutUserDoboard(this.params.projectToken);\r\n        }) || '';\r\n\r\n        document.getElementById('addNewTaskButton')?.addEventListener('click', () => {\r\n            spotFixShowWidget();\r\n        }) || '';\r\n\r\n        document.getElementById('maximizeWidgetContainer')?.addEventListener('click', () => {\r\n            const container = document.querySelector('.doboard_task_widget-container');\r\n\r\n            const isMaximized =\r\n                +localStorage.getItem('maximize') &&\r\n                container.classList.contains('doboard_task_widget-container-maximize');\r\n\r\n            if (isMaximized) {\r\n                localStorage.setItem('maximize', '0');\r\n                container.classList.remove('doboard_task_widget-container-maximize');\r\n\r\n                if (this.type_name === 'all_issues') {\r\n                    document\r\n                        .querySelectorAll('.spotfix_widget_task_url-full')\r\n                        .forEach(el => (el.style.display = 'none'));\r\n                    document\r\n                        .querySelectorAll('.spotfix_widget_task_url')\r\n                        .forEach(el => (el.style.display = 'none'));\r\n                    document\r\n                        .querySelectorAll('.spotfix_widget_task_url-short')\r\n                        .forEach(el => (el.style.display = 'inline'));\r\n                }\r\n            } else {\r\n                localStorage.setItem('maximize', '1');\r\n                container.classList.add('doboard_task_widget-container-maximize');\r\n\r\n                if (this.type_name === 'all_issues') {\r\n                    document\r\n                        .querySelectorAll('.spotfix_widget_task_url-full')\r\n                        .forEach(el => (el.style.display = 'inline'));\r\n                    document\r\n                        .querySelectorAll('.spotfix_widget_task_url-short')\r\n                        .forEach(el => (el.style.display = 'none'));\r\n                    document\r\n                        .querySelectorAll('.spotfix_widget_task_url')\r\n                        .forEach(el => (el.style.display = 'none'));\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n        document.querySelector('#doboard_task_widget-user_menu-signlog_button')?.addEventListener('click', () => {\r\n            const loginContainer = document.getElementById('doboard_task_widget-input-container-login');\r\n            if(loginContainer) loginContainer.style.display = 'block';\r\n        }) || '';\r\n\r\n        document.querySelector('#spotfix_back_button')?.addEventListener('click', () => {\r\n            this.createWidgetElement(this.type_name)\r\n            this.bindWidgetInputsInteractive();\r\n        }) || '';\r\n\r\n        wsSpotfix.onMessage(() => {\r\n            this.createWidgetElement(this.socket_type_name, true)\r\n        });\r\n\r\n        document.getElementById('doboard_task_widget-title')?.addEventListener('change', (e) => {\r\n            localStorage.setItem('spotfix-title-ls', e.target.value);\r\n            if (e.target.value.length < 1) {\r\n                document.querySelector('.spotfix_placeholder_title').style.display = 'block';\r\n            }\r\n        });\r\n\r\n        return widgetContainer;\r\n    }\r\n\r\n\r\n\r\n    bindIssuesClick() {\r\n        document.querySelectorAll('.issue-item').forEach(item => {\r\n            item.addEventListener('click', async (event) => {\r\n                const titleEl = event.target.closest('.doboard_task_widget-task_title');\r\n\r\n                if (!titleEl || !item.contains(titleEl)) {\r\n                    return;\r\n                }\r\n\r\n                let nodePath = null;\r\n                try {\r\n                    nodePath = JSON.parse(item.getAttribute('data-node-path'));\r\n                } catch (error) {\r\n                    nodePath = null;\r\n                }\r\n\r\n                if (nodePath) {\r\n                    spotFixScrollToNodePath(nodePath);\r\n                }\r\n\r\n                this.currentActiveTaskId = item.getAttribute('data-task-id');\r\n                await this.showOneTask();\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     * Show one task\r\n     *\r\n     * @return {Promise<void>}\r\n     *\r\n     */\r\n    async showOneTask() {\r\n        await this.createWidgetElement('concrete_issue');\r\n        const taskHighlightData = this.getTaskHighlightData(this.currentActiveTaskId)\r\n\r\n        if (taskHighlightData) {\r\n            spotFixRemoveHighlights();\r\n            spotFixHighlightElements([taskHighlightData], this)\r\n            this.positionWidgetContainer();\r\n        }\r\n\r\n        hideContainersSpinner(false);\r\n    }\r\n\r\n    /**\r\n     * Load the template\r\n     *\r\n     * @param templateName\r\n     * @param variables\r\n     * @return {string}\r\n     * @ToDo have to refactor templates loaded method: need to be templates included into the bundle\r\n     *\r\n     */\r\n    loadTemplate(templateName, variables = {}) {\r\n        let template = SpotFixTemplatesLoader.getTemplateCode(templateName);\r\n\r\n        for (const [key, value] of Object.entries(variables)) {\r\n            const placeholder = `{{${key}}}`;\r\n            let replacement;\r\n\r\n            // 1) For attributes we MUST use escapeHtml!\r\n            // 2) Only for HTML inserts we must clean data by ksesFilter\r\n            // Check if placeholder is used in an attribute context\r\n            if (this.isPlaceholderInAttribute(template, placeholder)) {\r\n                // For attributes, use escapeHtml to prevent XSS\r\n                replacement = this.escapeHtml(String(value));\r\n            } else {\r\n                // For HTML content, use ksesFilter to sanitize HTML\r\n                replacement = ksesFilter(String(value), {template: templateName, imgFilter: true});\r\n            }\r\n\r\n            template = template.replaceAll(placeholder, replacement);\r\n        }\r\n\r\n        return ksesFilter(template, {template: templateName});\r\n    }\r\n\r\n    /**\r\n     * Check if a placeholder is used inside an HTML attribute\r\n     * @param {string} template - The template string\r\n     * @param {string} placeholder - The placeholder to check (e.g., \"{{key}}\")\r\n     * @return {boolean} - True if placeholder is in an attribute context\r\n     */\r\n    isPlaceholderInAttribute(template, placeholder) {\r\n        // Escape special regex characters in placeholder\r\n        const escapedPlaceholder = placeholder.replace(/[{}]/g, '\\\\$&');\r\n\r\n        // Pattern to match attribute=\"...\" or attribute='...' containing the placeholder\r\n        // This regex looks for: word characters (attribute name) = \" or ' followed by content including the placeholder\r\n        // Matches patterns like: src=\"{{key}}\", class=\"{{key}}\", style=\"{{key}}\", etc.\r\n        const attributePattern = new RegExp(\r\n            `[\\\\w-]+\\\\s*=\\\\s*[\"'][^\"']*${escapedPlaceholder}[^\"']*[\"']`,\r\n            'g'\r\n        );\r\n\r\n        // Check if placeholder appears in any attribute context\r\n        // If it does, we'll use escapeHtml for all occurrences (safer approach)\r\n        return attributePattern.test(template);\r\n    }\r\n\r\n    escapeHtml = (unsafe) => {\r\n        return unsafe\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n            .replace(/\"/g, \"&quot;\")\r\n            .replace(/'/g, \"&#039;\");\r\n    };\r\n\r\n    async getTaskCount() {\r\n        if (!localStorage.getItem('spotfix_session_id')) {\r\n            return {};\r\n        }\r\n\r\n        const projectToken = this.params.projectToken;\r\n        const sessionId = localStorage.getItem('spotfix_session_id');\r\n\r\n        const tasksCountLS = localStorage.getItem('spotfix_tasks_count');\r\n\r\n        let tasksCount;\r\n\r\n        if(tasksCountLS === undefined){\r\n            if(!this.nonRequesting) {\r\n                await getTasksDoboard(projectToken, sessionId, this.params.accountId, this.params.projectId);\r\n            }\r\n            const tasks = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS);\r\n            storageSaveTasksCount(tasks);\r\n            const filteredTasks = tasks.filter(task => {\r\n                return task.taskMeta;\r\n            });\r\n            tasksCount = filteredTasks.length;\r\n        } else {\r\n            if (this.nonRequesting) {\r\n                const tasks = await spotfixIndexedDB.getAll(SPOTFIX_TABLE_TASKS);\r\n                storageSaveTasksCount(tasks);\r\n                const filteredTasks = tasks.filter(task => {\r\n                    return task.taskMeta;\r\n                });\r\n                tasksCount = filteredTasks.length;\r\n            } else {\r\n                tasksCount = tasksCountLS;\r\n            }\r\n        }\r\n\r\n        const taskCountElement = document.getElementById('doboard_task_widget-task_count');\r\n        if ( taskCountElement ) {\r\n            taskCountElement.innerText = ksesFilter(tasksCount);\r\n            taskCountElement.classList.remove('hidden');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Bind events to the widget\r\n     */\r\n    /*bindEvents() {\r\n        this.submitButton.addEventListener('click', () => this.submitTask());\r\n    }*/\r\n\r\n    /**\r\n     * Submit the task\r\n     */\r\n    async submitTask(taskDetails) {\r\n        if (!localStorage.getItem('spotfix_session_id')) {\r\n            await registerUser(taskDetails)(this.registrationShowMessage);\r\n            if ( taskDetails.userPassword ) {\r\n                await loginUser(taskDetails)(this.registrationShowMessage);\r\n                checkLogInOutButtonsVisible();\r\n            }\r\n        }\r\n\r\n        const sessionId = localStorage.getItem('spotfix_session_id');\r\n\r\n        if ( ! sessionId ) {\r\n            // @ToDo move this return in register block code\r\n            return {needToLogin: true};\r\n        }\r\n        return await handleCreateTask(sessionId, taskDetails);\r\n    }\r\n\r\n    /**\r\n     * Hide the widget\r\n     */\r\n    hide() {\r\n        spotFixRemoveHighlights();\r\n        this.createWidgetElement('wrap');\r\n    }\r\n\r\n    wrapElementWithSpotfixHighlight(element) {\r\n        const newElement = element.cloneNode();\r\n        const wrapper = document.createElement('span');\r\n        wrapper.className = 'doboard_task_widget-text_selection image-highlight';\r\n\r\n        element.insertAdjacentElement('beforebegin', wrapper);\r\n        wrapper.appendChild(newElement);\r\n\r\n        return wrapper;\r\n    }\r\n\r\n    /**\r\n     * Get task spot data for highlighting.\r\n     * @param {string|int} taskIdToSearch\r\n     * @returns {object|null}\r\n     */\r\n    getTaskHighlightData(taskIdToSearch) {\r\n        const currentTaskData = this.allTasksData.find((element) => element.taskId.toString() === taskIdToSearch.toString());\r\n        if (currentTaskData && currentTaskData.taskMeta !== undefined) {\r\n            let currentTaskSpotData = null;\r\n            try {\r\n                currentTaskSpotData = JSON.parse(currentTaskData.taskMeta);\r\n            } catch (error) {\r\n                currentTaskSpotData = null;\r\n            }\r\n            if (currentTaskSpotData !== null && typeof currentTaskSpotData === 'object') {\r\n                return currentTaskSpotData;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    bindWidgetInputsInteractive() {\r\n        // Customising placeholders\r\n        const inputs = document.querySelectorAll('.doboard_task_widget-field');\r\n        inputs.forEach(input => {\r\n            if (input.value) {\r\n                input.classList.add('has-value');\r\n            }\r\n\r\n            input.addEventListener('input', () => {\r\n                if (input.value) {\r\n                    input.classList.add('has-value');\r\n                } else {\r\n                    input.classList.remove('has-value');\r\n                }\r\n            });\r\n\r\n            input.addEventListener('blur', () => {\r\n                if (!input.value) {\r\n                    input.classList.remove('has-value');\r\n                }\r\n            });\r\n        });\r\n\r\n        // Customising accordion dropdown\r\n        const accordionController = document.querySelector('.doboard_task_widget-login span');\r\n        if ( accordionController ) {\r\n            const context = this;\r\n            accordionController.addEventListener('click', function() {\r\n                this.closest('.doboard_task_widget-login').classList.toggle('active');\r\n                // Scroll\r\n                context.positionWidgetContainer();\r\n                setTimeout(() => {\r\n                    const contentContainer = document.querySelector('.doboard_task_widget-content');\r\n                    contentContainer.scrollTo({\r\n                        top: contentContainer.scrollHeight,\r\n                        behavior: 'smooth'\r\n                    });\r\n                }, 0);\r\n            });\r\n        }\r\n\r\n        window.addEventListener('scroll', this.handleScroll.bind(this));\r\n        window.addEventListener('resize', this.handleResize.bind(this));\r\n    }\r\n\r\n    registrationShowMessage(messageText, type = 'error') {\r\n        const titleSpan = document.getElementById('doboard_task_widget-error_message-header');\r\n        const messageDiv = document.getElementById('doboard_task_widget-error_message');\r\n        const messageWrap = document.querySelector('.doboard_task_widget-message-wrapper');\r\n\r\n        if (typeof messageText === 'string' && messageDiv !== null && messageWrap !== null) {\r\n            messageDiv.innerText = ksesFilter(messageText);\r\n            messageWrap.classList.remove('hidden');\r\n            messageDiv.classList.remove('doboard_task_widget-notice_message', 'doboard_task_widget-error_message');\r\n            if (type === 'notice') {\r\n                titleSpan.innerText = ksesFilter('');\r\n                messageWrap.classList.add('doboard_task_widget-notice_message');\r\n                messageDiv.style.color = '#2a5db0';\r\n            } else {\r\n                titleSpan.innerText = ksesFilter('Registration error');\r\n                messageWrap.classList.add('doboard_task_widget-error_message');\r\n                messageDiv.style.color = 'red';\r\n            }\r\n        }\r\n    }\r\n\r\n    positionWidgetContainer() {\r\n        const selection = document.querySelector('.doboard_task_widget-text_selection');\r\n        const widget = document.querySelector('.doboard_task_widget')\r\n        const widgetCreateIssue = document.querySelector('.doboard_task_widget-content.doboard_task_widget-create_issue')\r\n        const widgetConcreteIssue = document.querySelector('.doboard_task_widget-concrete_issues-container')\r\n        if ( ! ( ( widgetCreateIssue || widgetConcreteIssue ) && selection ) ) {\r\n            // Skip if the widget is closed or highlight not exist\r\n            return;\r\n        }\r\n\r\n        const scrollY = window.scrollY;\r\n        const viewportHeight = window.innerHeight;\r\n\r\n        const selectionAbsoluteTop = selection.getBoundingClientRect().top + scrollY;\r\n\r\n        const widgetHeight = widget.offsetHeight;\r\n\r\n        let top;\r\n\r\n        // Check selection position\r\n        if (selectionAbsoluteTop - scrollY < 0) {\r\n            // 1) The selection is above the viewport - stuck the widget on the top\r\n            top = 10;\r\n        } else if (selectionAbsoluteTop - scrollY > viewportHeight) {\r\n            // 2) The selection is below the viewport - stuck the widget on the bottom\r\n            top = viewportHeight - widgetHeight - 10;\r\n        } else {\r\n            // 3) The selection is on viewport - the widget aligned against the selection\r\n            top = selectionAbsoluteTop - scrollY\r\n            if ( selectionAbsoluteTop - scrollY > viewportHeight - widgetHeight ) {\r\n                // 3.1) The selection is on viewport but is below than widget height - stuck the widget on the bottom\r\n                top = viewportHeight - widgetHeight - 10;\r\n            }\r\n        }\r\n\r\n        if(widget) {\r\n            widget.style.top = `${top}px`;\r\n            widget.style.bottom = 'auto';\r\n        }\r\n    }\r\n\r\n    handleScroll() {\r\n        clearTimeout(this.scrollTimeout);\r\n        this.scrollTimeout = setTimeout(() => {\r\n            this.positionWidgetContainer();\r\n        }, 10);\r\n    }\r\n\r\n    handleResize() {\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = setTimeout(() => {\r\n            this.positionWidgetContainer();\r\n        }, 100);\r\n    }\r\n\r\n    /**\r\n     * Check nodePath, selectedData against page source and return is the provided nodePath is correct and can be highlighted\r\n     * @param taskData\r\n     * @return {boolean}\r\n     */\r\n    isSpotHaveToBeHighlighted(taskData) {\r\n        return true;\r\n    }\r\n\r\n    sanitizeNodePath(nodePath) {\r\n    let str = Array.isArray(nodePath) ? JSON.stringify(nodePath) : String(nodePath);\r\n    // Allow only digits, commas, spaces, and square brackets\r\n    if (/^[\\[\\]0-9,\\s]*$/.test(str)) {\r\n        return str;\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n * Set user menu data with current user information\r\n */\r\nasync setUserMenuData() {\r\n    const params = this.params;\r\n\r\n    // Get user data\r\n    let userData = null;\r\n    if (localStorage.getItem('spotfix_session_id')) {\r\n        try {\r\n            userData = await getUserDetails(params);\r\n        } catch (error) {\r\n            console.error('Error fetching user details:', error);\r\n        }\r\n    }\r\n\r\n    // Update user menu header\r\n    const userNameElement = document.querySelector('.doboard_task_widget-user_menu-header span[style*=\"font-size: 16px\"]');\r\n    const emailElement = document.querySelector('.doboard_task_widget-user_menu-header span[style*=\"font-size: 12px\"]');\r\n    const avatarElement = document.querySelector('.doboard_task_widget-user_menu-header-avatar');\r\n\r\n    if (userNameElement) {\r\n        if (userData && userData.name) {\r\n            userNameElement.innerText = userData.name;\r\n        } else {\r\n            userNameElement.innerText = 'Guest';\r\n        }\r\n    }\r\n\r\n    if (emailElement) {\r\n        if (userData && userData.email) {\r\n            emailElement.innerText = userData.email;\r\n        } else {\r\n            const email = localStorage.getItem('spotfix_email') || '';\r\n            emailElement.innerText = email.includes('spotfix_') ? '' : email;\r\n        }\r\n    }\r\n\r\n    if (avatarElement) {\r\n        if (userData && userData.avatar && userData.avatar.s) {\r\n            avatarElement.src = userData.avatar.s;\r\n        } else {\r\n            // Reset to default avatar or remove src\r\n            avatarElement.src = '';\r\n        }\r\n    }\r\n}\r\n}\r\n\nvar spotFixShowDelayTimeout = null;\r\nconst SPOTFIX_DEBUG = false;\r\nconst SPOTFIX_SHOW_DELAY = 1000;\r\n\r\n\r\nif( document.readyState !== 'loading' ) {\r\n    document.addEventListener('spotFixLoaded', spotFixInit);\r\n} else {\r\n    document.addEventListener('DOMContentLoaded', spotFixInit);\r\n}\r\n\r\nfunction spotFixInit() {\r\n    spotfixIndexedDB.init();\r\n    wsSpotfix.connect();\r\n    wsSpotfix.subscribe();\r\n    new SpotFixSourcesLoader();\r\n    new CleanTalkWidgetDoboard({}, 'wrap');\r\n    loadBotDetector();\r\n    loadTinyMCE();\r\n}\r\n\r\nfunction loadBotDetector() {\r\n\r\n    const detector = document.querySelectorAll('script[src*=\"fd.cleantalk.org/ct-bot-detector-wrapper.js\"]');\r\n    if (detector.length > 0 || document.getElementById('ct-bot-detector-script')) {\r\n        return;\r\n    }\r\n\r\n    const script = document.createElement('script');\r\n    script.src = 'https://fd.cleantalk.org/ct-bot-detector-wrapper.js';\r\n    script.async = true;\r\n    script.id = 'ct-bot-detector-script';\r\n    document.head.appendChild(script);\r\n}\r\n\r\n/**\r\n * Downloads TinyMCE script from doboard.com\r\n */\r\nfunction loadTinyMCE() {\r\n    return new Promise((resolve) => {\r\n        const existingTinyMCE_temp = window.tinymce;\r\n        window.tinymce = null;\r\n        const script = document.createElement('script');\r\n        script.src = 'https://doboard.com/tinymce/tinymce.min.js';\r\n        script.async = true;\r\n\r\n        script.onload = function () {\r\n            try {\r\n                window.SpotFixTinyMCE = window.tinymce;\r\n                if (existingTinyMCE_temp) {\r\n                    window.tinymce = existingTinyMCE_temp;\r\n                }\r\n                addIconPack();\r\n                resolve(window.SpotFixTinyMCE);\r\n            } catch (error) {\r\n                if (existingTinyMCE_temp) {\r\n                    window.tinymce = existingTinyMCE_temp;\r\n                }\r\n                console.error('Error loading TinyMCE:', error);\r\n                resolve(null);\r\n            }\r\n        };\r\n\r\n        script.onerror = function () {\r\n            if (existingTinyMCE_temp) {\r\n                window.tinymce = existingTinyMCE_temp;\r\n            }\r\n            console.error('Failed to load TinyMCE script');\r\n            resolve(null);\r\n        };\r\n\r\n        document.head.appendChild(script);\r\n    });\r\n}\r\n\r\ndocument.addEventListener('selectionchange', function(e) {\r\n    // Do not run widget for non-document events (i.e. inputs focused)\r\n\r\n    if (e.target !== document) {\r\n        return;\r\n    }\r\n\r\n    const isWrapReviewWidgetExists = !!(document.getElementsByClassName('wrap_review')[0]);\r\n    const sel = document.getSelection();\r\n\r\n    if ((!sel || sel.toString() === \"\") && isWrapReviewWidgetExists) {\r\n        new CleanTalkWidgetDoboard({}, 'wrap')\r\n        return;\r\n    }\r\n\r\n    if (spotFixShowDelayTimeout) {\r\n        clearTimeout(spotFixShowDelayTimeout);\r\n    }\r\n\r\n    spotFixShowDelayTimeout = setTimeout(() => {\r\n        const selection = window.getSelection();\r\n        if (\r\n            selection.type === 'Range'\r\n        ) {\r\n            // Check if selection is inside the widget\r\n            let anchorNode = selection.anchorNode;\r\n            let focusNode = selection.focusNode;\r\n            if (spotFixIsInsideWidget(anchorNode) || spotFixIsInsideWidget(focusNode)) {\r\n                return;\r\n            }\r\n            const selectedData = spotFixGetSelectedData(selection);\r\n\r\n             if ( selectedData ) {\r\n                // spotFixOpenWidget(selectedData, 'create_issue');\r\n                spotFixOpenWidget(selectedData, 'wrap_review');\r\n            }\r\n        }\r\n    }, SPOTFIX_SHOW_DELAY);\r\n});\r\n\r\n\r\n/**\r\n * Shows the spot fix widget.\r\n */\r\nfunction spotFixShowWidget() {\r\n    new CleanTalkWidgetDoboard(null, 'create_issue');\r\n}\r\n\r\n/**\r\n * Check if a node is inside the task widget.\r\n * @param {*} node\r\n * @returns {boolean}\r\n */\r\nfunction spotFixIsInsideWidget(node) {\r\n    if (!node) return false;\r\n    let el = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\r\n    while (el) {\r\n        if (el.classList && el.classList.contains('doboard_task_widget')) {\r\n            return true;\r\n        }\r\n        el = el.parentElement;\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * Open the widget to create a task.\r\n * @param {*} selectedData\r\n * @param {*} type\r\n */\r\nfunction spotFixOpenWidget(selectedData, type) {\r\n    if (selectedData) {\r\n        new CleanTalkWidgetDoboard(selectedData, type);\r\n    }\r\n}\r\n\r\n/**\r\n * Write message into the console.\r\n *\r\n * @param {string} message\r\n */\r\nfunction spotFixDebugLog(message) {\r\n    if ( SPOTFIX_DEBUG ) {\r\n        console.log(message);\r\n    }\r\n}\r\n\r\nfunction hideContainersSpinner() {\r\n    const spinners = document.getElementsByClassName('doboard_task_widget-spinner_wrapper_for_containers');\r\n    if (spinners.length > 0) {\r\n        for (let i = 0; i < spinners.length ; i++) {\r\n            spinners[i].style.display = 'none';\r\n        }\r\n    }\r\n\r\n    const taskWidgetUrl = document.getElementsByClassName('spotfix_doboard_task_widget_url');\r\n    if (taskWidgetUrl.length > 0) {\r\n        for (let i = 0; i < taskWidgetUrl.length ; i++) {\r\n            taskWidgetUrl[i].style.display = 'block';\r\n        }\r\n    }\r\n    const containerClassesToShow = ['doboard_task_widget-all_issues-container', 'doboard_task_widget-concrete_issues-container'];\r\n    for (let i = 0; i < containerClassesToShow.length ; i++) {\r\n        const containers = document.getElementsByClassName(containerClassesToShow[i]);\r\n        if (containers.length > 0) {\r\n            for (let i = 0; i < containers.length ; i++) {\r\n                containers[i].style.display = 'block';\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction getTaskFullDetails(tasksDetails, taskId) {\r\n    const comments = tasksDetails.comments.filter(comment => {\r\n        return comment?.taskId?.toString() === taskId?.toString()\r\n    });\r\n    const users = tasksDetails.users;\r\n    // Last comment\r\n    let lastComment = comments.length > 0 ? comments[0] : null;\r\n    // Author of the last comment\r\n    let author = null;\r\n    if (lastComment && users && users.length > 0) {\r\n        author = users.find(u => String(u.user_id) === String(lastComment.userId));\r\n    }\r\n    // Format date\r\n    let date = '', time = '';\r\n    if (lastComment) {\r\n        const dt = formatDate(lastComment.commentDate);\r\n        date = dt.date;\r\n    }\r\n    // Get the avatar and the name through separate functions\r\n    let avatarSrc = getAvatarSrc(author);\r\n    let authorName = getAuthorName(author);\r\n\r\n    return {\r\n        taskId: taskId,\r\n        taskAuthorAvatarImgSrc: avatarSrc,\r\n        taskAuthorName: authorName,\r\n        lastMessageText: lastComment ? lastComment.commentBody : 'No messages yet',\r\n        issueTitle: comments.length > 0 ? comments[0].issueTitle : 'No Title',\r\n        issueComments: comments\r\n            .sort((a, b) => {\r\n                return new Date(a.commentDate) - new Date(b.commentDate);\r\n            })\r\n            .map(comment => {\r\n                const {date, time} = formatDate(comment.commentDate);\r\n                let author = null;\r\n                if (users && users.length > 0) {\r\n                    author = users.find(u => String(u.user_id) === String(comment.userId));\r\n                }\r\n                return {\r\n                    commentAuthorAvatarSrc: getAvatarSrc(author),\r\n                    commentAuthorName: getAuthorName(author),\r\n                    commentBody: comment.commentBody,\r\n                    commentDate: date,\r\n                    commentTime: time,\r\n                    commentUserId: comment.userId || 'Unknown User',\r\n                };\r\n            })\r\n    };\r\n}\r\n\r\nfunction getAvatarData(authorDetails) {\r\n    let avatarStyle;\r\n    let avatarCSSClass;\r\n    let taskAuthorInitials =\r\n        authorDetails.taskAuthorName && authorDetails.taskAuthorName != 'Anonymous'\r\n            ? authorDetails.taskAuthorName.trim().charAt(0).toUpperCase()\r\n            : null;\r\n    let initialsClass = 'doboard_task_widget-avatar-initials';\r\n    if (authorDetails.taskAuthorAvatarImgSrc === null && taskAuthorInitials !== null) {\r\n        avatarStyle = 'display: flex;background-color: #f8de7e;justify-content: center;align-items: center;';\r\n        avatarCSSClass = 'doboard_task_widget-avatar_container';\r\n    }\r\n    if (authorDetails.taskAuthorAvatarImgSrc === null && taskAuthorInitials === null) {\r\n        avatarStyle = `background-image:url(\\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAE9GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZmFiLCAyMDIyLzA4LzE2LTIyOjM1OjQxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjQuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDQtMTBUMTk6MDg6MDkrMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTA0LTEwVDE5OjIxOjA4KzA1OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNWRjOWI0Yy04ZWVmLTRkNTEtYmE0MS1kOTkzZTZmNjNmMTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTVkYzliNGMt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');`;\r\n        avatarCSSClass = 'doboard_task_widget-avatar_container';\r\n        initialsClass += ' doboard_task_widget-hidden_element';\r\n    }\r\n    if (authorDetails.taskAuthorAvatarImgSrc !== null) {\r\n        avatarStyle = `background-image:url(\\'${authorDetails.taskAuthorAvatarImgSrc}\\');`;\r\n        avatarCSSClass = 'doboard_task_widget-avatar_container';\r\n        initialsClass = 'doboard_task_widget-hidden_element';\r\n    }\r\n    return {\r\n        avatarStyle: avatarStyle,\r\n        avatarCSSClass: avatarCSSClass,\r\n        taskAuthorInitials: taskAuthorInitials,\r\n        initialsClass: initialsClass\r\n    }\r\n}\r\n\r\n/**\r\n * Return first found updated task ID or false if no tasks were updated\r\n * @param allTasksData\r\n * @returns {string[]|false}\r\n */\r\nfunction isAnyTaskUpdated(allTasksData) {\r\n    let result = false;\r\n\r\n    const updatedtasksIDS = [];\r\n\r\n    for (let i = 0; i < allTasksData.length; i++) {\r\n        const currentStateOfTask = allTasksData[i];\r\n        const issuerId = localStorage.getItem('spotfix_user_id');\r\n        if (\r\n            currentStateOfTask.taskId &&\r\n            currentStateOfTask.taskLastUpdate &&\r\n            currentStateOfTask.taskCreatorTaskUser.toString() === issuerId.toString()\r\n        ) {\r\n            result = storageCheckTaskUpdate(currentStateOfTask.taskId, currentStateOfTask.taskLastUpdate);\r\n            if (result) {\r\n                updatedtasksIDS.push(currentStateOfTask.taskId.toString());\r\n            }\r\n        }\r\n    }\r\n\r\n    return updatedtasksIDS.length === 0 ? false : updatedtasksIDS;\r\n}\r\n\r\n/**\r\n * Check if any of the tasks has updates from site owner (not from the current user and not anonymous)\r\n * @returns {Promise<boolean>}\r\n */\r\nasync function checkIfTasksHasSiteOwnerUpdates(allTasksData, params) {\r\n    const updatedTaskIDs = isAnyTaskUpdated(allTasksData);\r\n    let result = false;\r\n    if (!updatedTaskIDs) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < updatedTaskIDs.length; i++) {\r\n        const updatedTaskId = updatedTaskIDs[i];\r\n        if (typeof updatedTaskId === 'string') {\r\n            const updatedTaskData =  await getTasksFullDetails(params, [updatedTaskId]);\r\n            if (updatedTaskData.comments) {\r\n                const lastMessage = updatedTaskData.comments[0];\r\n                if (\r\n                    lastMessage.commentUserId !== undefined &&\r\n                    lastMessage.commentUserId !== localStorage.getItem('spotfix_user_id') &&\r\n                    lastMessage.commentAuthorName !== 'Anonymous'\r\n                ) {\r\n                    storageAddUnreadUpdateForTaskID(updatedTaskId);\r\n                    result = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Check if the selection is correct - do not allow to select all page, or several different nesting nodes, or something else\r\n * @param selection\r\n * @return {boolean}\r\n */\r\nfunction isSelectionCorrect(selection) {\r\n    return true;\r\n}\r\n\r\n/**\r\n * Sanitize HTML\r\n * @param {*} html\r\n * @param {*} options\r\n * @returns\r\n */\r\nfunction ksesFilter(html, options = false) {\r\n    let allowedTags = {\r\n        a: true,\r\n        b: true,\r\n        i: true,\r\n        strong: true,\r\n        em: true,\r\n        ul: true,\r\n        ol: true,\r\n        li: true,\r\n        p: true,\r\n        s: true,\r\n        br: true,\r\n        span: true,\r\n        blockquote: true,\r\n        pre: true,\r\n        div: true,\r\n        img: true,\r\n        input: true,\r\n        label: true,\r\n        textarea: true,\r\n        button: true,\r\n        blockquote: true,\r\n        pre: true,\r\n        details: true,\r\n        summary: true,\r\n    };\r\n    let allowedAttrs = {\r\n        a: ['href', 'title', 'target', 'rel', 'style', 'class'],\r\n        span: ['style', 'class', 'id'],\r\n        p: ['style', 'class'],\r\n        div: ['style', 'class', 'id', 'data-node-path', 'data-task-id'],\r\n        img: ['src', 'alt', 'title', 'class', 'style', 'width', 'height'],\r\n        input: ['type', 'class', 'style', 'id', 'multiple', 'accept', 'value'],\r\n        label: ['for', 'class', 'style'],\r\n        textarea: ['class', 'id', 'style', 'rows', 'cols', 'readonly', 'required', 'name'],\r\n        button: ['type', 'class', 'style', 'id'],\r\n        details: ['class', 'style', 'open'],\r\n        summary: ['class', 'style'],\r\n    };\r\n\r\n    if (options && options.template === 'list_issues') {\r\n        allowedTags = { ...allowedTags, br: false };\r\n    }\r\n\r\n    const parser = new DOMParser();\r\n    const doc = parser.parseFromString(html, 'text/html');\r\n    function clean(node) {\r\n        if (node.nodeType === Node.ELEMENT_NODE) {\r\n            const tag = node.tagName.toLowerCase();\r\n\r\n            if (options) {\r\n                if (allowedTags[tag]) {\r\n                    // Special handling for images in 'concrete_issue_day_content' template (wrap img in link always)\r\n                    if (tag === 'img' && options.template === 'concrete_issue_day_content' && options.imgFilter) {\r\n                        const src = node.getAttribute('src') || '';\r\n                        const alt = node.getAttribute('alt') || '[image]';\r\n                        const link = doc.createElement('a');\r\n                        link.href = src;\r\n                        link.target = '_blank';\r\n                        link.className = 'doboard_task_widget-img-link';\r\n                        const img = doc.createElement('img');\r\n                        img.src = src;\r\n                        img.alt = alt;\r\n                        img.className = 'doboard_task_widget-comment_body-img-strict';\r\n                        link.appendChild(img);\r\n                        node.parentNode.insertBefore(link, node);\r\n                        node.remove();\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                if (!allowedTags[tag]) {\r\n                    // Special handling for images in 'list_issues' template\r\n                    if (tag === 'img' && options.template === 'list_issues' && options.imgFilter) {\r\n                        const src = node.getAttribute('src') || '';\r\n                        const alt = node.getAttribute('alt') || '[image]';\r\n                        const link = doc.createElement('a');\r\n                        link.href = src;\r\n                        link.target = '_blank';\r\n                        link.textContent = alt;\r\n                        node.parentNode.insertBefore(link, node);\r\n                    }\r\n                    node.remove();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // Remove disallowed attributes\r\n            [...node.attributes].forEach(attr => {\r\n                const attrName = attr.name.toLowerCase();\r\n                if (!allowedAttrs[tag]?.includes(attrName) ||\r\n                    attrName.startsWith('on') || // Remove event handlers\r\n                    attr.value.toLowerCase().includes('javascript:')) {\r\n                    node.removeAttribute(attr.name);\r\n                }\r\n            });\r\n        }\r\n        // Recursively clean children\r\n        [...node.childNodes].forEach(clean);\r\n    }\r\n    [...doc.body.childNodes].forEach(clean);\r\n    return doc.body.innerHTML;\r\n}\r\n\n/**\r\n * SELECTION will be grouped into three types:\r\n * 1 - Simple text within a single tag\r\n * 2 - Image tags\r\n * 3 - Any tag containing nested content\r\n * Each type will be processed differently.\r\n */\r\nconst SPOTFIX_SELECTION_TYPE_TEXT = 'text';\r\nconst SPOTFIX_SELECTION_TYPE_IMG = 'image';\r\nconst SPOTFIX_SELECTION_TYPE_ELEMENT = 'element';\r\n\r\n/**\r\n * Determines the type of selection\r\n * @param {Selection} selection - The DOM Selection object\r\n * @returns {string|null} Selection type\r\n */\r\nfunction spotFixGetSelectionType(selection) {\r\n    const range = selection.getRangeAt(0);\r\n    const commonAncestor = range.commonAncestorContainer;\r\n\r\n    // Case 1: Image selection\r\n    if (spotFixGetSelectedImage(selection)) {\r\n        return SPOTFIX_SELECTION_TYPE_IMG;\r\n    }\r\n\r\n    // Case 2: Element with nested content\r\n    if (commonAncestor.nodeType === Node.ELEMENT_NODE &&\r\n        commonAncestor.childNodes.length > 1 &&\r\n        range.toString().trim() === '' &&\r\n        range.startContainer === range.endContainer &&\r\n        range.startContainer.nodeType === Node.ELEMENT_NODE) {\r\n        return SPOTFIX_SELECTION_TYPE_ELEMENT;\r\n    }\r\n\r\n    // Case 3: Simple text\r\n    const hasTextContent = range.toString().trim().length > 0;\r\n    const isTextNode = commonAncestor.nodeType === Node.TEXT_NODE;\r\n    const isCollapsed = range.collapsed;\r\n\r\n    if (hasTextContent && (isTextNode || !isCollapsed)) {\r\n        return SPOTFIX_SELECTION_TYPE_TEXT;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Extracts selection data from DOM Selection object\r\n * @param {Selection} selection - The DOM Selection object\r\n * @returns {Object|null} Selection data with text, positions, URL and node path OR null (nothing)\r\n */\r\nfunction spotFixGetSelectedData(selection) {\r\n    // Prechecks:\r\n    // Selection not provided\r\n    if (!selection) {spotFixDebugLog('`spotFixGetSelectedData` skip by `Selection not provided`'); return null;  }\r\n    // Range not provided\r\n    if (selection.rangeCount === 0) { spotFixDebugLog('`spotFixGetSelectedData` skip by `Range not provided`'); return null; }\r\n    // Several ranges provided\r\n    if (selection.rangeCount > 1) { spotFixDebugLog('`spotFixGetSelectedData` skip by `Several ranges provided`'); return null; }\r\n\r\n    const range = selection.getRangeAt(0);\r\n    // Selection must be within a single DOM element.\r\n    if (range.startContainer !== range.endContainer) { spotFixDebugLog('`spotFixGetSelectedData` skip by `Selection within several tags nodes`'); return null; }\r\n\r\n    // FIRST - check selection type\r\n    const selectionType = spotFixGetSelectionType(selection);\r\n\r\n    // Selection type not determined\r\n    if (!selectionType) { spotFixDebugLog('`spotFixGetSelectedData` skip by `Selection type not determined`'); return null; }\r\n\r\n    // SECOND - generate selectedData for each selectionType\r\n    let selectedText = '';\r\n    let startSelectPosition = 0;\r\n    let endSelectPosition = 0;\r\n    let nodePath = '';\r\n    let imageUrl = '';\r\n\r\n    const commonNode = range.commonAncestorContainer;\r\n\r\n    switch (selectionType) {\r\n        case SPOTFIX_SELECTION_TYPE_TEXT:\r\n            if (range.toString().trim().length === 0) {\r\n                spotFixDebugLog('`spotFixGetSelectedData` skip by `Selection text is empty`');\r\n                return null;\r\n            }\r\n            const commonNodeElement = commonNode.nodeType === Node.ELEMENT_NODE ? commonNode : commonNode.parentElement;\r\n            selectedText = range.toString();\r\n            startSelectPosition = range.startOffset;\r\n            endSelectPosition = range.endOffset;\r\n            if ( startSelectPosition === 0 && selectedText.length > endSelectPosition ) {\r\n                endSelectPosition = selectedText.length;\r\n            }\r\n            nodePath = spotFixCalculateNodePath(commonNodeElement);\r\n            break;\r\n\r\n        case SPOTFIX_SELECTION_TYPE_IMG:\r\n            const imgElement = range.startContainer;\r\n            const selectedImage = spotFixGetSelectedImage(selection);\r\n            selectedText = `Image (${selectedImage.alt ? selectedImage.alt : 'no description'})`;\r\n            nodePath = spotFixCalculateNodePath(selectedImage);\r\n            // For images, positions represent the image element position in parent\r\n            startSelectPosition = Array.from(imgElement.parentNode.children).indexOf(imgElement);\r\n            endSelectPosition = startSelectPosition + 1;\r\n            break;\r\n\r\n        case SPOTFIX_SELECTION_TYPE_ELEMENT:\r\n            const element = commonNode.nodeType === Node.ELEMENT_NODE ? commonNode : commonNode.parentElement;\r\n            if (element.childNodes.length <= 1) {\r\n                spotFixDebugLog('`spotFixGetSelectedData` skip by `Selection have not inner data`');\r\n                return null;\r\n            }\r\n            selectedText = element.textContent || '';\r\n            nodePath = spotFixCalculateNodePath(element);\r\n            // For elements, positions represent the element's position in parent\r\n            startSelectPosition = Array.from(element.parentNode.children).indexOf(element);\r\n            endSelectPosition = startSelectPosition + 1;\r\n            break;\r\n    }\r\n\r\n    // Get page URL\r\n    const pageURL = window.location.href;\r\n\r\n    return {\r\n        startSelectPosition,\r\n        endSelectPosition,\r\n        selectedText: selectedText.trim(),\r\n        pageURL,\r\n        nodePath,\r\n        selectionType,\r\n        imageUrl: selectionType === SPOTFIX_SELECTION_TYPE_IMG ? imageUrl : ''\r\n    };\r\n}\r\n\r\n/**\r\n * Highlight elements.\r\n * @param {[object]} spotsToBeHighlighted\r\n * @param widgetInstance\r\n */\r\nfunction spotFixHighlightElements(spotsToBeHighlighted, widgetInstance) {\r\n    const currentUserId = localStorage.getItem('spotfix_user_id');\r\n    const highlightStatuses = localStorage.getItem('spotfix_highlight_statuses');\r\n\r\n    if (currentUserId && highlightStatuses) {\r\n        const userHighlightStatuses = JSON.parse(highlightStatuses)[currentUserId];\r\n        if (userHighlightStatuses) {\r\n            spotsToBeHighlighted = spotsToBeHighlighted.filter((spot) => {\r\n                if(userHighlightStatuses[spot?.taskId] === undefined) return true;\r\n                return userHighlightStatuses[spot?.taskId];\r\n            })\r\n        }\r\n    }\r\n\r\n    if (spotsToBeHighlighted.length === 0) return;\r\n\r\n    const elementsMap = new Map();\r\n\r\n    // Grouping elements with validation\r\n    spotsToBeHighlighted.forEach(spot => {\r\n        // nodePath validating: is array\r\n        if (!spot?.nodePath || !Array.isArray(spot?.nodePath)) {\r\n            spotFixDebugLog('Invalid spot: missing or invalid nodePath: ' + spot);\r\n            return;\r\n        }\r\n\r\n        // nodePath validating: is valid indexes list\r\n        if (!this.spotFixIsValidNodePath(spot.nodePath)) {\r\n            spotFixDebugLog('Invalid nodePath format: ' + spot.nodePath);\r\n            return;\r\n        }\r\n\r\n        const element = spotFixRetrieveNodeFromPath(spot.nodePath);\r\n        if (!element) {\r\n            spotFixDebugLog('Element not found for path: ' + spot.nodePath);\r\n            return;\r\n        }\r\n\r\n        if ( ! spot.selectionType ) {\r\n            // @ToDo need to apply backward capability here\r\n            // just `spot.selectionType = 'text';` is not able, this opens ability to unauthorized modify website content\r\n            spotFixDebugLog('Selection type is not provided.');\r\n            return;\r\n        }\r\n\r\n        // selectionType parameter validating\r\n        if (\r\n            spot.selectionType &&\r\n            ![\r\n                SPOTFIX_SELECTION_TYPE_TEXT,\r\n                SPOTFIX_SELECTION_TYPE_IMG,\r\n                SPOTFIX_SELECTION_TYPE_ELEMENT\r\n            ].includes(spot.selectionType)\r\n        ) {\r\n            spotFixDebugLog('Invalid selection type: ' + spot.selectionType);\r\n            return;\r\n        }\r\n\r\n        if (!elementsMap.has(element)) {\r\n            elementsMap.set(element, []);\r\n        }\r\n        elementsMap.get(element).push(spot);\r\n    });\r\n\r\n    elementsMap.forEach((spots, element) => {\r\n        const selectionType = spots[0].selectionType;\r\n\r\n        // MAIN LOGIC: highlight for the different types\r\n        switch (selectionType) {\r\n            case 'image':\r\n                this.spotFixHighlightImageElement(element);\r\n                break;\r\n\r\n            case 'element':\r\n                this.spotFixHighlightNestedElement(element);\r\n                break;\r\n\r\n            case 'text':\r\n                this.spotFixHighlightTextInElement(element, spots, widgetInstance);\r\n                break;\r\n\r\n            default:\r\n                spotFixDebugLog('Unknown selection type: ' + selectionType);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Highlight image element by adding class\r\n * @param {Element} element\r\n */\r\nfunction spotFixHighlightImageElement(element) {\r\n    if (element.tagName !== 'IMG') {\r\n        spotFixDebugLog('Expected IMG element for image highlight, got: ' + element.tagName);\r\n        return;\r\n    }\r\n    element.classList.add('doboard_task_widget-image_selection');\r\n}\r\n\r\n/**\r\n * Highlight nested element by adding class\r\n * @param {Element} element\r\n */\r\nfunction spotFixHighlightNestedElement(element) {\r\n    element.classList.add('doboard_task_widget-element_selection');\r\n}\r\n\r\n/**\r\n * Highlight text in element with span wrapping\r\n * @param {Element} element\r\n * @param {Array} spots\r\n * @param widgetInstance\r\n */\r\nfunction spotFixHighlightTextInElement(element, spots,widgetInstance) {\r\n    let tooltipTitleText = '';\r\n    if (spots[0].isFixed) {\r\n        tooltipTitleText = `This issue already fixed.`;\r\n    } else {\r\n        tooltipTitleText = `We are already working on this issue.`;\r\n    }\r\n\r\n    const tooltip = `<div class=\"doboard_task_widget-text_selection_tooltip_element\">\r\n                            <span class=\"doboard_task_widget-text_selection_tooltip_icon\"></span>\r\n                            <span>\r\n                                <div>${tooltipTitleText}</div>\r\n                                <div>You can see history <span class=\"doboard_task_widget-see-task doboard_task_widget-see-task__task-id-${spots[0].taskId}\">Here</span></div>\r\n                            </span>\r\n                        </div>`;\r\n\r\n    const spotfixHighlightOpen = `<span class=\"doboard_task_widget-text_selection\"><span class=\"doboard_task_widget-text_selection_tooltip\">${tooltip}</span>`;\r\n    const spotfixHighlightClose = `</span>`;\r\n\r\n    let text = element.textContent;\r\n    const spotSelectedText = spots[0].selectedText;\r\n\r\n    // meta.selectedText can not be empty string\r\n    if ( ! spotSelectedText ) {\r\n        spotFixDebugLog('Provided metadata is invalid.');\r\n        return;\r\n    }\r\n\r\n    const markers = [];\r\n\r\n    // Mark positions for inserting\r\n    spots.forEach(spot => {\r\n        // Validating positions\r\n        const startPos = parseInt(spot.startSelectPosition) || 0;\r\n        const endPos = parseInt(spot.endSelectPosition) || 0;\r\n\r\n        if (startPos < 0 || endPos > text.length || startPos > endPos) {\r\n            spotFixDebugLog('Invalid text positions: ' + spot);\r\n            return;\r\n        }\r\n\r\n        markers.push({ position: startPos, type: 'start' });\r\n        markers.push({ position: endPos, type: 'end' });\r\n    });\r\n\r\n    if (markers.length === 0) return;\r\n\r\n    // Sort markers backward\r\n    markers.sort((a, b) => b.position - a.position);\r\n\r\n    // Check here that element (from meta.nodePath) contains same inner text as in meta.selectedText\r\n    // Is the `text` in the element equal to the selected text `spotSelectedText`\r\n    if ( text.slice(markers[1].position, markers[0].position) !== spotSelectedText ) {\r\n        spotFixDebugLog('It is not allow to highlight element by provided metadata.');\r\n        return;\r\n    }\r\n\r\n    let result = text;\r\n    markers.forEach(marker => {\r\n        const insertText = marker.type === 'start'\r\n            ? spotfixHighlightOpen\r\n            : spotfixHighlightClose;\r\n\r\n        result = result.slice(0, marker.position) + insertText + result.slice(marker.position);\r\n    });\r\n\r\n    // Safety HTML insert\r\n    try {\r\n        element.innerHTML = ksesFilter(result);\r\n        document.querySelectorAll('.doboard_task_widget-see-task').forEach(link => {\r\n            link.addEventListener('click', (e) => {\r\n\r\n                e.preventDefault();\r\n                const classList = link.className.split(' ');\r\n                const idClass = classList.find(cls => cls.includes('__task-id-'));\r\n                let taskId = null;\r\n                if (idClass) {\r\n                    taskId = idClass.split('__task-id-')[1];\r\n                }\r\n                if (taskId) {\r\n                    widgetInstance.currentActiveTaskId = taskId;\r\n                    widgetInstance.showOneTask();\r\n                }\r\n            });\r\n        });\r\n    } catch (error) {\r\n        spotFixDebugLog('Error updating element content: ' + error);\r\n    }\r\n}\r\n\r\n/**\r\n * Scroll to an element by tag, class, and text content\r\n * @param {array} path - The path to the element\r\n * @return {boolean} - True if the element was found and scrolled to, false otherwise\r\n */\r\nfunction spotFixScrollToNodePath(path) {\r\n    const node = spotFixRetrieveNodeFromPath(path);\r\n    if (node && node.scrollIntoView) {\r\n        node.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction spotFixRemoveHighlights() {\r\n    const textSelectionclassName = 'doboard_task_widget-text_selection';\r\n    const spans = document.querySelectorAll('.' + textSelectionclassName);\r\n    const affectedParents = new Set(); // Track unique parents\r\n\r\n    spans.forEach(span => {\r\n        const parent = span.parentNode;\r\n        affectedParents.add(parent); // Mark parent as affected\r\n        const tooltip = span.querySelector('.doboard_task_widget-text_selection_tooltip');\r\n        if (tooltip) tooltip.remove();\r\n\r\n        // Move all child nodes out of the span and into the parent\r\n        while (span.firstChild) {\r\n            parent.insertBefore(span.firstChild, span);\r\n        }\r\n        parent.removeChild(span);\r\n    });\r\n\r\n    // Normalize all affected parents to merge adjacent text nodes\r\n    affectedParents.forEach(parent => parent.normalize());\r\n\r\n    const elementSelectionClassName = 'doboard_task_widget-element_selection';\r\n    const elements = document.querySelectorAll(`.${elementSelectionClassName}`);\r\n    elements.forEach(element => {\r\n        element.classList.remove(elementSelectionClassName);\r\n    });\r\n    const imageSelectionClassName = 'doboard_task_widget-image_selection';\r\n    const images = document.querySelectorAll(`.${imageSelectionClassName}`);\r\n    images.forEach(element => {\r\n        element.classList.remove(imageSelectionClassName);\r\n    });\r\n}\r\n\r\n/**\r\n * Validate nodePath as array of indices\r\n * @param {Array} nodePath\r\n * @returns {boolean}\r\n */\r\nfunction spotFixIsValidNodePath(nodePath) {\r\n    if (!Array.isArray(nodePath)) return false;\r\n    if (nodePath.length === 0) return false;\r\n\r\n    return nodePath.every(index => {\r\n        return Number.isInteger(index) && index >= 0 && index < 1000;\r\n    });\r\n}\r\n\r\n/**\r\n * Try to find selected image in selection.\r\n * @param selection\r\n * @returns {Node|*|null}\r\n */\r\nfunction spotFixGetSelectedImage(selection) {\r\n\r\n    if (!selection || selection.rangeCount === 0 || selection.isCollapsed) {\r\n        return null;\r\n    }\r\n\r\n    const range = selection.getRangeAt(0);\r\n\r\n    // Is current end container IMG\r\n    if (range.startContainer === range.endContainer &&\r\n        range.startContainer.nodeType === Node.ELEMENT_NODE &&\r\n        range.startContainer.tagName === 'IMG') {\r\n        return range.startContainer;\r\n    }\r\n\r\n    // Get img in the range\r\n    const walker = document.createTreeWalker(\r\n        range.commonAncestorContainer,\r\n        NodeFilter.SHOW_ELEMENT,\r\n        {\r\n            acceptNode: function(node) {\r\n                return node.tagName === 'IMG' &&\r\n                spotFixIsElementInRange(node, range) ?\r\n                    NodeFilter.FILTER_ACCEPT :\r\n                    NodeFilter.FILTER_REJECT;\r\n            }\r\n        }\r\n    );\r\n\r\n    let imgNode = walker.nextNode();\r\n    if (imgNode) {\r\n        return imgNode;\r\n    }\r\n\r\n    // start/end containers\r\n    const startElement = spotFixGetElementFromNode(range.startContainer);\r\n    const endElement = spotFixGetElementFromNode(range.endContainer);\r\n\r\n    // If selection starts on image\r\n    if (startElement && startElement.tagName === 'IMG' &&\r\n        spotFixIsElementPartiallySelected(startElement, range)) {\r\n        return startElement;\r\n    }\r\n\r\n    if (endElement && endElement.tagName === 'IMG' &&\r\n        spotFixIsElementPartiallySelected(endElement, range)) {\r\n        return endElement;\r\n    }\r\n\r\n    // 4. Get closest IMG\r\n    const nearbyElements = spotFixFindNearbyElements(range);\r\n    for (const element of nearbyElements) {\r\n        if (element.tagName === 'IMG') {\r\n            return element;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction spotFixIsElementInRange(element, range) {\r\n    const elementRange = document.createRange();\r\n    elementRange.selectNode(element);\r\n    return range.compareBoundaryPoints(Range.START_TO_START, elementRange) <= 0 &&\r\n        range.compareBoundaryPoints(Range.END_TO_END, elementRange) >= 0;\r\n}\r\n\r\nfunction spotFixIsElementPartiallySelected(element, range) {\r\n    const elementRect = element.getBoundingClientRect();\r\n    const rangeRect = range.getBoundingClientRect();\r\n\r\n    //  bounding rectangles is crossed\r\n    return !(elementRect.right < rangeRect.left ||\r\n        elementRect.left > rangeRect.right ||\r\n        elementRect.bottom < rangeRect.top ||\r\n        elementRect.top > rangeRect.bottom);\r\n}\r\n\r\nfunction spotFixGetElementFromNode(node) {\r\n    return node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\r\n}\r\n\r\n/**\r\n * Find nearby elements in the range.\r\n * @param range\r\n * @returns {*[]}\r\n */\r\nfunction spotFixFindNearbyElements(range) {\r\n    const elements = [];\r\n    const container = range.commonAncestorContainer;\r\n\r\n    // search elements\r\n    const previousElement = container.previousElementSibling;\r\n    const nextElement = container.nextElementSibling;\r\n\r\n    if (previousElement) {\r\n        elements.push(previousElement);\r\n    }\r\n    if (nextElement) {\r\n        elements.push(nextElement);\r\n    }\r\n\r\n    // Also check child container\r\n    if (container.nodeType === Node.ELEMENT_NODE) {\r\n        const children = container.children;\r\n        for (let i = 0; i < children.length; i++) {\r\n            if (spotFixIsElementPartiallySelected(children[i], range)) {\r\n                elements.push(children[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    return elements;\r\n}\r\n\r\n/**\r\n * Calculate the path of a DOM node\r\n *\r\n * @param {Node} node\r\n * @return {int[]}\r\n */\r\nfunction spotFixCalculateNodePath(node) {\r\n    let path = [];\r\n    while (node) {\r\n        let index = 0;\r\n        let sibling = node.previousSibling;\r\n        while (sibling) {\r\n            if (sibling.nodeType === 1) {\r\n                index++;\r\n            }\r\n            sibling = sibling.previousSibling;\r\n        }\r\n        path.unshift(index);\r\n        node = node.parentNode;\r\n    }\r\n\r\n    // Hard fix - need to remove first element to work correctly\r\n    path.shift();\r\n\r\n    return path;\r\n}\r\n\r\n/**\r\n * Retrieve a DOM node from a path\r\n *\r\n * @param {int[]} path\r\n * @return {*|null}\r\n */\r\nfunction spotFixRetrieveNodeFromPath(path) {\r\n    // @ToDo check if the path is correct\r\n    if ( ! path ) {\r\n        return null;\r\n    }\r\n\r\n    let node = document;\r\n    for (let i = 0; i < path.length; i++) {\r\n        node = node.children[path[i]];\r\n        if ( ! node ) {\r\n            return null;\r\n        }\r\n    }\r\n    return node;\r\n}\r\n\n/**\r\n * Return bool if widget is closed in local storage\r\n * @returns {boolean}\r\n */\r\nfunction storageGetWidgetIsClosed() {\r\n    return localStorage.getItem('spotfix_widget_is_closed') === '1';\r\n}\r\n\r\n/**\r\n * Return bool if widget closed state is defined in local storage\r\n * @returns {boolean}\r\n */\r\nfunction storageWidgetCloseIsSet() {\r\n    return localStorage.getItem('spotfix_widget_is_closed') !== null;\r\n}\r\n\r\n/**\r\n * Save widget closed state\r\n * @param visible\r\n */\r\nfunction storageSetWidgetIsClosed(visible) {\r\n    localStorage.setItem('spotfix_widget_is_closed', visible ? '1' : '0');\r\n    if(visible) {\r\n        wsSpotfix.close();\r\n    } else {\r\n        wsSpotfix.connect();\r\n        wsSpotfix.subscribe();\r\n    }\r\n}\r\n\r\n/**\r\n * Return bool if user is defined in local storage\r\n * @returns {boolean}\r\n */\r\nfunction storageGetUserIsDefined() {\r\n    return localStorage.getItem('spotfix_user_id') !== null;\r\n}\r\n\r\n/**\r\n * Save data for updates check\r\n * @param tasks\r\n */\r\nfunction storageSaveTasksUpdateData(tasks) {\r\n    if (!tasks || !Array.isArray(tasks)) {\r\n        return;\r\n    }\r\n\r\n    let storedTasks = {};\r\n    try {\r\n        storedTasks = JSON.parse(localStorage.getItem('spotfix_task_updates') || '{}');\r\n    } catch (error) {\r\n        storedTasks = {};\r\n    }\r\n\r\n    tasks.forEach(task => {\r\n        if (task.taskId && task.taskLastUpdate) {\r\n            storedTasks[task.taskId] = {\r\n                taskId: task.taskId,\r\n                taskLastUpdate: task.taskLastUpdate\r\n            };\r\n        }\r\n    });\r\n\r\n    localStorage.setItem('spotfix_task_updates', JSON.stringify(storedTasks));\r\n}\r\n\r\nfunction storageSaveTasksCount(tasks) {\r\n    if (!tasks || !Array.isArray(tasks)) {\r\n        return;\r\n    }\r\n\r\n    const count = tasks.filter(task => {\r\n        return task.taskMeta;\r\n    })?.length;\r\n\r\n    localStorage.setItem('spotfix_tasks_count', `${count}`);\r\n}\r\n\r\n/**\r\n * Check if a specific task has been updated since last check\r\n * @param taskId\r\n * @param currentLastUpdate\r\n * @returns {boolean|null}\r\n */\r\nfunction storageCheckTaskUpdate(taskId, currentLastUpdate) {\r\n    if (!taskId || !currentLastUpdate) {\r\n        return null;\r\n    }\r\n\r\n    let storedTasks = {};\r\n    try {\r\n        storedTasks = JSON.parse(localStorage.getItem('spotfix_task_updates') || '{}');\r\n    } catch (error) {\r\n        storedTasks = {};\r\n    }\r\n    const storedTask = storedTasks[taskId];\r\n\r\n    if (!storedTask) {\r\n        return false;\r\n    }\r\n\r\n    const storedUpdate = new Date(storedTask.taskLastUpdate);\r\n    const currentUpdate = new Date(currentLastUpdate);\r\n    return currentUpdate > storedUpdate;\r\n}\r\n\r\n/**\r\n * Add unread update for a specific task\r\n * @param taskId\r\n */\r\nfunction storageAddUnreadUpdateForTaskID(taskId) {\r\n    if (!taskId) {\r\n        return;\r\n    }\r\n\r\n    let storedUnread = [];\r\n    try {\r\n        storedUnread = JSON.parse(localStorage.getItem('spotfix_unread_updates') || '[]');\r\n    } catch (error) {\r\n        storedUnread = [];\r\n    }\r\n\r\n    if (!storedUnread.includes(taskId)) {\r\n        storedUnread.push(taskId);\r\n    }\r\n\r\n    localStorage.setItem('spotfix_unread_updates', JSON.stringify(storedUnread));\r\n}\r\n\r\n/**\r\n * Remove unread update for a specific task\r\n * @param taskId\r\n */\r\nfunction storageRemoveUnreadUpdateForTaskID(taskId) {\r\n    if (!taskId) {\r\n        return;\r\n    }\r\n\r\n    let storedUnread = [];\r\n    try {\r\n        storedUnread = JSON.parse(localStorage.getItem('spotfix_unread_updates') || '[]');\r\n    } catch (error) {\r\n        storedUnread = [];\r\n    }\r\n    storedUnread = storedUnread.filter(id => id !== taskId);\r\n    localStorage.setItem('spotfix_unread_updates', JSON.stringify(storedUnread));\r\n}\r\n\r\n/**\r\n * Check if there are any unread updates\r\n * @returns {boolean}\r\n */\r\nfunction storageTasksHasUnreadUpdates() {\r\n    let storedUnread = [];\r\n    try {\r\n        storedUnread = JSON.parse(localStorage.getItem('spotfix_unread_updates') || '[]');\r\n    } catch (error) {\r\n        storedUnread = [];\r\n    }\r\n\r\n    return storedUnread.length > 0;\r\n}\r\n\r\n/**\r\n *  Check if a specific task has unread updates\r\n * @param taskId\r\n * @returns {boolean}\r\n */\r\nfunction storageProvidedTaskHasUnreadUpdates(taskId) {\r\n    if (!taskId) {\r\n        return false;\r\n    }\r\n\r\n    let storedUnread = [];\r\n    try {\r\n        storedUnread = JSON.parse(localStorage.getItem('spotfix_unread_updates') || '[]');\r\n    } catch (error) {\r\n        storedUnread = [];\r\n    }\r\n\r\n    return storedUnread.includes(taskId.toString());\r\n}\r\n\r\nfunction storageSaveSpotfixVersion (version) {\r\n    if(version) {\r\n        localStorage.setItem('spotfix_app_version', `${version}`);\r\n    } else {\r\n        localStorage.setItem('spotfix_app_version', '');\r\n    }\r\n}\r\n\r\nfunction clearLocalstorageOnLogout () {\r\n    localStorage.removeItem('spotfix_email');\r\n    localStorage.removeItem('spotfix_session_id');\r\n    localStorage.removeItem('spotfix_user_id');\r\n    localStorage.removeItem('spotfix_accounts');\r\n    localStorage.setItem('spotfix_widget_is_closed', '1');\r\n    wsSpotfix.close();\r\n}\r\n\n/**\r\n * File uploader handler for managing file attachments with validation and upload capabilities\r\n */\r\nclass FileUploader {\r\n    /**\r\n     * Create a new FileUploader instance\r\n     * @param {function} escapeHtmlHandler - Function to escape HTML strings for security\r\n     */\r\n    constructor(escapeHtmlHandler) {\r\n        /** @type {Array<{id: string, file: File}>} */\r\n        this.files = [];\r\n\r\n        /** @type {number} Maximum allowed file size in bytes */\r\n        this.maxFileSize = 5 * 1024 * 1024; // 5MB\r\n\r\n        /** @type {number} Maximum total size for all files in bytes */\r\n        this.maxTotalSize = 25 * 1024 * 1024; // 25MB\r\n\r\n        /** @type {number} Maximum number of files allowed */\r\n        this.maxFiles = 5;\r\n\r\n        /** @type {string[]} Allowed MIME types for files */\r\n        this.allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'application/pdf', 'text/plain', 'application/msword'];\r\n\r\n        /** @type {function} HTML escaping function for XSS protection */\r\n        this.escapeHtmlHandler = escapeHtmlHandler;\r\n\r\n        /** @type {string[]} File size units for display */\r\n        this.SIZE_UNITS = ['Bytes', 'KB', 'MB', 'GB'];\r\n    }\r\n\r\n    /**\r\n     * Initialize elements and bindings. Should be called only for comments.\r\n     * @returns {void}\r\n     */\r\n    init() {\r\n        this.initializeElements();\r\n        this.bindFilesInputChange();\r\n    }\r\n\r\n    /**\r\n     * Define widget elements to work with uploader.\r\n     * @returns {void}\r\n     */\r\n    initializeElements() {\r\n        /** @type {HTMLInputElement|null} */\r\n        this.fileInput = document.getElementById('doboard_task_widget__file-upload__file-input-button');\r\n\r\n        /** @type {HTMLElement|null} */\r\n        this.fileList = document.getElementById('doboard_task_widget__file-upload__file-list');\r\n\r\n        this.uploaderWrapper = document.getElementById('doboard_task_widget__file-upload__wrapper');\r\n\r\n        /** @type {HTMLElement|null} */\r\n        this.errorMessage = document.getElementById('doboard_task_widget__file-upload__error');\r\n\r\n        if (!this.fileInput || !this.fileList || !this.errorMessage || this.uploaderWrapper) {\r\n            console.warn('File uploader elements not found');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Define hidden file input change to run uploader logic.\r\n     * @returns {void}\r\n     */\r\n    bindFilesInputChange() {\r\n        if (this.fileInput) {\r\n            this.fileInput.addEventListener('change', (e) => this.handleFileInputChange(e));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Bind action to paperclip button.\r\n     * @param {HTMLElement} element - The paperclip button element\r\n     * @returns {void}\r\n     */\r\n    bindPaperClipAction(element) {\r\n        element.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            if (this.fileInput) {\r\n                this.fileInput.click();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle file input change event\r\n     * @param {Event} event - File input change event\r\n     * @returns {void}\r\n     */\r\n    handleFileInputChange(event) {\r\n        this.clearError();\r\n\r\n        const selectedFiles = Array.from(event.target.files);\r\n        if (this.files.length + selectedFiles.length > this.maxFiles) {\r\n            this.showError(`Maximum ${this.maxFiles} files can be attached.`);\r\n            return;\r\n        }\r\n        const validFiles = selectedFiles.filter(file => this.validateFile(file));\r\n\r\n        validFiles.forEach(file => this.addFile(file));\r\n\r\n        // Reset input to allow selecting same files again\r\n        event.target.value = '';\r\n\r\n        // show wrapper\r\n        this.uploaderWrapper.style.display = 'block';\r\n    }\r\n\r\n    /**\r\n     * Validate a file against upload constraints\r\n     * @param {File} file - File to validate\r\n     * @returns {boolean} True if file is valid, false otherwise\r\n     */\r\n    validateFile(file) {\r\n        // Check file size\r\n        if (file.size > this.maxFileSize) {\r\n            this.showError(`File \"${file.name}\" is too large. Maximum size: ${this.formatFileSize(this.maxFileSize)}`);\r\n            return false;\r\n        }\r\n\r\n        // Check total size\r\n        const totalSize = this.getTotalSize() + file.size;\r\n        if (totalSize > this.maxTotalSize) {\r\n            this.showError(`Total files size exceeded. Maximum: ${this.formatFileSize(this.maxTotalSize)}`);\r\n            return false;\r\n        }\r\n\r\n        // Check file type\r\n        if (this.allowedTypes.length > 0 && !this.allowedTypes.includes(file.type)) {\r\n            this.showError(`File type \"${file.type}\" for \"${file.name}\" is not supported.`);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Calculate total size of all files\r\n     * @returns {number} Total size in bytes\r\n     */\r\n    getTotalSize() {\r\n        return this.files.reduce((sum, fileData) => sum + fileData.file.size, 0);\r\n    }\r\n\r\n    /**\r\n     * Add a file to the upload queue\r\n     * @param {File} file - File to add\r\n     * @returns {void}\r\n     */\r\n    addFile(file) {\r\n        const fileWithId = {\r\n            id: this.generateFileId(),\r\n            file: file\r\n        };\r\n\r\n        this.files.push(fileWithId);\r\n        this.renderFileList();\r\n    }\r\n\r\n    /**\r\n     * Generate a unique file ID\r\n     * @returns {string} Unique file identifier\r\n     * @private\r\n     */\r\n    generateFileId() {\r\n        return Date.now() + Math.random().toString(36).substr(2, 9);\r\n    }\r\n\r\n    /**\r\n     * Remove a file from the upload queue\r\n     * @param {string} fileId - ID of the file to remove\r\n     * @returns {void}\r\n     */\r\n    removeFile(fileId) {\r\n        this.files = this.files.filter(f => f.id !== fileId);\r\n        this.renderFileList();\r\n        this.clearError();\r\n    }\r\n\r\n    /**\r\n     * Render the file list in the UI\r\n     * @returns {void}\r\n     */\r\n    renderFileList() {\r\n        if (!this.fileList) return;\r\n\r\n        if (this.files.length === 0) {\r\n            this.fileList.innerHTML = ksesFilter('<div style=\"text-align: center; color: #444c529e;\">No files attached</div>');\r\n            return;\r\n        }\r\n\r\n        const fileItems = this.files.map(fileData => this.createFileItem(fileData));\r\n        this.fileList.innerHTML = ksesFilter('');\r\n        fileItems.forEach(item => this.fileList.appendChild(item));\r\n    }\r\n\r\n    /**\r\n     * Create file item element for display\r\n     * @param {object} fileData - File data object\r\n     * @param {string} fileData.id - File identifier\r\n     * @param {File} fileData.file - File object\r\n     * @returns {HTMLDivElement} File item DOM element\r\n     */\r\n    createFileItem(fileData) {\r\n        const { file, id } = fileData;\r\n        const fileItem = document.createElement('div');\r\n        fileItem.className = 'doboard_task_widget__file-upload__file-item';\r\n\r\n        fileItem.innerHTML = ksesFilter(`\r\n            <div class=\"doboard_task_widget__file-upload__file-item-content\">\r\n                <div class=\"doboard_task_widget__file-upload__file_info\">\r\n                    <div class=\"doboard_task_widget__file-upload__file-name\">${this.escapeHtmlHandler(String(file.name))}</div>\r\n                    <div class=\"doboard_task_widget__file-upload__file_size\">${this.formatFileSize(file.size)}</div>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" class=\"doboard_task_widget__file-upload__remove-btn\" data-file-id=\"${id}\" aria-label=\"Remove file\"></button>\r\n        `);\r\n\r\n        const removeBtn = fileItem.querySelector('.doboard_task_widget__file-upload__remove-btn');\r\n        removeBtn.addEventListener('click', () => this.removeFile(id));\r\n\r\n        return fileItem;\r\n    }\r\n\r\n    /**\r\n     * Format file size for display\r\n     * @param {number} bytes - File size in bytes\r\n     * @returns {string} Formatted file size string\r\n     */\r\n    formatFileSize(bytes) {\r\n        if (bytes === 0) return '0 Bytes';\r\n\r\n        const k = 1024;\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + this.SIZE_UNITS[i];\r\n    }\r\n\r\n    /**\r\n     * Show uploader error message\r\n     * @param {string} message - Error message to display\r\n     * @returns {void}\r\n     */\r\n    showError(message) {\r\n        if (this.errorMessage) {\r\n            this.errorMessage.textContent = message;\r\n            this.errorMessage.style.display = 'block';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear uploader error message\r\n     * @returns {void}\r\n     */\r\n    clearError() {\r\n        if (this.errorMessage) {\r\n            this.errorMessage.textContent = '';\r\n            this.errorMessage.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if there are files to send\r\n     * @returns {boolean} True if files are present, false otherwise\r\n     */\r\n    hasFiles() {\r\n        return this.files.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Clear all files from upload queue\r\n     * @returns {void}\r\n     */\r\n    clearFiles() {\r\n        this.files = [];\r\n        this.renderFileList();\r\n    }\r\n\r\n    /**\r\n     * Validate file data structure before upload\r\n     * @param {object} fileData - File data object to validate\r\n     * @param {string} fileData.sessionId - Session identifier\r\n     * @param {object} fileData.params - Additional parameters\r\n     * @param {string} fileData.params.accountId - Account identifier\r\n     * @param {string} fileData.params.projectToken - Project token\r\n     * @param {string} fileData.commentId - Comment identifier\r\n     * @param {string} fileData.fileName - File name\r\n     * @param {File} fileData.fileBinary - File binary data\r\n     * @returns {object} Validated file data\r\n     * @throws {Error} When file data validation fails\r\n     */\r\n    validateFileData(fileData) {\r\n        const validations = [\r\n            { field: 'sessionId', type: 'string', message: 'No valid session found.' },\r\n            { field: 'params.accountId', type: 'string', message: 'No valid account ID found.' },\r\n            { field: 'params.projectToken', type: 'string', message: 'No valid project token found.' },\r\n            { field: 'commentId', type: 'string', message: 'No valid commentId found.' },\r\n            { field: 'fileName', type: 'string', message: 'No valid filename found.' }\r\n        ];\r\n\r\n        for (const validation of validations) {\r\n            const value = this.getNestedValue(fileData, validation.field);\r\n            if (!value || typeof value !== validation.type) {\r\n                throw new Error(validation.message);\r\n            }\r\n        }\r\n\r\n        if (!fileData.fileBinary || !(fileData.fileBinary instanceof File)) {\r\n            throw new Error('No valid file object found.');\r\n        }\r\n\r\n        return fileData;\r\n    }\r\n\r\n    /**\r\n     * Helper to get nested object values\r\n     * @param {object} obj - Object to traverse\r\n     * @param {string} path - Dot notation path to value\r\n     * @returns {*} Value at the specified path\r\n     * @private\r\n     */\r\n    getNestedValue(obj, path) {\r\n        return path.split('.').reduce((current, key) => current?.[key], obj);\r\n    }\r\n\r\n    /**\r\n     * Send single file attachment\r\n     * @param {object} fileData - File data for upload\r\n     * @returns {Promise<object>} Upload response\r\n     */\r\n    async sendSingleAttachment(fileData) {\r\n        const validatedFileData = await this.validateFileData(fileData);\r\n        return await attachmentAddDoboard(validatedFileData);\r\n    }\r\n\r\n    /**\r\n     * Send all attachments for a comment\r\n     * @param {object} params - Upload parameters\r\n     * @param {string} sessionId - Session identifier\r\n     * @param {string} commentId - Comment identifier\r\n     * @returns {Promise<object>} Upload results\r\n     */\r\n    async sendAttachmentsForComment(params, sessionId, commentId) {\r\n        /** @type {object} */\r\n        const results = {\r\n            preparedFilesCount: this.files.length,\r\n            sentFilesCount: 0,\r\n            fileResults: [],\r\n            success: true\r\n        };\r\n\r\n        for (let i = 0; i < this.files.length; i++) {\r\n            const fileData = this.files[i];\r\n            /** @type {object} */\r\n            const result = {\r\n                success: false,\r\n                response: null,\r\n                error: null\r\n            };\r\n\r\n            try {\r\n                const attachmentData = {\r\n                    params,\r\n                    sessionId,\r\n                    commentId,\r\n                    fileName: fileData.file.name,\r\n                    fileBinary: fileData.file,\r\n                    attachmentOrder: i\r\n                };\r\n\r\n                const response = await this.sendSingleAttachment(attachmentData);\r\n                result.response = response;\r\n                result.success = response.status === 200;\r\n\r\n                if (result.success) {\r\n                    results.sentFilesCount++;\r\n                }\r\n            } catch (error) {\r\n                result.error = error.message;\r\n            }\r\n\r\n            results.fileResults.push(result);\r\n        }\r\n\r\n        results.success = results.preparedFilesCount === results.sentFilesCount;\r\n        this.clearFiles();\r\n\r\n        return results;\r\n    }\r\n\r\n     /**\r\n     * Make a screenshot and add it as a file\r\n     * @returns {Promise<void>}\r\n     */\r\n    async makeScreenshot() {\r\n        if (typeof html2canvas === 'undefined') {\r\n            console.error(\"SpotFix Error: in Screenshot Library\");\r\n            return null;\r\n        }\r\n        try {\r\n            const canvas = await html2canvas(document.body, {\r\n                useCORS: true,\r\n                allowTaint: true,\r\n                logging: false,\r\n                scale: window.devicePixelRatio || 1\r\n            });\r\n\r\n            const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));\r\n            if (!blob) return null;\r\n\r\n            const now = new Date();\r\n            const hours = String(now.getHours()).padStart(2, '0');\r\n            const minutes = String(now.getMinutes()).padStart(2, '0');\r\n            const day = String(now.getDate()).padStart(2, '0');\r\n            const month = String(now.getMonth() + 1).padStart(2, '0');\r\n            const year = now.getFullYear();\r\n\r\n            const fileName = `Screenshot_${hours}-${minutes}_${day}_${month}_${year}.png`;\r\n            const file = new File([blob], fileName, {\r\n                type: 'image/png',\r\n                lastModified: Date.now()\r\n            });\r\n\r\n            if (this.uploaderWrapper && this.uploaderWrapper.style.display !== 'block') {\r\n                this.uploaderWrapper.style.display = 'block';\r\n            }\r\n\r\n            this.clearError();\r\n            this.addFile(file);\r\n\r\n        } catch (err) {\r\n            console.error(\"SpotFix Error: creating screenshot:\", err);\r\n            return null;\r\n        }\r\n    }\r\n}\nclass SpotFixTemplatesLoader {\r\n    static getTemplateCode(templateName) {\r\n        const templateMethod = this[templateName];\r\n\r\n        if (typeof templateMethod !== 'function') {\r\n            throw new Error(`Template method '${templateName}' not found`);\r\n        }\r\n\r\n        let template = templateMethod.call(this).trim();\r\n\r\n        return template;\r\n    }\r\n\r\n    static all_issues() {\r\n        return `\r\n<div class=\"doboard_task_widget-container\">\r\n    <div class=\"doboard_task_widget-header\">\r\n        <div style=\"display: flex;align-items: center;gap: 8px;\">\r\n            <img src=\"{{logoDoBoardGreen}}\"  alt=\"\">\r\n            <span title=\"Number of spots on the page and total\">All spots </span>\r\n        </div>\r\n        <div class=\"doboard_task_widget-header-icons\">\r\n            <span id=\"addNewTaskButton\">\r\n                <img src=\"{{iconPlus}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <span id=\"maximizeWidgetContainer\">\r\n                <img src=\"{{iconMaximize}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <span id=\"openUserMenuButton\">\r\n                <img src=\"{{iconEllipsesMore}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <img src=\"{{buttonCloseScreen}}\"  alt=\"\" class=\"doboard_task_widget-close_btn doboard_task_widget_cursor-pointer\">\r\n        </div>\r\n    </div>\r\n    <div class=\"doboard_task_widget-content doboard_task_widget-all_issues\">\r\n        <div class=\"doboard_task_widget-spinner_wrapper_for_containers\">\r\n            <div class=\"doboard_task_widget-spinner_for_containers\"></div>\r\n        </div>\r\n        <div class=\"doboard_task_widget-all_issues-container\" style=\"margin-top: 0px\">\r\n        </div>\r\n        <div class=\"doboard_task_widget_tasks_list\">\r\n            <span>doBoard / SpotFix</span>\r\n        </div>\r\n    </div>\r\n</div>`;\r\n    }\r\n\r\n    static concrete_issue() {\r\n        return `\r\n<div id=\"doboard_task_widget_concrete-container\" class=\"{{contenerClasess}}\">\r\n    <div class=\"doboard_task_widget-header\" style=\"height: 42px; padding-top: 10px; align-items: flex-start\">\r\n        <div class=\"doboard_task_widget_return_to_all doboard_task_widget_cursor-pointer\">\r\n            <img src=\"{{chevronBack}}\" alt=\"\" title=\"Return to all spots list\">\r\n            <span title=\"Return to all spots list\"> All {{issuesCounter}}</span>\r\n        </div>\r\n        <div class=\"doboard_task_widget-issue-title\">\r\n            <span class=\"doboard_task_widget-issue-title\" style=\"text-align: center\">{{issueTitle}}</span>\r\n            <span>{{amountOfComments}}</span>\r\n        </div>\r\n        <div class=\"doboard_task_widget-header-icons\">\r\n            <span id=\"maximizeWidgetContainer\">\r\n                <img src=\"{{iconMaximize}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <span id=\"openSpotMenuButton\">\r\n                <img src=\"{{iconEllipsesMore}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <img src=\"{{buttonCloseScreen}}\"  alt=\"\" class=\"doboard_task_widget-close_btn doboard_task_widget_cursor-pointer\">\r\n        </div>\r\n    </div>\r\n    <div class=\"doboard_task_widget-content doboard_task_widget-concrete_issue\">\r\n        <div id=\"spotfix_doboard_task_widget_url\" class=\"spotfix_doboard_task_widget_url\">\r\n                <a rel=\"nofollow\" style=\"word-break: break-all\" href=\"{{taskPageUrl}}\">{{taskFormattedPageUrl}}</a>\r\n        </div>\r\n        <div class=\"doboard_task_widget-spinner_wrapper_for_containers\">\r\n            <div class=\"doboard_task_widget-spinner_for_containers\"></div>\r\n        </div>\r\n        <div class=\"doboard_task_widget-concrete_issues-container\">\r\n        </div>\r\n        <div class=\"doboard_task_widget-send_message doboard_task_widget-spotfix-editor\">\r\n             <textarea name=\"doboard_task_widget_message\" id=\"doboard_task_widget-send_message_input_SpotFix\" class=\"doboard_task_widget-send_message_input\" placeholder=\"Write a message...\"></textarea>\r\n            </div>\r\n            <div class=\"doboard_task_widget__file-upload__wrapper\" id=\"doboard_task_widget__file-upload__wrapper\">\r\n                <div class=\"doboard_task_widget__file-upload__list-header\">Attached files</div>\r\n                <div class=\"doboard_task_widget__file-upload__file-list\" id=\"doboard_task_widget__file-upload__file-list\"></div>\r\n                <div class=\"doboard_task_widget__file-upload__error\" id=\"doboard_task_widget__file-upload__error\"></div>\r\n                <input type=\"file\" class=\"doboard_task_widget__file-upload__file-input-button\" id=\"doboard_task_widget__file-upload__file-input-button\" multiple accept=\"*/*\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n    }\r\n\r\n    static concrete_issue_day_content() {\r\n        return `\r\n<div class=\"doboard_task_widget-concrete_issue-day_content\">\r\n    <div class=\"doboard_task_widget-concrete_issue_day_content-month_day\">{{dayContentMonthDay}}</div>\r\n    <div class=\"doboard_task_widget-concrete_issue_day_content-messages_wrapper\">{{dayContentMessages}}</div>\r\n    {{statusFixedHtml}}\r\n</div>\r\n`;\r\n    }\r\n\r\n    static concrete_issue_messages() {\r\n        return `\r\n<div class=\"doboard_task_widget-comment_data_wrapper doboard_task_widget-comment_data_{{issueMessageClassOwner}}\">\r\n    <div class=\"{{avatarCSSClass}}\" style=\"{{avatarStyle}}\">\r\n        <span class=\"doboard_task_widget-avatar-initials {{initialsClass}}\">{{taskAuthorInitials}}</span>\r\n    </div>\r\n    <div class=\"doboard_task_widget-comment_text_container\">\r\n        <div class=\"doboard_task_widget-comment_body\">{{commentBody}}</div>\r\n        <div class=\"doboard_task_widget-comment_time\">{{commentTime}}</div>\r\n    </div>\r\n</div>\r\n`;\r\n    }\r\n\r\n    static create_issue() {\r\n        return `\r\n<div class=\"doboard_task_widget-container\">\r\n    <div class=\"doboard_task_widget-header\">\r\n        <div style=\"display: flex;align-items: center;gap: 8px;\">\r\n            <img src=\"{{logoDoBoardGreen}}\"  alt=\"\">\r\n            <span>Report an issue</span>\r\n        </div>\r\n        <div class=\"doboard_task_widget-header-icons\">\r\n            <span id=\"maximizeWidgetContainer\">\r\n                <img src=\"{{iconMaximize}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <span id=\"openUserMenuButton\">\r\n                 <img src=\"{{iconEllipsesMore}}\"  alt=\"\" class=\"doboard_task_widget_cursor-pointer\">\r\n            </span>\r\n            <img src=\"{{buttonCloseScreen}}\"  alt=\"\" class=\"doboard_task_widget-close_btn doboard_task_widget_cursor-pointer\">\r\n        </div>\r\n    </div>\r\n    <div class=\"doboard_task_widget-content doboard_task_widget-create_issue\" style=\"display: flex; flex-direction: column\">\r\n\r\n        <div class=\"doboard_task_widget-element-container\">\r\n            <span>\r\n                Tell us about any issue youre experiencing on <span style=\"text-decoration: underline\">{{currentDomain}}</span>. \r\n                Youre also welcome to review spelling, grammar, or ask a question related to this page.\r\n            </span>\r\n        </div>\r\n\r\n        <div class=\"doboard_task_widget-input-container\">\r\n            <input id=\"doboard_task_widget-title\" class=\"doboard_task_widget-field\" name=\"title\" value=\"{{selectedText}}\" required>\r\n            <label class=\"spotfix_placeholder_title\" for=\"doboard_task_widget-title\">Report about</label>\r\n        </div>\r\n\r\n        <div class=\"doboard_task_widget-input-container doboard_task_widget-input-container-textarea\" style=\"flex-grow: 1; min-height: 200px\">\r\n            <textarea id=\"doboard_task_widget-description\" class=\"doboard_task_widget-field\" name=\"description\" placeholder=\" \" required></textarea>\r\n            <label for=\"doboard_task_widget-description\" class=\"doboard_task_widget-field-textarea-label\" >Description</label>\r\n        </div>\r\n\r\n        <div class=\"doboard_task_widget-login\" style=\"margin-top: 12px; margin-bottom: 4px\">\r\n\r\n            <span  class=\"doboard_task_widget-login-icon\" >Sign up here to receive notifications.</span>\r\n\r\n            <div class=\"doboard_task_widget-accordion\">\r\n            \r\n                   <div class=\"doboard_task_widget-input-container-phantom\">\r\n                        <div class=\"doboard_task_widget-input-container\">\r\n                            <input id=\"doboard_task_widget-user_name\" class=\"doboard_task_widget-field\" type=\"text\" name=\"user_name\">\r\n                            <label for=\"doboard_task_widget-user_name\">Nickname</label>\r\n                        </div>\r\n        \r\n                        <div class=\"doboard_task_widget-input-container\">\r\n                            <input id=\"doboard_task_widget-user_email\" class=\"doboard_task_widget-field\" type=\"email\" name=\"user_email\">\r\n                            <label for=\"doboard_task_widget-user_email\">Email</label>\r\n                        </div>\r\n        \r\n                        <div class=\"doboard_task_widget-input-container hidden\">\r\n                            <input id=\"doboard_task_widget-user_password\" class=\"doboard_task_widget-field\" type=\"password\" name=\"user_password\">\r\n                            <label for=\"doboard_task_widget-user_password\">Password</label>\r\n                        </div>\r\n        \r\n                        <i>Note about DoBoard register and accepting email notifications about tasks have to be here.</i>\r\n                        </br>\r\n                        <i>If you are a doBoard user, use same Email and password as at <a href=\"https://doboard.com\" target=\"_blank\" rel=\"nofollow\">doboard.com</a>\r\n                            on the <span id=\"doboard_task_widget-show_login_form\" class=\"doboard_task_widget-show_login_form\">login page</span>\r\n                         </i>\r\n                 </div> \r\n                     \r\n                 <div id=\"doboard_task_widget-input-container-login\" class=\"doboard_task_widget-input-container-login doboard_task_widget-hidden\">\r\n                        <div class=\"doboard_task_widget-input-container\">\r\n                            <input id=\"doboard_task_widget-login_email\" class=\"doboard_task_widget-field\" type=\"email\" name=\"login_email\">\r\n                            <label for=\"doboard_task_widget-login_email\">Email</label>\r\n                        </div>\r\n                        <div class=\"doboard_task_widget-input-container\">\r\n                            <input id=\"doboard_task_widget-login_password\" class=\"doboard_task_widget-field\" type=\"password\" name=\"login_password\">\r\n                            <label for=\"doboard_task_widget-login_password\">Password</label>\r\n                            <span class=\"doboard_task_widget-bottom-eye-icon\" id=\"doboard_task_widget-password-toggle\"></span>\r\n                        </div>\r\n                        <div>  \r\n                                <span id=\"doboard_task_widget-forgot_password\" class=\"doboard_task_widget-forgot_password\">Forgot Password?</span>\r\n                        </div> \r\n                        <div class=\"doboard_task_widget-login-buttons-wrapper\">\r\n                            <button id=\"doboard_task_widget-on_phantom_login_page\" class=\"doboard_task_widget-submit_button\">Cancel</button>\r\n                            <button id=\"doboard_task_widget-login_button\" class=\"doboard_task_widget-submit_button\">Log in</button>\r\n                        </div>\r\n                        <div>\r\n                            <i><span id=\"doboard_task_widget-login-is-invalid\" class=\"doboard_task_widget-login-is-invalid doboard_task_widget-hidden\">Login or password is invalid </span></i>\r\n                        </div>\r\n                 </div>\r\n                 <div id=\"doboard_task_widget-container-login-forgot-password-form\" class=\"doboard_task_widget-forgot_password_form doboard_task_widget-hidden\">\r\n                     <div class=\"doboard_task_widget-input-container\">\r\n                         <input id=\"doboard_task_widget-forgot_password_email\" class=\"doboard_task_widget-field\" type=\"email\" name=\"forgot_password_email\">\r\n                         <label for=\"doboard_task_widget-forgot_password_email\">Email</label>\r\n                     </div>\r\n                     <div class=\"doboard_task_widget-login-buttons-wrapper\">\r\n                         <button id=\"doboard_task_widget-forgot_password-black\" class=\"doboard_task_widget-submit_button\">Cancel</button>\r\n                         <button id=\"doboard_task_widget-restore_password_button\" class=\"doboard_task_widget-submit_button\">Restore password</button>\r\n                     </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"doboard_task_widget-field\" style=\"margin-top: 8px\">\r\n            <div class=\"doboard_task_widget-visibility-toggle\">\r\n              <div style=\"display: flex; align-items: center\">\r\n                  <img src=\"{{iconPublic}}\" alt=\"\">\r\n                  <span style=\"color: #252A2F; margin-left: 6px;\">Public\r\n                  <span style=\"color: #707A83; font-size: 12px; margin-left: 6px;\">(your message will be public to all visitors)</span>\r\n                  </span>\r\n              </div>      \r\n              <label class=\"toggle\" style=\"margin-left: 8px; top: 4px\">\r\n                  <input id=\"spotfix-widget-create-task-visibility\" type=\"checkbox\">\r\n                  <span class=\"slider\"></span>\r\n              </label>\r\n            </div>\r\n            <button id=\"doboard_task_widget-submit_button\" style=\"min-width: 270px\" class=\"doboard_task_widget-submit_button\">Send report</button>\r\n        </div>\r\n\r\n        <div class=\"doboard_task_widget-message-wrapper hidden\">\r\n            <span id=\"doboard_task_widget-error_message-header\"></span>\r\n            <div id=\"doboard_task_widget-error_message\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n    }\r\n\r\n    static list_issues() {\r\n        return `\r\n<div class=\"doboard_task_widget-task_row issue-item {{elementBgCSSClass}}\" data-node-path='[{{nodePath}}]' data-task-id='{{taskId}}'>\r\n    <div class=\"{{avatarCSSClass}}\" style=\"{{avatarStyle}}\">\r\n        <span class=\"doboard_task_widget-avatar-initials {{initialsClass}}\">{{taskAuthorInitials}}</span>\r\n    </div>\r\n    <div class=\"doboard_task_widget-description_container\" style=\"cursor: default\">\r\n        <div class=\"doboard_task_widget-task_title\" style=\"cursor: pointer\">\r\n            <div class=\"doboard_task_widget-task_title-details\">\r\n                    <span class=\"doboard_task_widget-task_title-text\">{{taskTitle}}</span>\r\n                    <img src=\"{{iconOfVisibility}}\" alt=\"\">\r\n                <div class=\"doboard_task_widget-task_title_public_status_img\">\r\n                    <img src=\"{{taskPublicStatusImgSrc}}\" alt=\"\" title=\"{{taskPublicStatusHint}}\">\r\n                </div>\r\n                <span class=\"doboard_task_widget-task_title-unread_block {{classUnread}}\"></span>\r\n            </div>\r\n            <div class=\"doboard_task_widget-task_title-last_update_time\">{{taskLastUpdate}}</div>\r\n        </div>\r\n        <div class=\"doboard_task_widget-bottom\">\r\n            <div class=\"doboard_task_widget-task_page_url\">\r\n                <img src=\"{{iconLinkChain}}\" />\r\n                   <a class=\"spotfix_widget_task_url\" title=\"The spot is located on this {{taskPageUrlFull}}\">{{taskPageUrl}}</a>\r\n                   <a class=\"spotfix_widget_task_url-short\" style=\"display: none\" title=\"The spot is located on this {{taskPageUrlFull}}\">{{taskFormattedPageUrl}}</a>\r\n                   <a class=\"spotfix_widget_task_url-full\" style=\"display: none\" title=\"The spot is located on this {{taskPageUrlFull}}\">{{taskPageUrlFull}}</a>\r\n             </div>\r\n                {{statusFixedHtml}}\r\n                {{amountOfComments}}\r\n        </div>\r\n    </div>\r\n</div>\r\n`;\r\n    }\r\n\r\n    static user_menu() {\r\n        return `\r\n<div class=\"doboard_task_widget-container\">\r\n    <div class=\"doboard_task_widget-user_menu-header\">\r\n        <div class=\"doboard_task_widget-user_menu-header-top\">\r\n            <div id=\"spotfix_back_button\" class=\"doboard_task_widget_cursor-pointer\" \r\n            style=\"display: flex;align-items: center;gap: 8px;\">\r\n                <img src=\"{{chevronBackDark}}\" alt=\"\">\r\n                <span> Back</span>\r\n            </div>\r\n            <div>\r\n                <img src=\"{{buttonCloseScreen}}\"  alt=\"\" class=\"doboard_task_widget-close_btn doboard_task_widget_cursor-pointer\">\r\n            </div>\r\n        </div>\r\n        <div style=\"display: flex; flex-direction: column; align-items: center\">\r\n             <img class=\"doboard_task_widget-user_menu-header-avatar\" src=\"{{avatar}}\" alt=\"\">\r\n             <span id=\"spotfix_user-menu_name\" style=\"font-size: 16px; font-weight: 700\">{{userName}}</span>\r\n             <span id=\"spotfix_user-menu_email\" style=\"font-size: 12px;\">{{email}}</span>\r\n             <span id=\"doboard_task_widget-user_menu-signlog_button\" style=\"display: none\">\r\n                 <a style=\"cursor: pointer\" rel=\"nofollow\" target=\"_blank\">Sign up or Log in</a>\r\n             </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"doboard_task_widget-content\" style=\"min-height:200px \">\r\n        <div style=\"height: 392px\">\r\n        <div style=\"position: sticky; top: 0; margin-top: 8px\">\r\n            <div class=\"doboard_task_widget-user_menu-item\">\r\n                <img src=\"{{iconEye}}\" alt=\"\" style=\"margin-right: 12px\">\r\n                <div style=\"display: flex; justify-content: space-between; flex-grow: 1; align-items: center\">\r\n                    <span style=\"display: inline-flex; flex-direction: column\">\r\n                        <span style=\"font-weight: 500; font-size: 14px; color: #252A2F; margin-bottom: 4px\">\r\n                        Show widget on my screen</span>\r\n                        <span style=\"font-size: 10px; color: #40484F\">\r\n                        The widget will be visible again if you select any text on the site</span>\r\n                    </span>\r\n                    <label class=\"toggle\" style=\"margin-left: 8px\">\r\n                      <input id=\"widget_visibility\" type=\"checkbox\">\r\n                      <span class=\"slider\"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"doboard_task_widget-user_menu-item\" style=\"display: none\">\r\n                <span id=\"doboard_task_widget-user_menu-logout_button\">\r\n                    <img src=\"{{iconDoor}}\" alt=\"\" style=\"margin-right: 12px; cursor: pointer\">\r\n                    <span class=\"logout_button\">Log out</span>\r\n                </span>\r\n            </div>\r\n            \r\n            <div id=\"doboard_task_widget-input-container-login\" style=\"display: none\"\r\n            class=\"doboard_task_widget-input-container-login doboard_task_widget-input-container-login-menu \">\r\n                <div class=\"doboard_task_widget-input-container\">\r\n                    <input id=\"doboard_task_widget-login_email\" class=\"doboard_task_widget-field\" type=\"email\" name=\"login_email\">\r\n                    <label for=\"doboard_task_widget-login_email\">Email</label>\r\n                </div>\r\n                <div class=\"doboard_task_widget-input-container\">\r\n                    <input id=\"doboard_task_widget-login_password\" class=\"doboard_task_widget-field\" type=\"password\" name=\"login_password\">\r\n                    <label for=\"doboard_task_widget-login_password\">Password</label>\r\n                    <span class=\"doboard_task_widget-bottom-eye-icon\" id=\"doboard_task_widget-password-toggle\"></span>\r\n                </div>\r\n                <div>\r\n                        <span id=\"doboard_task_widget-forgot_password\" class=\"doboard_task_widget-forgot_password\">Forgot Password?</span>\r\n                </div>\r\n                <div class=\"doboard_task_widget-field\">\r\n                    <button id=\"doboard_task_widget-login_button\" class=\"doboard_task_widget-submit_button\">Log in</button>\r\n                </div>\r\n                <div>\r\n                    <i><span id=\"doboard_task_widget-login-is-invalid\" class=\"doboard_task_widget-login-is-invalid doboard_task_widget-hidden\">Login or password is invalid </span></i>\r\n                </div>\r\n             </div>\r\n             <div id=\"doboard_task_widget-container-login-forgot-password-form\" class=\"doboard_task_widget-forgot_password_form doboard_task_widget-forgot_password_form-menu doboard_task_widget-hidden\">\r\n                 <div class=\"doboard_task_widget-input-container\">\r\n                     <input id=\"doboard_task_widget-forgot_password_email\" class=\"doboard_task_widget-field\" type=\"email\" name=\"forgot_password_email\">\r\n                     <label for=\"doboard_task_widget-forgot_password_email\">Email</label>\r\n                 </div>\r\n                 <div class=\"doboard_task_widget-login-buttons-wrapper\">\r\n                     <button id=\"doboard_task_widget-forgot_password-black\" class=\"doboard_task_widget-submit_button\">Cancel</button>\r\n                     <button id=\"doboard_task_widget-restore_password_button\" class=\"doboard_task_widget-submit_button\">Restore password</button>\r\n                 </div>\r\n            </div>\r\n            \r\n        </div>\r\n        </div>\r\n        <div style=\"padding: 16px; font-size: 13px; position: sticky; bottom: 0; margin-top: 12px\">\r\n            <span>{{spotfixVersion}}</span>\r\n            <span>Powered by\r\n            <a rel=\"nofollow\" target=\"_blank\" href=\"https://doboard.com\">\r\n             doBoard\r\n            </a></span>\r\n        </div>\r\n        <div class=\"doboard_task_widget-message-wrapper hidden\">\r\n            <span id=\"doboard_task_widget-error_message-header\"></span>\r\n        <div id=\"doboard_task_widget-error_message\"></div>\r\n    </div>\r\n    </div>\r\n</div>`;\r\n    }\r\n\r\n    static spot_menu() {\r\n        return `\r\n<div class=\"doboard_task_widget-container\">\r\n    <div class=\"doboard_task_widget-user_menu-header\">\r\n        <div class=\"doboard_task_widget-user_menu-header-top\">\r\n            <div id=\"spotfix_back_button\" class=\"doboard_task_widget_cursor-pointer\" \r\n            style=\"display: flex;align-items: center;gap: 8px;\">\r\n                <img src=\"{{chevronBackDark}}\" alt=\"\">\r\n                <span> Back</span>\r\n            </div>\r\n            <div>\r\n                <img src=\"{{buttonCloseScreen}}\"  alt=\"\" class=\"doboard_task_widget-close_btn doboard_task_widget_cursor-pointer\">\r\n            </div>\r\n        </div>\r\n        <div style=\"display: flex; flex-direction: column; align-items: center\">\r\n             <span id=\"spotfix_widget-task-menu_name\">{{taskName}}\r\n             <img src=\"{{taskType}}\" alt=\"\" style=\"margin-left: 6px\">\r\n             </span>\r\n             <span id=\"spotfix_widget-task-menu_users\">{{viewersCount}}</span>\r\n        </div>\r\n    </div>\r\n    <div class=\"doboard_task_widget-content\" style=\"min-height:200px \">\r\n        <div style=\"height: 392px\">\r\n        <div style=\"position: sticky; top: 0; margin-top: 8px\">\r\n            <div class=\"doboard_task_widget-task_menu-item\">\r\n                <img src=\"{{iconHighlight}}\" alt=\"\" style=\"margin-right: 12px\">\r\n                <div style=\"display: flex; justify-content: space-between; flex-grow: 1; align-items: center\">\r\n                    <span style=\"font-weight: 400; font-size: 14px; color: #252A2F; display: inline-flex; flex-direction: column;\">\r\n                        Highlight issue\r\n                        <span style=\"font-weight: 400; font-size: 12px; color: #707A83;\">Available only to authorized users</span>\r\n                        </span>\r\n                    <label class=\"toggle\" style=\"margin-left: 8px\">\r\n                      <input id=\"highlight_the_spot\" type=\"checkbox\">\r\n                      <span class=\"slider\"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"doboard_task_widget-task_menu-item\">\r\n                <img src=\"{{iconMute}}\" alt=\"\" style=\"margin-right: 12px\">\r\n                <div style=\"display: flex; justify-content: space-between; flex-grow: 1; align-items: center\">\r\n                    <span style=\"font-weight: 400; font-size: 14px; color: #252A2F; display: inline-flex; flex-direction: column;\">\r\n                        Mute conversation\r\n                        <span style=\"font-weight: 400; font-size: 12px; color: #707A83;\">Available only to authorized users</span>\r\n                        </span>\r\n                    <label class=\"toggle\" style=\"margin-left: 8px\">\r\n                      <input id=\"unsubscribe_from_spot\" type=\"checkbox\">\r\n                      <span class=\"slider\"></span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"doboard_task_widget-task_menu-item\" \r\n            style=\"flex-direction: column; height: fit-content; padding-top: 8px\">\r\n                {{viewers}}\r\n            </div>\r\n        </div>\r\n        </div>\r\n        <div style=\"padding: 16px; font-size: 13px; position: sticky; bottom: 0; margin-top: 12px\">\r\n            <span>{{spotfixVersion}}</span>\r\n            <span>Powered by\r\n            <a rel=\"nofollow\" target=\"_blank\" href=\"https://doboard.com\">\r\n             doBoard\r\n            </a></span>\r\n        </div>\r\n    </div>\r\n</div>`;\r\n    }\r\n\r\n    static wrap() {\r\n        return `\r\n<div class=\"doboard_task_widget-wrap\" style=\"bottom: {{position}}\">\r\n<img src=\"{{iconMarker}}\" />\r\n<!--    <img src=\"{{logoDoBoardWrap}}\" alt=\"Doboard logo\">-->\r\n    <div id=\"doboard_task_widget-task_count\" class=\"hidden\"></div>\r\n</div>`;\r\n    }\r\n\r\n    static wrap_review() {\r\n        return `\r\n<button id=\"doboard_task_widget_button\" class=\"doboard_task_widget-wrap wrap_review\" style=\"bottom: {{position}};\">\r\n<img src=\"{{iconMarker}}\" />\r\n<span id=\"review_content_button_text\">Review content</span>\r\n</button>`;\r\n    }\r\n\r\n    static fixedHtml() {\r\n        return `<p style=\"margin: 0\"><span class=\"doboard_task_widget-bottom-is-fixed\">Finished</span></p>`;\r\n    }\r\n    static fixedTaskHtml() {\r\n        return `<p class=\"doboard_task_widget-bottom-is-fixed-task-block\"><span class=\"doboard_task_widget-bottom-is-fixed-task\">This issue already fixed</span></p>`;\r\n    }\r\n\r\n}\r\n\nclass SpotFixSVGLoader {\r\n    static loadSVG(svgName) {\r\n        const svgMethod = this[svgName];\r\n\r\n        if (typeof svgMethod !== 'function') {\r\n            throw new Error(`Template method '${svgName}' not found`);\r\n        }\r\n\r\n        return svgMethod.call(this).trim();\r\n    }\r\n\r\n    static getAsRawSVG(svgName) {\r\n        return this.loadSVG(svgName);\r\n    }\r\n\r\n    static getAsDataURI(svgName) {\r\n        const svg = this.loadSVG(svgName);\r\n        return this.svgToDataURI(svg);\r\n    }\r\n\r\n    static svgToDataURI(svgString) {\r\n        const bytes = new TextEncoder().encode(svgString);\r\n        const baseBtoa = btoa(String.fromCharCode(...bytes));\r\n        return `data:image/svg+xml;base64,${baseBtoa}`;\r\n    }\r\n\r\n    static chevronBack() {\r\n        return `\r\n<svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M7 13L1 7L7 1\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static chevronBackDark() {\r\n        return `\r\n<svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M7 13L1 7L7 1\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static buttonCloseScreen() {\r\n        return `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M18 6L6 18\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M6 6L18 18\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static buttonSendMessage() {\r\n        return `\r\n<svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"15\" cy=\"15\" r=\"15\" fill=\"#22A475\"/>\r\n    <g clip-path=\"url(#clip0_458_94)\">\r\n        <path d=\"M22.3337 7.6665L13.167 16.8332\" stroke=\"white\" stroke-width=\"1.66667\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        <path d=\"M22.3337 7.6665L16.5003 24.3332L13.167 16.8332L5.66699 13.4998L22.3337 7.6665Z\" stroke=\"white\" stroke-width=\"1.66667\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    </g>\r\n    <defs>\r\n        <clipPath id=\"clip0_458_94\">\r\n            <rect width=\"20\" height=\"20\" fill=\"white\" transform=\"translate(4 6)\"/>\r\n        </clipPath>\r\n    </defs>\r\n</svg>`;\r\n    }\r\n\r\n    static buttonPaperClip() {\r\n        return `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M21.4393 11.0499L12.2493 20.2399C11.1235 21.3658 9.5965 21.9983 8.00431 21.9983C6.41213 21.9983 4.88516 21.3658 3.75931 20.2399C2.63347 19.1141 2.00098 17.5871 2.00098 15.9949C2.00098 14.4027 2.63347 12.8758 3.75931 11.7499L12.9493 2.55992C13.6999 1.80936 14.7179 1.3877 15.7793 1.3877C16.8408 1.3877 17.8588 1.80936 18.6093 2.55992C19.3599 3.31048 19.7815 4.32846 19.7815 5.38992C19.7815 6.45138 19.3599 7.46936 18.6093 8.21992L9.40931 17.4099C9.03403 17.7852 8.52504 17.996 7.99431 17.996C7.46359 17.996 6.95459 17.7852 6.57931 17.4099C6.20403 17.0346 5.9932 16.5256 5.9932 15.9949C5.9932 15.4642 6.20403 14.9552 6.57931 14.5799L15.0693 6.09992\" stroke=\"#707A83\" stroke-width=\"1.71429\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static logoDoBoardGreen() {\r\n        return `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.3435 1.87294e-10H0V24H7.04064H12.3435C27.8855 24 27.8855 -7.7417e-05 12.3435 1.87294e-10ZM7.04064 24C3.18002 24 0.0503678 20.7764 0.0503678 16.8C0.0503678 12.8236 3.18002 9.6 7.04064 9.6C10.9012 9.6 14.0309 12.8236 14.0309 16.8C14.0309 20.7764 10.9012 24 7.04064 24Z\" fill=\"#1C7857\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static logoDoBoardWrap() {\r\n        return `\r\n<svg width=\"71\" height=\"72\" viewBox=\"0 0 71 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M0.113132 71.1182L0.109378 35.8851C0.106353 28.9195 2.16921 22.1096 6.03703 16.3165C9.90485 10.5235 15.4039 6.00773 21.8385 3.34038C28.2731 0.673036 35.3543 -0.0260367 42.1862 1.33159C49.0182 2.68922 55.2941 6.04255 60.22 10.9674C65.1459 15.8923 68.5006 22.1675 69.8597 28.9991C71.2188 35.8308 70.5212 42.9121 67.8552 49.3473C65.1893 55.7825 60.6746 61.2825 54.8824 65.1515C49.0903 69.0206 42.2807 71.0849 35.3151 71.0834L0.113132 71.1182Z\" fill=\"#1C7857\"/>\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M37.5152 20H19V56H29.561H37.5152C60.8283 56 60.8283 19.9999 37.5152 20ZM29.561 56C23.77 56 19.0756 51.1647 19.0756 45.2C19.0756 39.2353 23.77 34.4 29.561 34.4C35.3519 34.4 40.0463 39.2353 40.0463 45.2C40.0463 51.1647 35.3519 56 29.561 56Z\" fill=\"white\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static iconSpotPublic() {\r\n        return `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M12.0008 3.00027C7.17178 2.96187 2.97093 7.00382 3.00088 12.0003C2.91808 17.8096 8.71723 22.2578 14.3059 20.7002C24.3554 17.8039 22.5675 3.27107 12.0008 3.00027ZM17.2508 14.9653C16.9608 17.0153 15.9608 18.4703 14.8258 19.4853C14.6508 19.5503 14.4758 19.6103 14.2958 19.6603C14.1558 17.2853 13.0958 16.9203 12.0608 16.5603C10.7322 16.2243 9.99648 15.2916 9.96088 14.0202C9.89083 13.3953 9.82083 12.7453 9.14083 12.2903C8.43083 11.8203 7.81583 11.7753 7.27078 11.7303C6.62578 11.6803 6.15578 11.6453 5.71578 10.8753C4.81578 9.30527 5.90578 7.25027 7.28578 5.54027C8.61078 4.57527 10.2408 4.00027 12.0008 4.00027C12.8538 3.90392 14.0209 4.33902 14.2658 5.08032C14.5767 5.92247 13.1037 6.60767 12.7758 7.39027C12.4607 8.02027 12.6508 8.49527 12.7908 8.84027C12.9208 9.16027 12.9258 9.22027 12.8258 9.32527C12.5558 9.59027 12.1558 9.42527 11.5258 9.13527C10.8908 8.84527 10.1708 8.51527 9.42078 8.76527C7.72903 9.29942 8.01078 11.1962 9.50078 11.2503C9.94588 11.2463 10.8294 10.9818 11.1558 11.2353C11.1958 11.2703 11.2508 11.3353 11.2508 11.5003C11.3243 12.6158 12.6735 12.6987 13.6107 12.2253C14.4508 11.8053 14.5508 11.9053 15.3258 12.6752C16.081 13.5538 17.4843 13.5449 17.2508 14.9653Z\" fill=\"#252A2F\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static iconSpotPrivate() {\r\n        return `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M12.0008 2.99978C7.17178 2.96138 2.97093 7.00333 3.00088 11.9998C2.91808 17.8091 8.71723 22.2573 14.3059 20.6997C24.3554 17.8034 22.5675 3.27058 12.0008 2.99978ZM17.2508 14.9648C16.9608 17.0148 15.9608 18.4698 14.8258 19.4848C14.6508 19.5498 14.4758 19.6098 14.2958 19.6598C14.1558 17.2848 13.0958 16.9198 12.0608 16.5598C10.7322 16.2238 9.99648 15.2911 9.96088 14.0197C9.89083 13.3948 9.82083 12.7448 9.14083 12.2898C8.43083 11.8198 7.81583 11.7748 7.27078 11.7298C6.62578 11.6798 6.15578 11.6448 5.71578 10.8748C4.81578 9.30478 5.90578 7.24978 7.28578 5.53978C8.61078 4.57478 10.2408 3.99978 12.0008 3.99978C12.8538 3.90343 14.0209 4.33853 14.2658 5.07983C14.5767 5.92198 13.1037 6.60718 12.7758 7.38978C12.4607 8.01978 12.6508 8.49478 12.7908 8.83978C12.9208 9.15978 12.9258 9.21978 12.8258 9.32478C12.5558 9.58978 12.1558 9.42478 11.5258 9.13478C10.8908 8.84478 10.1708 8.51478 9.42078 8.76478C7.72903 9.29893 8.01078 11.1957 9.50078 11.2498C9.94588 11.2458 10.8294 10.9813 11.1558 11.2348C11.1958 11.2698 11.2508 11.3348 11.2508 11.4998C11.3243 12.6153 12.6735 12.6982 13.6107 12.2248C14.4508 11.8048 14.5508 11.9048 15.3258 12.6747C16.081 13.5533 17.4843 13.5444 17.2508 14.9648Z\" fill=\"#252A2F\"/>\r\n<path d=\"M4.5001 20.5L21.5 4.5\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n<line x1=\"3.08787\" y1=\"19.8516\" x2=\"21.0879\" y2=\"3.05161\" stroke=\"#252A2F\" stroke-width=\"1.5\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static iconSpotWidgetWrapPencil() {\r\n        return `\r\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M17 2.99981C17.2626 2.73717 17.5744 2.52883 17.9176 2.38669C18.2608 2.24455 18.6286 2.17139 19 2.17139C19.3714 2.17139 19.7392 2.24455 20.0824 2.38669C20.4256 2.52883 20.7374 2.73717 21 2.99981C21.2626 3.26246 21.471 3.57426 21.6131 3.91742C21.7553 4.26058 21.8284 4.62838 21.8284 4.99981C21.8284 5.37125 21.7553 5.73905 21.6131 6.08221C21.471 6.42537 21.2626 6.73717 21 6.99981L7.5 20.4998L2 21.9998L3.5 16.4998L17 2.99981Z\" stroke=\"white\" stroke-width=\"1.7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static iconLinkChain() {\r\n        return `<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M11.25 5.25H13.5C13.9925 5.25 14.4801 5.347 14.9351 5.53545C15.39 5.72391 15.8034 6.00013 16.1517 6.34835C16.4999 6.69657 16.7761 7.10997 16.9645 7.56494C17.153 8.01991 17.25 8.50754 17.25 9C17.25 9.49246 17.153 9.98009 16.9645 10.4351C16.7761 10.89 16.4999 11.3034 16.1517 11.6517C15.8034 11.9999 15.39 12.2761 14.9351 12.4645C14.4801 12.653 13.9925 12.75 13.5 12.75H11.25M6.75 12.75H4.5C4.00754 12.75 3.51991 12.653 3.06494 12.4645C2.60997 12.2761 2.19657 11.9999 1.84835 11.6517C1.14509 10.9484 0.75 9.99456 0.75 9C0.75 8.00544 1.14509 7.05161 1.84835 6.34835C2.55161 5.64509 3.50544 5.25 4.5 5.25H6.75\" stroke=\"#707A83\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M6 9H12\" stroke=\"#707A83\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static iconEllipsesMore() {\r\n        return `<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>`;\r\n    }\r\n\r\n    static iconAvatar() {\r\n        return `<svg viewBox=\"0 0 128 128\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"xxlarge\">\r\n    <g>\r\n        <circle cx=\"64\" cy=\"64\" r=\"64\" fill=\"#c1c7d0\" />\r\n        <g>\r\n            <path fill=\"#fff\"\r\n                d=\"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z\" />\r\n            <path fill=\"#fff\"\r\n                d=\"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24\" />\r\n        </g>\r\n    </g>\r\n</svg>\r\n`;\r\n    }\r\n\r\n    static iconEye() {\r\n        return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M16.2194 15.0246C16.2119 17.3608 14.3025 19.2659 11.9713 19.2627C9.62876 19.2596 7.71314 17.3327 7.72876 14.9952C7.74439 12.6571 9.66064 10.7565 11.9888 10.7696C14.3275 10.7827 16.2269 12.6933 16.2194 15.0246Z\" fill=\"#252A2F\"/>\r\n<path d=\"M5.06499 9.76998C4.65374 9.05685 4.24999 8.36435 3.85312 7.66748C3.67124 7.3481 3.71062 7.00623 3.94249 6.7581C4.16437 6.5206 4.53687 6.44123 4.81999 6.60935C4.96 6.69248 5.08749 6.82748 5.17249 6.9681C5.54249 7.58185 5.89374 8.20685 6.25249 8.82685C6.29124 8.89373 6.33249 8.95873 6.38124 9.03873C7.91124 8.2956 9.52062 7.87935 11.2256 7.76685C11.2256 7.02498 11.2237 6.3006 11.2262 5.57685C11.2275 5.1956 11.4331 4.90873 11.7619 4.81435C12.25 4.67435 12.715 5.02185 12.7212 5.54435C12.7287 6.19185 12.7231 6.83873 12.7231 7.48623C12.7231 7.57123 12.7231 7.6556 12.7231 7.76623C14.4225 7.87873 16.0331 8.28998 17.5725 9.04185C17.6937 8.83248 17.8094 8.63123 17.9256 8.4306C18.2144 7.93185 18.5 7.4306 18.7925 6.93435C19.0269 6.53685 19.465 6.40935 19.8331 6.6231C20.2019 6.83685 20.3137 7.27998 20.0875 7.67935C19.7337 8.3031 19.3719 8.92123 19.0144 9.54248C18.9725 9.6156 18.9337 9.68998 18.8969 9.7581C19.3437 10.1037 19.8069 10.4119 20.2106 10.785C20.9894 11.5037 21.74 12.2537 22.4906 13.0025C22.7912 13.3025 22.77 13.7669 22.4775 14.0531C22.1831 14.3406 21.7362 14.3456 21.4262 14.0437C20.8787 13.5106 20.3506 12.9581 19.8 12.4275C17.8019 10.5012 15.4112 9.42373 12.6444 9.27498C9.33875 9.09748 6.47437 10.1775 4.08812 12.4875C3.57249 12.9862 3.07062 13.4994 2.56437 14.0075C2.35687 14.2156 2.11374 14.3156 1.82187 14.2462C1.26124 14.1144 1.04187 13.4231 1.45249 13.01C2.56687 11.8887 3.62624 10.7037 4.97562 9.84185C5.00124 9.8256 5.02312 9.80435 5.06499 9.76998Z\" fill=\"#252A2F\"/>\r\n</svg>\r\n`;\r\n    }\r\n\r\n    static iconDoor() {\r\n        return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M22.9287 10.734C22.882 10.6222 22.8151 10.5204 22.7298 10.4352L19.9807 7.68609C19.6223 7.32859 19.043 7.32859 18.6846 7.68609C18.3262 8.04449 18.3262 8.62474 18.6846 8.98224L19.8698 10.1675H14.7493C14.2424 10.1675 13.8326 10.5781 13.8326 11.0841C13.8326 11.5901 14.2424 12.0008 14.7493 12.0008H19.8698L18.6845 13.186C18.3261 13.5444 18.3261 14.1247 18.6845 14.4822C18.8633 14.6618 19.0979 14.7508 19.3326 14.7508C19.5673 14.7508 19.802 14.6619 19.9807 14.4822L22.7298 11.7331C22.8151 11.6487 22.882 11.547 22.9287 11.4343C23.0213 11.2107 23.0213 10.9577 22.9287 10.734Z\" fill=\"#252A2F\"/>\r\n<path d=\"M16.5823 13.8333C16.0754 13.8333 15.6656 14.244 15.6656 14.75V19.3333H11.999V4.66665C11.999 4.2624 11.7332 3.9049 11.3454 3.78849L8.16181 2.83334H15.6656V7.41668C15.6656 7.92268 16.0754 8.33333 16.5823 8.33333C17.0892 8.33333 17.4989 7.92268 17.4989 7.41668V1.91669C17.4989 1.41065 17.0892 1 16.5823 1H1.91567C1.88267 1 1.85333 1.01375 1.82127 1.0174C1.77817 1.022 1.73877 1.0293 1.69752 1.0394C1.60127 1.06415 1.51417 1.10175 1.43262 1.15305C1.41247 1.1659 1.38772 1.1668 1.36847 1.18146C1.36108 1.187 1.35833 1.1971 1.35098 1.2026C1.25108 1.2814 1.16768 1.37765 1.10718 1.49225C1.09433 1.517 1.09158 1.5436 1.08152 1.56925C1.05218 1.6389 1.02012 1.70675 1.00912 1.78375C1.00452 1.81125 1.01277 1.8369 1.01187 1.8635C1.01097 1.88185 0.999023 1.89835 0.999023 1.91665V20.25C0.999023 20.6872 1.30793 21.0631 1.73602 21.1483L10.9027 22.9817C10.9623 22.9945 11.0228 23 11.0823 23C11.2922 23 11.4985 22.9276 11.6635 22.7919C11.8752 22.6178 11.999 22.3583 11.999 22.0833V21.1667H16.5823C17.0892 21.1667 17.4989 20.756 17.4989 20.25V14.75C17.4989 14.244 17.0892 13.8333 16.5823 13.8333Z\" fill=\"#252A2F\"/>\r\n</svg>\r\n`;\r\n    }\r\n\r\n    static iconPlus() {\r\n        return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M11 4.58398V17.4173\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M4.58331 11H17.4166\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n`;\r\n    }\r\n\r\n    static iconMaximize() {\r\n        return `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M13.75 2.75H19.25V8.25\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M8.25 19.25H2.75V13.75\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M19.25 2.75L12.8333 9.16667\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M2.75 19.2507L9.16667 12.834\" stroke=\"#252A2F\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n`;\r\n    }\r\n\r\n    static iconMarker() {\r\n        return `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"><image href=\"data:image/png;base64,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\" \r\nheight=\"100%\" width=\"100%\"/></svg>`;\r\n    }\r\n\r\n    static iconPublic() {\r\n        return `<svg width=\"19\" height=\"19\" viewBox=\"0 0 19 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M9.18778 0.00027617C4.25843 -0.0388043 -0.0296776 4.07477 0.000894517 9.15975C-0.0836253 15.072 5.83598 19.5991 11.5408 18.0138C21.799 15.0662 19.974 0.275875 9.18778 0.00027617ZM14.5468 12.1773C14.2508 14.2636 13.23 15.7444 12.0715 16.7774C11.8928 16.8435 11.7142 16.9046 11.5304 16.9555C11.3875 14.5384 10.3055 14.1669 9.24903 13.8005C7.89278 13.4586 7.1418 12.5094 7.10546 11.2155C7.03395 10.5795 6.9625 9.91795 6.26838 9.45489C5.54363 8.97661 4.91585 8.93076 4.35948 8.88496C3.70109 8.83408 3.22132 8.79846 2.77219 8.01482C1.85349 6.417 2.96613 4.32558 4.37479 2.58528C5.72732 1.60318 7.39117 1.018 9.18773 1.018C10.0584 0.919938 11.2498 1.36275 11.4998 2.11718C11.8171 2.97426 10.3135 3.6716 9.97883 4.46806C9.65723 5.10923 9.85123 5.59264 9.99414 5.94376C10.1268 6.26943 10.1319 6.33049 10.0299 6.43735C9.75426 6.70705 9.34595 6.53912 8.70286 6.24398C8.05467 5.94885 7.31972 5.613 6.55414 5.86743C4.82725 6.41104 5.11485 8.3414 6.6358 8.39651C7.09015 8.39244 7.992 8.12325 8.32518 8.38119C8.36601 8.41681 8.42215 8.48297 8.42215 8.65089C8.49723 9.78616 9.8744 9.87053 10.8311 9.38874C11.6886 8.9613 11.7907 9.06307 12.5818 9.84666C13.3527 10.7408 14.7852 10.7317 14.5468 12.1773Z\" fill=\"#707A83\"/>\r\n</svg>`\r\n    }\r\n\r\n    static iconPublicSmall() {\r\n        return `<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M6.75062 0.000203522C3.12883 -0.0285965 -0.0218053 3.00287 0.000657237 6.7502C-0.0614428 11.1072 4.28792 14.4434 8.47944 13.2751C16.0166 11.1029 14.6756 0.203304 6.75062 0.000203522ZM10.6881 8.97395C10.4706 10.5115 9.72062 11.6027 8.86937 12.364C8.73812 12.4127 8.60687 12.4577 8.47187 12.4952C8.36687 10.714 7.57187 10.4402 6.79562 10.1702C5.79913 9.91824 5.24736 9.21868 5.22066 8.26517C5.16812 7.79645 5.11562 7.30895 4.60562 6.9677C4.07312 6.61524 3.61187 6.58145 3.20308 6.5477C2.71933 6.5102 2.36683 6.48395 2.03683 5.90645C1.36183 4.72895 2.17933 3.1877 3.21433 1.9052C4.20808 1.18145 5.43058 0.750203 6.75058 0.750203C7.39033 0.677941 8.26566 1.00427 8.44933 1.56024C8.68251 2.19185 7.57776 2.70575 7.33183 3.2927C7.09554 3.7652 7.23808 4.12145 7.34308 4.3802C7.44058 4.6202 7.44433 4.6652 7.36933 4.74395C7.16683 4.9427 6.86683 4.81895 6.39433 4.60145C5.91808 4.38395 5.37808 4.13645 4.81558 4.32395C3.54677 4.72457 3.75808 6.14713 4.87558 6.18774C5.20941 6.18474 5.87203 5.98637 6.11683 6.17645C6.14683 6.2027 6.18808 6.25145 6.18808 6.3752C6.24324 7.21183 7.25511 7.274 7.95805 6.91895C8.58808 6.60395 8.66308 6.67895 9.24433 7.25642C9.81073 7.91537 10.8632 7.90865 10.6881 8.97395Z\" fill=\"#BBC7D1\"/>\r\n</svg>`\r\n    }\r\n\r\n    static iconLockSmall() {\r\n        return `<svg width=\"12\" height=\"15\" viewBox=\"0 0 12 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M6 0C6.99456 0 7.94839 0.395088 8.65165 1.09835C9.35491 1.80161 9.75 2.75544 9.75 3.75V6C10.3467 6 10.919 6.23705 11.341 6.65901C11.7629 7.08097 12 7.65326 12 8.25V12.75C12 13.3467 11.7629 13.919 11.341 14.341C10.919 14.7629 10.3467 15 9.75 15H2.25C1.65326 15 1.08097 14.7629 0.65901 14.341C0.237053 13.919 0 13.3467 0 12.75V8.25C0 7.65326 0.237053 7.08097 0.65901 6.65901C1.08097 6.23705 1.65326 6 2.25 6V3.75C2.25 2.75544 2.64509 1.80161 3.34835 1.09835C4.05161 0.395088 5.00544 0 6 0ZM6 9C5.62157 8.99988 5.25707 9.14281 4.97959 9.40012C4.7021 9.65744 4.53213 10.0101 4.50375 10.3875L4.5 10.5C4.5 10.7967 4.58797 11.0867 4.7528 11.3334C4.91762 11.58 5.15189 11.7723 5.42597 11.8858C5.70006 11.9994 6.00166 12.0291 6.29264 11.9712C6.58361 11.9133 6.85088 11.7704 7.06066 11.5607C7.27044 11.3509 7.4133 11.0836 7.47118 10.7926C7.52906 10.5017 7.49935 10.2001 7.38582 9.92597C7.27229 9.65189 7.08003 9.41762 6.83335 9.2528C6.58668 9.08797 6.29667 9 6 9ZM6 1.5C5.40326 1.5 4.83097 1.73705 4.40901 2.15901C3.98705 2.58097 3.75 3.15326 3.75 3.75V6H8.25V3.75C8.25 3.15326 8.01295 2.58097 7.59099 2.15901C7.16903 1.73705 6.59674 1.5 6 1.5Z\" fill=\"#BBC7D1\"/>\r\n</svg>`\r\n    }\r\n\r\n    static iconLockDark() {\r\n        return `<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M9 1.5C9.99456 1.5 10.9484 1.89509 11.6517 2.59835C12.3549 3.30161 12.75 4.25544 12.75 5.25V7.5C13.3467 7.5 13.919 7.73705 14.341 8.15901C14.7629 8.58097 15 9.15326 15 9.75V14.25C15 14.8467 14.7629 15.419 14.341 15.841C13.919 16.2629 13.3467 16.5 12.75 16.5H5.25C4.65326 16.5 4.08097 16.2629 3.65901 15.841C3.23705 15.419 3 14.8467 3 14.25V9.75C3 9.15326 3.23705 8.58097 3.65901 8.15901C4.08097 7.73705 4.65326 7.5 5.25 7.5V5.25C5.25 4.25544 5.64509 3.30161 6.34835 2.59835C7.05161 1.89509 8.00544 1.5 9 1.5ZM9 10.5C8.62157 10.4999 8.25707 10.6428 7.97959 10.9001C7.7021 11.1574 7.53213 11.5101 7.50375 11.8875L7.5 12C7.5 12.2967 7.58797 12.5867 7.7528 12.8334C7.91762 13.08 8.15189 13.2723 8.42597 13.3858C8.70006 13.4994 9.00166 13.5291 9.29264 13.4712C9.58361 13.4133 9.85088 13.2704 10.0607 13.0607C10.2704 12.8509 10.4133 12.5836 10.4712 12.2926C10.5291 12.0017 10.4994 11.7001 10.3858 11.426C10.2723 11.1519 10.08 10.9176 9.83335 10.7528C9.58668 10.588 9.29667 10.5 9 10.5ZM9 3C8.40326 3 7.83097 3.23705 7.40901 3.65901C6.98705 4.08097 6.75 4.65326 6.75 5.25V7.5H11.25V5.25C11.25 4.65326 11.0129 4.08097 10.591 3.65901C10.169 3.23705 9.59674 3 9 3Z\" fill=\"#707A83\"/>\r\n</svg>`}\r\n\r\n    static iconPublicDark() {\r\n        return `<svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M6.75062 0.000203522C3.12883 -0.0285965 -0.0218053 3.00287 0.000657237 6.7502C-0.0614428 11.1072 4.28792 14.4434 8.47944 13.2751C16.0166 11.1029 14.6756 0.203304 6.75062 0.000203522ZM10.6881 8.97395C10.4706 10.5115 9.72062 11.6027 8.86937 12.364C8.73812 12.4127 8.60687 12.4577 8.47187 12.4952C8.36687 10.714 7.57187 10.4402 6.79562 10.1702C5.79913 9.91824 5.24736 9.21868 5.22066 8.26517C5.16812 7.79645 5.11562 7.30895 4.60562 6.9677C4.07312 6.61524 3.61187 6.58145 3.20308 6.5477C2.71933 6.5102 2.36683 6.48395 2.03683 5.90645C1.36183 4.72895 2.17933 3.1877 3.21433 1.9052C4.20808 1.18145 5.43058 0.750203 6.75058 0.750203C7.39033 0.677941 8.26566 1.00427 8.44933 1.56024C8.68251 2.19185 7.57776 2.70575 7.33183 3.2927C7.09554 3.7652 7.23808 4.12145 7.34308 4.3802C7.44058 4.6202 7.44433 4.6652 7.36933 4.74395C7.16683 4.9427 6.86683 4.81895 6.39433 4.60145C5.91808 4.38395 5.37808 4.13645 4.81558 4.32395C3.54677 4.72457 3.75808 6.14713 4.87558 6.18774C5.20941 6.18474 5.87203 5.98637 6.11683 6.17645C6.14683 6.2027 6.18808 6.25145 6.18808 6.3752C6.24324 7.21183 7.25511 7.274 7.95805 6.91895C8.58808 6.60395 8.66308 6.67895 9.24433 7.25642C9.81073 7.91537 10.8632 7.90865 10.6881 8.97395Z\" fill=\"#707A83\"/>\r\n</svg>`}\r\n\r\n    static iconMute() {\r\n        return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M16.005 14.6501C16.4382 14.0995 16.7682 13.5163 16.8863 12.832C17.0863 11.6751 16.9025 10.6045 16.1838 9.64822C15.8788 9.24197 15.8969 8.74072 16.21 8.37947C16.5082 8.03447 17.0163 7.93697 17.4225 8.14572C17.5938 8.23322 17.7188 8.3701 17.8319 8.52135C18.6 9.5501 18.9488 10.7151 18.955 11.9888C18.9613 13.2876 18.6157 14.477 17.8325 15.527C17.7244 15.672 17.6082 15.812 17.4432 15.8895C17.3094 15.952 17.36 15.9976 17.4313 16.0676C17.7144 16.3463 18 16.6232 18.2725 16.9126C18.3925 17.0401 18.4469 17.0563 18.555 16.892C19.1538 15.9838 19.5588 14.997 19.7644 13.9326C20.1744 11.8101 19.9532 9.76635 18.9513 7.82947C18.7469 7.43447 18.4975 7.06822 18.2263 6.71635C17.8319 6.2051 17.8863 5.61197 18.355 5.24822C18.81 4.89447 19.4169 5.00197 19.8088 5.50447C21.06 7.1101 21.7169 8.9451 21.8982 10.9595C22.0907 13.0932 21.745 15.1307 20.77 17.0495C20.5513 17.4801 20.3088 17.8995 20.0057 18.2751C19.8638 18.4507 19.8925 18.5407 20.0438 18.6863C20.5882 19.2107 21.1232 19.7451 21.6494 20.2882C22.1938 20.8507 21.9707 21.7426 21.2363 21.9557C20.8532 22.067 20.5132 21.9695 20.2294 21.687C19.8538 21.3132 19.4794 20.9382 19.1044 20.5632C13.5269 14.9863 7.95378 9.40572 2.36753 3.83822C1.76378 3.23635 1.97503 2.30635 2.71065 2.09447C3.1244 1.9751 3.47065 2.1026 3.77065 2.40447C4.90815 3.54822 6.05378 4.68447 7.18878 5.83135C7.3369 5.98072 7.48565 6.02635 7.69253 6.04822C8.3619 6.11822 8.87878 5.87697 9.38753 5.45072C10.6594 4.38635 11.9732 3.37197 13.2657 2.33197C13.6125 2.0526 13.9832 1.9576 14.3925 2.14885C14.8132 2.3451 14.9719 2.70197 14.9713 3.15572C14.9682 6.56135 14.9713 9.96697 14.965 13.3726C14.965 13.5438 15.0144 13.6607 15.1363 13.777C15.4344 14.062 15.7194 14.3607 16.005 14.6501Z\" fill=\"#252A2F\"/>\r\n<path d=\"M2.0035 12.0173C2.0035 11.0279 2.0035 10.0379 2.0035 9.04853C2.0035 8.13978 2.3535 7.38916 3.021 6.77728C3.1385 6.66916 3.20475 6.65041 3.33475 6.78041C7.171 10.6248 11.0122 14.4642 14.8547 18.3023C14.9385 18.386 14.9729 18.4692 14.9722 18.5879C14.9672 19.3748 14.9697 20.1617 14.9697 20.9485C14.9697 21.376 14.7941 21.7067 14.406 21.8942C14.0097 22.0854 13.6366 22.0135 13.2954 21.7404C11.886 20.6104 10.4716 19.4854 9.06662 18.3504C8.78037 18.1192 8.47912 18.001 8.10662 18.0054C7.086 18.0192 6.06537 18.0123 5.04412 18.0098C3.32037 18.0054 2.01537 16.7098 2.00412 14.986C1.99787 13.9967 2.00287 13.0067 2.00287 12.0173H2.0035Z\" fill=\"#252A2F\"/>\r\n</svg>`}\r\n\r\n    static iconHighlight() {\r\n        return `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M14.9364 3.00011C14.7416 3.00322 14.5556 3.08202 14.4179 3.21984L4.87148 12.7662C4.7421 12.8965 4.665 13.0697 4.65477 13.253C4.64454 13.4363 4.7019 13.617 4.81598 13.7609L3.22073 15.3561C3.08007 15.4967 3.00102 15.6874 3.00098 15.8863V18.0074C3.001 18.2063 3.08002 18.3971 3.22067 18.5377C3.36132 18.6784 3.55207 18.7574 3.75098 18.7574H5.87213C6.07102 18.7574 6.26175 18.6784 6.40238 18.5377L7.9932 16.9469L8.0547 17.0084C8.1953 17.1485 8.38572 17.2272 8.58424 17.2272C8.78276 17.2272 8.97318 17.1485 9.11378 17.0084L18.6602 7.46347C18.8008 7.32281 18.8797 7.13208 18.8797 6.9332C18.8797 6.73432 18.8008 6.54358 18.6602 6.40292L15.48 3.21981C15.409 3.14876 15.3244 3.0927 15.2313 3.05496C15.1382 3.01721 15.0385 2.99855 14.9381 3.00009L14.9364 3.00011ZM14.9499 4.81066L17.071 6.93321L8.5851 15.4176L8.56035 15.3942C8.54855 15.3811 8.5363 15.3684 8.5236 15.3561L6.46403 13.2965L14.9499 4.81066Z\" fill=\"#252A2F\"/>\r\n<path d=\"M12.8044 15.75C12.6056 15.75 12.4148 15.8291 12.2742 15.9697L8.52419 19.7197C8.41937 19.8246 8.34799 19.9583 8.31908 20.1037C8.29017 20.2492 8.30503 20.3999 8.36177 20.5369C8.41852 20.674 8.51461 20.7911 8.6379 20.8735C8.76119 20.9559 8.90614 20.9999 9.05444 21H20.2503C20.4492 21 20.64 20.921 20.7806 20.7803C20.9213 20.6397 21.0003 20.4489 21.0003 20.25V16.5C21.0003 16.3011 20.9213 16.1103 20.7806 15.9697C20.64 15.829 20.4492 15.75 20.2503 15.75H12.8044Z\" fill=\"#252A2F\"/>\r\n</svg>`}\r\n\r\n}\r\n\r\n\nclass SpotFixSourcesLoader {\r\n\r\n    constructor() {\r\n        this.loadAll();\r\n    }\r\n\r\n    getCSSCode() {\r\n        // global gulp wrapper var\r\n        return spotFixCSS;\r\n    }\r\n\r\n    loadAll() {\r\n        this.loadFonts();\r\n        this.loadCSS();\r\n    };\r\n\r\n    loadFonts() {\r\n        const preconnect_first = document.createElement('link');\r\n        preconnect_first.rel = 'preconnect';\r\n        preconnect_first.href = 'https://fonts.googleapis.com';\r\n        document.head.appendChild(preconnect_first);\r\n\r\n        const preconnect_second = document.createElement('link');\r\n        preconnect_second.rel = 'preconnect';\r\n        preconnect_second.href = 'https://fonts.gstatic.com';\r\n        preconnect_second.crossOrigin = 'crossorigin';\r\n        document.head.appendChild(preconnect_second);\r\n\r\n        const fontLink = document.createElement('link');\r\n        fontLink.rel = 'stylesheet';\r\n        fontLink.href = 'https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap';\r\n        document.head.appendChild(fontLink);\r\n    }\r\n\r\n    loadCSS() {\r\n        const style = document.createElement('style');\r\n        style.setAttribute('id', 'spotfix_css');\r\n        style.textContent = this.getCSSCode();\r\n        document.head.appendChild(style);\r\n    }\r\n}\r\n\ndocument.dispatchEvent(new CustomEvent('spotFixLoaded', {\r\n    detail: {\r\n        timestamp: new Date().toISOString(),\r\n        message: 'All scripts loaded successfully'\r\n    }\r\n}));\r\n"],"names":["global","factory","exports","module","define","amd","globalThis","self","html2canvas","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","_","label","sent","trys","ops","g","verb","throw","return","Symbol","iterator","v","op","pop","push","__spreadArray","to","from","pack","ar","l","slice","concat","Bounds","add","x","w","h","left","top","width","height","fromClientRect","context","clientRect","windowBounds","fromDOMRectList","domRectList","domRect","find","rect","EMPTY","parseBounds","node","getBoundingClientRect","parseDocumentSize","document","documentElement","Math","max","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","Error","toCodePoints$1","str","codePoints","extra","charCodeAt","fromCodePoint$1","_i","fromCodePoint","codeUnits","index","codePoint","fromCharCode","chars$2","lookup$2","Uint8Array","i$2","chars$1$1","lookup$1$1","i$1$1","slice16$1","view","start","end","Uint16Array","Trie","get","ix","data","UTRIE2_DATA_BLOCK_LENGTH$1","highStart","UTRIE2_INDEX_1_OFFSET$1","UTRIE2_INDEX_2_BLOCK_LENGTH$1","highValueIndex","errorValue","Trie$1","initialValue","chars$3","lookup$3","i$3","LETTER_NUMBER_MODIFIER","CR$1","LF$1","CM","WJ","ZW","GL","SP","ZWJ$1","B2","BA","BB","HY","CB","CL","CP","EX","IN","NS","OP","QU","IS","NU","PO","PR","SY","AI","AL","CJ","EB","EM","H2","H3","HL","ID","JL","JV","JT","RI$1","SA","XX","ea_OP","BREAK_MANDATORY","BREAK_NOT_ALLOWED$1","BREAK_ALLOWED$1","UnicodeTrie$1","buffer","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","len","ArrayBuffer","bytes","isArray","view32","Uint32Array","view16","headerLength","ceil","ALPHABETICS","HARD_LINE_BREAKS","SPACE$1","PREFIX_POSTFIX","LINE_BREAKS","KOREAN_SYLLABLE_BLOCK","HYPHEN","codePointsToCharacterClasses","lineBreak","types","indices","categories","forEach","classType","indexOf","prev","isAdjacentWithSpaceIgnored","a","currentIndex","classTypes","current","previousNonSpaceClassType","type","_lineBreakAtIndex","indicies","forbiddenBreaks","beforeIndex","afterIndex","before","prevIndex","count","cssFormattedClasses","options","_a","wordBreak","isLetterNumber","forbiddenBreakpoints","map","letterNumber","undefined","Break","required","isDigit","ZERO","isHex","A","isWhiteSpace","isNameStartCodePoint","isLetter","isNonASCIICodePoint","LOW_LINE","isNameCodePoint","isValidEscape","c1","c2","isIdentifierStart","c3","isNumberStart","LineBreaker","lastEnd","nextIndex","CONTROL","z","Z","isLowerCaseLetter","isUpperCaseLetter","LEFT_PARENTHESIS_TOKEN","RIGHT_PARENTHESIS_TOKEN","COMMA_TOKEN","SUFFIX_MATCH_TOKEN","PREFIX_MATCH_TOKEN","COLUMN_TOKEN","DASH_MATCH_TOKEN","INCLUDE_MATCH_TOKEN","LEFT_CURLY_BRACKET_TOKEN","RIGHT_CURLY_BRACKET_TOKEN","SUBSTRING_MATCH_TOKEN","BAD_URL_TOKEN","BAD_STRING_TOKEN","CDO_TOKEN","CDC_TOKEN","COLON_TOKEN","SEMICOLON_TOKEN","LEFT_SQUARE_BRACKET_TOKEN","RIGHT_SQUARE_BRACKET_TOKEN","WHITESPACE_TOKEN","EOF_TOKEN","Tokenizer","write","chunk","_value","read","tokens","token","consumeToken","consumeCodePoint","consumeStringToken","peekCodePoint","flags","consumeName","reconsumeCodePoint","consumeNumericToken","e1","e2","e3","consumeIdentLikeToken","c","a1","a2","a3","u1","u2","consumeUnicodeRangeToken","consumeWhiteSpace","shift","unshift","delta","digits","questionMarks","parseInt","digit","endDigits","toLowerCase","consumeUrlToken","stringToken","consumeBadUrlRemnants","consumeEscapedCodePoint","consumeStringSlice","amount","min","splice","endingCodePoint","consumeNumber","repr","sign","integers","int","fraction","fracd","frac","expsign","exponent","exp","pow","number","unit","hex","hexCodePoint","Parser","tokenizer","parseValue","parseComponentValue","parseValues","parseComponentValues","SyntaxError","reconsumeToken","consumeComponentValue","values","consumeSimpleBlock","consumeFunction","block","isEndingTokenFor","functionToken","cssFunction","name","_tokens","isNumberToken","isStringToken","isIdentWithValue","isIdentToken","nonWhiteSpace","nonFunctionArgSeparator","parseFunctionArgs","args","arg","parseLengthPercentageTuple","isAngle","DEG","GRAD","RAD","TURN","parseNamedSide","filter","ident","join","ZERO_LENGTH","deg","HUNDRED_PERCENT","asString","color","alpha","blue","green","red","getTokenColorValue","round","rgb","_context","_b","r","isDimensionToken","isLength","isLengthPercentage","FIFTY_PERCENT","getAbsoluteValueForTuple","tuple","getAbsoluteValue","parent","angle","PI","color$1","parse","colorFunction","SUPPORTED_COLOR_FUNCTIONS","substring","namedColor","COLORS","toUpperCase","TRANSPARENT","isTransparent","hue2rgb","t1","t2","hue","hsl","saturation","lightness","parseColorStop","stop","processColorStops","stops","lineLength","first","last","processStops","previous","stop_1","absoluteValue","gapBegin","stop_2","gapLength","gapValue","prefixLinearGradient","angle$1","firstToken","colorStop","prefixRadialGradient","shape","size","position","isColorStop","reduce","acc","ELLIPSE","CONTAIN","CLOSEST_SIDE","FARTHEST_SIDE","CLOSEST_CORNER","FARTHEST_CORNER","hsla","rgba","parseColor","ALICEBLUE","ANTIQUEWHITE","AQUA","AQUAMARINE","AZURE","BEIGE","BISQUE","BLACK","BLANCHEDALMOND","BLUE","BLUEVIOLET","BROWN","BURLYWOOD","CADETBLUE","CHARTREUSE","CHOCOLATE","CORAL","CORNFLOWERBLUE","CORNSILK","CRIMSON","CYAN","DARKBLUE","DARKCYAN","DARKGOLDENROD","DARKGRAY","DARKGREEN","DARKGREY","DARKKHAKI","DARKMAGENTA","DARKOLIVEGREEN","DARKORANGE","DARKORCHID","DARKRED","DARKSALMON","DARKSEAGREEN","DARKSLATEBLUE","DARKSLATEGRAY","DARKSLATEGREY","DARKTURQUOISE","DARKVIOLET","DEEPPINK","DEEPSKYBLUE","DIMGRAY","DIMGREY","DODGERBLUE","FIREBRICK","FLORALWHITE","FORESTGREEN","FUCHSIA","GAINSBORO","GHOSTWHITE","GOLD","GOLDENROD","GRAY","GREEN","GREENYELLOW","GREY","HONEYDEW","HOTPINK","INDIANRED","INDIGO","IVORY","KHAKI","LAVENDER","LAVENDERBLUSH","LAWNGREEN","LEMONCHIFFON","LIGHTBLUE","LIGHTCORAL","LIGHTCYAN","LIGHTGOLDENRODYELLOW","LIGHTGRAY","LIGHTGREEN","LIGHTGREY","LIGHTPINK","LIGHTSALMON","LIGHTSEAGREEN","LIGHTSKYBLUE","LIGHTSLATEGRAY","LIGHTSLATEGREY","LIGHTSTEELBLUE","LIGHTYELLOW","LIME","LIMEGREEN","LINEN","MAGENTA","MAROON","MEDIUMAQUAMARINE","MEDIUMBLUE","MEDIUMORCHID","MEDIUMPURPLE","MEDIUMSEAGREEN","MEDIUMSLATEBLUE","MEDIUMSPRINGGREEN","MEDIUMTURQUOISE","MEDIUMVIOLETRED","MIDNIGHTBLUE","MINTCREAM","MISTYROSE","MOCCASIN","NAVAJOWHITE","NAVY","OLDLACE","OLIVE","OLIVEDRAB","ORANGE","ORANGERED","ORCHID","PALEGOLDENROD","PALEGREEN","PALETURQUOISE","PALEVIOLETRED","PAPAYAWHIP","PEACHPUFF","PERU","PINK","PLUM","POWDERBLUE","PURPLE","REBECCAPURPLE","RED","ROSYBROWN","ROYALBLUE","SADDLEBROWN","SALMON","SANDYBROWN","SEAGREEN","SEASHELL","SIENNA","SILVER","SKYBLUE","SLATEBLUE","SLATEGRAY","SLATEGREY","SNOW","SPRINGGREEN","STEELBLUE","TAN","TEAL","THISTLE","TOMATO","TURQUOISE","VIOLET","WHEAT","WHITE","WHITESMOKE","YELLOW","YELLOWGREEN","backgroundClip","prefix","backgroundColor","format","getAngleFromCorner","corner","centerX","centerY","atan2","distance","sqrt","findCorner","closest","stat","cx","optimumDistance","optimumCorner","Infinity","image","image_1","url","cache","addImage","imageFunction","SUPPORTED_IMAGE_FUNCTIONS","borderColorForSide","side","borderRadiusForSide","borderStyleForSide","style","borderWidthForSide","computeLineHeight","fontSize","marginForSide","paddingForSide","getQuote","quotes","depth","open","quote","close","BACKGROUND_SIZE","LINE_BREAK","WORD_BREAK","linear-gradient","-moz-linear-gradient","-ms-linear-gradient","-o-linear-gradient","-webkit-linear-gradient","radial-gradient","isAtPosition_1","-moz-radial-gradient","-ms-radial-gradient","-o-radial-gradient","-webkit-radial-gradient","-webkit-gradient","backgroundImage","backgroundOrigin","backgroundPosition","backgroundRepeat","parseBackgroundRepeat","backgroundSize","isBackgroundSizeInfoToken","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","direction","display","bit","parseDisplayValue","float","letterSpacing","NORMAL","STRICT","lineHeight","listStyleImage","listStylePosition","listStyleType","marginTop","marginRight","marginBottom","marginLeft","overflow","overflowWrap","paddingTop","paddingRight","paddingBottom","paddingLeft","textAlign","textShadow","shadow","offsetX","offsetY","blur","textTransform","transform$1","transformFunction","SUPPORTED_TRANSFORM_FUNCTIONS","matrix","matrix3d","DEFAULT_VALUE","DEFAULT","transformOrigin","origins","visibility","BREAK_ALL","KEEP_ALL","zIndex","auto","order","time","opacity","textDecorationColor","textDecorationLine","line","fontFamily","accumulator","results","toString","fontWeight","fontVariant","fontStyle","contains","content","counterIncrement","increments","filtered","counter","increment","counterReset","resets","reset","duration","open_1","close_1","boxShadow","spread","inset","paintOrder","layers","webkitTextStrokeColor","webkitTextStrokeWidth","CSSParsedDeclaration","isVisible","isTransformed","transform","isPositioned","isPositionedWithZIndex","isFloating","isInlineLevel","declaration","animationDuration","cssFloat","overflowTuple","overflowX","overflowY","textDecoration","CSSParsedPseudoDeclaration","CSSParsedCounterDeclaration","descriptor","parser","length_1","value_1","elementDebuggerAttribute","getElementDebugType","element","getAttribute","isDebugging","elementType","ElementContainer","textNodes","elements","styles","window","getComputedStyle","isHTMLElementNode","some","bounds","chars$1","lookup$1","i$1","slice16","UTRIE2_DATA_BLOCK_LENGTH","UTRIE2_INDEX_1_OFFSET","UTRIE2_INDEX_2_BLOCK_LENGTH","chars","lookup","splitGraphemes","bk","breaker","GraphemeBreaker","graphemes","isGreenPixel","createForeignObjectSVG","xmlns","svg","createElementNS","foreignObject","setAttributeNS","appendChild","loadSerializedSVG$1","img","Image","onload","onerror","src","encodeURIComponent","XMLSerializer","serializeToString","_super","Prepend","CR","LF","Control","Extend","SpacingMark","L","V","T","LV","LVT","ZWJ","Extended_Pictographic","RI","toCodePoints","UnicodeTrie","BREAK_NOT_ALLOWED","BREAK_ALLOWED","codePointToClass","_graphemeBreakAtIndex","_codePoints","countRI","graphemeBreak","FEATURES","SUPPORT_RANGE_BOUNDS","createRange","range","testElement","createElement","rangeBounds","TEST_HEIGHT","selectNode","rangeHeight","removeChild","defineProperty","SUPPORT_WORD_BREAKING","textList","offset","wordSpacing","innerHTML","repeat","firstChild","supports","every","text","setStart","setEnd","boundAhead","SUPPORT_SVG_DRAWING","ctx","canvas","getContext","drawImage","toDataURL","SUPPORT_FOREIGNOBJECT_DRAWING","fetch","fillStyle","fillRect","greenImageSrc","getImageData","catch","SUPPORT_CORS_IMAGES","crossOrigin","SUPPORT_RESPONSE_TYPE","XMLHttpRequest","responseType","SUPPORT_CORS_XHR","SUPPORT_NATIVE_TEXT_SEGMENTATION","Intl","Segmenter","TextBounds","getWrapperBounds","ownerDocument","wrapper","parentNode","cloneNode","replaceChild","segmentGraphemes","segmenter","granularity","segment","segmentWords","breakWords","breakText","wordSeparators","words","word_1","TextContainer","textBounds","clientRects","subOffset_1","replacementNode","trim","getClientRects","subSegments","subSegment","splitText","replace","CAPITALIZE","capitalize","m","p1","p2","ImageElementContainer","_this","currentSrc","intrinsicWidth","naturalWidth","intrinsicHeight","naturalHeight","CanvasElementContainer","SVGElementContainer","setAttribute","baseVal","LIElementContainer","OLElementContainer","reversed","CHECKBOX_BORDER_RADIUS","RADIO_BORDER_RADIUS","CHECKBOX","RADIO","PASSWORD","INPUT_COLOR","InputElementContainer","input","checked","placeholder","SelectElementContainer","option","selectedIndex","TextareaElementContainer","IFrameElementContainer","iframe","documentBackgroundColor","bodyBackgroundColor","contentWindow","tree","parseTree","isVideoElement","tagName","isStyleElement","isCustomElement","LIST_OWNERS","parseNodeTree","root","childNode","nextNode","container","nextSibling","isTextNode","isElementNode","isSlotElement","assignedNodes","createContainer","createsRealStackingContext","createsStackingContext","slot","shadowRoot","isTextareaElement","isSVGElement","isSelectElement","isImageElement","isCanvasElement","isLIElement","isOLElement","isInputElement","isIFrameElement","isBodyElement","nodeType","Node","TEXT_NODE","ELEMENT_NODE","isSVGElementNode","className","isHTMLElement","CounterState","getCounterValue","counters","getCounterValues","canReset","counterNames","entry","createAdditiveCounter","symbols","fallback","suffix","createCounterText","string","integer","createCounterStyleFromRange","codePointRangeStart","codePointRangeEnd","isNumeric","codePointRangeLength","createCounterStyleWithSymbolResolver","abs","floor","createCounterStyleFromSymbols","createCJKCounter","numbers","multipliers","negativeSign","tmp","coefficient","CJK_ZEROS","CJK_TEN_COEFFICIENTS","CJK_TEN_HIGH_COEFFICIENTS","CJK_HUNDRED_COEFFICIENTS","PseudoElementType","ROMAN_UPPER","ARMENIAN","HEBREW","GEORGIAN","resolver","CHINESE_INFORMAL_MULTIPLIERS","CHINESE_FORMAL_MULTIPLIERS","JAPANESE_NEGATIVE","KOREAN_NEGATIVE","appendSuffix","defaultSuffix","cjkSuffix","koreanSuffix","spaceSuffix","IGNORE_ATTRIBUTE","DocumentCloner","toIFrame","windowSize","scrollX","cloneWindow","documentClone","iframeLoad","createIFrameContainer","defaultView","pageXOffset","scrollY","pageYOffset","iframeLoader","onclone","referenceElement","scrolledElements","restoreNodeScroll","scrollTo","test","navigator","userAgent","logger","warn","clonedReferenceElement","nodeName","fonts","ready","imagesReady","serializeDoctype","doctype","restoreOwnerScroll","adoptNode","createElementClone","clone","createCanvasClone","createVideoClone","createStyleClone","srcset","loading","createCustomElementClone","copyCSSStyles","css","sheet","cssRules","rule","cssText","textContent","error","inlineImages","info","clonedCanvas","gl","attribs","clonedCtx","allowTaint","putImageData","getContextAttributes","preserveDrawingBuffer","video","blankCanvas","appendChildNode","child","copyStyles","hasAttribute","ignoreElements","cloneChildNodes","assignedNode","styleAfter","after","createTextNode","transitionProperty","styleBefore","createPseudoHideStyles","resolvePseudoContent","BEFORE","insertBefore","AFTER","scrollTop","scrollLeft","pseudoElt","anonymousReplacedElement","delim","counterType_1","separator","attr","counterStyle","counterState","counterType","counterStates","quoteDepth","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","newClassName","baseValue","destroy","imageReady","complete","cloneIframeContainer","border","scrolling","all","images","interval","setInterval","childNodes","readyState","clearInterval","ignoredStyleProperties","target","property","item","setProperty","getPropertyValue","internalSubset","publicId","systemId","PSEUDO_HIDE_ELEMENT_STYLE","createStyles","CacheStorage","getOrigin","link","_link","href","protocol","hostname","port","isSameOrigin","_origin","setContext","location","Cache","has","isBlobImage","isRenderable","_cache","loadImage","match","key","useCORS","useProxy","isInlineImage","_options","proxy","debug","isInlineBase64Image","setTimeout","imageTimeout","keys","timeout_1","xhr","queryString","reader_1","status","response","FileReader","addEventListener","readAsDataURL","timeout","ontimeout","send","INLINE_SVG","INLINE_BASE64","INLINE_IMG","isSVG","substr","Vector","deltaX","deltaY","lerp","BezierCurve","subdivide","firstHalf","ab","startControl","bc","endControl","cd","abbc","bccd","dest","reverse","calculateBorderBoxPath","curves","topLeftBorderBox","topRightBorderBox","bottomRightBorderBox","bottomLeftBorderBox","calculatePaddingBoxPath","topLeftPaddingBox","topRightPaddingBox","bottomRightPaddingBox","bottomLeftPaddingBox","isClipEffect","effect","equalPath","CORNER","isBezierCurve","path","BoundCurves","tlh","tlv","trh","trv","brh","_c","brv","blh","_d","blv","factors","maxFactor","topWidth","rightHeight","bottomWidth","leftHeight","topLeftBorderDoubleOuterBox","getCurvePoints","TOP_LEFT","topRightBorderDoubleOuterBox","TOP_RIGHT","bottomRightBorderDoubleOuterBox","BOTTOM_RIGHT","bottomLeftBorderDoubleOuterBox","BOTTOM_LEFT","topLeftBorderDoubleInnerBox","topRightBorderDoubleInnerBox","bottomRightBorderDoubleInnerBox","bottomLeftBorderDoubleInnerBox","topLeftBorderStroke","topRightBorderStroke","bottomRightBorderStroke","bottomLeftBorderStroke","topLeftContentBox","topRightContentBox","bottomRightContentBox","bottomLeftContentBox","r1","r2","kappa","ox","oy","xm","ym","TransformEffect","ClipEffect","OpacityEffect","StackingContext","inlineLevel","nonInlineLevel","negativeZIndex","zeroOrAutoZIndexOrTransformedOrOpacity","positiveZIndex","nonPositionedFloats","nonPositionedInlineLevel","ElementPaint","getEffects","inFlow","effects","borderBox","paddingBox","croplessEffects","parsePathForBorder","borderSide","createPathFromCurves","createStrokePathFromCurves","outer1","outer2","inner1","inner2","calculateBackgroundRendering","intrinsicSize","backgroundPositioningArea","calculateBackgroundPositioningArea","getBackgroundValueForIndex","backgroundPaintingArea","calculateBackgroundPaintingArea","sizeWidth","backgroundImageSize","calculateBackgroundSize","sizeHeight","calculateBackgroundRepeatPath","parseStackTree","stackingContext","realStackingContext","listItems","stack","order_1","index_1","index_2","treatAsRealStackingContext","paintContainer","listOwnerItems","parentStack","processListItems","owner","numbering","listValue","contentBox","isAuto","AUTO","hasIntrinsicValue","intrinsicProportion","second","hasIntrinsicProportion","COVER","hasIntrinsicWidth","hasIntrinsicHeight","hasIntrinsicDimensions","height_3","width_3","SAMPLE_TEXT","FontMetrics","parseMetrics","_document","span","baseline","margin","padding","whiteSpace","verticalAlign","offsetTop","middle","getMetrics","_data","Renderer","CanvasRenderer","applyEffects","_activeEffects","popEffect","applyEffect","save","globalAlpha","translate","clip","restore","renderStack","renderStackContent","renderNode","paint","renderNodeBackgroundAndBorders","renderNodeContent","renderTextWithLetterSpacing","fillText","letter","measureText","createFontStyle","variant","fixIOSSystemFonts","renderTextNode","font","textBaseline","fontMetrics","paintOrderLayer","textShadows","shadowColor","shadowOffsetX","scale","shadowOffsetY","shadowBlur","strokeStyle","lineWidth","lineJoin","chrome","strokeText","renderReplacedElement","box","render","fill","beginPath","arc","isTextInputElement","canvasTextAlign","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","mask","paths","moveTo","lineTo","formatPath","closePath","point","bezierCurveTo","renderRepeat","pattern","resizeImage","renderBackgroundImage","_loop_1","this_1","gradient_1","top_1","rx","ry","radialGradient_1","midX","midY","invF","createPattern","radian","sin","cos","halfWidth","halfHeight","halfLineLength","yDiff","xDiff","x0","x1","y0","y1","createLinearGradient","addColorStop","gradient","createRadialGradient","renderSolidBorder","curvePoints","renderDoubleBorder","innerPaths","outerPaths","hasBackground","borders","borders_1","calculateBackgroundCurvedPaintingArea","deltaW","deltaH","borderBoxArea","maskOffset","shadowPaintingArea","renderDashedDottedBorder","boxPaths","startX","endX","dashLength","spaceLength","useLineDash","numberOfDashes","minSpace","maxSpace","path1","path2","strokePaths","startY","endY","multiplier","setLineDash","lineCap","stroke","iOSBrokenFonts","fontFamilies","ForeignObjectRenderer","loadSerializedSVG","Logger","enabled","console","id","getTime","Date","now","instances","Context","instanceCount","instanceName","logging","parseBackgroundColor","backgroundColorOverride","defaultBackgroundColor","opts","clonedElement","_s","_t","_u","resourceOptions","contextOptions","windowOptions","windowWidth","innerWidth","windowHeight","innerHeight","foreignObjectRendering","cloneOptions","documentCloner","renderOptions","devicePixelRatio","_q","_r","removeContainer","SPOTFIX_INDEXED_DB_NAME","spotfixIndexedDBVersion","SPOTFIX_TABLE_USERS","SPOTFIX_TABLE_TASKS","SPOTFIX_TABLE_COMMENTS","LOCAL_DATA_BASE_TABLE","keyPath","SPOTFIX_LAST_DB_KEY","dbPromise","getSpotfixDBKey","sessionId","localStorage","getItem","projectToken","getDBNameByKey","dbKey","openIndexedDB","version","request","indexedDB","onupgradeneeded","db","store","objectStoreNames","createObjectStore","createIndex","onsuccess","getDB","async","deleteDBByKey","req","deleteDatabase","onblocked","spotfixIndexedDB","init","lastKey","currentKey","await","setItem","needInit","withStore","table","mode","callback","tx","transaction","objectStore","oncomplete","put","delete","clearTable","clear","clearPut","getAll","indexName","getTable","SPOTFIX_DOBOARD_API_URL","spotfixApiCall","method","accountId","formData","FormData","append","let","endpointUrl","URL","networkError","message","responseBody","json","parseError","operation_status","errorMessage","operation_message","clearLocalstorageOnLogout","checkLogInOutButtonsVisible","spotFixUserConfirmEmailDoboard","emailConfirmationToken","email_confirmation_token","session_id","userId","user_id","email","accounts","operationStatus","createTaskDoboard","taskDetails","project_token","project_id","projectId","taskTitle","comment","taskDescription","meta","taskMeta","task_type","taskId","task_id","createTaskCommentDoboard","commentId","comment_id","attachmentAddDoboard","fileData","params","account_id","filename","fileName","file","fileBinary","attachment_order","attachmentOrder","registerUserDoboard","nickname","pageURL","confirmation_url","botDetectorData","JSON","bot_detector_event_token","accountExists","user_email_confirmed","operationMessage","userEmailConfirmed","loginUserDoboard","password","forgotPasswordDoboard","logoutUserDoboard","accountsString","includes","getTasksDoboard","tasks","task","commentsCount","comments_count","taskLastUpdate","updated","taskCreated","created","taskCreatorTaskUser","creator_user_id","taskStatus","viewers","comments_viewers","storageSaveTasksCount","getTasksCommentsDoboard","currentActiveTaskId","comments","commentBody","commentDate","issueTitle","task_name","getUserDoboard","users","userUpdateDoboard","timezone","timestamp","success","getReleaseVersion","storageSaveSpotfixVersion","tag_name","err","getNotificationsDoboard","notifications","updateNotificationsDoboard","updateViewersDoboard","usersIds","viewers_ids","socket","heartbeatInterval","messageCallback","lastEventId","pendingUpdate","reconnectTimer","isIntentionalClose","WS_URL","getSessionId","buildMessage","channel","action","handleIncomingData","object","filteredComments","wsSpotfix","connect","clearTimeout","WebSocket","OPEN","onopen","onmessage","event","eventId","stringify","onclose","subscribe","unsubscribe","onMessage","cb","spotFixCSS","SPOTFIX_VERSION","spotFixConfirmUserEmail","pendingTaskRaw","pendingTask","selectedText","description","selectedData","createdTask","handleCreateTask","removeItem","getTasksFullDetails","nonRequesting","foundTask","taskName","getUserDetails","currentUserId","user","addTaskComment","commentText","getAllTasks","tasksData","filteredTaskData","formatDate","dateStr","date","dateObj","isNaN","offsetMinutes","getTimezoneOffset","localDateObj","getMonth","getDate","getHours","padStart","getMinutes","getTaskAuthorDetails","taskAuthorAvatarImgSrc","taskAuthorName","getIssuesCounterString","onPageSpotsCount","totalSpotsCount","getAvatarSrc","author","avatar","getAuthorName","registerUser","userEmail","userName","querySelector","innerText","ksesFilter","classList","remove","getElementById","focus","userUpdate","showMessageCallback","submitButton","disabled","loginUser","userPassword","forgotPassword","log","forgotPasswordForm","loginContainer","DateTimeFormat","resolvedOptions","timeZone","spotFixSplitUrl","u","domain","segments","host","pathname","split","Boolean","setToggleStatus","rootElement","toggle","timer","hide","signInLogInButton","logoutButton","avatarElement","SpotFixSVGLoader","getAsDataURI","changeSize","addIconPack","SpotFixTinyMCE","IconManager","icons","paperclip","ordered-list","screenshot","unordered-list","bold","italic","strike-through","underline","sendComment","formatToDotMonthDate","dateString","toLocaleString","month","getFullYear","CleanTalkWidgetDoboard","new_task_type","widgetElement","savedIssuesQuantityOnPage","savedIssuesQuantityAll","allTasksData","srcVariables","descriptionText","buttonCloseScreen","iconEllipsesMore","iconPlus","iconMaximize","iconPublic","iconPublicSmall","iconLockSmall","chevronBack","buttonPaperClip","buttonSendMessage","logoDoBoardGreen","logoDoBoardWrap","iconSpotWidgetWrapPencil","iconMarker","iconSpotPublic","iconSpotPrivate","iconLinkChain","iconMute","iconHighlight","iconLockDark","iconPublicDark","fileUploader","FileUploader","escapeHtml","getParams","urlParams","URLSearchParams","search","emailToken","newUrl","storageSetWidgetIsClosed","history","replaceState","title","registrationShowMessage","isWidgetClosed","taskHasSiteOwnerUpdate","storageTasksHasUnreadUpdates","checkIfTasksHasSiteOwnerUpdates","storageSaveTasksUpdateData","storageWidgetCloseIsSet","createWidgetElement","bindWidgetInputsInteractive","script","fromEntries","searchParams","entries","bindCreateTaskEvents","taskTitleElement","taskDescriptionElement","loginSectionElement","userEmailElement","userNameElement","userPasswordElement","borderColor","submitTaskResult","submitTask","cursor","needToLogin","isPublic","hideContainersSpinner","resetLoginForm","phantomContainer","bindShowLoginFormEvents","showLoginButton","showPhantomLoginButton","forgotPasswordButton","forgotPasswordButtonBlack","loginButton","restorePasswordButton","forgotPasswordButtonMenu","forgotPasswordButtonBlackMenu","passwordToggle","setUserMenuData","sessionIdExists","passwordInput","isPassword","showOnlyCurrentPage","widgetContainer","removeAttribute","templateName","tasksFullDetails","templateVariables","config","SpotfixWidgetConfig","type_name","socket_type_name","currentDomain","storageGetUserIsDefined","storageGetWidgetIsClosed","Number","verticalPosition","userMenuVersion","spotfixVersion","iconEye","iconDoor","chevronBackDark","spotMenuVersion","viewersCount","issueComments","issuesCounter","loadTemplate","spotFixRemoveHighlights","selection","getSelection","spotFixGetSelectedData","spotFixScrollToNodePath","nodePath","positionWidgetContainer","tinymce","savedDescription","selector","plugins","menubar","statusbar","toolbar_location","toolbar","file_picker_types","setup","editor","on","setContent","getContent","ui","registry","addButton","icon","tooltip","onAction","getTaskCount","widgetElementClasses","currentTarget","spotFixOpenWidget","issuesQuantityOnPage","spotsToBeHighlighted","currentURL","sortedTasks","sort","aIsHere","elTask","taskMetaString","taskData","isFixed","taskFullDetails","avatarData","hasUpdates","currentPageURL","taskNodePath","taskPublicStatusImgSrc","taskPublicStatusHint","getAvatarData","getTaskFullDetails","listIssuesTemplateVariables","taskLastMessage","lastMessageText","taskPageUrlFull","iconOfVisibility","taskFormattedPageUrl","taskPageUrl","sanitizeNodePath","avatarCSSClass","avatarStyle","taskAuthorInitials","initialsClass","classUnread","elementBgCSSClass","statusFixedHtml","amountOfComments","storageProvidedTaskHasUnreadUpdates","isSpotHaveToBeHighlighted","spotFixHighlightElements","bindIssuesClick","currentTask","taskType","usersFiltered","highlightStatuses","issueTitleElement","currentTaskData","origin","issueLinkElement","issuesCommentsContainer","contenerClasess","containerEl","dayMessagesData","initIssuerID","storageRemoveUnreadUpdateForTaskID","userIsIssuer","commentUserId","commentAuthorAvatarSrc","commentAuthorName","commentData","commentTime","issueMessageClassOwner","daysWrapperHTML","day","messageId","currentDayMessages","dayMessagesWrapperHTML","localeCompare","currentMessageTemplateVariables","dayContentMonthDay","dayContentMessages","textarea","handleTextareaChange","mainThis","content_style","min_height","max_height","autoresize_bottom_margin","resize","scrollPosition","behavior","fileInput","click","makeScreenshot","sendButton","sendMessageContainer","newCommentResponse","alert","hasFiles","attachmentsSendResult","sendAttachmentsForComment","showError","toConsole","backToAllIssuesController","widgetClass","paperclipController","bindPaperClipAction","filteredUsersIds","spotFixShowWidget","querySelectorAll","el","titleEl","showOneTask","taskHighlightData","getTaskHighlightData","variables","template","SpotFixTemplatesLoader","getTemplateCode","replacement","isPlaceholderInAttribute","imgFilter","replaceAll","escapedPlaceholder","RegExp","unsafe","tasksCountLS","tasksCount","taskCountElement","wrapElementWithSpotfixHighlight","newElement","insertAdjacentElement","taskIdToSearch","currentTaskSpotData","accordionController","contentContainer","handleScroll","bind","handleResize","messageText","titleSpan","messageDiv","messageWrap","widget","widgetCreateIssue","widgetConcreteIssue","viewportHeight","selectionAbsoluteTop","widgetHeight","bottom","scrollTimeout","resizeTimeout","userData","emailElement","spotFixShowDelayTimeout","SPOTFIX_DEBUG","SPOTFIX_SHOW_DELAY","spotFixInit","SpotFixSourcesLoader","loadBotDetector","loadTinyMCE","head","existingTinyMCE_temp","spotFixIsInsideWidget","parentElement","spotFixDebugLog","spinners","getElementsByClassName","taskWidgetUrl","containerClassesToShow","containers","tasksDetails","lastComment","avatarSrc","authorName","authorDetails","charAt","isAnyTaskUpdated","updatedtasksIDS","currentStateOfTask","issuerId","storageCheckTaskUpdate","updatedTaskIDs","lastMessage","updatedTaskId","updatedTaskData","storageAddUnreadUpdateForTaskID","isSelectionCorrect","html","allowedTags","strong","em","ul","ol","li","br","blockquote","pre","div","button","details","summary","allowedAttrs","doc","DOMParser","parseFromString","clean","tag","alt","attributes","attrName","startsWith","sel","isWrapReviewWidgetExists","focusNode","anchorNode","SPOTFIX_SELECTION_TYPE_TEXT","SPOTFIX_SELECTION_TYPE_IMG","SPOTFIX_SELECTION_TYPE_ELEMENT","spotFixGetSelectionType","getRangeAt","commonAncestor","commonAncestorContainer","spotFixGetSelectedImage","startContainer","endContainer","hasTextContent","isCollapsed","collapsed","rangeCount","selectionType","startSelectPosition","endSelectPosition","commonNode","commonNodeElement","startOffset","endOffset","spotFixCalculateNodePath","imgElement","selectedImage","children","imageUrl","widgetInstance","userHighlightStatuses","spot","elementsMap","Map","spotFixIsValidNodePath","spotFixRetrieveNodeFromPath","set","spots","spotFixHighlightImageElement","spotFixHighlightNestedElement","spotFixHighlightTextInElement","tooltipTitleText","spotfixHighlightOpen","spotSelectedText","markers","startPos","endPos","marker","insertText","preventDefault","idClass","cls","scrollIntoView","spans","affectedParents","Set","elementSelectionClassName","normalize","imageSelectionClassName","isInteger","imgNode","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","spotFixIsElementInRange","FILTER_ACCEPT","FILTER_REJECT","startElement","spotFixGetElementFromNode","endElement","spotFixIsElementPartiallySelected","spotFixFindNearbyElements","elementRange","compareBoundaryPoints","Range","START_TO_START","END_TO_END","elementRect","rangeRect","right","previousElement","previousElementSibling","nextElement","nextElementSibling","sibling","previousSibling","visible","storedTasks","currentLastUpdate","storedTask","storedUnread","escapeHtmlHandler","files","maxFileSize","maxTotalSize","maxFiles","allowedTypes","SIZE_UNITS","initializeElements","bindFilesInputChange","fileList","uploaderWrapper","handleFileInputChange","clearError","selectedFiles","validateFile","addFile","formatFileSize","getTotalSize","sum","fileWithId","generateFileId","renderFileList","random","removeFile","fileId","fileItems","createFileItem","fileItem","parseFloat","toFixed","clearFiles","validateFileData","validation","field","getNestedValue","File","obj","sendSingleAttachment","validatedFileData","preparedFilesCount","sentFilesCount","fileResults","attachmentData","blob","toBlob","hours","minutes","year","lastModified","templateMethod","all_issues","concrete_issue","concrete_issue_day_content","concrete_issue_messages","create_issue","list_issues","user_menu","spot_menu","wrap","wrap_review","fixedHtml","fixedTaskHtml","loadSVG","svgName","svgMethod","getAsRawSVG","svgToDataURI","svgString","TextEncoder","encode","btoa","iconAvatar","loadAll","getCSSCode","loadFonts","loadCSS","preconnect_first","preconnect_second","rel","fontLink","dispatchEvent","CustomEvent","detail","toISOString"],"mappings":"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"}